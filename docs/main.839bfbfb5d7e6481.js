(self.webpackChunklogin_system=self.webpackChunklogin_system||[]).push([[792],{3742:(nt,ee,F)=>{"use strict";var o=F(4438);let W=null;function G(){return W}class X{}const oe=new o.nKC("");let ce=(()=>{class r{historyGo(t){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(pe),providedIn:"platform"})}}return r})();const J=new o.nKC("");let pe=(()=>{class r extends ce{constructor(){super(),this._doc=(0,o.WQX)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const s=G().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=G().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,s,d){this._history.pushState(t,s,d)}replaceState(t,s,d){this._history.replaceState(t,s,d)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>new r,providedIn:"platform"})}}return r})();function se(r,a){if(0==r.length)return a;if(0==a.length)return r;let t=0;return r.endsWith("/")&&t++,a.startsWith("/")&&t++,2==t?r+a.substring(1):1==t?r+a:r+"/"+a}function Ce(r){const a=r.match(/#|\?|$/),t=a&&a.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function _e(r){return r&&"?"!==r[0]?"?"+r:r}let Se=(()=>{class r{historyGo(t){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(mt),providedIn:"root"})}}return r})();const We=new o.nKC("");let mt=(()=>{class r extends Se{constructor(t,s){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return se(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+_e(this._platformLocation.search),d=this._platformLocation.hash;return d&&t?`${s}${d}`:s}pushState(t,s,d,y){const _=this.prepareExternalUrl(d+_e(y));this._platformLocation.pushState(t,s,_)}replaceState(t,s,d,y){const _=this.prepareExternalUrl(d+_e(y));this._platformLocation.replaceState(t,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(ce),o.KVO(We,8))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),be=(()=>{class r extends Se{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=se(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,d,y){let _=this.prepareExternalUrl(d+_e(y));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(t,s,_)}replaceState(t,s,d,y){let _=this.prepareExternalUrl(d+_e(y));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(ce),o.KVO(We,8))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})(),Fe=(()=>{class r{constructor(t){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const s=this._locationStrategy.getBaseHref();this._basePath=function Te(r){if(new RegExp("^(https?:)?//").test(r)){const[,t]=r.split(/\/\/[^\/]+/);return t}return r}(Ce(we(s))),this._locationStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+_e(s))}normalize(t){return r.stripTrailingSlash(function Ve(r,a){if(!r||!a.startsWith(r))return a;const t=a.substring(r.length);return""===t||["/",";","?","#"].includes(t[0])?t:a}(this._basePath,we(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,s="",d=null){this._locationStrategy.pushState(d,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(s)),d)}replaceState(t,s="",d=null){this._locationStrategy.replaceState(d,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_e(s)),d)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(d=>d(t,s))}subscribe(t,s,d){return this._subject.subscribe({next:t,error:s,complete:d})}static{this.normalizeQueryParams=_e}static{this.joinWithSlash=se}static{this.stripTrailingSlash=Ce}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Se))}}static{this.\u0275prov=o.jDH({token:r,factory:()=>function it(){return new Fe((0,o.KVO)(Se))}(),providedIn:"root"})}}return r})();function we(r){return r.replace(/\/index.html$/,"")}const ie={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ne=function(r){return r[r.Decimal=0]="Decimal",r[r.Percent=1]="Percent",r[r.Currency=2]="Currency",r[r.Scientific=3]="Scientific",r}(Ne||{}),B=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}(B||{}),te=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}(te||{}),fe=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}(fe||{});const j={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Nt(r,a){return Vt((0,o.H5H)(r)[o.KH2.DateFormat],a)}function qe(r,a){return Vt((0,o.H5H)(r)[o.KH2.TimeFormat],a)}function Pe(r,a){return Vt((0,o.H5H)(r)[o.KH2.DateTimeFormat],a)}function Kt(r,a){const t=(0,o.H5H)(r),s=t[o.KH2.NumberSymbols][a];if(typeof s>"u"){if(a===j.CurrencyDecimal)return t[o.KH2.NumberSymbols][j.Decimal];if(a===j.CurrencyGroup)return t[o.KH2.NumberSymbols][j.Group]}return s}function Ct(r,a){return(0,o.H5H)(r)[o.KH2.NumberFormats][a]}function sn(r){if(!r[o.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[o.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vt(r,a){for(let t=a;t>-1;t--)if(typeof r[t]<"u")return r[t];throw new Error("Locale data API: locale data undefined")}function et(r){const[a,t]=r.split(":");return{hours:+a,minutes:+t}}const yr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ln={},mn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}(Rt||{}),Tt=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}(Tt||{}),Ge=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}(Ge||{});function dn(r,a,t,s){let d=function wg(r){if(Pc(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[d,y=1,_=1]=r.split("-").map(M=>+M);return Un(d,y-1,_)}const t=parseFloat(r);if(!isNaN(r-t))return new Date(t);let s;if(s=r.match(yr))return function Tr(r){const a=new Date(0);let t=0,s=0;const d=r[8]?a.setUTCFullYear:a.setFullYear,y=r[8]?a.setUTCHours:a.setHours;r[9]&&(t=Number(r[9]+r[10]),s=Number(r[9]+r[11])),d.call(a,Number(r[1]),Number(r[2])-1,Number(r[3]));const _=Number(r[4]||0)-t,M=Number(r[5]||0)-s,R=Number(r[6]||0),T=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return y.call(a,_,M,R,T),a}(s)}const a=new Date(r);if(!Pc(a))throw new Error(`Unable to convert "${r}" into a date`);return a}(r);a=wn(t,a)||a;let M,_=[];for(;a;){if(M=mn.exec(a),!M){_.push(a);break}{_=_.concat(M.slice(1));const V=_.pop();if(!V)break;a=V}}let R=d.getTimezoneOffset();s&&(R=zn(s,R),d=function mi(r,a,t){const s=t?-1:1,d=r.getTimezoneOffset();return function Fc(r,a){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+a),r}(r,s*(zn(a,d)-d))}(d,s,!0));let T="";return _.forEach(V=>{const Z=function gi(r){if(ct[r])return ct[r];let a;switch(r){case"G":case"GG":case"GGG":a=rt(Ge.Eras,te.Abbreviated);break;case"GGGG":a=rt(Ge.Eras,te.Wide);break;case"GGGGG":a=rt(Ge.Eras,te.Narrow);break;case"y":a=Xt(Tt.FullYear,1,0,!1,!0);break;case"yy":a=Xt(Tt.FullYear,2,0,!0,!0);break;case"yyy":a=Xt(Tt.FullYear,3,0,!1,!0);break;case"yyyy":a=Xt(Tt.FullYear,4,0,!1,!0);break;case"Y":a=cr(1);break;case"YY":a=cr(2,!0);break;case"YYY":a=cr(3);break;case"YYYY":a=cr(4);break;case"M":case"L":a=Xt(Tt.Month,1,1);break;case"MM":case"LL":a=Xt(Tt.Month,2,1);break;case"MMM":a=rt(Ge.Months,te.Abbreviated);break;case"MMMM":a=rt(Ge.Months,te.Wide);break;case"MMMMM":a=rt(Ge.Months,te.Narrow);break;case"LLL":a=rt(Ge.Months,te.Abbreviated,B.Standalone);break;case"LLLL":a=rt(Ge.Months,te.Wide,B.Standalone);break;case"LLLLL":a=rt(Ge.Months,te.Narrow,B.Standalone);break;case"w":a=ba(1);break;case"ww":a=ba(2);break;case"W":a=ba(1,!0);break;case"d":a=Xt(Tt.Date,1);break;case"dd":a=Xt(Tt.Date,2);break;case"c":case"cc":a=Xt(Tt.Day,1);break;case"ccc":a=rt(Ge.Days,te.Abbreviated,B.Standalone);break;case"cccc":a=rt(Ge.Days,te.Wide,B.Standalone);break;case"ccccc":a=rt(Ge.Days,te.Narrow,B.Standalone);break;case"cccccc":a=rt(Ge.Days,te.Short,B.Standalone);break;case"E":case"EE":case"EEE":a=rt(Ge.Days,te.Abbreviated);break;case"EEEE":a=rt(Ge.Days,te.Wide);break;case"EEEEE":a=rt(Ge.Days,te.Narrow);break;case"EEEEEE":a=rt(Ge.Days,te.Short);break;case"a":case"aa":case"aaa":a=rt(Ge.DayPeriods,te.Abbreviated);break;case"aaaa":a=rt(Ge.DayPeriods,te.Wide);break;case"aaaaa":a=rt(Ge.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":a=rt(Ge.DayPeriods,te.Abbreviated,B.Standalone,!0);break;case"bbbb":a=rt(Ge.DayPeriods,te.Wide,B.Standalone,!0);break;case"bbbbb":a=rt(Ge.DayPeriods,te.Narrow,B.Standalone,!0);break;case"B":case"BB":case"BBB":a=rt(Ge.DayPeriods,te.Abbreviated,B.Format,!0);break;case"BBBB":a=rt(Ge.DayPeriods,te.Wide,B.Format,!0);break;case"BBBBB":a=rt(Ge.DayPeriods,te.Narrow,B.Format,!0);break;case"h":a=Xt(Tt.Hours,1,-12);break;case"hh":a=Xt(Tt.Hours,2,-12);break;case"H":a=Xt(Tt.Hours,1);break;case"HH":a=Xt(Tt.Hours,2);break;case"m":a=Xt(Tt.Minutes,1);break;case"mm":a=Xt(Tt.Minutes,2);break;case"s":a=Xt(Tt.Seconds,1);break;case"ss":a=Xt(Tt.Seconds,2);break;case"S":a=Xt(Tt.FractionalSeconds,1);break;case"SS":a=Xt(Tt.FractionalSeconds,2);break;case"SSS":a=Xt(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":a=Pt(Rt.Short);break;case"ZZZZZ":a=Pt(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":a=Pt(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":a=Pt(Rt.Long);break;default:return null}return ct[r]=a,a}(V);T+=Z?Z(d,t,R):"''"===V?"'":V.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Un(r,a,t){const s=new Date(0);return s.setFullYear(r,a,t),s.setHours(0,0,0),s}function wn(r,a){const t=function Ee(r){return(0,o.H5H)(r)[o.KH2.LocaleId]}(r);if(Ln[t]??={},Ln[t][a])return Ln[t][a];let s="";switch(a){case"shortDate":s=Nt(r,fe.Short);break;case"mediumDate":s=Nt(r,fe.Medium);break;case"longDate":s=Nt(r,fe.Long);break;case"fullDate":s=Nt(r,fe.Full);break;case"shortTime":s=qe(r,fe.Short);break;case"mediumTime":s=qe(r,fe.Medium);break;case"longTime":s=qe(r,fe.Long);break;case"fullTime":s=qe(r,fe.Full);break;case"short":const d=wn(r,"shortTime"),y=wn(r,"shortDate");s=Sr(Pe(r,fe.Short),[d,y]);break;case"medium":const _=wn(r,"mediumTime"),M=wn(r,"mediumDate");s=Sr(Pe(r,fe.Medium),[_,M]);break;case"long":const R=wn(r,"longTime"),T=wn(r,"longDate");s=Sr(Pe(r,fe.Long),[R,T]);break;case"full":const V=wn(r,"fullTime"),Z=wn(r,"fullDate");s=Sr(Pe(r,fe.Full),[V,Z])}return s&&(Ln[t][a]=s),s}function Sr(r,a){return a&&(r=r.replace(/\{([^}]+)}/g,function(t,s){return null!=a&&s in a?a[s]:t})),r}function Mt(r,a,t="-",s,d){let y="";(r<0||d&&r<=0)&&(d?r=1-r:(r=-r,y=t));let _=String(r);for(;_.length<a;)_="0"+_;return s&&(_=_.slice(_.length-a)),y+_}function Xt(r,a,t=0,s=!1,d=!1){return function(y,_){let M=function gt(r,a){switch(r){case Tt.FullYear:return a.getFullYear();case Tt.Month:return a.getMonth();case Tt.Date:return a.getDate();case Tt.Hours:return a.getHours();case Tt.Minutes:return a.getMinutes();case Tt.Seconds:return a.getSeconds();case Tt.FractionalSeconds:return a.getMilliseconds();case Tt.Day:return a.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,y);if((t>0||M>-t)&&(M+=t),r===Tt.Hours)0===M&&-12===t&&(M=12);else if(r===Tt.FractionalSeconds)return function Me(r,a){return Mt(r,3).substring(0,a)}(M,a);const R=Kt(_,j.MinusSign);return Mt(M,a,R,s,d)}}function rt(r,a,t=B.Format,s=!1){return function(d,y){return function wo(r,a,t,s,d,y){switch(t){case Ge.Months:return function Xe(r,a,t){const s=(0,o.H5H)(r),y=Vt([s[o.KH2.MonthsFormat],s[o.KH2.MonthsStandalone]],a);return Vt(y,t)}(a,d,s)[r.getMonth()];case Ge.Days:return function Ft(r,a,t){const s=(0,o.H5H)(r),y=Vt([s[o.KH2.DaysFormat],s[o.KH2.DaysStandalone]],a);return Vt(y,t)}(a,d,s)[r.getDay()];case Ge.DayPeriods:const _=r.getHours(),M=r.getMinutes();if(y){const T=function an(r){const a=(0,o.H5H)(r);return sn(a),(a[o.KH2.ExtraData][2]||[]).map(s=>"string"==typeof s?et(s):[et(s[0]),et(s[1])])}(a),V=function $t(r,a,t){const s=(0,o.H5H)(r);sn(s);const y=Vt([s[o.KH2.ExtraData][0],s[o.KH2.ExtraData][1]],a)||[];return Vt(y,t)||[]}(a,d,s),Z=T.findIndex(Ie=>{if(Array.isArray(Ie)){const[ye,Oe]=Ie,Be=_>=ye.hours&&M>=ye.minutes,Ue=_<Oe.hours||_===Oe.hours&&M<Oe.minutes;if(ye.hours<Oe.hours){if(Be&&Ue)return!0}else if(Be||Ue)return!0}else if(Ie.hours===_&&Ie.minutes===M)return!0;return!1});if(-1!==Z)return V[Z]}return function Zt(r,a,t){const s=(0,o.H5H)(r),y=Vt([s[o.KH2.DayPeriodsFormat],s[o.KH2.DayPeriodsStandalone]],a);return Vt(y,t)}(a,d,s)[_<12?0:1];case Ge.Eras:return function un(r,a){return Vt((0,o.H5H)(r)[o.KH2.Eras],a)}(a,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(d,y,r,a,t,s)}}function Pt(r){return function(a,t,s){const d=-1*s,y=Kt(t,j.MinusSign),_=d>0?Math.floor(d/60):Math.ceil(d/60);switch(r){case Rt.Short:return(d>=0?"+":"")+Mt(_,2,y)+Mt(Math.abs(d%60),2,y);case Rt.ShortGMT:return"GMT"+(d>=0?"+":"")+Mt(_,1,y);case Rt.Long:return"GMT"+(d>=0?"+":"")+Mt(_,2,y)+":"+Mt(Math.abs(d%60),2,y);case Rt.Extended:return 0===s?"Z":(d>=0?"+":"")+Mt(_,2,y)+":"+Mt(Math.abs(d%60),2,y);default:throw new Error(`Unknown zone width "${r}"`)}}}const vu=0,ut=4;function Cu(r){const a=r.getDay(),t=0===a?-3:ut-a;return Un(r.getFullYear(),r.getMonth(),r.getDate()+t)}function ba(r,a=!1){return function(t,s){let d;if(a){const y=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,_=t.getDate();d=1+Math.floor((_+y)/7)}else{const y=Cu(t),_=function es(r){const a=Un(r,vu,1).getDay();return Un(r,0,1+(a<=ut?ut:ut+7)-a)}(y.getFullYear()),M=y.getTime()-_.getTime();d=1+Math.round(M/6048e5)}return Mt(d,r,Kt(s,j.MinusSign))}}function cr(r,a=!1){return function(t,s){return Mt(Cu(t).getFullYear(),r,Kt(s,j.MinusSign),a)}}const ct={};function zn(r,a){r=r.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(t)?a:t}function Pc(r){return r instanceof Date&&!isNaN(r.valueOf())}const yi=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Eo=22,to=".",ze="0",Os=";",Lc=",",Xr="#";function ks(r,a,t,s,d,y,_=!1){let M="",R=!1;if(isFinite(r)){let T=function _o(r){let s,d,y,_,M,a=Math.abs(r)+"",t=0;for((d=a.indexOf(to))>-1&&(a=a.replace(to,"")),(y=a.search(/e/i))>0?(d<0&&(d=y),d+=+a.slice(y+1),a=a.substring(0,y)):d<0&&(d=a.length),y=0;a.charAt(y)===ze;y++);if(y===(M=a.length))s=[0],d=1;else{for(M--;a.charAt(M)===ze;)M--;for(d-=y,s=[],_=0;y<=M;y++,_++)s[_]=Number(a.charAt(y))}return d>Eo&&(s=s.splice(0,Eo-1),t=d-1,d=1),{digits:s,exponent:t,integerLen:d}}(r);_&&(T=function fn(r){if(0===r.digits[0])return r;const a=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(0===a?r.digits.push(0,0):1===a&&r.digits.push(0),r.integerLen+=2),r}(T));let V=a.minInt,Z=a.minFrac,Ie=a.maxFrac;if(y){const zt=y.match(yi);if(null===zt)throw new Error(`${y} is not a valid digit info`);const vt=zt[1],vn=zt[3],er=zt[5];null!=vt&&(V=Lr(vt)),null!=vn&&(Z=Lr(vn)),null!=er?Ie=Lr(er):null!=vn&&Z>Ie&&(Ie=Z)}!function Fs(r,a,t){if(a>t)throw new Error(`The minimum number of digits after fraction (${a}) is higher than the maximum (${t}).`);let s=r.digits,d=s.length-r.integerLen;const y=Math.min(Math.max(a,d),t);let _=y+r.integerLen,M=s[_];if(_>0){s.splice(Math.max(r.integerLen,_));for(let Z=_;Z<s.length;Z++)s[Z]=0}else{d=Math.max(0,d),r.integerLen=1,s.length=Math.max(1,_=y+1),s[0]=0;for(let Z=1;Z<_;Z++)s[Z]=0}if(M>=5)if(_-1<0){for(let Z=0;Z>_;Z--)s.unshift(0),r.integerLen++;s.unshift(1),r.integerLen++}else s[_-1]++;for(;d<Math.max(0,y);d++)s.push(0);let R=0!==y;const T=a+r.integerLen,V=s.reduceRight(function(Z,Ie,ye,Oe){return Oe[ye]=(Ie+=Z)<10?Ie:Ie-10,R&&(0===Oe[ye]&&ye>=T?Oe.pop():R=!1),Ie>=10?1:0},0);V&&(s.unshift(V),r.integerLen++)}(T,Z,Ie);let ye=T.digits,Oe=T.integerLen;const Be=T.exponent;let Ue=[];for(R=ye.every(zt=>!zt);Oe<V;Oe++)ye.unshift(0);for(;Oe<0;Oe++)ye.unshift(0);Oe>0?Ue=ye.splice(Oe,ye.length):(Ue=ye,ye=[0]);const Qe=[];for(ye.length>=a.lgSize&&Qe.unshift(ye.splice(-a.lgSize,ye.length).join(""));ye.length>a.gSize;)Qe.unshift(ye.splice(-a.gSize,ye.length).join(""));ye.length&&Qe.unshift(ye.join("")),M=Qe.join(Kt(t,s)),Ue.length&&(M+=Kt(t,d)+Ue.join("")),Be&&(M+=Kt(t,j.Exponential)+"+"+Be)}else M=Kt(t,j.Infinity);return M=r<0&&!R?a.negPre+M+a.negSuf:a.posPre+M+a.posSuf,M}function wu(r,a="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=r.split(Os),d=s[0],y=s[1],_=-1!==d.indexOf(to)?d.split(to):[d.substring(0,d.lastIndexOf(ze)+1),d.substring(d.lastIndexOf(ze)+1)],M=_[0],R=_[1]||"";t.posPre=M.substring(0,M.indexOf(Xr));for(let V=0;V<R.length;V++){const Z=R.charAt(V);Z===ze?t.minFrac=t.maxFrac=V+1:Z===Xr?t.maxFrac=V+1:t.posSuf+=Z}const T=M.split(Lc);if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,y){const V=d.length-t.posPre.length-t.posSuf.length,Z=y.indexOf(Xr);t.negPre=y.substring(0,Z).replace(/'/g,""),t.negSuf=y.slice(Z+V).replace(/'/g,"")}else t.negPre=a+t.posPre,t.negSuf=t.posSuf;return t}function Lr(r){const a=parseInt(r);if(isNaN(a))throw new Error("Invalid integer literal when parsing "+r);return a}function vi(r,a){a=encodeURIComponent(a);for(const t of r.split(";")){const s=t.indexOf("="),[d,y]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(d.trim()===a)return decodeURIComponent(y)}return null}class Bs{constructor(a,t,s,d){this.$implicit=a,this.ngForOf=t,this.index=s,this.count=d}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class r{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,s,d){this._viewContainer=t,this._template=s,this._differs=d,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=this._viewContainer;t.forEachOperation((d,y,_)=>{if(null==d.previousIndex)s.createEmbeddedView(this._template,new Bs(d.item,this._ngForOf,-1,-1),null===_?void 0:_);else if(null==_)s.remove(null===y?void 0:y);else if(null!==y){const M=s.get(y);s.move(M,_),Bn(M,d)}});for(let d=0,y=s.length;d<y;d++){const M=s.get(d).context;M.index=d,M.count=y,M.ngForOf=this._ngForOf}t.forEachIdentityChange(d=>{Bn(s.get(d.currentIndex),d)})}static ngTemplateContextGuard(t,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return r})();function Bn(r,a){r.context.$implicit=a.item}let En=(()=>{class r{constructor(t,s){this._viewContainer=t,this._context=new Vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return r})();class Vn{constructor(){this.$implicit=null,this.ngIf=null}}function xa(r,a){if(a&&!a.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,o.Tbb)(a)}'.`)}function pt(r,a){return new o.wOt(2100,!1)}const ki=new o.nKC(""),yt=new o.nKC("");let Us=(()=>{class r{constructor(t,s,d){this.locale=t,this.defaultTimezone=s,this.defaultOptions=d}transform(t,s,d,y){if(null==t||""===t||t!=t)return null;try{return dn(t,s??this.defaultOptions?.dateFormat??"mediumDate",y||this.locale,d??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(_){throw pt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16),o.rXU(ki,24),o.rXU(yt,24))}}static{this.\u0275pipe=o.EJ8({name:"date",type:r,pure:!0,standalone:!0})}}return r})(),ni=(()=>{class r{constructor(t){this._locale=t}transform(t,s,d){if(!Da(t))return null;d||=this._locale;try{return function _g(r,a,t){return ks(r,wu(Ct(a,Ne.Decimal),Kt(a,j.MinusSign)),a,j.Group,j.Decimal,t)}(kn(t),d,s)}catch(y){throw pt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:r,pure:!0,standalone:!0})}}return r})(),wr=(()=>{class r{constructor(t,s="USD"){this._locale=t,this._defaultCurrencyCode=s}transform(t,s=this._defaultCurrencyCode,d="symbol",y,_){if(!Da(t))return null;_||=this._locale,"boolean"==typeof d&&(d=d?"symbol":"code");let M=s||this._defaultCurrencyCode;"code"!==d&&(M="symbol"===d||"symbol-narrow"===d?function ar(r,a,t="en"){const s=function Je(r){return(0,o.H5H)(r)[o.KH2.Currencies]}(t)[r]||ie[r]||[],d=s[1];return"narrow"===a&&"string"==typeof d?d:s[0]||r}(M,"symbol"===d?"wide":"narrow",_):d);try{return function If(r,a,t,s,d){const _=wu(Ct(a,Ne.Currency),Kt(a,j.MinusSign));return _.minFrac=function Pn(r){let a;const t=ie[r];return t&&(a=t[2]),"number"==typeof a?a:2}(s),_.maxFrac=_.minFrac,ks(r,_,a,j.CurrencyGroup,j.CurrencyDecimal,d).replace("\xa4",t).replace("\xa4","").trim()}(kn(t),_,M,s,y)}catch(R){throw pt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16),o.rXU(o.Ocv,16))}}static{this.\u0275pipe=o.EJ8({name:"currency",type:r,pure:!0,standalone:!0})}}return r})();function Da(r){return!(null==r||""===r||r!=r)}function kn(r){if("string"==typeof r&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if("number"!=typeof r)throw new Error(`${r} is not a number`);return r}let Vs=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();const js="browser";function Au(r){return"server"===r}let hn=(()=>{class r{static{this.\u0275prov=(0,o.jDH)({token:r,providedIn:"root",factory:()=>function Tf(r){return r===js}((0,o.WQX)(o.Agw))?new Gs((0,o.WQX)(oe),window):new ri})}}return r})();class Gs{constructor(a,t){this.document=a,this.window=t,this.offset=()=>[0,0]}setOffset(a){this.offset=Array.isArray(a)?()=>a:a}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(a){this.window.scrollTo(a[0],a[1])}scrollToAnchor(a){const t=function Aa(r,a){const t=r.getElementById(a)||r.getElementsByName(a)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let d=s.currentNode;for(;d;){const y=d.shadowRoot;if(y){const _=y.getElementById(a)||y.querySelector(`[name="${a}"]`);if(_)return _}d=s.nextNode()}}return null}(this.document,a);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(a){this.window.history.scrollRestoration=a}scrollToElement(a){const t=a.getBoundingClientRect(),s=t.left+this.window.pageXOffset,d=t.top+this.window.pageYOffset,y=this.offset();this.window.scrollTo(s-y[0],d-y[1])}}class ri{setOffset(a){}getScrollPosition(){return[0,0]}scrollToPosition(a){}scrollToAnchor(a){}setHistoryScrollRestoration(a){}}class Su{}class vv extends X{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xn extends vv{static makeCurrent(){!function $(r){W??=r}(new Xn)}onAndCancel(a,t,s){return a.addEventListener(t,s),()=>{a.removeEventListener(t,s)}}dispatchEvent(a,t){a.dispatchEvent(t)}remove(a){a.remove()}createElement(a,t){return(t=t||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,t){return"window"===t?window:"document"===t?a:"body"===t?a.body:null}getBaseHref(a){const t=function Cv(){return Pa=Pa||document.querySelector("base"),Pa?Pa.getAttribute("href"):null}();return null==t?null:function qc(r){return new URL(r,document.baseURI).pathname}(t)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return vi(document.cookie,a)}}let Pa=null,Ev=(()=>{class r{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const Pf=new o.nKC("");let Sg=(()=>{class r{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(d=>{d.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,s,d){return this._findPluginFor(s).addEventListener(t,s,d)}getZone(){return this._zone}_findPluginFor(t){let s=this._eventNameToPlugin.get(t);if(s)return s;if(s=this._plugins.find(y=>y.supports(t)),!s)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(t,s),s}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Pf),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class Tg{constructor(a){this._doc=a}}const Lf="ng-app-id";let Pu=(()=>{class r{constructor(t,s,d,y={}){this.doc=t,this.appId=s,this.nonce=d,this.platformId=y,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Au(y),this.resetHostNodes()}addStyles(t){for(const s of t)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(t){for(const s of t)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(s=>s.remove()),t.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const s of this.getAllStyles())this.addStyleToHost(t,s)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const s of this.hostNodes)this.addStyleToHost(s,t)}onStyleRemoved(t){const s=this.styleRef;s.get(t)?.elements?.forEach(d=>d.remove()),s.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Lf}="${this.appId}"]`);if(t?.length){const s=new Map;return t.forEach(d=>{null!=d.textContent&&s.set(d.textContent,d)}),s}return null}changeUsageCount(t,s){const d=this.styleRef;if(d.has(t)){const y=d.get(t);return y.usage+=s,y.usage}return d.set(t,{usage:s,elements:[]}),s}getStyleElement(t,s){const d=this.styleNodesInDOM,y=d?.get(s);if(y?.parentNode===t)return d.delete(s),y.removeAttribute(Lf),y;{const _=this.doc.createElement("style");return this.nonce&&_.setAttribute("nonce",this.nonce),_.textContent=s,this.platformIsServer&&_.setAttribute(Lf,this.appId),t.appendChild(_),_}}addStyleToHost(t,s){const d=this.getStyleElement(t,s),y=this.styleRef,_=y.get(s)?.elements;_?_.push(d):y.set(s,{elements:[d],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(oe),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const La={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},An=/%COMP%/g,_r=new o.nKC("",{providedIn:"root",factory:()=>!0});function bn(r,a){return a.map(t=>t.replace(An,r))}let Hn=(()=>{class r{constructor(t,s,d,y,_,M,R,T=null){this.eventManager=t,this.sharedStylesHost=s,this.appId=d,this.removeStylesOnCompDestroy=y,this.doc=_,this.platformId=M,this.ngZone=R,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=Au(M),this.defaultRenderer=new Ei(t,_,R,this.platformIsServer)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===o.gXe.ShadowDom&&(s={...s,encapsulation:o.gXe.Emulated});const d=this.getOrCreateRenderer(t,s);return d instanceof as?d.applyToHost(t):d instanceof Sn&&d.applyStyles(),d}getOrCreateRenderer(t,s){const d=this.rendererByCompId;let y=d.get(s.id);if(!y){const _=this.doc,M=this.ngZone,R=this.eventManager,T=this.sharedStylesHost,V=this.removeStylesOnCompDestroy,Z=this.platformIsServer;switch(s.encapsulation){case o.gXe.Emulated:y=new as(R,T,s,this.appId,V,_,M,Z);break;case o.gXe.ShadowDom:return new Ua(R,T,t,s,_,M,this.nonce,Z);default:y=new Sn(R,T,s,V,_,M,Z)}d.set(s.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Sg),o.KVO(Pu),o.KVO(o.sZ2),o.KVO(_r),o.KVO(oe),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class Ei{constructor(a,t,s,d){this.eventManager=a,this.doc=t,this.ngZone=s,this.platformIsServer=d,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(a,t){return t?this.doc.createElementNS(La[t]||t,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,t){(Bf(a)?a.content:a).appendChild(t)}insertBefore(a,t,s){a&&(Bf(a)?a.content:a).insertBefore(t,s)}removeChild(a,t){t.remove()}selectRootElement(a,t){let s="string"==typeof a?this.doc.querySelector(a):a;if(!s)throw new o.wOt(-5104,!1);return t||(s.textContent=""),s}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,t,s,d){if(d){t=d+":"+t;const y=La[d];y?a.setAttributeNS(y,t,s):a.setAttribute(t,s)}else a.setAttribute(t,s)}removeAttribute(a,t,s){if(s){const d=La[s];d?a.removeAttributeNS(d,t):a.removeAttribute(`${s}:${t}`)}else a.removeAttribute(t)}addClass(a,t){a.classList.add(t)}removeClass(a,t){a.classList.remove(t)}setStyle(a,t,s,d){d&(o.czy.DashCase|o.czy.Important)?a.style.setProperty(t,s,d&o.czy.Important?"important":""):a.style[t]=s}removeStyle(a,t,s){s&o.czy.DashCase?a.style.removeProperty(t):a.style[t]=""}setProperty(a,t,s){null!=a&&(a[t]=s)}setValue(a,t){a.nodeValue=t}listen(a,t,s){if("string"==typeof a&&!(a=G().getGlobalEventTarget(this.doc,a)))throw new Error(`Unsupported event target ${a} for event ${t}`);return this.eventManager.addEventListener(a,t,this.decoratePreventDefault(s))}decoratePreventDefault(a){return t=>{if("__ngUnwrap__"===t)return a;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>a(t)):a(t))&&t.preventDefault()}}}function Bf(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Ua extends Ei{constructor(a,t,s,d,y,_,M,R){super(a,y,_,R),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=bn(d.id,d.styles);for(const V of T){const Z=document.createElement("style");M&&Z.setAttribute("nonce",M),Z.textContent=V,this.shadowRoot.appendChild(Z)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,t){return super.appendChild(this.nodeOrShadowRoot(a),t)}insertBefore(a,t,s){return super.insertBefore(this.nodeOrShadowRoot(a),t,s)}removeChild(a,t){return super.removeChild(null,t)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Sn extends Ei{constructor(a,t,s,d,y,_,M,R){super(a,y,_,M),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=d,this.styles=R?bn(R,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class as extends Sn{constructor(a,t,s,d,y,_,M,R){const T=d+"-"+s.id;super(a,t,s,y,_,M,R,T),this.contentAttr=function Ur(r){return"_ngcontent-%COMP%".replace(An,r)}(T),this.hostAttr=function Ba(r){return"_nghost-%COMP%".replace(An,r)}(T)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,t){const s=super.createElement(a,t);return super.setAttribute(s,this.contentAttr,""),s}}let Va=(()=>{class r extends Tg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,d){return t.addEventListener(s,d,!1),()=>this.removeEventListener(t,s,d)}removeEventListener(t,s,d){return t.removeEventListener(s,d)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(oe))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const so=["alt","control","meta","shift"],ja={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mg={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let cs=(()=>{class r extends Tg{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,s,d){const y=r.parseEventName(s),_=r.eventCallback(y.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,y.domEventName,_))}static parseEventName(t){const s=t.toLowerCase().split("."),d=s.shift();if(0===s.length||"keydown"!==d&&"keyup"!==d)return null;const y=r._normalizeKey(s.pop());let _="",M=s.indexOf("code");if(M>-1&&(s.splice(M,1),_="code."),so.forEach(T=>{const V=s.indexOf(T);V>-1&&(s.splice(V,1),_+=T+".")}),_+=y,0!=s.length||0===y.length)return null;const R={};return R.domEventName=d,R.fullKey=_,R}static matchEventFullKeyCode(t,s){let d=ja[t.key]||t.key,y="";return s.indexOf("code.")>-1&&(d=t.code,y="code."),!(null==d||!d)&&(d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),so.forEach(_=>{_!==d&&(0,Mg[_])(t)&&(y+=_+".")}),y+=d,y===s)}static eventCallback(t,s,d){return y=>{r.matchEventFullKeyCode(y,t)&&d.runGuarded(()=>s(y))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(oe))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const Yn=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:js},{provide:o.PLl,useValue:function Zc(){Xn.makeCurrent()},multi:!0},{provide:oe,useFactory:function Bu(){return(0,o.TL$)(document),document},deps:[]}]),Uu=new o.nKC(""),ir=[{provide:o.e01,useClass:class wv{addToWindow(a){o.JZv.getAngularTestability=(s,d=!0)=>{const y=a.findTestabilityInTree(s,d);if(null==y)throw new o.wOt(5103,!1);return y},o.JZv.getAllAngularTestabilities=()=>a.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>a.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(s=>{const d=o.JZv.getAllAngularTestabilities();let y=d.length;const _=function(){y--,0==y&&s()};d.forEach(M=>{M.whenStable(_)})})}findTestabilityInTree(a,t,s){return null==t?null:a.getTestability(t)??(s?G().isShadowRoot(t)?this.findTestabilityInTree(a,t.host,!0):this.findTestabilityInTree(a,t.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],br=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function ao(){return new o.zcH},deps:[]},{provide:Pf,useClass:Va,multi:!0,deps:[oe,o.SKi,o.Agw]},{provide:Pf,useClass:cs,multi:!0,deps:[oe]},Hn,Pu,Sg,{provide:o._9s,useExisting:Hn},{provide:Su,useClass:Ev,deps:[]},[]];let Vf=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:o.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Uu,12))}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({providers:[...br,...ir],imports:[Vs,o.Hbi]})}}return r})(),ji=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(oe))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var fr=F(1985),Nr=F(8071);function co(r){return this instanceof co?(this.v=r,this):new co(r)}function Xf(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=r[Symbol.asyncIterator];return a?a.call(r):(r=function Wf(r){var a="function"==typeof Symbol&&Symbol.iterator,t=a&&r[a],s=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(y){t[y]=r[y]&&function(_){return new Promise(function(M,R){!function d(y,_,M,R){Promise.resolve(R).then(function(T){y({value:T,done:M})},_)}(M,R,(_=r[y](_)).done,_.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zf=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function Mv(r){return(0,Nr.T)(r?.then)}var Hg=F(3494);function Gg(r){return(0,Nr.T)(r[Hg.s])}function zg(r){return Symbol.asyncIterator&&(0,Nr.T)(r?.[Symbol.asyncIterator])}function Kf(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const $g=function qs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wg(r){return(0,Nr.T)(r?.[$g])}function Xg(r){return function Bg(r,a,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,s=t.apply(r,a||[]),y=[];return d=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),M("next"),M("throw"),M("return",function _(ye){return function(Oe){return Promise.resolve(Oe).then(ye,Z)}}),d[Symbol.asyncIterator]=function(){return this},d;function M(ye,Oe){s[ye]&&(d[ye]=function(Be){return new Promise(function(Ue,Qe){y.push([ye,Be,Ue,Qe])>1||R(ye,Be)})},Oe&&(d[ye]=Oe(d[ye])))}function R(ye,Oe){try{!function T(ye){ye.value instanceof co?Promise.resolve(ye.value.v).then(V,Z):Ie(y[0][2],ye)}(s[ye](Oe))}catch(Be){Ie(y[0][3],Be)}}function V(ye){R("next",ye)}function Z(ye){R("throw",ye)}function Ie(ye,Oe){ye(Oe),y.shift(),y.length&&R(y[0][0],y[0][1])}}(this,arguments,function*(){const t=r.getReader();try{for(;;){const{value:s,done:d}=yield co(t.read());if(d)return yield co(void 0);yield yield co(s)}}finally{t.releaseLock()}})}function Yg(r){return(0,Nr.T)(r?.getReader)}var Nv=F(5334);function he(r){if(r instanceof fr.c)return r;if(null!=r){if(Gg(r))return function Ut(r){return new fr.c(a=>{const t=r[Hg.s]();if((0,Nr.T)(t.subscribe))return t.subscribe(a);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Zf(r))return function qg(r){return new fr.c(a=>{for(let t=0;t<r.length&&!a.closed;t++)a.next(r[t]);a.complete()})}(r);if(Mv(r))return function Zg(r){return new fr.c(a=>{r.then(t=>{a.closed||(a.next(t),a.complete())},t=>a.error(t)).then(null,Nv.m)})}(r);if(zg(r))return Qf(r);if(Wg(r))return function pn(r){return new fr.c(a=>{for(const t of r)if(a.next(t),a.closed)return;a.complete()})}(r);if(Yg(r))return function Kc(r){return Qf(Xg(r))}(r)}throw Kf(r)}function Qf(r){return new fr.c(a=>{(function Hi(r,a){var t,s,d,y;return function en(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Xf(r);!(s=yield t.next()).done;)if(a.next(s.value),a.closed)return}catch(_){d={error:_}}finally{try{s&&!s.done&&(y=t.return)&&(yield y.call(t))}finally{if(d)throw d.error}}a.complete()})})(r,a).catch(t=>a.error(t))})}function Gi(r,a,t,s=0,d=!1){const y=a.schedule(function(){t(),d?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(y),!d)return y}var qn=F(9974),Zn=F(4360);function Rv(r,a=0){return(0,qn.N)((t,s)=>{t.subscribe((0,Zn._)(s,d=>Gi(s,r,()=>s.next(d),a),()=>Gi(s,r,()=>s.complete(),a),d=>Gi(s,r,()=>s.error(d),a)))})}function Ov(r,a=0){return(0,qn.N)((t,s)=>{s.add(r.schedule(()=>t.subscribe(s),a))})}function lo(r,a){if(!r)throw new Error("Iterable cannot be null");return new fr.c(t=>{Gi(t,a,()=>{const s=r[Symbol.asyncIterator]();Gi(t,a,()=>{s.next().then(d=>{d.done?t.complete():t.next(d.value)})},0,!0)})})}function xn(r,a){return a?function zi(r,a){if(null!=r){if(Gg(r))return function Kg(r,a){return he(r).pipe(Ov(a),Rv(a))}(r,a);if(Zf(r))return function Jg(r,a){return new fr.c(t=>{let s=0;return a.schedule(function(){s===r.length?t.complete():(t.next(r[s++]),t.closed||this.schedule())})})}(r,a);if(Mv(r))return function Qg(r,a){return he(r).pipe(Ov(a),Rv(a))}(r,a);if(zg(r))return lo(r,a);if(Wg(r))return function jr(r,a){return new fr.c(t=>{let s;return Gi(t,a,()=>{s=r[$g](),Gi(t,a,()=>{let d,y;try{({value:d,done:y}=s.next())}catch(_){return void t.error(_)}y?t.complete():t.next(d)},0,!0)}),()=>(0,Nr.T)(s?.return)&&s.return()})}(r,a);if(Yg(r))return function e0(r,a){return lo(Xg(r),a)}(r,a)}throw Kf(r)}(r,a):he(r)}function Wu(r){return r[r.length-1]}function t0(r){return(0,Nr.T)(Wu(r))?r.pop():void 0}function Xu(r){return function kv(r){return r&&(0,Nr.T)(r.schedule)}(Wu(r))?r.pop():void 0}function at(...r){return xn(r,Xu(r))}var Zr=F(4412);const{isArray:Yu}=Array,{getPrototypeOf:Fv,prototype:r0,keys:Jf}=Object;function eh(r){if(1===r.length){const a=r[0];if(Yu(a))return{args:a,keys:null};if(function o0(r){return r&&"object"==typeof r&&Fv(r)===r0}(a)){const t=Jf(a);return{args:t.map(s=>a[s]),keys:t}}}return{args:r,keys:null}}var ls=F(3669),tn=F(6354);const{isArray:th}=Array;function hr(r){return(0,tn.T)(a=>function Pv(r,a){return th(a)?r(...a):r(a)}(r,a))}function us(r,a){return r.reduce((t,s,d)=>(t[s]=a[d],t),{})}function yn(...r){const a=Xu(r),t=t0(r),{args:s,keys:d}=eh(r);if(0===s.length)return xn([],a);const y=new fr.c(function Lv(r,a,t=ls.D){return s=>{s0(a,()=>{const{length:d}=r,y=new Array(d);let _=d,M=d;for(let R=0;R<d;R++)s0(a,()=>{const T=xn(r[R],a);let V=!1;T.subscribe((0,Zn._)(s,Z=>{y[R]=Z,V||(V=!0,M--),M||s.next(t(y.slice()))},()=>{--_||s.complete()}))},s)},s)}}(s,a,d?_=>us(d,_):ls.D));return t?y.pipe(hr(t)):y}function s0(r,a,t){r?Gi(t,r,a):a()}const Qc=(0,F(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function xr(r,a,t=1/0){return(0,Nr.T)(a)?xr((s,d)=>(0,tn.T)((y,_)=>a(s,y,d,_))(he(r(s,d))),t):("number"==typeof a&&(t=a),(0,qn.N)((s,d)=>function a0(r,a,t,s,d,y,_,M){const R=[];let T=0,V=0,Z=!1;const Ie=()=>{Z&&!R.length&&!T&&a.complete()},ye=Be=>T<s?Oe(Be):R.push(Be),Oe=Be=>{y&&a.next(Be),T++;let Ue=!1;he(t(Be,V++)).subscribe((0,Zn._)(a,Qe=>{d?.(Qe),y?ye(Qe):a.next(Qe)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(T--;R.length&&T<s;){const Qe=R.shift();_?Gi(a,_,()=>Oe(Qe)):Oe(Qe)}Ie()}catch(Qe){a.error(Qe)}}))};return r.subscribe((0,Zn._)(a,ye,()=>{Z=!0,Ie()})),()=>{M?.()}}(s,d,r,t)))}function Mo(r=1/0){return xr(ls.D,r)}function nh(...r){return function uo(){return Mo(1)}()(xn(r,Xu(r)))}function Jc(r){return new fr.c(a=>{he(r()).subscribe(a)})}var qu=F(1203);function No(r,a){const t=(0,Nr.T)(r)?r:()=>r,s=d=>d.error(t());return new fr.c(a?d=>a.schedule(s,0,d):s)}const bi=new fr.c(r=>r.complete());var Zu=F(8359);function ds(){return(0,qn.N)((r,a)=>{let t=null;r._refCount++;const s=(0,Zn._)(a,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const d=r._connection,y=t;t=null,d&&(!y||d===y)&&d.unsubscribe(),a.unsubscribe()});r.subscribe(s),s.closed||(t=r.connect())})}class Wa extends fr.c{constructor(a,t){super(),this.source=a,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,qn.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new Zu.yU;const t=this.getSubject();a.add(this.source.subscribe((0,Zn._)(t,void 0,()=>{this._teardown(),t.complete()},s=>{this._teardown(),t.error(s)},()=>this._teardown()))),a.closed&&(this._connection=null,a=Zu.yU.EMPTY)}return a}refCount(){return ds()(this)}}var Ro=F(1413);function or(r,a){return(0,qn.N)((t,s)=>{let d=null,y=0,_=!1;const M=()=>_&&!d&&s.complete();t.subscribe((0,Zn._)(s,R=>{d?.unsubscribe();let T=0;const V=y++;he(r(R,V)).subscribe(d=(0,Zn._)(s,Z=>s.next(a?a(R,Z,V,T++):Z),()=>{d=null,M()}))},()=>{_=!0,M()}))})}function fs(r){return r<=0?()=>bi:(0,qn.N)((a,t)=>{let s=0;a.subscribe((0,Zn._)(t,d=>{++s<=r&&(t.next(d),r<=s&&t.complete())}))})}function fo(r,a){return(0,qn.N)((t,s)=>{let d=0;t.subscribe((0,Zn._)(s,y=>r.call(a,y,d++)&&s.next(y)))})}function Ku(r){return(0,qn.N)((a,t)=>{let s=!1;a.subscribe((0,Zn._)(t,d=>{s=!0,t.next(d)},()=>{s||t.next(r),t.complete()}))})}function jv(r=X_){return(0,qn.N)((a,t)=>{let s=!1;a.subscribe((0,Zn._)(t,d=>{s=!0,t.next(d)},()=>s?t.complete():t.error(r())))})}function X_(){return new Qc}function Oo(r,a){const t=arguments.length>=2;return s=>s.pipe(r?fo((d,y)=>r(d,y,s)):ls.D,fs(1),t?Ku(a):jv(()=>new Qc))}function xi(r,a){return(0,Nr.T)(a)?xr(r,a,1):xr(r,1)}function pr(r,a,t){const s=(0,Nr.T)(r)||a||t?{next:r,error:a,complete:t}:r;return s?(0,qn.N)((d,y)=>{var _;null===(_=s.subscribe)||void 0===_||_.call(s);let M=!0;d.subscribe((0,Zn._)(y,R=>{var T;null===(T=s.next)||void 0===T||T.call(s,R),y.next(R)},()=>{var R;M=!1,null===(R=s.complete)||void 0===R||R.call(s),y.complete()},R=>{var T;M=!1,null===(T=s.error)||void 0===T||T.call(s,R),y.error(R)},()=>{var R,T;M&&(null===(R=s.unsubscribe)||void 0===R||R.call(s)),null===(T=s.finalize)||void 0===T||T.call(s)}))}):ls.D}function Rr(r){return(0,qn.N)((a,t)=>{let y,s=null,d=!1;s=a.subscribe((0,Zn._)(t,void 0,void 0,_=>{y=he(r(_,Rr(r)(a))),s?(s.unsubscribe(),s=null,y.subscribe(t)):d=!0})),d&&(s.unsubscribe(),s=null,y.subscribe(t))})}function rh(r){return r<=0?()=>bi:(0,qn.N)((a,t)=>{let s=[];a.subscribe((0,Zn._)(t,d=>{s.push(d),r<s.length&&s.shift()},()=>{for(const d of s)t.next(d);t.complete()},void 0,()=>{s=null}))})}function Ju(r){return(0,qn.N)((a,t)=>{try{a.subscribe(t)}finally{t.add(r)}})}var l0=F(5343);const kt="primary",Kr=Symbol("RouteTitle");class Gv{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const t=this.params[a];return Array.isArray(t)?t[0]:t}return null}getAll(a){if(this.has(a)){const t=this.params[a];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ko(r){return new Gv(r)}function oh(r,a,t){const s=t.path.split("/");if(s.length>r.length||"full"===t.pathMatch&&(a.hasChildren()||s.length<r.length))return null;const d={};for(let y=0;y<s.length;y++){const _=s[y],M=r[y];if(":"===_[0])d[_.substring(1)]=M;else if(_!==M.path)return null}return{consumed:r.slice(0,s.length),posParams:d}}function ai(r,a){const t=r?tl(r):void 0,s=a?tl(a):void 0;if(!t||!s||t.length!=s.length)return!1;let d;for(let y=0;y<t.length;y++)if(d=t[y],!f0(r[d],a[d]))return!1;return!0}function tl(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function f0(r,a){if(Array.isArray(r)&&Array.isArray(a)){if(r.length!==a.length)return!1;const t=[...r].sort(),s=[...a].sort();return t.every((d,y)=>s[y]===d)}return r===a}function sh(r){return r.length>0?r[r.length-1]:null}function Fo(r){return function Gf(r){return!!r&&(r instanceof fr.c||(0,Nr.T)(r.lift)&&(0,Nr.T)(r.subscribe))}(r)?r:(0,o.jNT)(r)?xn(Promise.resolve(r)):at(r)}const h0={exact:function hs(r,a,t){if(!Lo(r.segments,a.segments)||!Po(r.segments,a.segments,t)||r.numberOfChildren!==a.numberOfChildren)return!1;for(const s in a.children)if(!r.children[s]||!hs(r.children[s],a.children[s],t))return!1;return!0},subset:ch},ah={exact:function ed(r,a){return ai(r,a)},subset:function zv(r,a){return Object.keys(a).length<=Object.keys(r).length&&Object.keys(a).every(t=>f0(r[t],a[t]))},ignored:()=>!0};function p0(r,a,t){return h0[t.paths](r.root,a.root,t.matrixParams)&&ah[t.queryParams](r.queryParams,a.queryParams)&&!("exact"===t.fragment&&r.fragment!==a.fragment)}function ch(r,a,t){return lh(r,a,a.segments,t)}function lh(r,a,t,s){if(r.segments.length>t.length){const d=r.segments.slice(0,t.length);return!(!Lo(d,t)||a.hasChildren()||!Po(d,t,s))}if(r.segments.length===t.length){if(!Lo(r.segments,t)||!Po(r.segments,t,s))return!1;for(const d in a.children)if(!r.children[d]||!ch(r.children[d],a.children[d],s))return!1;return!0}{const d=t.slice(0,r.segments.length),y=t.slice(r.segments.length);return!!(Lo(r.segments,d)&&Po(r.segments,d,s)&&r.children[kt])&&lh(r.children[kt],a,y,s)}}function Po(r,a,t){return a.every((s,d)=>ah[t](r[d].parameters,s.parameters))}class Ii{constructor(a=new xt([],{}),t={},s=null){this.root=a,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){return Wv.serialize(this)}}class xt{constructor(a,t){this.segments=a,this.children=t,this.parent=null,Object.values(t).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rl(this)}}class nl{constructor(a,t){this.path=a,this.parameters=t}get parameterMap(){return this._parameterMap??=ko(this.parameters),this._parameterMap}toString(){return m0(this)}}function Lo(r,a){return r.length===a.length&&r.every((t,s)=>t.path===a[s].path)}let Zs=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>new Ks,providedIn:"root"})}}return r})();class Ks{parse(a){const t=new E0(a);return new Ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(a){const t=`/${Qs(a.root,!0)}`,s=function Yv(r){const a=Object.entries(r).map(([t,s])=>Array.isArray(s)?s.map(d=>`${ol(t)}=${ol(d)}`).join("&"):`${ol(t)}=${ol(s)}`).filter(t=>t);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${t}${s}${"string"==typeof a.fragment?`#${function Xv(r){return encodeURI(r)}(a.fragment)}`:""}`}}const Wv=new Ks;function rl(r){return r.segments.map(a=>m0(a)).join("/")}function Qs(r,a){if(!r.hasChildren())return rl(r);if(a){const t=r.children[kt]?Qs(r.children[kt],!1):"",s=[];return Object.entries(r.children).forEach(([d,y])=>{d!==kt&&s.push(`${d}:${Qs(y,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function $v(r,a){let t=[];return Object.entries(r.children).forEach(([s,d])=>{s===kt&&(t=t.concat(a(d,s)))}),Object.entries(r.children).forEach(([s,d])=>{s!==kt&&(t=t.concat(a(d,s)))}),t}(r,(s,d)=>d===kt?[Qs(r.children[kt],!1)]:[`${d}:${Qs(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[kt]?`${rl(r)}/${t[0]}`:`${rl(r)}/(${t.join("//")})`}}function il(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ol(r){return il(r).replace(/%3B/gi,";")}function uh(r){return il(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function td(r){return decodeURIComponent(r)}function dh(r){return td(r.replace(/\+/g,"%20"))}function m0(r){return`${uh(r.path)}${function y0(r){return Object.entries(r).map(([a,t])=>`;${uh(a)}=${uh(t)}`).join("")}(r.parameters)}`}const qv=/^[^\/()?;#]+/;function v0(r){const a=r.match(qv);return a?a[0]:""}const C0=/^[^\/()?;=#]+/,Or=/^[^=?&#]+/,Zv=/^[^&#]+/;class E0{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(a.length>0||Object.keys(t).length>0)&&(s[kt]=new xt(a,t)),s}parseSegment(){const a=v0(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(a),new nl(td(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const t=function w0(r){const a=r.match(C0);return a?a[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const d=v0(this.remaining);d&&(s=d,this.capture(s))}a[td(t)]=td(s)}parseQueryParam(a){const t=function Y_(r){const a=r.match(Or);return a?a[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const _=function q_(r){const a=r.match(Zv);return a?a[0]:""}(this.remaining);_&&(s=_,this.capture(s))}const d=dh(t),y=dh(s);if(a.hasOwnProperty(d)){let _=a[d];Array.isArray(_)||(_=[_],a[d]=_),_.push(y)}else a[d]=y}parseParens(a){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=v0(this.remaining),d=this.remaining[s.length];if("/"!==d&&")"!==d&&";"!==d)throw new o.wOt(4010,!1);let y;s.indexOf(":")>-1?(y=s.slice(0,s.indexOf(":")),this.capture(y),this.capture(":")):a&&(y=kt);const _=this.parseChildren();t[y]=1===Object.keys(_).length?_[kt]:new xt([],_),this.consumeOptional("//")}return t}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new o.wOt(4011,!1)}}function Kv(r){return r.segments.length>0?new xt([],{[kt]:r}):r}function nd(r){const a={};for(const[s,d]of Object.entries(r.children)){const y=nd(d);if(s===kt&&0===y.segments.length&&y.hasChildren())for(const[_,M]of Object.entries(y.children))a[_]=M;else(y.segments.length>0||y.hasChildren())&&(a[s]=y)}return function _0(r){if(1===r.numberOfChildren&&r.children[kt]){const a=r.children[kt];return new xt(r.segments.concat(a.segments),a.children)}return r}(new xt(r.segments,a))}function $i(r){return r instanceof Ii}function b0(r){let a;const d=Kv(function t(y){const _={};for(const R of y.children){const T=t(R);_[R.outlet]=T}const M=new xt(y.url,_);return y===r&&(a=M),M}(r.root));return a??d}function ps(r,a,t,s){let d=r;for(;d.parent;)d=d.parent;if(0===a.length)return Di(d,d,d,t,s);const y=function x0(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new hh(!0,0,r);let a=0,t=!1;const s=r.reduce((d,y,_)=>{if("object"==typeof y&&null!=y){if(y.outlets){const M={};return Object.entries(y.outlets).forEach(([R,T])=>{M[R]="string"==typeof T?T.split("/"):T}),[...d,{outlets:M}]}if(y.segmentPath)return[...d,y.segmentPath]}return"string"!=typeof y?[...d,y]:0===_?(y.split("/").forEach((M,R)=>{0==R&&"."===M||(0==R&&""===M?t=!0:".."===M?a++:""!=M&&d.push(M))}),d):[...d,y]},[]);return new hh(t,a,s)}(a);if(y.toRoot())return Di(d,d,new xt([],{}),t,s);const _=function gh(r,a,t){if(r.isAbsolute)return new ph(a,!0,0);if(!t)return new ph(a,!1,NaN);if(null===t.parent)return new ph(t,!0,0);const s=fh(r.commands[0])?0:1;return function rd(r,a,t){let s=r,d=a,y=t;for(;y>d;){if(y-=d,s=s.parent,!s)throw new o.wOt(4005,!1);d=s.segments.length}return new ph(s,!1,d-y)}(t,t.segments.length-1+s,r.numberOfDoubleDots)}(y,d,r),M=_.processChildren?cl(_.segmentGroup,_.index,y.commands):Rn(_.segmentGroup,_.index,y.commands);return Di(d,_.segmentGroup,M,t,s)}function fh(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function sl(r){return"object"==typeof r&&null!=r&&r.outlets}function Di(r,a,t,s,d){let _,y={};s&&Object.entries(s).forEach(([R,T])=>{y[R]=Array.isArray(T)?T.map(V=>`${V}`):`${T}`}),_=r===a?t:al(r,a,t);const M=Kv(nd(_));return new Ii(M,y,d)}function al(r,a,t){const s={};return Object.entries(r.children).forEach(([d,y])=>{s[d]=y===a?t:al(y,a,t)}),new xt(r.segments,s)}class hh{constructor(a,t,s){if(this.isAbsolute=a,this.numberOfDoubleDots=t,this.commands=s,a&&s.length>0&&fh(s[0]))throw new o.wOt(4003,!1);const d=s.find(sl);if(d&&d!==sh(s))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ph{constructor(a,t,s){this.segmentGroup=a,this.processChildren=t,this.index=s}}function Rn(r,a,t){if(r??=new xt([],{}),0===r.segments.length&&r.hasChildren())return cl(r,a,t);const s=function mh(r,a,t){let s=0,d=a;const y={match:!1,pathIndex:0,commandIndex:0};for(;d<r.segments.length;){if(s>=t.length)return y;const _=r.segments[d],M=t[s];if(sl(M))break;const R=`${M}`,T=s<t.length-1?t[s+1]:null;if(d>0&&void 0===R)break;if(R&&T&&"object"==typeof T&&void 0===T.outlets){if(!vh(R,T,_))return y;s+=2}else{if(!vh(R,{},_))return y;s++}d++}return{match:!0,pathIndex:d,commandIndex:s}}(r,a,t),d=t.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const y=new xt(r.segments.slice(0,s.pathIndex),{});return y.children[kt]=new xt(r.segments.slice(s.pathIndex),r.children),cl(y,0,d)}return s.match&&0===d.length?new xt(r.segments,{}):s.match&&!r.hasChildren()?yh(r,a,t):s.match?cl(r,0,d):yh(r,a,t)}function cl(r,a,t){if(0===t.length)return new xt(r.segments,{});{const s=function Jv(r){return sl(r[0])?r[0].outlets:{[kt]:r}}(t),d={};if(Object.keys(s).some(y=>y!==kt)&&r.children[kt]&&1===r.numberOfChildren&&0===r.children[kt].segments.length){const y=cl(r.children[kt],a,t);return new xt(r.segments,y.children)}return Object.entries(s).forEach(([y,_])=>{"string"==typeof _&&(_=[_]),null!==_&&(d[y]=Rn(r.children[y],a,_))}),Object.entries(r.children).forEach(([y,_])=>{void 0===s[y]&&(d[y]=_)}),new xt(r.segments,d)}}function yh(r,a,t){const s=r.segments.slice(0,a);let d=0;for(;d<t.length;){const y=t[d];if(sl(y)){const R=eC(y.outlets);return new xt(s,R)}if(0===d&&fh(t[0])){s.push(new nl(r.segments[a].path,id(t[0]))),d++;continue}const _=sl(y)?y.outlets[kt]:`${y}`,M=d<t.length-1?t[d+1]:null;_&&M&&fh(M)?(s.push(new nl(_,id(M))),d+=2):(s.push(new nl(_,{})),d++)}return new xt(s,{})}function eC(r){const a={};return Object.entries(r).forEach(([t,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(a[t]=yh(new xt([],{}),0,s))}),a}function id(r){const a={};return Object.entries(r).forEach(([t,s])=>a[t]=`${s}`),a}function vh(r,a,t){return r==t.path&&ai(a,t.parameters)}const Xa="imperative";var Gt=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Gt||{});class ho{constructor(a,t){this.id=a,this.url=t}}class od extends ho{constructor(a,t,s="imperative",d=null){super(a,t),this.type=Gt.NavigationStart,this.navigationTrigger=s,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends ho{constructor(a,t,s){super(a,t),this.urlAfterRedirects=s,this.type=Gt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ci=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(ci||{}),Ai=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Ai||{});class Js extends ho{constructor(a,t,s,d){super(a,t),this.reason=s,this.code=d,this.type=Gt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ea extends ho{constructor(a,t,s,d){super(a,t),this.reason=s,this.code=d,this.type=Gt.NavigationSkipped}}class I0 extends ho{constructor(a,t,s,d){super(a,t),this.error=s,this.target=d,this.type=Gt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tC extends ho{constructor(a,t,s,d){super(a,t),this.urlAfterRedirects=s,this.state=d,this.type=Gt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z_ extends ho{constructor(a,t,s,d){super(a,t),this.urlAfterRedirects=s,this.state=d,this.type=Gt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K_ extends ho{constructor(a,t,s,d,y){super(a,t),this.urlAfterRedirects=s,this.state=d,this.shouldActivate=y,this.type=Gt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Q_ extends ho{constructor(a,t,s,d){super(a,t),this.urlAfterRedirects=s,this.state=d,this.type=Gt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC extends ho{constructor(a,t,s,d){super(a,t),this.urlAfterRedirects=s,this.state=d,this.type=Gt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ya{constructor(a){this.route=a,this.type=Gt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ll{constructor(a){this.route=a,this.type=Gt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class D0{constructor(a){this.snapshot=a,this.type=Gt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rC{constructor(a){this.snapshot=a,this.type=Gt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(a){this.snapshot=a,this.type=Gt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ul{constructor(a){this.snapshot=a,this.type=Gt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A0{constructor(a,t,s){this.routerEvent=a,this.position=t,this.anchor=s,this.type=Gt.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class dl{}class fl{constructor(a,t){this.url=a,this.navigationBehaviorOptions=t}}function Fn(r){return r.outlet||kt}function qa(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let a=r.parent;a;a=a.parent){const t=a.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ad{get injector(){return qa(this.route?.snapshot)??this.rootInjector}set injector(a){}constructor(a){this.rootInjector=a,this.outlet=null,this.route=null,this.children=new cd(this.rootInjector),this.attachRef=null}}let cd=(()=>{class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,s){const d=this.getOrCreateContext(t);d.outlet=s,this.contexts.set(t,d)}onChildOutletDestroyed(t){const s=this.getContext(t);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let s=this.getContext(t);return s||(s=new ad(this.rootInjector),this.contexts.set(t,s)),s}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class cC{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const t=this.pathFromRoot(a);return t.length>1?t[t.length-2]:null}children(a){const t=gr(a,this._root);return t?t.children.map(s=>s.value):[]}firstChild(a){const t=gr(a,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(a){const t=gs(a,this._root);return t.length<2?[]:t[t.length-2].children.map(d=>d.value).filter(d=>d!==a)}pathFromRoot(a){return gs(a,this._root).map(t=>t.value)}}function gr(r,a){if(r===a.value)return a;for(const t of a.children){const s=gr(r,t);if(s)return s}return null}function gs(r,a){if(r===a.value)return[a];for(const t of a.children){const s=gs(r,t);if(s.length)return s.unshift(a),s}return[]}class Si{constructor(a,t){this.value=a,this.children=t}toString(){return`TreeNode(${this.value})`}}function ta(r){const a={};return r&&r.children.forEach(t=>a[t.value.outlet]=t),a}class T0 extends cC{constructor(a,t){super(a),this.snapshot=t,bh(this,a)}toString(){return this.snapshot.toString()}}function _h(r){const a=function lC(r){const y=new pl([],{},{},"",{},kt,r,null,{});return new M0("",new Si(y,[]))}(r),t=new Zr.t([new nl("",{})]),s=new Zr.t({}),d=new Zr.t({}),y=new Zr.t({}),_=new Zr.t(""),M=new Hr(t,s,y,_,d,kt,r,a.root);return M.snapshot=a.root,new T0(new Si(M,[]),a)}class Hr{constructor(a,t,s,d,y,_,M,R){this.urlSubject=a,this.paramsSubject=t,this.queryParamsSubject=s,this.fragmentSubject=d,this.dataSubject=y,this.outlet=_,this.component=M,this._futureSnapshot=R,this.title=this.dataSubject?.pipe((0,tn.T)(T=>T[Kr]))??at(void 0),this.url=a,this.params=t,this.queryParams=s,this.fragment=d,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,tn.T)(a=>ko(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,tn.T)(a=>ko(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ld(r,a,t="emptyOnly"){let s;const{routeConfig:d}=r;return s=null===a||"always"!==t&&""!==d?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...r.params},data:{...r.data},resolve:{...r.data,...r._resolvedData??{}}}:{params:{...a.params,...r.params},data:{...a.data,...r.data},resolve:{...r.data,...a.data,...d?.data,...r._resolvedData}},d&&Ih(d)&&(s.resolve[Kr]=d.title),s}class pl{get title(){return this.data?.[Kr]}constructor(a,t,s,d,y,_,M,R,T){this.url=a,this.params=t,this.queryParams=s,this.fragment=d,this.data=y,this.outlet=_,this.component=M,this.routeConfig=R,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class M0 extends cC{constructor(a,t){super(t),this.url=a,bh(this,t)}toString(){return N0(this._root)}}function bh(r,a){a.value._routerState=r,a.children.forEach(t=>bh(r,t))}function N0(r){const a=r.children.length>0?` { ${r.children.map(N0).join(", ")} } `:"";return`${r.value}${a}`}function xh(r){if(r.snapshot){const a=r.snapshot,t=r._futureSnapshot;r.snapshot=t,ai(a.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),a.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),ai(a.params,t.params)||r.paramsSubject.next(t.params),function d0(r,a){if(r.length!==a.length)return!1;for(let t=0;t<r.length;++t)if(!ai(r[t],a[t]))return!1;return!0}(a.url,t.url)||r.urlSubject.next(t.url),ai(a.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function ud(r,a){const t=ai(r.params,a.params)&&function g0(r,a){return Lo(r,a)&&r.every((t,s)=>ai(t.parameters,a[s].parameters))}(r.url,a.url);return t&&!(!r.parent!=!a.parent)&&(!r.parent||ud(r.parent,a.parent))}function Ih(r){return"string"==typeof r.title||null===r.title}let dd=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(cd),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.inputBinder=(0,o.WQX)(gl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:s,previousValue:d}=t.name;if(s)return;this.isTrackedInParentContexts(d)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(d)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=t;const d=this.location,_=t.snapshot.component,M=this.parentContexts.getOrCreateContext(this.name).children,R=new Za(t,M,d.injector);this.activated=d.createComponent(_,{index:d.length,injector:R,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return r})();class Za{__ngOutletInjector(a){return new Za(this.route,this.childContexts,a)}constructor(a,t,s){this.route=a,this.childContexts=t,this.parent=s}get(a,t){return a===Hr?this.route:a===cd?this.childContexts:this.parent.get(a,t)}}const gl=new o.nKC("");let Dh=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:s}=t,d=yn([s.queryParams,s.params,s.data]).pipe(or(([y,_,M],R)=>(M={...y,..._,...M},0===R?at(M):Promise.resolve(M)))).subscribe(y=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(t);const _=(0,o.HJs)(s.component);if(_)for(const{templateName:M}of _.inputs)t.activatedComponentRef.setInput(M,y[M]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,d)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function Ka(r,a,t){if(t&&r.shouldReuseRoute(a.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=a.value;const d=function uC(r,a,t){return a.children.map(s=>{for(const d of t.children)if(r.shouldReuseRoute(s.value,d.value.snapshot))return Ka(r,s,d);return Ka(r,s)})}(r,a,t);return new Si(s,d)}{if(r.shouldAttach(a.value)){const y=r.retrieve(a.value);if(null!==y){const _=y.route;return _.value._futureSnapshot=a.value,_.children=a.children.map(M=>Ka(r,M)),_}}const s=function dC(r){return new Hr(new Zr.t(r.url),new Zr.t(r.params),new Zr.t(r.queryParams),new Zr.t(r.fragment),new Zr.t(r.data),r.outlet,r.component,r)}(a.value),d=a.children.map(y=>Ka(r,y));return new Si(s,d)}}class Ah{constructor(a,t){this.redirectTo=a,this.navigationBehaviorOptions=t}}const O0="ngNavigationCancelingError";function ml(r,a){const{redirectTo:t,navigationBehaviorOptions:s}=$i(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,d=fC(!1,ci.Redirect);return d.url=t,d.navigationBehaviorOptions=s,d}function fC(r,a){const t=new Error(`NavigationCancelingError: ${r||""}`);return t[O0]=!0,t.cancellationCode=a,t}function F0(r){return!!r&&r[O0]}class hC{constructor(a,t,s,d,y){this.routeReuseStrategy=a,this.futureState=t,this.currState=s,this.forwardEvent=d,this.inputBindingEnabled=y}activate(a){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,a),xh(this.futureState.root),this.activateChildRoutes(t,s,a)}deactivateChildRoutes(a,t,s){const d=ta(t);a.children.forEach(y=>{const _=y.value.outlet;this.deactivateRoutes(y,d[_],s),delete d[_]}),Object.values(d).forEach(y=>{this.deactivateRouteAndItsChildren(y,s)})}deactivateRoutes(a,t,s){const d=a.value,y=t?t.value:null;if(d===y)if(d.component){const _=s.getContext(d.outlet);_&&this.deactivateChildRoutes(a,t,_.children)}else this.deactivateChildRoutes(a,t,s);else y&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(a,t){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,t):this.deactivateRouteAndOutlet(a,t)}detachAndStoreRouteSubtree(a,t){const s=t.getContext(a.value.outlet),d=s&&a.value.component?s.children:t,y=ta(a);for(const _ of Object.values(y))this.deactivateRouteAndItsChildren(_,d);if(s&&s.outlet){const _=s.outlet.detach(),M=s.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:_,route:a,contexts:M})}}deactivateRouteAndOutlet(a,t){const s=t.getContext(a.value.outlet),d=s&&a.value.component?s.children:t,y=ta(a);for(const _ of Object.values(y))this.deactivateRouteAndItsChildren(_,d);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(a,t,s){const d=ta(t);a.children.forEach(y=>{this.activateRoutes(y,d[y.value.outlet],s),this.forwardEvent(new ul(y.value.snapshot))}),a.children.length&&this.forwardEvent(new rC(a.value.snapshot))}activateRoutes(a,t,s){const d=a.value,y=t?t.value:null;if(xh(d),d===y)if(d.component){const _=s.getOrCreateContext(d.outlet);this.activateChildRoutes(a,t,_.children)}else this.activateChildRoutes(a,t,s);else if(d.component){const _=s.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const M=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),_.children.onOutletReAttached(M.contexts),_.attachRef=M.componentRef,_.route=M.route.value,_.outlet&&_.outlet.attach(M.componentRef,M.route.value),xh(M.route.value),this.activateChildRoutes(a,null,_.children)}else _.attachRef=null,_.route=d,_.outlet&&_.outlet.activateWith(d,_.injector),this.activateChildRoutes(a,null,_.children)}else this.activateChildRoutes(a,null,s)}}class Sh{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class Qa{constructor(a,t){this.component=a,this.route=t}}function pC(r,a,t){const s=r._root;return yl(s,a?a._root:null,t,[s.value])}function Bo(r,a){const t=Symbol(),s=a.get(r,t);return s===t?"function"!=typeof r||(0,o.LfX)(r)?a.get(r):r:s}function yl(r,a,t,s,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=ta(a);return r.children.forEach(_=>{(function P0(r,a,t,s,d={canDeactivateChecks:[],canActivateChecks:[]}){const y=r.value,_=a?a.value:null,M=t?t.getContext(r.value.outlet):null;if(_&&y.routeConfig===_.routeConfig){const R=function fd(r,a,t){if("function"==typeof t)return t(r,a);switch(t){case"pathParamsChange":return!Lo(r.url,a.url);case"pathParamsOrQueryParamsChange":return!Lo(r.url,a.url)||!ai(r.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ud(r,a)||!ai(r.queryParams,a.queryParams);default:return!ud(r,a)}}(_,y,y.routeConfig.runGuardsAndResolvers);R?d.canActivateChecks.push(new Sh(s)):(y.data=_.data,y._resolvedData=_._resolvedData),yl(r,a,y.component?M?M.children:null:t,s,d),R&&M&&M.outlet&&M.outlet.isActivated&&d.canDeactivateChecks.push(new Qa(M.outlet.component,_))}else _&&hd(a,M,d),d.canActivateChecks.push(new Sh(s)),yl(r,null,y.component?M?M.children:null:t,s,d)})(_,y[_.value.outlet],t,s.concat([_.value]),d),delete y[_.value.outlet]}),Object.entries(y).forEach(([_,M])=>hd(M,t.getContext(_),d)),d}function hd(r,a,t){const s=ta(r),d=r.value;Object.entries(s).forEach(([y,_])=>{hd(_,d.component?a?a.children.getContext(y):null:a,t)}),t.canDeactivateChecks.push(new Qa(d.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,d))}function vl(r){return"function"==typeof r}function L0(r){return r instanceof Qc||"EmptyError"===r?.name}const Ja=Symbol("INITIAL_VALUE");function ys(){return or(r=>yn(r.map(a=>a.pipe(fs(1),function Vv(...r){const a=Xu(r);return(0,qn.N)((t,s)=>{(a?nh(r,t,a):nh(r,t)).subscribe(s)})}(Ja)))).pipe((0,tn.T)(a=>{for(const t of a)if(!0!==t){if(t===Ja)return Ja;if(!1===t||ec(t))return t}return!0}),fo(a=>a!==Ja),fs(1)))}function ec(r){return $i(r)||r instanceof Ah}function vC(r){return(0,qu.F)(pr(a=>{if("boolean"!=typeof a)throw ml(0,a)}),(0,tn.T)(a=>!0===a))}class na{constructor(a){this.segmentGroup=a||null}}class vd extends Error{constructor(a){super(),this.urlTree=a}}function ra(r){return No(new na(r))}class B0{constructor(a,t){this.urlSerializer=a,this.urlTree=t}lineralizeSegments(a,t){let s=[],d=t.root;for(;;){if(s=s.concat(d.segments),0===d.numberOfChildren)return at(s);if(d.numberOfChildren>1||!d.children[kt])return No(new o.wOt(4e3,!1));d=d.children[kt]}}applyRedirectCommands(a,t,s,d,y){if("string"!=typeof t){const M=t,{queryParams:R,fragment:T,routeConfig:V,url:Z,outlet:Ie,params:ye,data:Oe,title:Be}=d,Ue=(0,o.N4e)(y,()=>M({params:ye,data:Oe,queryParams:R,fragment:T,routeConfig:V,url:Z,outlet:Ie,title:Be}));if(Ue instanceof Ii)throw new vd(Ue);t=Ue}const _=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),a,s);if("/"===t[0])throw new vd(_);return _}applyRedirectCreateUrlTree(a,t,s,d){const y=this.createSegmentGroup(a,t.root,s,d);return new Ii(y,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(a,t){const s={};return Object.entries(a).forEach(([d,y])=>{if("string"==typeof y&&":"===y[0]){const M=y.substring(1);s[d]=t[M]}else s[d]=y}),s}createSegmentGroup(a,t,s,d){const y=this.createSegments(a,t.segments,s,d);let _={};return Object.entries(t.children).forEach(([M,R])=>{_[M]=this.createSegmentGroup(a,R,s,d)}),new xt(y,_)}createSegments(a,t,s,d){return t.map(y=>":"===y.path[0]?this.findPosParam(a,y,d):this.findOrReturn(y,s))}findPosParam(a,t,s){const d=s[t.path.substring(1)];if(!d)throw new o.wOt(4001,!1);return d}findOrReturn(a,t){let s=0;for(const d of t){if(d.path===a.path)return t.splice(s),d;s++}return a}}const kh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wC(r,a,t,s,d){const y=nc(r,a,t);return y.matched?(s=function hl(r,a){return r.providers&&!r._injector&&(r._injector=(0,o.Ol2)(r.providers,a,`Route: ${r.path}`)),r._injector??a}(a,s),function Rh(r,a,t,s){const d=a.canMatch;return d&&0!==d.length?at(d.map(_=>{const M=Bo(_,r);return Fo(function pd(r){return r&&vl(r.canMatch)}(M)?M.canMatch(a,t):(0,o.N4e)(r,()=>M(a,t)))})).pipe(ys(),vC()):at(!0)}(s,a,t).pipe((0,tn.T)(_=>!0===_?y:{...kh}))):at(y)}function nc(r,a,t){if("**"===a.path)return function U0(r){return{matched:!0,parameters:r.length>0?sh(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===a.path)return"full"===a.pathMatch&&(r.hasChildren()||t.length>0)?{...kh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const d=(a.matcher||oh)(t,r,a);if(!d)return{...kh};const y={};Object.entries(d.posParams??{}).forEach(([M,R])=>{y[M]=R.path});const _=d.consumed.length>0?{...y,...d.consumed[d.consumed.length-1].parameters}:y;return{matched:!0,consumedSegments:d.consumed,remainingSegments:t.slice(d.consumed.length),parameters:_,positionalParamSegments:d.posParams??{}}}function Cd(r,a,t,s){return t.length>0&&function ab(r,a,t){return t.some(s=>wd(r,a,s)&&Fn(s)!==kt)}(r,t,s)?{segmentGroup:new xt(a,sb(s,new xt(t,r.children))),slicedSegments:[]}:0===t.length&&function El(r,a,t){return t.some(s=>wd(r,a,s))}(r,t,s)?{segmentGroup:new xt(r.segments,EC(r,t,s,r.children)),slicedSegments:t}:{segmentGroup:new xt(r.segments,r.children),slicedSegments:t}}function EC(r,a,t,s){const d={};for(const y of t)if(wd(r,a,y)&&!s[Fn(y)]){const _=new xt([],{});d[Fn(y)]=_}return{...s,...d}}function sb(r,a){const t={};t[kt]=a;for(const s of r)if(""===s.path&&Fn(s)!==kt){const d=new xt([],{});t[Fn(s)]=d}return t}function wd(r,a,t){return(!(r.hasChildren()||a.length>0)||"full"!==t.pathMatch)&&""===t.path}class Fh{}class j0{constructor(a,t,s,d,y,_,M){this.injector=a,this.configLoader=t,this.rootComponentType=s,this.config=d,this.urlTree=y,this.paramsInheritanceStrategy=_,this.urlSerializer=M,this.applyRedirects=new B0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(a){return new o.wOt(4002,`'${a.segmentGroup}'`)}recognize(){const a=Cd(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,tn.T)(({children:t,rootSnapshot:s})=>{const d=new Si(s,t),y=new M0("",d),_=function Qv(r,a,t=null,s=null){return ps(b0(r),a,t,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return _.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(_),{state:y,tree:_}}))}match(a){const t=new pl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),kt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,kt,t).pipe((0,tn.T)(s=>({children:s,rootSnapshot:t})),Rr(s=>{if(s instanceof vd)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof na?this.noMatchError(s):s}))}processSegmentGroup(a,t,s,d,y){return 0===s.segments.length&&s.hasChildren()?this.processChildren(a,t,s,y):this.processSegment(a,t,s,s.segments,d,!0,y).pipe((0,tn.T)(_=>_ instanceof Si?[_]:[]))}processChildren(a,t,s,d){const y=[];for(const _ of Object.keys(s.children))"primary"===_?y.unshift(_):y.push(_);return xn(y).pipe(xi(_=>{const M=s.children[_],R=function Eh(r,a){const t=r.filter(s=>Fn(s)===a);return t.push(...r.filter(s=>Fn(s)!==a)),t}(t,_);return this.processSegmentGroup(a,R,M,_,d)}),function el(r,a){return(0,qn.N)(function Hv(r,a,t,s,d){return(y,_)=>{let M=t,R=a,T=0;y.subscribe((0,Zn._)(_,V=>{const Z=T++;R=M?r(R,V,Z):(M=!0,V),s&&_.next(R)},d&&(()=>{M&&_.next(R),_.complete()})))}}(r,a,arguments.length>=2,!0))}((_,M)=>(_.push(...M),_)),Ku(null),function ih(r,a){const t=arguments.length>=2;return s=>s.pipe(r?fo((d,y)=>r(d,y,s)):ls.D,rh(1),t?Ku(a):jv(()=>new Qc))}(),xr(_=>{if(null===_)return ra(s);const M=vs(_);return function Ph(r){r.sort((a,t)=>a.value.outlet===kt?-1:t.value.outlet===kt?1:a.value.outlet.localeCompare(t.value.outlet))}(M),at(M)}))}processSegment(a,t,s,d,y,_,M){return xn(t).pipe(xi(R=>this.processSegmentAgainstRoute(R._injector??a,t,R,s,d,y,_,M).pipe(Rr(T=>{if(T instanceof na)return at(null);throw T}))),Oo(R=>!!R),Rr(R=>{if(L0(R))return function Ed(r,a,t){return 0===a.length&&!r.children[t]}(s,d,y)?at(new Fh):ra(s);throw R}))}processSegmentAgainstRoute(a,t,s,d,y,_,M,R){return Fn(s)===_||_!==kt&&wd(d,y,s)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(a,d,s,y,_,R):this.allowRedirects&&M?this.expandSegmentAgainstRouteUsingRedirect(a,d,t,s,y,_,R):ra(d):ra(d)}expandSegmentAgainstRouteUsingRedirect(a,t,s,d,y,_,M){const{matched:R,parameters:T,consumedSegments:V,positionalParamSegments:Z,remainingSegments:Ie}=nc(t,d,y);if(!R)return ra(t);"string"==typeof d.redirectTo&&"/"===d.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const ye=new pl(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(d),Fn(d),d.component??d._loadedComponent??null,d,Lh(d)),Oe=ld(ye,M,this.paramsInheritanceStrategy);ye.params=Object.freeze(Oe.params),ye.data=Object.freeze(Oe.data);const Be=this.applyRedirects.applyRedirectCommands(V,d.redirectTo,Z,ye,a);return this.applyRedirects.lineralizeSegments(d,Be).pipe(xr(Ue=>this.processSegment(a,s,t,Ue.concat(Ie),_,!1,M)))}matchSegmentAgainstRoute(a,t,s,d,y,_){const M=wC(t,s,d,a);return"**"===s.path&&(t.children={}),M.pipe(or(R=>R.matched?this.getChildConfig(a=s._injector??a,s,d).pipe(or(({routes:T})=>{const V=s._loadedInjector??a,{parameters:Z,consumedSegments:Ie,remainingSegments:ye}=R,Oe=new pl(Ie,Z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_l(s),Fn(s),s.component??s._loadedComponent??null,s,Lh(s)),Be=ld(Oe,_,this.paramsInheritanceStrategy);Oe.params=Object.freeze(Be.params),Oe.data=Object.freeze(Be.data);const{segmentGroup:Ue,slicedSegments:Qe}=Cd(t,Ie,ye,T);if(0===Qe.length&&Ue.hasChildren())return this.processChildren(V,T,Ue,Oe).pipe((0,tn.T)(vt=>new Si(Oe,vt)));if(0===T.length&&0===Qe.length)return at(new Si(Oe,[]));const zt=Fn(s)===y;return this.processSegment(V,T,Ue,Qe,zt?kt:y,!0,Oe).pipe((0,tn.T)(vt=>new Si(Oe,vt instanceof Si?[vt]:[])))})):ra(t)))}getChildConfig(a,t,s){return t.children?at({routes:t.children,injector:a}):t.loadChildren?void 0!==t._loadedRoutes?at({routes:t._loadedRoutes,injector:t._loadedInjector}):function Nh(r,a,t,s){const d=a.canLoad;return void 0===d||0===d.length?at(!0):at(d.map(_=>{const M=Bo(_,r);return Fo(function mC(r){return r&&vl(r.canLoad)}(M)?M.canLoad(a,t):(0,o.N4e)(r,()=>M(a,t)))})).pipe(ys(),vC())}(a,t,s).pipe(xr(d=>d?this.configLoader.loadChildren(a,t).pipe(pr(y=>{t._loadedRoutes=y.routes,t._loadedInjector=y.injector})):function Oh(){return No(fC(!1,ci.GuardRejected))}())):at({routes:[],injector:a})}}function H0(r){const a=r.value.routeConfig;return a&&""===a.path}function vs(r){const a=[],t=new Set;for(const s of r){if(!H0(s)){a.push(s);continue}const d=a.find(y=>s.value.routeConfig===y.value.routeConfig);void 0!==d?(d.children.push(...s.children),t.add(d)):a.push(s)}for(const s of t){const d=vs(s.children);a.push(new Si(s.value,d))}return a.filter(s=>!t.has(s))}function _l(r){return r.data||{}}function Lh(r){return r.resolve||{}}function _d(r){const a=r.children.map(t=>_d(t)).flat();return[r,...a]}function Cs(r){return or(a=>{const t=r(a);return t?xn(t).pipe((0,tn.T)(()=>a)):at(a)})}let W0=(()=>{class r{buildTitle(t){let s,d=t.root;for(;void 0!==d;)s=this.getResolvedTitleForRoute(d)??s,d=d.children.find(y=>y.outlet===kt);return s}getResolvedTitleForRoute(t){return t.data[Kr]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(xC),providedIn:"root"})}}return r})(),xC=(()=>{class r extends W0{constructor(t){super(),this.title=t}updateTitle(t){const s=this.buildTitle(t);void 0!==s&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(ji))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const bl=new o.nKC("",{providedIn:"root",factory:()=>({})});let xl=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(s,d){1&s&&o.nrm(0,"router-outlet")},dependencies:[dd],encapsulation:2})}}return r})();function Il(r){const a=r.children&&r.children.map(Il),t=a?{...r,children:a}:{...r};return!t.component&&!t.loadComponent&&(a||t.loadChildren)&&t.outlet&&t.outlet!==kt&&(t.component=xl),t}const ia=new o.nKC("");let xd=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return at(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const s=Fo(t.loadComponent()).pipe((0,tn.T)(q0),pr(y=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=y}),Ju(()=>{this.componentLoaders.delete(t)})),d=new Wa(s,()=>new Ro.B).pipe(ds());return this.componentLoaders.set(t,d),d}loadChildren(t,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return at({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const y=function X0(r,a,t,s){return Fo(r.loadChildren()).pipe((0,tn.T)(q0),xr(d=>d instanceof o.Co$||Array.isArray(d)?at(d):xn(a.compileModuleAsync(d))),(0,tn.T)(d=>{s&&s(r);let y,_,M=!1;return Array.isArray(d)?(_=d,!0):(y=d.create(t).injector,_=y.get(ia,[],{optional:!0,self:!0}).flat()),{routes:_.map(Il),injector:y}}))}(s,this.compiler,t,this.onLoadEndListener).pipe(Ju(()=>{this.childrenLoaders.delete(s)})),_=new Wa(y,()=>new Ro.B).pipe(ds());return this.childrenLoaders.set(s,_),_}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function q0(r){return function Y0(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let Uh=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(IC),providedIn:"root"})}}return r})(),IC=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,s){return t}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Z0=new o.nKC(""),K0=new o.nKC("");function ws(r,a,t){const s=r.get(K0),d=r.get(oe);return r.get(o.SKi).runOutsideAngular(()=>{if(!d.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(T=>setTimeout(T));let y;const _=new Promise(T=>{y=T}),M=d.startViewTransition(()=>(y(),function Dl(r){return new Promise(a=>{(0,o.mal)({read:()=>setTimeout(a)},{injector:r})})}(r))),{onViewTransitionCreated:R}=s;return R&&(0,o.N4e)(r,()=>R({transition:M,from:a,to:t})),_})}const Q0=new o.nKC("");let Vh=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ro.B,this.transitionAbortSubject=new Ro.B,this.configLoader=(0,o.WQX)(xd),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(Zs),this.rootContexts=(0,o.WQX)(cd),this.location=(0,o.WQX)(Fe),this.inputBindingEnabled=null!==(0,o.WQX)(gl,{optional:!0}),this.titleStrategy=(0,o.WQX)(W0),this.options=(0,o.WQX)(bl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,o.WQX)(Uh),this.createViewTransition=(0,o.WQX)(Z0,{optional:!0}),this.navigationErrorHandler=(0,o.WQX)(Q0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>at(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=d=>this.events.next(new ll(d)),this.configLoader.onLoadStartListener=d=>this.events.next(new Ya(d))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:s})}setupNavigations(t,s,d){return this.transitions=new Zr.t({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xa,restoredState:null,currentSnapshot:d.snapshot,targetSnapshot:null,currentRouterState:d,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fo(y=>0!==y.id),(0,tn.T)(y=>({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),or(y=>{let _=!1,M=!1;return at(y).pipe(or(R=>{if(this.navigationId>y.id)return this.cancelNavigationTransition(y,"",ci.SupersededByNewNavigation),bi;this.currentTransition=y,this.currentNavigation={id:R.id,initialUrl:R.rawUrl,extractedUrl:R.extractedUrl,targetBrowserUrl:"string"==typeof R.extras.browserUrl?this.urlSerializer.parse(R.extras.browserUrl):R.extras.browserUrl,trigger:R.source,extras:R.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const T=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!T&&"reload"!==(R.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const Z="";return this.events.next(new ea(R.id,this.urlSerializer.serialize(R.rawUrl),Z,Ai.IgnoredSameUrlNavigation)),R.resolve(!1),bi}if(this.urlHandlingStrategy.shouldProcessUrl(R.rawUrl))return at(R).pipe(or(Z=>{const Ie=this.transitions?.getValue();return this.events.next(new od(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),Ie!==this.transitions?.getValue()?bi:Promise.resolve(Z)}),function G0(r,a,t,s,d,y){return xr(_=>function V0(r,a,t,s,d,y,_="emptyOnly"){return new j0(r,a,t,s,d,_,y).recognize()}(r,a,t,s,_.extractedUrl,d,y).pipe((0,tn.T)(({state:M,tree:R})=>({..._,targetSnapshot:M,urlAfterRedirects:R}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),pr(Z=>{y.targetSnapshot=Z.targetSnapshot,y.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects};const Ie=new tC(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(Ie)}));if(T&&this.urlHandlingStrategy.shouldProcessUrl(R.currentRawUrl)){const{id:Z,extractedUrl:Ie,source:ye,restoredState:Oe,extras:Be}=R,Ue=new od(Z,this.urlSerializer.serialize(Ie),ye,Oe);this.events.next(Ue);const Qe=_h(this.rootComponentType).snapshot;return this.currentTransition=y={...R,targetSnapshot:Qe,urlAfterRedirects:Ie,extras:{...Be,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ie,at(y)}{const Z="";return this.events.next(new ea(R.id,this.urlSerializer.serialize(R.extractedUrl),Z,Ai.IgnoredByUrlHandlingStrategy)),R.resolve(!1),bi}}),pr(R=>{const T=new Z_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(T)}),(0,tn.T)(R=>(this.currentTransition=y={...R,guards:pC(R.targetSnapshot,R.currentSnapshot,this.rootContexts)},y)),function gd(r,a){return xr(t=>{const{targetSnapshot:s,currentSnapshot:d,guards:{canActivateChecks:y,canDeactivateChecks:_}}=t;return 0===_.length&&0===y.length?at({...t,guardsResult:!0}):function Th(r,a,t,s){return xn(r).pipe(xr(d=>function wl(r,a,t,s,d){const y=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return y&&0!==y.length?at(y.map(M=>{const R=qa(a)??d,T=Bo(M,R);return Fo(function ib(r){return r&&vl(r.canDeactivate)}(T)?T.canDeactivate(r,a,t,s):(0,o.N4e)(R,()=>T(r,a,t,s))).pipe(Oo())})).pipe(ys()):at(!0)}(d.component,d.route,t,a,s)),Oo(d=>!0!==d,!0))}(_,s,d,r).pipe(xr(M=>M&&function gC(r){return"boolean"==typeof r}(M)?function Cl(r,a,t,s){return xn(a).pipe(xi(d=>nh(function tc(r,a){return null!==r&&a&&a(new D0(r)),at(!0)}(d.route.parent,s),function md(r,a){return null!==r&&a&&a(new Ch(r)),at(!0)}(d.route,s),function yd(r,a,t){const s=a[a.length-1],y=a.slice(0,a.length-1).reverse().map(_=>function ms(r){const a=r.routeConfig?r.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:r,guards:a}:null}(_)).filter(_=>null!==_).map(_=>Jc(()=>at(_.guards.map(R=>{const T=qa(_.node)??t,V=Bo(R,T);return Fo(function rb(r){return r&&vl(r.canActivateChild)}(V)?V.canActivateChild(s,r):(0,o.N4e)(T,()=>V(s,r))).pipe(Oo())})).pipe(ys())));return at(y).pipe(ys())}(r,d.path,t),function Mh(r,a,t){const s=a.routeConfig?a.routeConfig.canActivate:null;if(!s||0===s.length)return at(!0);const d=s.map(y=>Jc(()=>{const _=qa(a)??t,M=Bo(y,_);return Fo(function yC(r){return r&&vl(r.canActivate)}(M)?M.canActivate(a,r):(0,o.N4e)(_,()=>M(a,r))).pipe(Oo())}));return at(d).pipe(ys())}(r,d.route,t))),Oo(d=>!0!==d,!0))}(s,y,r,a):at(M)),(0,tn.T)(M=>({...t,guardsResult:M})))})}(this.environmentInjector,R=>this.events.next(R)),pr(R=>{if(y.guardsResult=R.guardsResult,R.guardsResult&&"boolean"!=typeof R.guardsResult)throw ml(0,R.guardsResult);const T=new K_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot,!!R.guardsResult);this.events.next(T)}),fo(R=>!!R.guardsResult||(this.cancelNavigationTransition(R,"",ci.GuardRejected),!1)),Cs(R=>{if(R.guards.canActivateChecks.length)return at(R).pipe(pr(T=>{const V=new Q_(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(V)}),or(T=>{let V=!1;return at(T).pipe(function z0(r,a){return xr(t=>{const{targetSnapshot:s,guards:{canActivateChecks:d}}=t;if(!d.length)return at(t);const y=new Set(d.map(R=>R.route)),_=new Set;for(const R of y)if(!_.has(R))for(const T of _d(R))_.add(T);let M=0;return xn(_).pipe(xi(R=>y.has(R)?function $0(r,a,t,s){const d=r.routeConfig,y=r._resolve;return void 0!==d?.title&&!Ih(d)&&(y[Kr]=d.title),function bd(r,a,t,s){const d=tl(r);if(0===d.length)return at({});const y={};return xn(d).pipe(xr(_=>function Bh(r,a,t,s){const d=qa(a)??s,y=Bo(r,d);return Fo(y.resolve?y.resolve(a,t):(0,o.N4e)(d,()=>y(a,t)))}(r[_],a,t,s).pipe(Oo(),pr(M=>{if(M instanceof Ah)throw ml(new Ks,M);y[_]=M}))),rh(1),function Qu(r){return(0,tn.T)(()=>r)}(y),Rr(_=>L0(_)?bi:No(_)))}(y,r,a,s).pipe((0,tn.T)(_=>(r._resolvedData=_,r.data=ld(r,r.parent,t).resolve,null)))}(R,s,r,a):(R.data=ld(R,R.parent,r).resolve,at(void 0))),pr(()=>M++),rh(1),xr(R=>M===_.size?at(t):bi))})}(this.paramsInheritanceStrategy,this.environmentInjector),pr({next:()=>V=!0,complete:()=>{V||this.cancelNavigationTransition(T,"",ci.NoDataFromResolver)}}))}),pr(T=>{const V=new nC(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(V)}))}),Cs(R=>{const T=V=>{const Z=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&Z.push(this.configLoader.loadComponent(V.routeConfig).pipe(pr(Ie=>{V.component=Ie}),(0,tn.T)(()=>{})));for(const Ie of V.children)Z.push(...T(Ie));return Z};return yn(T(R.targetSnapshot.root)).pipe(Ku(null),fs(1))}),Cs(()=>this.afterPreactivation()),or(()=>{const{currentSnapshot:R,targetSnapshot:T}=y,V=this.createViewTransition?.(this.environmentInjector,R.root,T.root);return V?xn(V).pipe((0,tn.T)(()=>y)):at(y)}),(0,tn.T)(R=>{const T=function R0(r,a,t){const s=Ka(r,a._root,t?t._root:void 0);return new T0(s,a)}(t.routeReuseStrategy,R.targetSnapshot,R.currentRouterState);return this.currentTransition=y={...R,targetRouterState:T},this.currentNavigation.targetRouterState=T,y}),pr(()=>{this.events.next(new dl)}),((r,a,t,s)=>(0,tn.T)(d=>(new hC(a,d.targetRouterState,d.currentRouterState,t,s).activate(r),d)))(this.rootContexts,t.routeReuseStrategy,R=>this.events.next(R),this.inputBindingEnabled),fs(1),pr({next:R=>{_=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wi(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects))),this.titleStrategy?.updateTitle(R.targetRouterState.snapshot),R.resolve(!0)},complete:()=>{_=!0}}),function u0(r){return(0,qn.N)((a,t)=>{he(r).subscribe((0,Zn._)(t,()=>t.complete(),l0.l)),!t.closed&&a.subscribe(t)})}(this.transitionAbortSubject.pipe(pr(R=>{throw R}))),Ju(()=>{!_&&!M&&this.cancelNavigationTransition(y,"",ci.SupersededByNewNavigation),this.currentTransition?.id===y.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rr(R=>{if(M=!0,F0(R))this.events.next(new Js(y.id,this.urlSerializer.serialize(y.extractedUrl),R.message,R.cancellationCode)),function k0(r){return F0(r)&&$i(r.url)}(R)?this.events.next(new fl(R.url,R.navigationBehaviorOptions)):y.resolve(!1);else{const T=new I0(y.id,this.urlSerializer.serialize(y.extractedUrl),R,y.targetSnapshot??void 0);try{const V=(0,o.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(T));if(V instanceof Ah){const{message:Z,cancellationCode:Ie}=ml(0,V);this.events.next(new Js(y.id,this.urlSerializer.serialize(y.extractedUrl),Z,Ie)),this.events.next(new fl(V.redirectTo,V.navigationBehaviorOptions))}else{this.events.next(T);const Z=t.errorHandler(R);y.resolve(!!Z)}}catch(V){this.options.resolveNavigationPromiseOnError?y.resolve(!1):y.reject(V)}}return bi}))}))}cancelNavigationTransition(t,s,d){const y=new Js(t.id,this.urlSerializer.serialize(t.extractedUrl),s,d);this.events.next(y),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function cb(r){return r!==Xa}let lb=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(db),providedIn:"root"})}}return r})();class ub{shouldDetach(a){return!1}store(a,t){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,t){return a.routeConfig===t.routeConfig}}let db=(()=>{class r extends ub{static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),jh=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(DC),providedIn:"root"})}}return r})(),DC=(()=>{class r extends jh{constructor(){super(...arguments),this.location=(0,o.WQX)(Fe),this.urlSerializer=(0,o.WQX)(Zs),this.options=(0,o.WQX)(bl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,o.WQX)(Uh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=_h(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(s=>{"popstate"===s.type&&t(s.url,s.state)})}handleRouterEvent(t,s){if(t instanceof od)this.stateMemento=this.createStateMemento();else if(t instanceof ea)this.rawUrlTree=s.initialUrl;else if(t instanceof tC){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??d,s)}}else t instanceof dl?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):t instanceof Js&&(t.code===ci.GuardRejected||t.code===ci.NoDataFromResolver)?this.restoreHistory(s):t instanceof I0?this.restoreHistory(s,!0):t instanceof Wi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,s){const d=t instanceof Ii?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(d)||s.extras.replaceUrl){const _={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(d,"",_)}else{const y={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(d,"",y)}}restoreHistory(t,s=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-this.browserPageId;0!==y?this.location.historyGo(y):this.currentUrlTree===t.finalUrl&&0===y&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Al=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Al||{});function J0(r,a){r.events.pipe(fo(t=>t instanceof Wi||t instanceof Js||t instanceof I0||t instanceof ea),(0,tn.T)(t=>t instanceof Wi||t instanceof ea?Al.COMPLETE:t instanceof Js&&(t.code===ci.Redirect||t.code===ci.SupersededByNewNavigation)?Al.REDIRECTING:Al.FAILED),fo(t=>t!==Al.REDIRECTING),fs(1)).subscribe(()=>{a()})}function AC(r){throw r}const Hh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let nn=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,o.WQX)(o.H3F),this.stateManager=(0,o.WQX)(jh),this.options=(0,o.WQX)(bl,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,o.WQX)(Vh),this.urlSerializer=(0,o.WQX)(Zs),this.location=(0,o.WQX)(Fe),this.urlHandlingStrategy=(0,o.WQX)(Uh),this._events=new Ro.B,this.errorHandler=this.options.errorHandler||AC,this.navigated=!1,this.routeReuseStrategy=(0,o.WQX)(lb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,o.WQX)(ia,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,o.WQX)(gl,{optional:!0}),this.eventsSubscription=new Zu.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(s=>{try{const d=this.navigationTransitions.currentTransition,y=this.navigationTransitions.currentNavigation;if(null!==d&&null!==y)if(this.stateManager.handleRouterEvent(s,y),s instanceof Js&&s.code!==ci.Redirect&&s.code!==ci.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Wi)this.navigated=!0;else if(s instanceof fl){const _=s.navigationBehaviorOptions,M=this.urlHandlingStrategy.merge(s.url,d.currentRawUrl),R={browserUrl:d.extras.browserUrl,info:d.extras.info,skipLocationChange:d.extras.skipLocationChange,replaceUrl:d.extras.replaceUrl||"eager"===this.urlUpdateStrategy||cb(d.source),..._};this.scheduleNavigation(M,Xa,null,R,{resolve:d.resolve,reject:d.reject,promise:d.promise})}(function t1(r){return!(r instanceof dl||r instanceof fl)})(s)&&this._events.next(s)}catch(d){this.navigationTransitions.transitionAbortSubject.next(d)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",s)},0)})}navigateToSyncWithBrowser(t,s,d){const y={replaceUrl:!0},_=d?.navigationId?d:null;if(d){const R={...d};delete R.navigationId,delete R.\u0275routerPageId,0!==Object.keys(R).length&&(y.state=R)}const M=this.parseUrl(t);this.scheduleNavigation(M,s,_,y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Il),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,s={}){const{relativeTo:d,queryParams:y,fragment:_,queryParamsHandling:M,preserveFragment:R}=s,T=R?this.currentUrlTree.fragment:_;let Z,V=null;switch(M??this.options.defaultQueryParamsHandling){case"merge":V={...this.currentUrlTree.queryParams,...y};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=y||null}null!==V&&(V=this.removeEmptyProps(V));try{Z=b0(d?d.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),Z=this.currentUrlTree.root}return ps(Z,t,V,T??null)}navigateByUrl(t,s={skipLocationChange:!1}){const d=$i(t)?t:this.parseUrl(t),y=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(y,Xa,null,s)}navigate(t,s={skipLocationChange:!1}){return function e1(r){for(let a=0;a<r.length;a++)if(null==r[a])throw new o.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,s){let d;if(d=!0===s?{...Hh}:!1===s?{...Uo}:s,$i(t))return p0(this.currentUrlTree,t,d);const y=this.parseUrl(t);return p0(this.currentUrlTree,y,d)}removeEmptyProps(t){return Object.entries(t).reduce((s,[d,y])=>(null!=y&&(s[d]=y),s),{})}scheduleNavigation(t,s,d,y,_){if(this.disposed)return Promise.resolve(!1);let M,R,T;_?(M=_.resolve,R=_.reject,T=_.promise):T=new Promise((Z,Ie)=>{M=Z,R=Ie});const V=this.pendingTasks.add();return J0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(V))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:y,resolve:M,reject:R,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(Z=>Promise.reject(Z))}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Vo=(()=>{class r{constructor(t,s,d,y,_,M){this.router=t,this.route=s,this.tabIndexAttribute=d,this.renderer=y,this.el=_,this.locationStrategy=M,this.href=null,this.onChanges=new Ro.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const R=_.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===R||"area"===R,this.isAnchorElement?this.subscription=t.events.subscribe(T=>{T instanceof Wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=$i(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,s,d,y,_){const M=this.urlTree;return!!(null===M||this.isAnchorElement&&(0!==t||s||d||y||_||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(M,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const s=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(t,s){const d=this.renderer,y=this.el.nativeElement;null!==s?d.setAttribute(y,t,s):d.removeAttribute(y,t)}get urlTree(){return null===this.routerLinkInput?null:$i(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(nn),o.rXU(Hr),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Se))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,d){1&s&&o.bIt("click",function(_){return d.onClick(_.button,_.ctrlKey,_.shiftKey,_.altKey,_.metaKey)}),2&s&&o.BMQ("target",d.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",o.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",o.L39],replaceUrl:[2,"replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return r})();class SC{}let pb=(()=>{class r{constructor(t,s,d,y,_){this.router=t,this.injector=d,this.preloadingStrategy=y,this.loader=_}setUpPreloading(){this.subscription=this.router.events.pipe(fo(t=>t instanceof Wi),xi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const d=[];for(const y of s){y.providers&&!y._injector&&(y._injector=(0,o.Ol2)(y.providers,t,`Route: ${y.path}`));const _=y._injector??t,M=y._loadedInjector??_;(y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent)&&d.push(this.preloadConfig(_,y)),(y.children||y._loadedRoutes)&&d.push(this.processRoutes(M,y.children??y._loadedRoutes))}return xn(d).pipe(Mo())}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>{let d;d=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(t,s):at(null);const y=d.pipe(xr(_=>null===_?at(void 0):(s._loadedRoutes=_.routes,s._loadedInjector=_.injector,this.processRoutes(_.injector??t,_.routes))));return s.loadComponent&&!s._loadedComponent?xn([y,this.loader.loadComponent(s)]).pipe(Mo()):y})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(nn),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(SC),o.KVO(xd))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const i1=new o.nKC("");let Gh=(()=>{class r{constructor(t,s,d,y,_={}){this.urlSerializer=t,this.transitions=s,this.viewportScroller=d,this.zone=y,this.options=_,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_.scrollPositionRestoration||="disabled",_.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof od?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ea&&t.code===Ai.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof A0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new A0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(s){o.QTQ()}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function po(r,a){return{\u0275kind:r,\u0275providers:a}}function s1(){const r=(0,o.WQX)(o.zZn);return a=>{const t=r.get(o.o8S);if(a!==t.components[0])return;const s=r.get(nn),d=r.get(a1);1===r.get(Id)&&s.initialNavigation(),r.get(l1,null,o.$GK.Optional)?.setUpPreloading(),r.get(i1,null,o.$GK.Optional)?.init(),s.resetRootComponentType(t.componentTypes[0]),d.closed||(d.next(),d.complete(),d.unsubscribe())}}const a1=new o.nKC("",{factory:()=>new Ro.B}),Id=new o.nKC("",{providedIn:"root",factory:()=>1}),l1=new o.nKC("");function rc(r){return po(0,[{provide:l1,useExisting:pb},{provide:SC,useExisting:r}])}function kC(r){return po(9,[{provide:Z0,useValue:ws},{provide:K0,useValue:{skipNextTransition:!!r?.skipInitialTransition,...r}}])}const zh=new o.nKC("ROUTER_FORROOT_GUARD"),FC=[Fe,{provide:Zs,useClass:Ks},nn,cd,{provide:Hr,useFactory:function o1(r){return r.routerState.root},deps:[nn]},xd,[]];let $h=(()=>{class r{constructor(t){}static forRoot(t,s){return{ngModule:r,providers:[FC,[],{provide:ia,multi:!0,useValue:t},{provide:zh,useFactory:PC,deps:[[nn,new o.Xx1,new o.kdw]]},{provide:bl,useValue:s||{}},s?.useHash?{provide:Se,useClass:be}:{provide:Se,useClass:mt},{provide:i1,useFactory:()=>{const r=(0,o.WQX)(hn),a=(0,o.WQX)(o.SKi),t=(0,o.WQX)(bl),s=(0,o.WQX)(Vh),d=(0,o.WQX)(Zs);return t.scrollOffset&&r.setOffset(t.scrollOffset),new Gh(d,s,r,a,t)}},s?.preloadingStrategy?rc(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?LC(s):[],s?.bindToComponentInputs?po(8,[Dh,{provide:gl,useExisting:Dh}]).\u0275providers:[],s?.enableViewTransitions?kC().\u0275providers:[],[{provide:d1,useFactory:s1},{provide:o.iLQ,multi:!0,useExisting:d1}]]}}static forChild(t){return{ngModule:r,providers:[{provide:ia,multi:!0,useValue:t}]}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(zh,8))}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();function PC(r){return"guarded"}function LC(r){return["disabled"===r.initialNavigation?po(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const a=(0,o.WQX)(nn);return()=>{a.setUpLocationChangeListener()}}},{provide:Id,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?po(2,[{provide:Id,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:a=>{const t=a.get(J,Promise.resolve());return()=>t.then(()=>new Promise(s=>{const d=a.get(nn),y=a.get(a1);J0(d,()=>{s(!0)}),a.get(Vh).afterPreactivation=()=>(s(!0),y.closed?at(void 0):y),d.initialNavigation()}))}}]).\u0275providers:[]]}const d1=new o.nKC("");let BC=(()=>{class r{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:r})}}return r})(),ic=(()=>{class r extends BC{static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,features:[o.Vt3]})}}return r})();const Ti=new o.nKC(""),Sb={provide:Ti,useExisting:(0,o.Rfq)(()=>Xh),multi:!0};let Xh=(()=>{class r extends ic{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(s,d){1&s&&o.bIt("change",function(_){return d.onChange(_.target.checked)})("blur",function(){return d.onTouched()})},features:[o.Jv_([Sb]),o.Vt3]})}}return r})();const Tb={provide:Ti,useExisting:(0,o.Rfq)(()=>mr),multi:!0},Nb=new o.nKC("");let mr=(()=>{class r extends BC{constructor(t,s,d){super(t,s),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mb(){const r=G()?G().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Nb,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,d){1&s&&o.bIt("input",function(_){return d._handleInput(_.target.value)})("blur",function(){return d.onTouched()})("compositionstart",function(){return d._compositionStart()})("compositionend",function(_){return d._compositionEnd(_.target.value)})},features:[o.Jv_([Tb]),o.Vt3]})}}return r})();function Xi(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Tl(r){return null!=r&&"number"==typeof r.length}const Ir=new o.nKC(""),jo=new o.nKC(""),h1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ht{static min(a){return p1(a)}static max(a){return Yh(a)}static required(a){return oa(a)}static requiredTrue(a){return Qr(a)}static email(a){return function Jr(r){return Xi(r.value)||h1.test(r.value)?null:{email:!0}}(a)}static minLength(a){return function qh(r){return a=>Xi(a.value)||!Tl(a.value)?null:a.value.length<r?{minlength:{requiredLength:r,actualLength:a.value.length}}:null}(a)}static maxLength(a){return function UC(r){return a=>Tl(a.value)&&a.value.length>r?{maxlength:{requiredLength:r,actualLength:a.value.length}}:null}(a)}static pattern(a){return function g1(r){if(!r)return Zh;let a,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),a=new RegExp(t)):(t=r.toString(),a=r),s=>{if(Xi(s.value))return null;const d=s.value;return a.test(d)?null:{pattern:{requiredPattern:t,actualValue:d}}}}(a)}static nullValidator(a){return null}static compose(a){return Td(a)}static composeAsync(a){return sa(a)}}function p1(r){return a=>{if(Xi(a.value)||Xi(r))return null;const t=parseFloat(a.value);return!isNaN(t)&&t<r?{min:{min:r,actual:a.value}}:null}}function Yh(r){return a=>{if(Xi(a.value)||Xi(r))return null;const t=parseFloat(a.value);return!isNaN(t)&&t>r?{max:{max:r,actual:a.value}}:null}}function oa(r){return Xi(r.value)?{required:!0}:null}function Qr(r){return!0===r.value?null:{required:!0}}function Zh(r){return null}function VC(r){return null!=r}function Kh(r){return(0,o.jNT)(r)?xn(r):r}function Qh(r){let a={};return r.forEach(t=>{a=null!=t?{...a,...t}:a}),0===Object.keys(a).length?null:a}function jC(r,a){return a.map(t=>t(r))}function Sd(r){return r.map(a=>function Ad(r){return!r.validate}(a)?a:t=>a.validate(t))}function Td(r){if(!r)return null;const a=r.filter(VC);return 0==a.length?null:function(t){return Qh(jC(t,a))}}function Jh(r){return null!=r?Td(Sd(r)):null}function sa(r){if(!r)return null;const a=r.filter(VC);return 0==a.length?null:function(t){return function Wh(...r){const a=t0(r),{args:t,keys:s}=eh(r),d=new fr.c(y=>{const{length:_}=t;if(!_)return void y.complete();const M=new Array(_);let R=_,T=_;for(let V=0;V<_;V++){let Z=!1;he(t[V]).subscribe((0,Zn._)(y,Ie=>{Z||(Z=!0,T--),M[V]=Ie},()=>R--,void 0,()=>{(!R||!Z)&&(T||y.next(s?us(s,M):M),y.complete())}))}});return a?d.pipe(hr(a)):d}(jC(t,a).map(Kh)).pipe((0,tn.T)(Qh))}}function Ml(r){return null!=r?sa(Sd(r)):null}function ep(r,a){return null===r?[a]:Array.isArray(r)?[...r,a]:[r,a]}function Md(r){return r._rawValidators}function Nl(r){return r._rawAsyncValidators}function tp(r){return r?Array.isArray(r)?r:[r]:[]}function Nd(r,a){return Array.isArray(r)?r.includes(a):r===a}function np(r,a){const t=tp(a);return tp(r).forEach(d=>{Nd(t,d)||t.push(d)}),t}function m1(r,a){return tp(a).filter(t=>!Nd(r,t))}class y1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=Jh(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=Ml(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a=void 0){this.control&&this.control.reset(a)}hasError(a,t){return!!this.control&&this.control.hasError(a,t)}getError(a,t){return this.control?this.control.getError(a,t):null}}class kr extends y1{get formDirective(){return null}get path(){return null}}class go extends y1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oc{constructor(a){this._cd=a}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Fr=(()=>{class r extends oc{constructor(t){super(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(go,2))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,d){2&s&&o.AVh("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)},features:[o.Vt3]})}}return r})(),li=(()=>{class r extends oc{constructor(t){super(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(kr,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,d){2&s&&o.AVh("ng-untouched",d.isUntouched)("ng-touched",d.isTouched)("ng-pristine",d.isPristine)("ng-dirty",d.isDirty)("ng-valid",d.isValid)("ng-invalid",d.isInvalid)("ng-pending",d.isPending)("ng-submitted",d.isSubmitted)},features:[o.Vt3]})}}return r})();const la="VALID",ua="INVALID",sc="PENDING",ac="DISABLED";class cc{}class b1 extends cc{constructor(a,t){super(),this.value=a,this.source=t}}class sp extends cc{constructor(a,t){super(),this.pristine=a,this.source=t}}class kd extends cc{constructor(a,t){super(),this.touched=a,this.source=t}}class kl extends cc{constructor(a,t){super(),this.status=a,this.source=t}}class At extends cc{constructor(a){super(),this.source=a}}class x1 extends cc{constructor(a){super(),this.source=a}}function Fd(r){return(Ld(r)?r.validators:r)||null}function Pd(r,a){return(Ld(a)?a.asyncValidators:r)||null}function Ld(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function Fl(r,a,t){const s=r.controls;if(!(a?Object.keys(s):s).length)throw new o.wOt(1e3,"");if(!s[t])throw new o.wOt(1001,"")}function Es(r,a,t){r._forEachChild((s,d)=>{if(void 0===t[d])throw new o.wOt(1002,"")})}class uc{constructor(a,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,o.EWP)(()=>this.statusReactive()),this.statusReactive=(0,o.vPA)(void 0),this._pristine=(0,o.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,o.vPA)(!0),this._touched=(0,o.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,o.vPA)(!1),this._events=new Ro.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(a),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get status(){return(0,o.O8t)(this.statusReactive)}set status(a){(0,o.O8t)(()=>this.statusReactive.set(a))}get valid(){return this.status===la}get invalid(){return this.status===ua}get pending(){return this.status==sc}get disabled(){return this.status===ac}get enabled(){return this.status!==ac}get pristine(){return(0,o.O8t)(this.pristineReactive)}set pristine(a){(0,o.O8t)(()=>this.pristineReactive.set(a))}get dirty(){return!this.pristine}get touched(){return(0,o.O8t)(this.touchedReactive)}set touched(a){(0,o.O8t)(()=>this.touchedReactive.set(a))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._assignValidators(a)}setAsyncValidators(a){this._assignAsyncValidators(a)}addValidators(a){this.setValidators(np(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(np(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(m1(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(m1(a,this._rawAsyncValidators))}hasValidator(a){return Nd(this._rawValidators,a)}hasAsyncValidator(a){return Nd(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){const t=!1===this.touched;this.touched=!0;const s=a.sourceControl??this;this._parent&&!a.onlySelf&&this._parent.markAsTouched({...a,sourceControl:s}),t&&!1!==a.emitEvent&&this._events.next(new kd(!0,s))}markAllAsTouched(a={}){this.markAsTouched({onlySelf:!0,emitEvent:a.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(a))}markAsUntouched(a={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=a.sourceControl??this;this._forEachChild(d=>{d.markAsUntouched({onlySelf:!0,emitEvent:a.emitEvent,sourceControl:s})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a,s),t&&!1!==a.emitEvent&&this._events.next(new kd(!1,s))}markAsDirty(a={}){const t=!0===this.pristine;this.pristine=!1;const s=a.sourceControl??this;this._parent&&!a.onlySelf&&this._parent.markAsDirty({...a,sourceControl:s}),t&&!1!==a.emitEvent&&this._events.next(new sp(!1,s))}markAsPristine(a={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=a.sourceControl??this;this._forEachChild(d=>{d.markAsPristine({onlySelf:!0,emitEvent:a.emitEvent})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a,s),t&&!1!==a.emitEvent&&this._events.next(new sp(!0,s))}markAsPending(a={}){this.status=sc;const t=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new kl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.markAsPending({...a,sourceControl:t})}disable(a={}){const t=this._parentMarkedDirty(a.onlySelf);this.status=ac,this.errors=null,this._forEachChild(d=>{d.disable({...a,onlySelf:!0})}),this._updateValue();const s=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new b1(this.value,s)),this._events.next(new kl(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...a,skipPristineCheck:t},this),this._onDisabledChange.forEach(d=>d(!0))}enable(a={}){const t=this._parentMarkedDirty(a.onlySelf);this.status=la,this._forEachChild(s=>{s.enable({...a,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors({...a,skipPristineCheck:t},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(a,t){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(a){this._parent=a}getRawValue(){return this.value}updateValueAndValidity(a={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===sc)&&this._runAsyncValidator(s,a.emitEvent)}const t=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new b1(this.value,t)),this._events.next(new kl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity({...a,sourceControl:t})}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ac:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a,t){if(this.asyncValidator){this.status=sc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const s=Kh(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(d=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(d,{emitEvent:t,shouldHaveEmitted:a})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const a=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,a}return!1}setErrors(a,t={}){this.errors=a,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(a){let t=a;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((s,d)=>s&&s._find(d),this)}getError(a,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[a]:null}hasError(a,t){return!!this.getError(a,t)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a,t,s){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),(a||s)&&this._events.next(new kl(this.status,t)),this._parent&&this._parent._updateControlsErrors(a,t,s)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?ac:this.errors?ua:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sc)?sc:this._anyControlsHaveStatus(ua)?ua:la}_anyControlsHaveStatus(a){return this._anyControls(t=>t.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a,t){const s=!this._anyControlsDirty(),d=this.pristine!==s;this.pristine=s,this._parent&&!a.onlySelf&&this._parent._updatePristine(a,t),d&&this._events.next(new sp(this.pristine,t))}_updateTouched(a={},t){this.touched=this._anyControlsTouched(),this._events.next(new kd(this.touched,t)),this._parent&&!a.onlySelf&&this._parent._updateTouched(a,t)}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){Ld(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(a){return null}_assignValidators(a){this._rawValidators=Array.isArray(a)?a.slice():a,this._composedValidatorFn=function lc(r){return Array.isArray(r)?Jh(r):r||null}(this._rawValidators)}_assignAsyncValidators(a){this._rawAsyncValidators=Array.isArray(a)?a.slice():a,this._composedAsyncValidatorFn=function I1(r){return Array.isArray(r)?Ml(r):r||null}(this._rawAsyncValidators)}}class Ho extends uc{constructor(a,t,s){super(Fd(t),Pd(s,t)),this.controls=a,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,t){return this.controls[a]?this.controls[a]:(this.controls[a]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(a,t,s={}){this.registerControl(a,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(a,t={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(a,t,s={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],t&&this.registerControl(a,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,t={}){Es(this,0,a),Object.keys(a).forEach(s=>{Fl(this,!0,s),this.controls[s].setValue(a[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(a,t={}){null!=a&&(Object.keys(a).forEach(s=>{const d=this.controls[s];d&&d.patchValue(a[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(a={},t={}){this._forEachChild((s,d)=>{s.reset(a?a[d]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(a,t,s)=>(a[s]=t.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&a(s,t)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const[t,s]of Object.entries(this.controls))if(this.contains(t)&&a(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,s,d)=>((s.enabled||this.disabled)&&(t[d]=s.value),t))}_reduceChildren(a,t){let s=a;return this._forEachChild((d,y)=>{s=t(s,d,y)}),s}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(a){return this.controls.hasOwnProperty(a)?this.controls[a]:null}}class Bd extends Ho{}const Go=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Pl}),Pl="always";function Ud(r,a){return[...a.path,r]}function Ll(r,a,t=Pl){ap(r,a),a.valueAccessor.writeValue(r.value),(r.disabled||"always"===t)&&a.valueAccessor.setDisabledState?.(r.disabled),function S1(r,a){a.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&M1(r,a)})}(r,a),function KC(r,a){const t=(s,d)=>{a.valueAccessor.writeValue(s),d&&a.viewToModelUpdate(s)};r.registerOnChange(t),a._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,a),function T1(r,a){a.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&M1(r,a),"submit"!==r.updateOn&&r.markAsTouched()})}(r,a),function ZC(r,a){if(a.valueAccessor.setDisabledState){const t=s=>{a.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(t),a._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,a)}function Bl(r,a,t=!0){const s=()=>{};a.valueAccessor&&(a.valueAccessor.registerOnChange(s),a.valueAccessor.registerOnTouched(s)),jd(r,a),r&&(a._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Vd(r,a){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(a)})}function ap(r,a){const t=Md(r);null!==a.validator?r.setValidators(ep(t,a.validator)):"function"==typeof t&&r.setValidators([t]);const s=Nl(r);null!==a.asyncValidator?r.setAsyncValidators(ep(s,a.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const d=()=>r.updateValueAndValidity();Vd(a._rawValidators,d),Vd(a._rawAsyncValidators,d)}function jd(r,a){let t=!1;if(null!==r){if(null!==a.validator){const d=Md(r);if(Array.isArray(d)&&d.length>0){const y=d.filter(_=>_!==a.validator);y.length!==d.length&&(t=!0,r.setValidators(y))}}if(null!==a.asyncValidator){const d=Nl(r);if(Array.isArray(d)&&d.length>0){const y=d.filter(_=>_!==a.asyncValidator);y.length!==d.length&&(t=!0,r.setAsyncValidators(y))}}}const s=()=>{};return Vd(a._rawValidators,s),Vd(a._rawAsyncValidators,s),t}function M1(r,a){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Gr(r,a){ap(r,a)}function cp(r,a){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(a,t.currentValue)}function lp(r,a){r._syncPendingControls(),a.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function up(r,a){if(!a)return null;let t,s,d;return Array.isArray(a),a.forEach(y=>{y.constructor===mr?t=y:function ew(r){return Object.getPrototypeOf(r.constructor)===ic}(y)?s=y:d=y}),d||s||t||null}const nw={provide:kr,useExisting:(0,o.Rfq)(()=>Yi)},Vl=Promise.resolve();let Yi=(()=>{class r extends kr{get submitted(){return(0,o.O8t)(this.submittedReactive)}constructor(t,s,d){super(),this.callSetDisabledState=d,this._submitted=(0,o.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,o.vPA)(!1),this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new Ho({},Jh(t),Ml(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vl.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),Ll(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vl.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vl.then(()=>{const s=this._findContainer(t.path),d=new Ho({});Gr(d,t),s.registerControl(t.name,d),d.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vl.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){Vl.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),lp(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Ir,10),o.rXU(jo,10),o.rXU(Go,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,d){1&s&&o.bIt("submit",function(_){return d.onSubmit(_)})("reset",function(){return d.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([nw]),o.Vt3]})}}return r})();function R1(r,a){const t=r.indexOf(a);t>-1&&r.splice(t,1)}function O1(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const ei=class extends uc{constructor(a=null,t,s){super(Fd(t),Pd(s,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(a),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ld(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=O1(a)?a.value:a)}setValue(a,t={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(a,t={}){this.setValue(a,t)}reset(a=this.defaultValue,t={}){this._applyFormState(a),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){R1(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){R1(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){O1(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}};let F1=(()=>{class r extends kr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ud(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,features:[o.Vt3]})}}return r})();const L1={provide:go,useExisting:(0,o.Rfq)(()=>zr)},hp=Promise.resolve();let zr=(()=>{class r extends go{constructor(t,s,d,y,_,M){super(),this._changeDetectorRef=_,this.callSetDisabledState=M,this.control=new ei,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=t,this._setValidators(s),this._setAsyncValidators(d),this.valueAccessor=up(0,y)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const s=t.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ll(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const s=t.isDisabled.currentValue,d=0!==s&&(0,o.L39)(s);hp.then(()=>{d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Ud(t,this._parent):[t]}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(kr,9),o.rXU(Ir,10),o.rXU(jo,10),o.rXU(Ti,10),o.rXU(o.gRc,8),o.rXU(Go,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([L1]),o.Vt3,o.OA$]})}}return r})(),$r=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();const zo={provide:Ti,useExisting:(0,o.Rfq)(()=>dc),multi:!0};let dc=(()=>{class r extends ic{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=s=>{t(""==s?null:parseFloat(s))}}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(s,d){1&s&&o.bIt("input",function(_){return d.onChange(_.target.value)})("blur",function(){return d.onTouched()})},features:[o.Jv_([zo]),o.Vt3]})}}return r})();const sw={provide:Ti,useExisting:(0,o.Rfq)(()=>_s),multi:!0};let aw=(()=>{class r{constructor(){this._accessors=[]}add(t,s){this._accessors.push([t,s])}remove(t){for(let s=this._accessors.length-1;s>=0;--s)if(this._accessors[s][1]===t)return void this._accessors.splice(s,1)}select(t){this._accessors.forEach(s=>{this._isSameGroup(s,t)&&s[1]!==t&&s[1].fireUncheck(t.value)})}_isSameGroup(t,s){return!!t[0].control&&t[0]._parent===s._control._parent&&t[1].name===s.name}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),_s=(()=>{class r extends ic{constructor(t,s,d,y){super(t,s),this._registry=d,this._injector=y,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,o.WQX)(Go,{optional:!0})??Pl}ngOnInit(){this._control=this._injector.get(go),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(aw),o.rXU(o.zZn))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(s,d){1&s&&o.bIt("change",function(){return d.onChange()})("blur",function(){return d.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[o.Jv_([sw]),o.Vt3]})}}return r})();const xs=new o.nKC(""),V1={provide:kr,useExisting:(0,o.Rfq)(()=>$o)};let $o=(()=>{class r extends kr{get submitted(){return(0,o.O8t)(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,s,d){super(),this.callSetDisabledState=d,this._submitted=(0,o.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,o.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return Ll(s,t,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){Bl(t.control||null,t,!1),function tw(r,a){const t=r.indexOf(a);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this._submittedReactive.set(!0),lp(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new At(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new x1(this.form))}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,d=this.form.get(t.path);s!==d&&(Bl(s||null,t),(r=>r instanceof ei)(d)&&(Ll(d,t,this.callSetDisabledState),t.control=d))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);Gr(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function QC(r,a){return jd(r,a)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ap(this.form,this),this._oldForm&&jd(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Ir,10),o.rXU(jo,10),o.rXU(Go,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroup",""]],hostBindings:function(s,d){1&s&&o.bIt("submit",function(_){return d.onSubmit(_)})("reset",function(){return d.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([V1]),o.Vt3,o.OA$]})}}return r})();const cw={provide:kr,useExisting:(0,o.Rfq)(()=>jl)};let jl=(()=>{class r extends F1{constructor(t,s,d){super(),this.name=null,this._parent=t,this._setValidators(s),this._setAsyncValidators(d)}_checkParentType(){j1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(kr,13),o.rXU(Ir,10),o.rXU(jo,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[o.Jv_([cw]),o.Vt3]})}}return r})();const lw={provide:kr,useExisting:(0,o.Rfq)(()=>Hl)};let Hl=(()=>{class r extends kr{constructor(t,s,d){super(),this.name=null,this._parent=t,this._setValidators(s),this._setAsyncValidators(d)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ud(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){j1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(kr,13),o.rXU(Ir,10),o.rXU(jo,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[o.Jv_([lw]),o.Vt3]})}}return r})();function j1(r){return!(r instanceof jl||r instanceof $o||r instanceof Hl)}const uw={provide:go,useExisting:(0,o.Rfq)(()=>Is)};let Is=(()=>{class r extends go{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,s,d,y,_){super(),this._ngModelWarningConfig=_,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(d),this.valueAccessor=up(0,y)}ngOnChanges(t){this._added||this._setUpControl(),cp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Ud(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(kr,13),o.rXU(Ir,10),o.rXU(jo,10),o.rXU(Ti,10),o.rXU(xs,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([uw]),o.Vt3,o.OA$]})}}return r})();const dw={provide:Ti,useExisting:(0,o.Rfq)(()=>da),multi:!0};function Gl(r,a){return null==r?`${a}`:(a&&"object"==typeof a&&(a="Object"),`${r}: ${a}`.slice(0,50))}let da=(()=>{class r extends ic{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const d=Gl(this._getOptionId(t),t);this.setProperty("value",d)}registerOnChange(t){this.onChange=s=>{this.value=this._getOptionValue(s),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),t))return s;return null}_getOptionValue(t){const s=function fw(r){return r.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s):t}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,d){1&s&&o.bIt("change",function(_){return d.onChange(_.target.value)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([dw]),o.Vt3]})}}return r})(),Hd=(()=>{class r{constructor(t,s,d){this._element=t,this._renderer=s,this._select=d,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Gl(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(da,9))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();const H1={provide:Ti,useExisting:(0,o.Rfq)(()=>zl),multi:!0};function G1(r,a){return null==r?`${a}`:("string"==typeof a&&(a=`'${a}'`),a&&"object"==typeof a&&(a="Object"),`${r}: ${a}`.slice(0,50))}let zl=(()=>{class r extends ic{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let s;if(this.value=t,Array.isArray(t)){const d=t.map(y=>this._getOptionId(y));s=(y,_)=>{y._setSelected(d.indexOf(_.toString())>-1)}}else s=(d,y)=>{d._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(t){this.onChange=s=>{const d=[],y=s.selectedOptions;if(void 0!==y){const _=y;for(let M=0;M<_.length;M++){const T=this._getOptionValue(_[M].value);d.push(T)}}else{const _=s.options;for(let M=0;M<_.length;M++){const R=_[M];if(R.selected){const T=this._getOptionValue(R.value);d.push(T)}}}this.value=d,t(d)}}_registerOption(t){const s=(this._idCounter++).toString();return this._optionMap.set(s,t),s}_getOptionId(t){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,t))return s;return null}_getOptionValue(t){const s=function hw(r){return r.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s)._value:t}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,d){1&s&&o.bIt("change",function(_){return d.onChange(_.target)})("blur",function(){return d.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([H1]),o.Vt3]})}}return r})(),$l=(()=>{class r{constructor(t,s,d){this._element=t,this._renderer=s,this._select=d,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(G1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(G1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(zl,9))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();function pc(r){return"number"==typeof r?r:parseFloat(r)}let qi=(()=>{class r{constructor(){this._validator=Zh}ngOnChanges(t){if(this.inputName in t){const s=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):Zh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,features:[o.OA$]})}}return r})();const gw={provide:Ir,useExisting:(0,o.Rfq)(()=>Gd),multi:!0};let Gd=(()=>{class r extends qi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>pc(t),this.createValidator=t=>Yh(t)}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(s,d){2&s&&o.BMQ("max",d._enabled?d.max:null)},inputs:{max:"max"},features:[o.Jv_([gw]),o.Vt3]})}}return r})();const mw={provide:Ir,useExisting:(0,o.Rfq)(()=>fa),multi:!0};let fa=(()=>{class r extends qi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>pc(t),this.createValidator=t=>p1(t)}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(s,d){2&s&&o.BMQ("min",d._enabled?d.min:null)},inputs:{min:"min"},features:[o.Jv_([mw]),o.Vt3]})}}return r})();const gp={provide:Ir,useExisting:(0,o.Rfq)(()=>Mi),multi:!0},yw={provide:Ir,useExisting:(0,o.Rfq)(()=>z1),multi:!0};let Mi=(()=>{class r extends qi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=t=>oa}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,d){2&s&&o.BMQ("required",d._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([gp]),o.Vt3]})}}return r})(),z1=(()=>{class r extends Mi{constructor(){super(...arguments),this.createValidator=t=>Qr}static{this.\u0275fac=(()=>{let t;return function(d){return(t||(t=o.xGo(r)))(d||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(s,d){2&s&&o.BMQ("required",d._enabled?"":null)},features:[o.Jv_([yw]),o.Vt3]})}}return r})(),Wl=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();class mp extends uc{constructor(a,t,s){super(Fd(t),Pd(s,t)),this.controls=a,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[this._adjustIndex(a)]}push(a,t={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(a,t,s={}){this.controls.splice(a,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(a,t={}){let s=this._adjustIndex(a);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(a,t,s={}){let d=this._adjustIndex(a);d<0&&(d=0),this.controls[d]&&this.controls[d]._registerOnCollectionChange(()=>{}),this.controls.splice(d,1),t&&(this.controls.splice(d,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,t={}){Es(this,0,a),a.forEach((s,d)=>{Fl(this,!1,d),this.at(d).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(a,t={}){null!=a&&(a.forEach((s,d)=>{this.at(d)&&this.at(d).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(a=[],t={}){this._forEachChild((s,d)=>{s.reset(a[d],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(a=>a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_adjustIndex(a){return a<0?a+this.length:a}_syncPendingControls(){let a=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){this.controls.forEach((t,s)=>{a(t,s)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(t=>t.enabled&&a(t))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}_find(a){return this.at(a)??null}}function K1(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let Wo=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,s=null){const d=this._reduceControls(t);let y={};return K1(s)?y=s:null!==s&&(y.validators=s.validator,y.asyncValidators=s.asyncValidator),new Ho(d,y)}record(t,s=null){const d=this._reduceControls(t);return new Bd(d,s)}control(t,s,d){let y={};return this.useNonNullable?(K1(s)?y=s:(y.validators=s,y.asyncValidators=d),new ei(t,{...y,nonNullable:!0})):new ei(t,s,d)}array(t,s,d){const y=t.map(_=>this._createControl(_));return new mp(y,s,d)}_reduceControls(t){const s={};return Object.keys(t).forEach(d=>{s[d]=this._createControl(t[d])}),s}_createControl(t){return t instanceof ei||t instanceof uc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Q1=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:Go,useValue:t.callSetDisabledState??Pl}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[Wl]})}}return r})(),xw=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:xs,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Go,useValue:t.callSetDisabledState??Pl}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[Wl]})}}return r})();const Zi_apiUrl="https://mazharhossain.com/api/v1";function J1(r,a,t,s,d,y,_){try{var M=r[y](_),R=M.value}catch(T){return void t(T)}M.done?a(R):Promise.resolve(R).then(s,d)}function sr(r){return function(){var a=this,t=arguments;return new Promise(function(s,d){var y=r.apply(a,t);function _(R){J1(y,s,d,_,M,"next",R)}function M(R){J1(y,s,d,_,M,"throw",R)}_(void 0)})}}class Wd{}class Xd{}class ui{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(t=>{const s=t.indexOf(":");if(s>0){const d=t.slice(0,s),y=d.toLowerCase(),_=t.slice(s+1).trim();this.maybeSetNormalizedName(d,y),this.headers.has(y)?this.headers.get(y).push(_):this.headers.set(y,[_])}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((t,s)=>{this.setHeaderEntries(s,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([t,s])=>{this.setHeaderEntries(t,s)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const t=this.headers.get(a.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,t){return this.clone({name:a,value:t,op:"a"})}set(a,t){return this.clone({name:a,value:t,op:"s"})}delete(a,t){return this.clone({name:a,value:t,op:"d"})}maybeSetNormalizedName(a,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,a)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(t=>{this.headers.set(t,a.headers.get(t)),this.normalizedNames.set(t,a.normalizedNames.get(t))})}clone(a){const t=new ui;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([a]),t}applyUpdate(a){const t=a.name.toLowerCase();switch(a.op){case"a":case"s":let s=a.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(a.name,t);const d=("a"===a.op?this.headers.get(t):void 0)||[];d.push(...s),this.headers.set(t,d);break;case"d":const y=a.value;if(y){let _=this.headers.get(t);if(!_)return;_=_.filter(M=>-1===y.indexOf(M)),0===_.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,_)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(a,t){const s=(Array.isArray(t)?t:[t]).map(y=>y.toString()),d=a.toLowerCase();this.headers.set(d,s),this.maybeSetNormalizedName(a,d)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>a(this.normalizedNames.get(t),this.headers.get(t)))}}class em{encodeKey(a){return vp(a)}encodeValue(a){return vp(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const nm=/%(\d[a-f0-9])/gi,Iw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vp(r){return encodeURIComponent(r).replace(nm,(a,t)=>Iw[t]??a)}function gc(r){return`${r}`}class Ki{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new em,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tm(r,a){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(d=>{const y=d.indexOf("="),[_,M]=-1==y?[a.decodeKey(d),""]:[a.decodeKey(d.slice(0,y)),a.decodeValue(d.slice(y+1))],R=t.get(_)||[];R.push(M),t.set(_,R)}),t}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(t=>{const s=a.fromObject[t],d=Array.isArray(s)?s.map(gc):[gc(s)];this.map.set(t,d)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const t=this.map.get(a);return t?t[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,t){return this.clone({param:a,value:t,op:"a"})}appendAll(a){const t=[];return Object.keys(a).forEach(s=>{const d=a[s];Array.isArray(d)?d.forEach(y=>{t.push({param:s,value:y,op:"a"})}):t.push({param:s,value:d,op:"a"})}),this.clone(t)}set(a,t){return this.clone({param:a,value:t,op:"s"})}delete(a,t){return this.clone({param:a,value:t,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const t=this.encoder.encodeKey(a);return this.map.get(a).map(s=>t+"="+this.encoder.encodeValue(s)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const t=new Ki({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(a),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const t=("a"===a.op?this.map.get(a.param):void 0)||[];t.push(gc(a.value)),this.map.set(a.param,t);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let s=this.map.get(a.param)||[];const d=s.indexOf(gc(a.value));-1!==d&&s.splice(d,1),s.length>0?this.map.set(a.param,s):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class Dw{constructor(){this.map=new Map}set(a,t){return this.map.set(a,t),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function rm(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function im(r){return typeof Blob<"u"&&r instanceof Blob}function om(r){return typeof FormData<"u"&&r instanceof FormData}class Xo{constructor(a,t,s,d){let y;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function Aw(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||d?(this.body=void 0!==s?s:null,y=d):y=s,y&&(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),this.transferCache=y.transferCache),this.headers??=new ui,this.context??=new Dw,this.params){const _=this.params.toString();if(0===_.length)this.urlWithParams=t;else{const M=t.indexOf("?");this.urlWithParams=t+(-1===M?"?":M<t.length-1?"&":"")+_}}else this.params=new Ki,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||rm(this.body)||im(this.body)||om(this.body)||function Cp(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ki?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||om(this.body)?null:im(this.body)?this.body.type||null:rm(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ki?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){const t=a.method||this.method,s=a.url||this.url,d=a.responseType||this.responseType,y=a.transferCache??this.transferCache,_=void 0!==a.body?a.body:this.body,M=a.withCredentials??this.withCredentials,R=a.reportProgress??this.reportProgress;let T=a.headers||this.headers,V=a.params||this.params;const Z=a.context??this.context;return void 0!==a.setHeaders&&(T=Object.keys(a.setHeaders).reduce((Ie,ye)=>Ie.set(ye,a.setHeaders[ye]),T)),a.setParams&&(V=Object.keys(a.setParams).reduce((Ie,ye)=>Ie.set(ye,a.setParams[ye]),V)),new Xo(t,s,_,{params:V,headers:T,context:Z,reportProgress:R,responseType:d,withCredentials:M,transferCache:y})}}var Yo=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(Yo||{});class Yd{constructor(a,t=200,s="OK"){this.headers=a.headers||new ui,this.status=void 0!==a.status?a.status:t,this.statusText=a.statusText||s,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class qd extends Yd{constructor(a={}){super(a),this.type=Yo.ResponseHeader}clone(a={}){return new qd({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class Qi extends Yd{constructor(a={}){super(a),this.type=Yo.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new Qi({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class qo extends Yd{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function Xl(r,a){return{body:a,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}let mo=(()=>{class r{constructor(t){this.handler=t}request(t,s,d={}){let y;if(t instanceof Xo)y=t;else{let R,T;R=d.headers instanceof ui?d.headers:new ui(d.headers),d.params&&(T=d.params instanceof Ki?d.params:new Ki({fromObject:d.params})),y=new Xo(t,s,void 0!==d.body?d.body:null,{headers:R,context:d.context,params:T,reportProgress:d.reportProgress,responseType:d.responseType||"json",withCredentials:d.withCredentials,transferCache:d.transferCache})}const _=at(y).pipe(xi(R=>this.handler.handle(R)));if(t instanceof Xo||"events"===d.observe)return _;const M=_.pipe(fo(R=>R instanceof Qi));switch(d.observe||"body"){case"body":switch(y.responseType){case"arraybuffer":return M.pipe((0,tn.T)(R=>{if(null!==R.body&&!(R.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return R.body}));case"blob":return M.pipe((0,tn.T)(R=>{if(null!==R.body&&!(R.body instanceof Blob))throw new Error("Response is not a Blob.");return R.body}));case"text":return M.pipe((0,tn.T)(R=>{if(null!==R.body&&"string"!=typeof R.body)throw new Error("Response is not a string.");return R.body}));default:return M.pipe((0,tn.T)(R=>R.body))}case"response":return M;default:throw new Error(`Unreachable: unhandled observe type ${d.observe}}`)}}delete(t,s={}){return this.request("DELETE",t,s)}get(t,s={}){return this.request("GET",t,s)}head(t,s={}){return this.request("HEAD",t,s)}jsonp(t,s){return this.request("JSONP",t,{params:(new Ki).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,s={}){return this.request("OPTIONS",t,s)}patch(t,s,d={}){return this.request("PATCH",t,Xl(d,s))}post(t,s,d={}){return this.request("POST",t,Xl(d,s))}put(t,s,d={}){return this.request("PUT",t,Xl(d,s))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Wd))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const am=/^\)\]\}',?\n/;function wp(r){if(r.url)return r.url;const a="X-Request-URL".toLocaleLowerCase();return r.headers.get(a)}let Zd=(()=>{class r{constructor(){this.fetchImpl=(0,o.WQX)(cm,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=(0,o.WQX)(o.SKi)}handle(t){return new fr.c(s=>{const d=new AbortController;return this.doRequest(t,d.signal,s).then(Yl,y=>s.error(new qo({error:y}))),()=>d.abort()})}doRequest(t,s,d){var y=this;return sr(function*(){const _=y.createRequestInit(t);let M;try{const Oe=y.ngZone.runOutsideAngular(()=>y.fetchImpl(t.urlWithParams,{signal:s,..._}));(function Nw(r){r.then(Yl,Yl)})(Oe),d.next({type:Yo.Sent}),M=yield Oe}catch(Oe){return void d.error(new qo({error:Oe,status:Oe.status??0,statusText:Oe.statusText,url:t.urlWithParams,headers:Oe.headers}))}const R=new ui(M.headers),T=M.statusText,V=wp(M)??t.urlWithParams;let Z=M.status,Ie=null;if(t.reportProgress&&d.next(new qd({headers:R,status:Z,statusText:T,url:V})),M.body){const Oe=M.headers.get("content-length"),Be=[],Ue=M.body.getReader();let zt,vt,Qe=0;const vn=typeof Zone<"u"&&Zone.current;yield y.ngZone.runOutsideAngular(sr(function*(){for(;;){const{done:Wr,value:_a}=yield Ue.read();if(Wr)break;if(Be.push(_a),Qe+=_a.length,t.reportProgress){vt="text"===t.responseType?(vt??"")+(zt??=new TextDecoder).decode(_a,{stream:!0}):void 0;const Gy=()=>d.next({type:Yo.DownloadProgress,total:Oe?+Oe:void 0,loaded:Qe,partialText:vt});vn?vn.run(Gy):Gy()}}}));const er=y.concatChunks(Be,Qe);try{const Wr=M.headers.get("Content-Type")??"";Ie=y.parseBody(t,er,Wr)}catch(Wr){return void d.error(new qo({error:Wr,headers:new ui(M.headers),status:M.status,statusText:M.statusText,url:wp(M)??t.urlWithParams}))}}0===Z&&(Z=Ie?200:0),Z>=200&&Z<300?(d.next(new Qi({body:Ie,headers:R,status:Z,statusText:T,url:V})),d.complete()):d.error(new qo({error:Ie,headers:R,status:Z,statusText:T,url:V}))})()}parseBody(t,s,d){switch(t.responseType){case"json":const y=(new TextDecoder).decode(s).replace(am,"");return""===y?null:JSON.parse(y);case"text":return(new TextDecoder).decode(s);case"blob":return new Blob([s],{type:d});case"arraybuffer":return s.buffer}}createRequestInit(t){const s={},d=t.withCredentials?"include":void 0;if(t.headers.forEach((y,_)=>s[y]=_.join(",")),t.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&(s["Content-Type"]=y)}return{body:t.serializeBody(),method:t.method,headers:s,credentials:d}}concatChunks(t,s){const d=new Uint8Array(s);let y=0;for(const _ of t)d.set(_,y),y+=_.length;return d}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class cm{}function Yl(){}function lm(r,a){return a(r)}function Rw(r,a){return(t,s)=>a.intercept(t,{handle:d=>r(d,s)})}const um=new o.nKC(""),ql=new o.nKC(""),Kd=new o.nKC(""),dm=new o.nKC("",{providedIn:"root",factory:()=>!0});function kw(){let r=null;return(a,t)=>{null===r&&(r=((0,o.WQX)(um,{optional:!0})??[]).reduceRight(Rw,lm));const s=(0,o.WQX)(o.TgB);if((0,o.WQX)(dm)){const y=s.add();return r(a,t).pipe(Ju(()=>s.remove(y)))}return r(a,t)}}let yc=(()=>{class r extends Wd{constructor(t,s){super(),this.backend=t,this.injector=s,this.chain=null,this.pendingTasks=(0,o.WQX)(o.TgB),this.contributeToStability=(0,o.WQX)(dm)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(ql),...this.injector.get(Kd,[])]));this.chain=s.reduceRight((d,y)=>function Ow(r,a,t){return(s,d)=>(0,o.N4e)(t,()=>a(s,y=>r(y,d)))}(d,y,this.injector),lm)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(t,d=>this.backend.handle(d)).pipe(Ju(()=>this.pendingTasks.remove(s)))}return this.chain(t,s=>this.backend.handle(s))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Xd),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const jw=/^\)\]\}',?\n/;let Kl=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new o.wOt(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?xn(s.\u0275loadImpl()):at(null)).pipe(or(()=>new fr.c(y=>{const _=s.build();if(_.open(t.method,t.urlWithParams),t.withCredentials&&(_.withCredentials=!0),t.headers.forEach((Be,Ue)=>_.setRequestHeader(Be,Ue.join(","))),t.headers.has("Accept")||_.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Be=t.detectContentTypeHeader();null!==Be&&_.setRequestHeader("Content-Type",Be)}if(t.responseType){const Be=t.responseType.toLowerCase();_.responseType="json"!==Be?Be:"text"}const M=t.serializeBody();let R=null;const T=()=>{if(null!==R)return R;const Be=_.statusText||"OK",Ue=new ui(_.getAllResponseHeaders()),Qe=function gm(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(_)||t.url;return R=new qd({headers:Ue,status:_.status,statusText:Be,url:Qe}),R},V=()=>{let{headers:Be,status:Ue,statusText:Qe,url:zt}=T(),vt=null;204!==Ue&&(vt=typeof _.response>"u"?_.responseText:_.response),0===Ue&&(Ue=vt?200:0);let vn=Ue>=200&&Ue<300;if("json"===t.responseType&&"string"==typeof vt){const er=vt;vt=vt.replace(jw,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Wr){vt=er,vn&&(vn=!1,vt={error:Wr,text:vt})}}vn?(y.next(new Qi({body:vt,headers:Be,status:Ue,statusText:Qe,url:zt||void 0})),y.complete()):y.error(new qo({error:vt,headers:Be,status:Ue,statusText:Qe,url:zt||void 0}))},Z=Be=>{const{url:Ue}=T(),Qe=new qo({error:Be,status:_.status||0,statusText:_.statusText||"Unknown Error",url:Ue||void 0});y.error(Qe)};let Ie=!1;const ye=Be=>{Ie||(y.next(T()),Ie=!0);let Ue={type:Yo.DownloadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ue.total=Be.total),"text"===t.responseType&&_.responseText&&(Ue.partialText=_.responseText),y.next(Ue)},Oe=Be=>{let Ue={type:Yo.UploadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ue.total=Be.total),y.next(Ue)};return _.addEventListener("load",V),_.addEventListener("error",Z),_.addEventListener("timeout",Z),_.addEventListener("abort",Z),t.reportProgress&&(_.addEventListener("progress",ye),null!==M&&_.upload&&_.upload.addEventListener("progress",Oe)),_.send(M),y.next({type:Yo.Sent}),()=>{_.removeEventListener("error",Z),_.removeEventListener("abort",Z),_.removeEventListener("load",V),_.removeEventListener("timeout",Z),t.reportProgress&&(_.removeEventListener("progress",ye),null!==M&&_.upload&&_.upload.removeEventListener("progress",Oe)),_.readyState!==_.DONE&&_.abort()}})))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Su))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const Ep=new o.nKC(""),_p=new o.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),mm=new o.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ds{}let ha=(()=>{class r{constructor(t,s,d){this.doc=t,this.platform=s,this.cookieName=d,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vi(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(oe),o.KVO(o.Agw),o.KVO(_p))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function Ql(r,a){const t=r.url.toLowerCase();if(!(0,o.WQX)(Ep)||"GET"===r.method||"HEAD"===r.method||t.startsWith("http://")||t.startsWith("https://"))return a(r);const s=(0,o.WQX)(Ds).getToken(),d=(0,o.WQX)(mm);return null!=s&&!r.headers.has(d)&&(r=r.clone({headers:r.headers.set(d,s)})),a(r)}var Zo=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Zo||{});function Ko(r,a){return{\u0275kind:r,\u0275providers:a}}function zw(...r){const a=[mo,Kl,yc,{provide:Wd,useExisting:yc},{provide:Xd,useFactory:()=>(0,o.WQX)(Zd,{optional:!0})??(0,o.WQX)(Kl)},{provide:ql,useValue:Ql,multi:!0},{provide:Ep,useValue:!0},{provide:Ds,useClass:ha}];for(const t of r)a.push(...t.\u0275providers);return(0,o.EmA)(a)}const ym=new o.nKC(""),Dp=new o.nKC("JWT_OPTIONS");let xm=(()=>{class r{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let s=t.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(s)}b64decode(t){let d="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let _,M,y=0,R=0;M=t.charAt(R++);~M&&(_=y%4?64*_+M:M,y++%4)?d+=String.fromCharCode(255&_>>(-2*y&6)):0)M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M);return d}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){return t instanceof Promise?t.then(s=>this._decodeToken(s)):this._decodeToken(t)}_decodeToken(t){if(!t||""===t)return null;const s=t.split(".");if(3!==s.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const d=this.urlBase64Decode(s[1]);if(!d)throw new Error("Cannot decode the token.");return JSON.parse(d)}getTokenExpirationDate(t=this.tokenGetter()){return t instanceof Promise?t.then(s=>this._getTokenExpirationDate(s)):this._getTokenExpirationDate(t)}_getTokenExpirationDate(t){let s;if(s=this.decodeToken(t),!s||!s.hasOwnProperty("exp"))return null;const d=new Date(0);return d.setUTCSeconds(s.exp),d}isTokenExpired(t=this.tokenGetter(),s){return t instanceof Promise?t.then(d=>this._isTokenExpired(d,s)):this._isTokenExpired(t,s)}_isTokenExpired(t,s){if(!t||""===t)return!0;const d=this.getTokenExpirationDate(t);return s=s||0,null!==d&&!(d.valueOf()>(new Date).valueOf()+1e3*s)}getAuthScheme(t,s){return"function"==typeof t?t(s):t}}return r.\u0275fac=function(t){return new(t||r)(o.KVO(Dp))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac}),r})(),lr=(()=>{class r{constructor(t,s,d){this.http=t,this.jwtHelper=s,this.router=d,this.baseUrl=Zi_apiUrl}loginWithGoogle(t){return this.http.post(`${this.baseUrl}/auth/google`,t,{withCredentials:!0})}registerWithGoogle(t,s){return this.http.post(`${this.baseUrl}/auth/google/register`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}getGoogleExistingUser(t){return this.http.get(`${this.baseUrl}/auth/google/user`,{headers:{Authorization:"Bearer "+t}})}linkGoogleAccount(t,s){return this.http.post(`${this.baseUrl}/auth/google/link`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}loginWithFacebook(t){return this.http.post(`${this.baseUrl}/auth/facebook`,t,{withCredentials:!0})}registerWithFacebook(t,s){return this.http.post(`${this.baseUrl}/auth/facebook/register`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}getFacebookExistingUser(t){return this.http.get(`${this.baseUrl}/auth/facebook/user`,{headers:{Authorization:"Bearer "+t}})}linkFacebookAccount(t,s){return this.http.post(`${this.baseUrl}/auth/facebook/link`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}login(t,s){return this.http.post(`${this.baseUrl}/login`,{username:t,password:s},{withCredentials:!0})}refreshToken(){return this.http.post(`${this.baseUrl}/refresh-token`,{},{withCredentials:!0}).pipe(pr(t=>{t&&t.accessToken&&this.saveAccessToken(t.accessToken)}),Rr(()=>at(null)))}processLogout(){return this.http.post(`${this.baseUrl}/logout`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")},withCredentials:!0})}isAuthenticated(){const t=localStorage.getItem("token");return!(!t||this.jwtHelper.isTokenExpired(t))}isTokenExpired(t){try{if(this.jwtHelper.isTokenExpired(t))return!0}catch{localStorage.removeItem("token")}return!1}saveRoles(t){localStorage.setItem("roles",JSON.stringify(t))}saveAccessToken(t){localStorage.setItem("token",t)}getToken(){return localStorage.getItem("token")}getRoles(){let t=localStorage.getItem("roles");return JSON.parse(t)}logout(){this.processLogout().subscribe({}),localStorage.removeItem("token")}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(xm),o.KVO(nn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),yo=(()=>{class r{constructor(t){this.http=t,this.baseUrl=Zi_apiUrl}login(){return this.http.get(`${this.baseUrl}/hello`,this.getOptions())}register(t){return this.http.post(`${this.baseUrl}/users/register`,t,{responseType:"text"})}getUsers(){return this.http.get(`${this.baseUrl}/admin/users`)}getUser(){return this.http.get(`${this.baseUrl}/users`)}getUserEmail(){return this.http.get(`${this.baseUrl}/users/email`)}createUser(t){return this.http.post(`${this.baseUrl}/admin/users`,t,{responseType:"text"})}updateUser(t){return this.http.put(`${this.baseUrl}/admin/users`,t,{responseType:"text"})}confirmEmail(t){return this.http.post(`${this.baseUrl}/users/confirm-email`,{token:t},{responseType:"text"})}updateUserEmail(t){return this.http.put(`${this.baseUrl}/users/update-email`,t,{responseType:"text"})}updateUserPassword(t){return this.http.put(`${this.baseUrl}/users/password`,t,{responseType:"text"})}deleteUser(t){return this.http.delete(`${this.baseUrl}/admin/users/${t}`,this.getOptions())}deleteUser2(){return this.http.delete(`${this.baseUrl}/users`,this.getOptions())}processForgotPassword(t){return this.http.post(`${this.baseUrl}/users/forgot-password`,{email:t},{responseType:"text"})}processResetPassword(t,s){return this.http.post(`${this.baseUrl}/users/reset-password`,{token:t,newPassword:s},{responseType:"text"})}processForgotUsername(t){return this.http.post(`${this.baseUrl}/users/forgot-username`,{email:t},{responseType:"text"})}resendVerificationLink(t){return this.http.post(`${this.baseUrl}/users/resend-verification`,{username:t},{responseType:"text"})}verifyEmail(t){return this.http.get(`${this.baseUrl}/users/verify-email?token=${t}`,{responseType:"text"})}getOptions(){return{headers:new ui({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}),responseType:"text"}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Yw(r,a){1&r&&(o.j41(0,"div",7),o.EFF(1," Error creating username! "),o.k0s())}function Im(r,a){1&r&&(o.j41(0,"div")(1,"div",5),o.EFF(2,"Create a username for your Google login."),o.k0s()())}function Dm(r,a){1&r&&(o.j41(0,"div")(1,"div",5),o.EFF(2,"Create a username for your Facebook login."),o.k0s()())}function Ap(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",8),o.bIt("click",function(){o.eBV(t);const d=o.XpG(2);return o.Njj(d.submitGoogleUsername())}),o.EFF(2,"Submit"),o.k0s()()}}function Am(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",8),o.bIt("click",function(){o.eBV(t);const d=o.XpG(2);return o.Njj(d.submitFacebookUsername())}),o.EFF(2,"Submit"),o.k0s()()}}function qw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2),o.DNE(2,Yw,2,0,"div",3),o.j41(3,"h2"),o.EFF(4,"Add username"),o.k0s(),o.DNE(5,Im,3,0,"div",4)(6,Dm,3,0,"div",4),o.j41(7,"div",5)(8,"input",6),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.username,d)||(y.username=d),o.Njj(d)}),o.k0s()(),o.j41(9,"div",5),o.DNE(10,Ap,3,0,"div",4)(11,Am,3,0,"div",4),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(2),o.Y8G("ngIf",t.googleUsernameCreatedError||t.facebookUsernameCreatedError),o.R7$(3),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType),o.R7$(2),o.R50("ngModel",t.username),o.R7$(2),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType)}}let Sm=(()=>{class r{constructor(){this.username="",this.showModal=!0,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.socialType="",this.googleUsernameCreated=new o.bkB,this.facebookUsernameCreated=new o.bkB}submitGoogleUsername(){this.username&&this.googleUsernameCreated.emit(this.username)}submitFacebookUsername(){this.username&&this.facebookUsernameCreated.emit(this.username)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-username-modal"]],inputs:{googleUsernameCreatedError:"googleUsernameCreatedError",facebookUsernameCreatedError:"facebookUsernameCreatedError",socialType:"socialType"},outputs:{googleUsernameCreated:"googleUsernameCreated",facebookUsernameCreated:"facebookUsernameCreated"},decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-container"],["class","usernameCreatedError form-group",4,"ngIf"],[4,"ngIf"],[1,"form-group"],["type","text","placeholder","Enter your username",1,"form-control",3,"ngModelChange","ngModel"],[1,"usernameCreatedError","form-group"],[1,"btn",3,"click"]],template:function(s,d){1&s&&o.DNE(0,qw,12,6,"div",0),2&s&&o.Y8G("ngIf",d.showModal)},dependencies:[En,mr,Fr,zr],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:999}.modal-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;width:400px;max-width:90vw}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:375px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.usernameCreatedError[_ngcontent-%COMP%]{color:red}"]})}}return r})();function Sp(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2," This account already exists. To link it with your Google account, please enter your password. "),o.k0s()())}function Tm(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2," This account already exists. To link it with your Facebook account, please enter your password. "),o.k0s()())}function Mm(r,a){if(1&r&&(o.j41(0,"p",12),o.EFF(1),o.k0s()),2&r){const t=o.XpG(2);o.R7$(),o.JRh(t.errorMessage)}}function Zw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"h2"),o.EFF(3,"Link your account"),o.k0s(),o.j41(4,"p"),o.EFF(5," Username: "),o.j41(6,"strong"),o.EFF(7),o.k0s()(),o.DNE(8,Sp,3,0,"div",3)(9,Tm,3,0,"div",3),o.j41(10,"form",4),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.linkAccount())}),o.j41(11,"div",5)(12,"label",6),o.EFF(13,"Password:"),o.k0s(),o.j41(14,"input",7),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.password,d)||(y.password=d),o.Njj(d)}),o.k0s()(),o.j41(15,"div",8)(16,"button",9),o.EFF(17,"Link Account"),o.k0s(),o.j41(18,"button",10),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.closeModal())}),o.EFF(19," Cancel "),o.k0s()()(),o.DNE(20,Mm,2,1,"p",11),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(7),o.JRh(t.username),o.R7$(),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType),o.R7$(5),o.R50("ngModel",t.password),o.R7$(6),o.Y8G("ngIf",t.errorMessage)}}let Kw=(()=>{class r{constructor(t,s,d){this.authService=t,this.cdr=s,this.router=d,this.showModal=!1,this.username="",this.idToken="",this.socialType="",this.modalClosed=new o.bkB,this.password="",this.errorMessage=""}linkAccount(){console.log(this.socialType),"google"===this.socialType&&this.authService.linkGoogleAccount(this.idToken,{password:this.password}).subscribe({next:t=>{this.closeModal(),localStorage.setItem("token",t.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:t=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}}),"facebook"===this.socialType&&this.authService.linkFacebookAccount(this.idToken,{password:this.password}).subscribe({next:t=>{this.closeModal(),localStorage.setItem("token",t.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:t=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}})}closeModal(){this.password="",this.errorMessage="",this.showModal=!1,this.modalClosed.emit(),this.cdr.detectChanges()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(lr),o.rXU(o.gRc),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-user-link-modal"]],inputs:{showModal:"showModal",username:"username",idToken:"idToken",socialType:"socialType"},outputs:{modalClosed:"modalClosed"},decls:1,vars:1,consts:[["class","modal-container",4,"ngIf"],[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-buttons"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(s,d){1&s&&o.DNE(0,Zw,21,5,"div",0),2&s&&o.Y8G("ngIf",d.showModal)},dependencies:[En,$r,mr,Fr,li,Mi,zr,Yi],styles:[".modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;width:300px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;text-align:center}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}"]})}}return r})();function Qw(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-username-modal",19),o.bIt("googleUsernameCreated",function(d){o.eBV(t);const y=o.XpG();return o.Njj(y.handleGoogleUsernameCreated(d))})("facebookUsernameCreated",function(d){o.eBV(t);const y=o.XpG();return o.Njj(y.handleFacebookUsernameCreated(d))}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("googleUsernameCreatedError",t.googleUsernameCreatedError)("facebookUsernameCreatedError",t.facebookUsernameCreatedError)("socialType",t.socialType)}}function Tp(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",22),o.bIt("click",function(){o.eBV(t);const d=o.XpG(2);return o.Njj(d.resendVerification())}),o.EFF(2," Resend verification link "),o.k0s()()}}function Mp(r,a){if(1&r&&(o.j41(0,"div",20),o.EFF(1),o.DNE(2,Tp,3,0,"div",21),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI(" ",t.errorMessage," "),o.R7$(),o.Y8G("ngIf",t.userDisabled)}}function Nm(r,a){1&r&&(o.j41(0,"div",23),o.EFF(1," Username is required. "),o.k0s())}function Np(r,a){1&r&&(o.j41(0,"div",23),o.EFF(1," Password is required. "),o.k0s())}let Rp=(()=>{class r{constructor(t,s,d,y,_){this.formBuilder=t,this.authService=s,this.userService=d,this.router=y,this.cdr=_,this.errorMessage="",this.userDisabled=!1,this.username="",this.showUsernameModal=!1,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.idToken="",this.existingUsername="",this.showUserLinkModal=!1,this.socialType=""}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",Ht.required],password:["",Ht.required]}),this.redirectDashboard(),typeof google<"u"?(google.accounts.id.initialize({client_id:"906845008131-5ikdeenbsvm8250aebuhpbm7657eol49.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),use_fedcm_for_prompt:!0}),google.accounts.id.renderButton(document.getElementById("gooogle-signin-btn"),{theme:"outline",size:"large",width:"300"})):console.error("Google API is not available.")}handleCredentialResponse(t){this.idToken=t.credential,this.authService.loginWithGoogle(this.idToken).subscribe({next:s=>{s.accessToken?(localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="google",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getGoogleExistingUser(this.idToken).subscribe({next:d=>{this.existingUsername=d.username,this.idToken=t.credential,this.socialType="google",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}onModalClosed(){this.showUserLinkModal=!1}redirectDashboard(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onLogin(){if(this.loginForm.valid){const{username:t,password:s}=this.loginForm.value;this.authService.login(t,s).subscribe({next:d=>{this.authService.saveAccessToken(d.accessToken),this.router.navigate(["/dashboard"])},error:d=>{403===d.status&&"User is not verified"===d.error?(this.errorMessage="Your account is not verified. Please check your email to verify your account.",this.userDisabled=!0,this.username=t):this.errorMessage="Invalid credentials or login failed."}})}}resendVerification(){this.userService.resendVerificationLink(this.username).subscribe({next:()=>{alert("Verification link has been resent to your email.")},error:()=>{alert("Failed to resend the verification link.")}})}openUsernameModal(){this.showUsernameModal=!0,this.cdr.detectChanges()}handleGoogleUsernameCreated(t){this.authService.registerWithGoogle(this.idToken,{username:t}).subscribe({next:s=>{localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}handleFacebookUsernameCreated(t){this.authService.registerWithFacebook(this.idToken,{username:t}).subscribe({next:s=>{localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}facebookLogin(){FB.login(t=>{t.authResponse?this.sendFacebookTokenToBackend(t.authResponse.accessToken):console.log("User canceled login or did not fully authorize.")},{scope:"email"})}sendFacebookTokenToBackend(t){this.idToken=t,this.authService.loginWithFacebook(t).subscribe({next:s=>{s.accessToken?(localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="facebook",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getFacebookExistingUser(this.idToken).subscribe({next:d=>{this.existingUsername=d.username,this.idToken=t,this.socialType="facebook",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Wo),o.rXU(lr),o.rXU(yo),o.rXU(nn),o.rXU(o.gRc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-login"]],decls:34,vars:10,consts:[[3,"googleUsernameCreatedError","facebookUsernameCreatedError","socialType","googleUsernameCreated","facebookUsernameCreated",4,"ngIf"],[3,"modalClosed","showModal","username","idToken","socialType"],[1,"login-container"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required","",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","gooogle-signin-btn"],[1,"loginBtn","loginBtn--facebook",3,"click"],[1,"links"],[1,"no-bullets"],["routerLink","/register"],["routerLink","/forgot-username"],["routerLink","/forgot-password"],[3,"googleUsernameCreated","facebookUsernameCreated","googleUsernameCreatedError","facebookUsernameCreatedError","socialType"],[1,"error-message"],[4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"error"]],template:function(s,d){if(1&s&&(o.DNE(0,Qw,1,3,"app-username-modal",0),o.j41(1,"app-user-link-modal",1),o.bIt("modalClosed",function(){return d.onModalClosed()}),o.k0s(),o.j41(2,"div",2)(3,"h2"),o.EFF(4,"Login"),o.k0s(),o.DNE(5,Mp,3,2,"div",3),o.j41(6,"form",4),o.bIt("ngSubmit",function(){return d.onLogin()}),o.j41(7,"div",5)(8,"label",6),o.EFF(9,"Username"),o.k0s(),o.nrm(10,"input",7),o.DNE(11,Nm,2,0,"div",8),o.k0s(),o.j41(12,"div",5)(13,"label",9),o.EFF(14,"Password"),o.k0s(),o.nrm(15,"input",10),o.DNE(16,Np,2,0,"div",8),o.k0s(),o.j41(17,"div",5)(18,"button",11),o.EFF(19," Login "),o.k0s()()(),o.nrm(20,"div",12),o.j41(21,"button",13),o.bIt("click",function(){return d.facebookLogin()}),o.EFF(22,"Sign in with Facebook"),o.k0s(),o.j41(23,"div",14)(24,"ul",15)(25,"li")(26,"a",16),o.EFF(27,"Don't have an account? Register"),o.k0s()(),o.j41(28,"li")(29,"a",17),o.EFF(30,"Forgot your username?"),o.k0s()(),o.j41(31,"li")(32,"a",18),o.EFF(33,"Forgot your password?"),o.k0s()()()()()),2&s){let y,_;o.Y8G("ngIf",d.showUsernameModal),o.R7$(),o.Y8G("showModal",d.showUserLinkModal)("username",d.existingUsername)("idToken",d.idToken)("socialType",d.socialType),o.R7$(4),o.Y8G("ngIf",d.errorMessage),o.R7$(),o.Y8G("formGroup",d.loginForm),o.R7$(5),o.Y8G("ngIf",(null==(y=d.loginForm.get("username"))?null:y.invalid)&&(null==(y=d.loginForm.get("username"))?null:y.touched)),o.R7$(5),o.Y8G("ngIf",(null==(_=d.loginForm.get("password"))?null:_.invalid)&&(null==(_=d.loginForm.get("password"))?null:_.touched)),o.R7$(2),o.Y8G("disabled",d.loginForm.invalid)}},dependencies:[En,Vo,$r,mr,Fr,li,Mi,$o,Is,Sm,Kw],styles:['.login-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:.9em}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:15px;text-align:center}.links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px;text-decoration:none;color:#007bff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}ul.no-bullets[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;width:295px;margin:.2em;padding:0 15px 0 46px;border:none;text-align:center;line-height:34px;white-space:nowrap;border-radius:.2em;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:none}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px #0000001a}.loginBtn--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354C8C}.loginBtn--facebook[_ngcontent-%COMP%]:before{border-right:#364e92 1px solid;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.loginBtn--facebook[_ngcontent-%COMP%]:hover, .loginBtn--facebook[_ngcontent-%COMP%]:focus{cursor:pointer;background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}']})}}return r})();var Op=function(r){return r[r.COMPANY=0]="COMPANY",r[r.GOVERNMENT_ENTITY=1]="GOVERNMENT_ENTITY",r[r.INDIVIDUAL=2]="INDIVIDUAL",r[r.NON_PROFIT=3]="NON_PROFIT",r}(Op||{});let Jw=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.venueUrl=Zi_apiUrl+"/ticketing/venues"}register(t){return this.http.post(`${this.venueUrl}/register`,t,{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),kp=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.performerUrl=Zi_apiUrl+"/ticketing/performers"}searchPerformers(t){return this.http.get(`${this.performerUrl}/search?keyword=${t}`)}register(t){return this.http.post(`${this.performerUrl}/register`,t,{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function eE(r,a){1&r&&(o.j41(0,"div",2)(1,"label",22),o.EFF(2,"Display Name "),o.j41(3,"span",9),o.EFF(4,"*"),o.k0s()(),o.nrm(5,"input",23),o.k0s())}function Rm(r,a){1&r&&(o.j41(0,"div",24),o.EFF(1," Your emails are not matching. "),o.k0s())}function Fp(r,a){1&r&&(o.j41(0,"div",25),o.EFF(1," Your passwords are not matching. "),o.k0s())}function Pp(r,a){1&r&&(o.j41(0,"div")(1,"div",2)(2,"label",32),o.EFF(3,"Legal Business Name "),o.j41(4,"span",9),o.EFF(5,"*"),o.k0s()(),o.nrm(6,"input",33),o.k0s(),o.j41(7,"div",2)(8,"label",34),o.EFF(9,"Employee Identification Number (EIN) "),o.j41(10,"span",9),o.EFF(11,"*"),o.k0s()(),o.nrm(12,"input",35),o.k0s(),o.j41(13,"div",2)(14,"label",36),o.EFF(15,"Business Website "),o.j41(16,"span",9),o.EFF(17,"*"),o.k0s()(),o.nrm(18,"input",37),o.k0s()())}function Om(r,a){1&r&&(o.j41(0,"div")(1,"div",2)(2,"label",38),o.EFF(3,"First Name "),o.j41(4,"span",9),o.EFF(5,"*"),o.k0s()(),o.nrm(6,"input",39),o.k0s(),o.j41(7,"div",2)(8,"label",40),o.EFF(9,"Last Name "),o.j41(10,"span",9),o.EFF(11,"*"),o.k0s()(),o.nrm(12,"input",41),o.k0s(),o.j41(13,"div",2)(14,"label",42),o.EFF(15,"Phone Number "),o.j41(16,"span",9),o.EFF(17,"*"),o.k0s()(),o.nrm(18,"input",43),o.k0s(),o.j41(19,"div",2)(20,"label",44),o.EFF(21,"Date of Birth "),o.j41(22,"span",9),o.EFF(23,"*"),o.k0s()(),o.nrm(24,"input",45),o.k0s(),o.j41(25,"div",2)(26,"label",46),o.EFF(27,"Last 4 digits of your SSN "),o.j41(28,"span",9),o.EFF(29,"*"),o.k0s()(),o.nrm(30,"input",47),o.k0s(),o.j41(31,"div",2)(32,"label",48),o.EFF(33,"Address "),o.j41(34,"span",9),o.EFF(35,"*"),o.k0s()(),o.nrm(36,"input",49),o.k0s(),o.j41(37,"div",2)(38,"label",50),o.EFF(39,"City "),o.j41(40,"span",9),o.EFF(41,"*"),o.k0s()(),o.nrm(42,"input",51),o.k0s(),o.j41(43,"div",2)(44,"label",52),o.EFF(45,"State "),o.j41(46,"span",9),o.EFF(47,"*"),o.k0s()(),o.nrm(48,"input",53),o.k0s(),o.j41(49,"div",2)(50,"label",54),o.EFF(51,"Postal Code "),o.j41(52,"span",9),o.EFF(53,"*"),o.k0s()(),o.nrm(54,"input",55),o.k0s(),o.j41(55,"div",2)(56,"label",36),o.EFF(57,"Business Website "),o.j41(58,"span",9),o.EFF(59,"*"),o.k0s()(),o.nrm(60,"input",37),o.k0s()())}function km(r,a){if(1&r&&(o.j41(0,"div")(1,"label",26),o.EFF(2,"Business Type "),o.j41(3,"span",9),o.EFF(4,"*"),o.k0s()(),o.j41(5,"select",27)(6,"option",28),o.EFF(7,"Individual"),o.k0s(),o.j41(8,"option",29),o.EFF(9,"Company"),o.k0s()(),o.DNE(10,Pp,19,0,"div",20)(11,Om,61,0,"div",20),o.j41(12,"div",2)(13,"label"),o.nrm(14,"input",30),o.EFF(15," I accept the "),o.j41(16,"a",31),o.EFF(17,"Stripe Connected Account Agreement"),o.k0s(),o.EFF(18," and Terms of Service. "),o.k0s()()()),2&r){const t=o.XpG();o.R7$(10),o.Y8G("ngIf",t.isCompany),o.R7$(),o.Y8G("ngIf",t.isIndividual)}}let Fm=(()=>{class r{constructor(t,s,d,y,_){this.fb=t,this.userService=s,this.venueService=d,this.performerService=y,this.router=_,this.registrationType="User",this.passwordMatchError=!1,this.emailMatchError=!1,this.isCompany=!1,this.isIndividual=!1,this.registerForm=this.fb.group({registrationType:["User",Ht.required],username:["",Ht.required],displayName:[""],email:["",[Ht.required,Ht.email]],retypeEmail:["",[Ht.required,Ht.email]],password:["",Ht.required],retypePassword:["",Ht.required],businessType:[""],businessName:[""],ein:[""],website:[""],firstName:[""],lastName:[""],phone:[""],dob:[""],address:[""],city:[""],state:[""],postalCode:[""],ssnLast4:[""],acceptTerms:[!1,Ht.requiredTrue]})}ngOnInit(){this.registerForm.get("registrationType")?.valueChanges.subscribe(t=>{this.registrationType=t,this.checkRegistrationType()}),this.registerForm.get("businessType")?.valueChanges.subscribe(t=>{this.isCompany="company"===t,this.isIndividual="individual"===t,this.toggleRepresentativeFields()}),this.registerForm.valueChanges.subscribe(()=>{this.checkPasswordMatch(),this.checkEmailMatch()})}checkRegistrationType(){"Performer"===this.registrationType||"Venue"===this.registrationType?this.registerForm.get("displayName")?.setValidators(Ht.required):this.registerForm.get("displayName")?.clearValidators(),"Venue"===this.registrationType?this.registerForm.get("businessType")?.setValidators(Ht.required):this.clearVenueFields(),this.registerForm.get("displayName")?.updateValueAndValidity(),this.registerForm.get("businessType")?.updateValueAndValidity()}toggleCompanyFields(t){["businessName","ein","website"].forEach(d=>{t?this.registerForm.get(d)?.setValidators(Ht.required):this.registerForm.get(d)?.clearValidators(),this.registerForm.get(d)?.updateValueAndValidity()})}toggleRepresentativeFields(){["businessName","ein","website"].forEach(d=>{this.registerForm.get(d)?.setValidators(this.isCompany?Ht.required:null),this.registerForm.get(d)?.updateValueAndValidity()}),["firstName","lastName","phone","dob","address","city","state","postalCode","website","ssnLast4"].forEach(d=>{this.registerForm.get(d)?.setValidators(this.isIndividual?Ht.required:null),this.registerForm.get(d)?.updateValueAndValidity()})}clearVenueFields(){["businessType","businessName","ein","website","firstName","lastName","phone","dob","address","city","state","postalCode","ssnLast4"].forEach(s=>{this.registerForm.get(s)?.clearValidators(),this.registerForm.get(s)?.setValue(""),this.registerForm.get(s)?.updateValueAndValidity()})}checkPasswordMatch(){const t=this.registerForm.get("password")?.value,s=this.registerForm.get("retypePassword")?.value;this.passwordMatchError=t&&s&&t!==s}checkEmailMatch(){const t=this.registerForm.get("email")?.value,s=this.registerForm.get("retypeEmail")?.value;this.emailMatchError=t&&s&&t!==s}onRegistrationTypeChange(t){const d=t.target.value;this.registrationType=d,this.registerForm.patchValue({displayName:"",address:"",state:"",zipCode:""}),this.registerForm.get("displayName")?.clearValidators(),this.registerForm.get("address")?.clearValidators(),this.registerForm.get("state")?.clearValidators(),this.registerForm.get("zipCode")?.clearValidators(),("Performer"===d||"Venue"===d)&&this.registerForm.get("displayName")?.setValidators([Ht.required]),"Venue"===d&&(this.registerForm.get("address")?.setValidators([]),this.registerForm.get("state")?.setValidators([]),this.registerForm.get("zipCode")?.setValidators([])),this.registerForm.get("displayName")?.updateValueAndValidity(),this.registerForm.get("address")?.updateValueAndValidity(),this.registerForm.get("state")?.updateValueAndValidity(),this.registerForm.get("zipCode")?.updateValueAndValidity()}onSubmit(t){if(t.preventDefault(),this.registerForm.value.password!==this.registerForm.value.retypePassword)return void(this.passwordMatchError=!0);this.passwordMatchError=!1,console.log("Registration form submitted:",this.registerForm.value);let s=this.registerForm.value.username,d=this.registerForm.value.displayName,y=this.registerForm.value.email,_=this.registerForm.value.password,M="individual"===this.registerForm.value.businessType?Op.INDIVIDUAL:Op.COMPANY,R=this.registerForm.value.businessName,T=this.registerForm.value.ein,V=this.registerForm.value.website,Z={firstName:this.registerForm.value.firstName,lastName:this.registerForm.value.lastName,phone:this.registerForm.value.phone,dob:this.registerForm.value.dob,ssnLast4:this.registerForm.value.ssnLast4,address:this.registerForm.value.address,city:this.registerForm.value.city,state:this.registerForm.value.state,postalCode:this.registerForm.value.postalCode},Ie=this.registerForm.value.acceptTerms;switch(this.registrationType){case"User":this.userService.register({username:s,email:y,password:_}).subscribe({next:ye=>{this.router.navigate(["/"])},error:ye=>{console.error("Registration failed:",ye)}});break;case"Performer":this.performerService.register({name:d,username:s,email:y,password:_}).subscribe({next:ye=>{this.router.navigate(["/"])},error:ye=>{console.error("Registration failed:",ye)}});break;case"Venue":this.venueService.register({name:d,username:s,email:y,password:_,businessType:M,legalBusinessName:R,ein:T,businessWebsite:V,representative:Z,acceptTerms:Ie}).subscribe({next:ye=>{this.router.navigate(["/"])},error:ye=>{console.error("Registration failed:",ye)}})}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Wo),o.rXU(yo),o.rXU(Jw),o.rXU(kp),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-register"]],decls:40,vars:6,consts:[[1,"register-container"],[3,"submit","formGroup"],[1,"form-group"],["for","registrationType"],["id","registrationType","formControlName","registrationType",3,"change"],["value","User"],["value","Performer"],["value","Venue"],["for","username"],[1,"required"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required",""],["class","form-group",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email","required",""],["type","email","id","retypeEmail","formControlName","retypeEmail","placeholder","Re-Enter your email","required",""],["class","email-match-error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required",""],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Re-type your password","required",""],["class","password-match-error",4,"ngIf"],[4,"ngIf"],["type","submit",3,"disabled"],["for","displayName"],["type","text","id","displayName","formControlName","displayName","placeholder","Enter your display name","required",""],[1,"email-match-error"],[1,"password-match-error"],["for","businessType"],["id","businessType","formControlName","businessType"],["value","individual"],["value","company"],["type","checkbox","formControlName","acceptTerms","required",""],["href","https://stripe.com/connect-account/legal","target","_blank"],["for","businessName"],["type","text","id","businessName","formControlName","businessName","placeholder","Enter the legal business name","required",""],["for","ein"],["type","text","id","ein","formControlName","ein","placeholder","Enter your EIN","required",""],["for","website"],["type","url","id","website","formControlName","website","placeholder","Enter your business website","required",""],["for","firstName"],["type","text","id","firstName","formControlName","firstName","placeholder","Enter first name","required",""],["for","lastName"],["type","text","id","lastName","formControlName","lastName","placeholder","Enter last name","required",""],["for","phone"],["type","tel","id","phone","formControlName","phone","placeholder","Enter phone number","required",""],["for","dob"],["type","date","id","dob","formControlName","dob","required",""],["for","ssnLast4"],["type","url","id","ssnLast4","formControlName","ssnLast4","placeholder","Enter the last 4 digits of your SSN","required",""],["for","address"],["type","text","id","address","formControlName","address","placeholder","Enter address","required",""],["for","city"],["type","text","id","city","formControlName","city","placeholder","Enter city","required",""],["for","state"],["type","text","id","state","formControlName","state","placeholder","Enter state","required",""],["for","postalCode"],["type","text","id","postalCode","formControlName","postalCode","placeholder","Enter postal code","required",""]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Register"),o.k0s(),o.j41(3,"form",1),o.bIt("submit",function(_){return d.onSubmit(_)}),o.j41(4,"div",2)(5,"label",3),o.EFF(6,"Register as"),o.k0s(),o.j41(7,"select",4),o.bIt("change",function(_){return d.onRegistrationTypeChange(_)}),o.j41(8,"option",5),o.EFF(9,"User"),o.k0s(),o.j41(10,"option",6),o.EFF(11,"Performer"),o.k0s(),o.j41(12,"option",7),o.EFF(13,"Venue"),o.k0s()()(),o.j41(14,"div",2)(15,"label",8),o.EFF(16,"Username "),o.j41(17,"span",9),o.EFF(18,"*"),o.k0s()(),o.nrm(19,"input",10),o.k0s(),o.DNE(20,eE,6,0,"div",11),o.j41(21,"div",2)(22,"label",12),o.EFF(23,"Email "),o.j41(24,"span",9),o.EFF(25,"*"),o.k0s()(),o.nrm(26,"input",13)(27,"input",14),o.DNE(28,Rm,2,0,"div",15),o.k0s(),o.j41(29,"div",2)(30,"label",16),o.EFF(31,"Password "),o.j41(32,"span",9),o.EFF(33,"*"),o.k0s()(),o.nrm(34,"input",17)(35,"input",18),o.DNE(36,Fp,2,0,"div",19),o.k0s(),o.DNE(37,km,19,2,"div",20),o.j41(38,"button",21),o.EFF(39,"Register"),o.k0s()()()),2&s&&(o.R7$(3),o.Y8G("formGroup",d.registerForm),o.R7$(17),o.Y8G("ngIf","Performer"===d.registrationType||"Venue"===d.registrationType),o.R7$(8),o.Y8G("ngIf",d.emailMatchError),o.R7$(8),o.Y8G("ngIf",d.passwordMatchError),o.R7$(),o.Y8G("ngIf","Venue"===d.registrationType),o.R7$(),o.Y8G("disabled",!d.registerForm.valid))},dependencies:[En,$r,Hd,$l,mr,Xh,da,Fr,li,Mi,z1,$o,Is],styles:[".register-container[_ngcontent-%COMP%]{max-width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.required[_ngcontent-%COMP%]{color:red;margin-left:2px;font-weight:700}.password[_ngcontent-%COMP%]{margin-bottom:10px}.password-match-error[_ngcontent-%COMP%], .email-match-error[_ngcontent-%COMP%]{color:#dc3545}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Pm=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.weatherUrl=Zi_apiUrl+"/weather"}getWeather(){return this.http.get(`${this.weatherUrl}`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Lm(r,a){1&r&&(o.j41(0,"div")(1,"button",13),o.EFF(2,"Bookings"),o.k0s()())}function tE(r,a){1&r&&(o.j41(0,"div")(1,"button",14),o.EFF(2," Venue Events "),o.k0s(),o.j41(3,"button",15),o.EFF(4," Create Event "),o.k0s(),o.j41(5,"button",16),o.EFF(6,"Scanner"),o.k0s(),o.j41(7,"button",17),o.EFF(8,"Payments"),o.k0s()())}function Lp(r,a){if(1&r&&(o.j41(0,"div")(1,"h3"),o.EFF(2),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s(),o.j41(5,"p"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s(),o.j41(9,"p"),o.EFF(10),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.weatherData.name),o.R7$(2),o.SpI("Temperature: ",t.weatherData.main.temp,"\xb0F"),o.R7$(2),o.SpI("Weather: ",t.weatherData.weather[0].description,""),o.R7$(2),o.SpI("Humidity: ",t.weatherData.main.humidity,"%"),o.R7$(2),o.SpI("Wind Speed: ",t.weatherData.wind.speed," mph")}}function Bm(r,a){if(1&r&&(o.j41(0,"div",18),o.EFF(1),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI(" ",t.errorMessage," ")}}function Um(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",19)(1,"h3"),o.EFF(2,"Create New User"),o.k0s(),o.j41(3,"form",20),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.createUser())}),o.j41(4,"div",21)(5,"label",22),o.EFF(6,"Username:"),o.k0s(),o.j41(7,"input",23),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.username,d)||(y.newUser.username=d),o.Njj(d)}),o.k0s()(),o.j41(8,"div",21)(9,"label",24),o.EFF(10,"Email:"),o.k0s(),o.j41(11,"input",25),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.email,d)||(y.newUser.email=d),o.Njj(d)}),o.k0s()(),o.j41(12,"div",21)(13,"label",26),o.EFF(14,"Role:"),o.k0s(),o.j41(15,"input",27),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.role,d)||(y.newUser.role=d),o.Njj(d)}),o.k0s()(),o.j41(16,"button",28),o.EFF(17,"Create User"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(7),o.R50("ngModel",t.newUser.username),o.R7$(4),o.R50("ngModel",t.newUser.email),o.R7$(4),o.R50("ngModel",t.newUser.role)}}function Pr(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",29)(1,"h3"),o.EFF(2,"Update User"),o.k0s(),o.j41(3,"form",20),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.updateUser())}),o.j41(4,"div",21)(5,"label",30),o.EFF(6,"Current Username:"),o.k0s(),o.j41(7,"input",31),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.currentUsername,d)||(y.updateUserModel.currentUsername=d),o.Njj(d)}),o.k0s()(),o.j41(8,"div",21)(9,"label",32),o.EFF(10,"New Username:"),o.k0s(),o.j41(11,"input",33),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newUsername,d)||(y.updateUserModel.newUsername=d),o.Njj(d)}),o.k0s()(),o.j41(12,"div",21)(13,"label",34),o.EFF(14,"New Email:"),o.k0s(),o.j41(15,"input",35),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newEmail,d)||(y.updateUserModel.newEmail=d),o.Njj(d)}),o.k0s()(),o.j41(16,"div",21)(17,"label",36),o.EFF(18,"New Role:"),o.k0s(),o.j41(19,"input",37),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newRole,d)||(y.updateUserModel.newRole=d),o.Njj(d)}),o.k0s()(),o.j41(20,"button",28),o.EFF(21,"Update User"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(7),o.R50("ngModel",t.updateUserModel.currentUsername),o.R7$(4),o.R50("ngModel",t.updateUserModel.newUsername),o.R7$(4),o.R50("ngModel",t.updateUserModel.newEmail),o.R7$(4),o.R50("ngModel",t.updateUserModel.newRole)}}function Vm(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",38)(1,"div")(2,"h3"),o.EFF(3,"Delete a User"),o.k0s(),o.j41(4,"form",20),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.onDeleteUser())}),o.j41(5,"div")(6,"label",22),o.EFF(7,"Username:"),o.k0s(),o.j41(8,"input",39),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.deleteUsername,d)||(y.deleteUsername=d),o.Njj(d)}),o.k0s()(),o.j41(9,"button",28),o.EFF(10,"Delete User"),o.k0s()()()()}if(2&r){const t=o.XpG();o.R7$(8),o.R50("ngModel",t.deleteUsername)}}function Kb(r,a){if(1&r&&(o.j41(0,"tr")(1,"td"),o.EFF(2),o.k0s(),o.j41(3,"td"),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(2),o.JRh(t.username),o.R7$(2),o.JRh(t.email)}}function Qb(r,a){if(1&r&&(o.j41(0,"table")(1,"thead")(2,"tr")(3,"th"),o.EFF(4,"Username"),o.k0s(),o.j41(5,"th"),o.EFF(6,"Email"),o.k0s()()(),o.j41(7,"tbody"),o.DNE(8,Kb,5,2,"tr",42),o.k0s()()),2&r){const t=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",t.users)}}function jm(r,a){1&r&&(o.j41(0,"p"),o.EFF(1,"No users to display."),o.k0s())}function Hm(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",40)(1,"div")(2,"button",41),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.toggleUsers())}),o.EFF(3),o.k0s(),o.DNE(4,Qb,9,1,"table",3)(5,jm,2,0,"p",3),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(3),o.SpI(" ",t.isTableVisible?"Hide Users":"Show Users"," "),o.R7$(),o.Y8G("ngIf",t.isTableVisible&&t.users.length>0),o.R7$(),o.Y8G("ngIf",t.isTableVisible&&0===t.users.length)}}let Gm=(()=>{class r{constructor(t,s,d,y){this.userService=t,this.authService=s,this.weatherService=d,this.router=y,this.message="Loading...",this.users=[],this.isTableVisible=!1,this.deleteUsername="",this.roles=[],this.searchText="",this.errorMessage=null,this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}ngOnInit(){this.getHelloMessage(),this.checkUserRoles(),this.getWeather()}getHelloMessage(){this.userService.login().subscribe({next:t=>{this.message=t},error:t=>{console.error("Error fetching hello message:",t)}})}toggleUsers(){this.isTableVisible?this.isTableVisible=!1:this.userService.getUsers().subscribe({next:t=>{this.users=t,this.isTableVisible=!0},error:t=>{console.error("Error fetching users:",t)}})}createUser(){this.userService.createUser(this.newUser).subscribe({next:t=>{console.log("User created successfully:",t),alert("User created successfully!"),this.clearForm(),this.toggleUsers()},error:t=>{console.error("Error creating user:",t)}})}updateUser(){this.userService.updateUser(this.updateUserModel).subscribe({next:t=>{console.log("User updated successfully:",t),alert("User updated successfully!"),this.clearForm(),this.toggleUsers()},error:t=>{console.error("Error updating user:",t)}})}onDeleteUser(){this.deleteUsername&&this.userService.deleteUser(this.deleteUsername).subscribe({next:t=>{console.log("User deleted successfully:",t),alert("User deleted successfully"),this.deleteUsername=""},error:t=>{console.error("Error deleting user:",t),alert("Failed to delete user")}})}logout(){this.authService.logout(),this.router.navigate(["/"])}checkUserRoles(){this.userService.getUser().subscribe({next:t=>{t.roles.forEach(s=>{this.roles.push(s.name)}),this.authService.saveRoles(this.roles)}})}getWeather(){this.weatherService.getWeather().subscribe({next:t=>{this.weatherData=t,this.errorMessage=null},error:()=>{this.errorMessage="Could not fetch weather data. Please try again later.",this.weatherData=null}})}clearForm(){this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}onSearchChange(){console.log(this.searchText)}searchEvents(){this.router.navigate(["/search-results"],{queryParams:{query:this.searchText}}),console.log("Searching events for:",this.searchText)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yo),o.rXU(lr),o.rXU(Pm),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-dashboard"]],decls:22,vars:10,consts:[[1,"dashboard-container"],[1,"btn","btn-danger",3,"click"],["routerLink","/settings",1,"btn","btn-danger"],[4,"ngIf"],[1,"weather-dashboard"],["class","error-message",4,"ngIf"],[1,"search-container"],["type","text","placeholder","Search for events...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-button",3,"click"],["class","create-container",4,"ngIf"],["class","update-container",4,"ngIf"],["class","delete-container",4,"ngIf"],["class","get-container",4,"ngIf"],["routerLink","/bookings",1,"btn","btn-danger"],["routerLink","/venue/events",1,"btn","btn-danger"],["routerLink","/venue/events/create",1,"btn","btn-danger"],["routerLink","/scanner",1,"btn","btn-danger"],["routerLink","/payments",1,"btn","btn-danger"],[1,"error-message"],[1,"create-container"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","role"],["type","text","id","role","name","role","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"update-container"],["for","currentUsername"],["type","text","id","currentUsername","name","currentUsername","required","",3,"ngModelChange","ngModel"],["for","newUsername"],["type","text","id","newUsername","name","newUsername","required","",3,"ngModelChange","ngModel"],["for","newEmail"],["type","email","id","newEmail","name","newEmail","required","",3,"ngModelChange","ngModel"],["for","newRole"],["type","text","id","newRole","name","newRole","required","",3,"ngModelChange","ngModel"],[1,"delete-container"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],[1,"get-container"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Welcome to Your Dashboard"),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s(),o.j41(5,"button",1),o.bIt("click",function(){return d.logout()}),o.EFF(6,"Logout"),o.k0s(),o.j41(7,"button",2),o.EFF(8,"Settings"),o.k0s(),o.DNE(9,Lm,3,0,"div",3)(10,tE,9,0,"div",3),o.j41(11,"div",4),o.DNE(12,Lp,11,5,"div",3)(13,Bm,2,1,"div",5),o.k0s(),o.j41(14,"div",6)(15,"input",7),o.mxI("ngModelChange",function(_){return o.DH7(d.searchText,_)||(d.searchText=_),_}),o.bIt("ngModelChange",function(){return d.onSearchChange()}),o.k0s(),o.j41(16,"button",8),o.bIt("click",function(){return d.searchEvents()}),o.EFF(17,"Search"),o.k0s()(),o.DNE(18,Um,18,3,"div",9)(19,Pr,22,4,"div",10)(20,Vm,11,1,"div",11)(21,Hm,6,3,"div",12),o.k0s()),2&s&&(o.R7$(4),o.JRh(d.message),o.R7$(5),o.Y8G("ngIf",!d.roles.includes("ROLE_VENUE")&&!d.roles.includes("ROLE_PERFORMER")),o.R7$(),o.Y8G("ngIf",d.roles.includes("ROLE_VENUE")),o.R7$(2),o.Y8G("ngIf",d.weatherData),o.R7$(),o.Y8G("ngIf",d.errorMessage),o.R7$(2),o.R50("ngModel",d.searchText),o.R7$(3),o.Y8G("ngIf",d.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",d.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",d.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",d.roles.includes("ROLE_ADMIN")))},dependencies:[vr,En,Vo,$r,mr,Fr,li,Mi,zr,Yi],styles:[".search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;flex-direction:column;align-items:center}.create-container[_ngcontent-%COMP%], .update-container[_ngcontent-%COMP%], .delete-container[_ngcontent-%COMP%], .get-container[_ngcontent-%COMP%]{max-width:300px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.weather-dashboard[_ngcontent-%COMP%]{text-align:center;margin:20px}.error-message[_ngcontent-%COMP%]{color:red}"]})}}return r})(),Bp=(()=>{class r{constructor(t){this.userService=t,this.email=""}onSubmit(){this.email&&this.userService.processForgotPassword(this.email).subscribe({next:t=>{console.log("Reset link sent:",t),alert("Reset link sent to your email."),this.email=""},error:t=>{console.error("Error sending reset link:",t),alert("Failed to send reset link. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yo))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-password"]],decls:11,vars:1,consts:[[1,"forgot-password-container"],[1,"forgot-password"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Forgot Password"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return d.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",5),o.mxI("ngModelChange",function(_){return o.DH7(d.email,_)||(d.email=_),_}),o.k0s()(),o.j41(9,"button",6),o.EFF(10,"Send Reset Link"),o.k0s()()()()),2&s&&(o.R7$(8),o.R50("ngModel",d.email))},dependencies:[$r,mr,Fr,li,Mi,zr,Yi],styles:[".forgot-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();function zm(r,a){1&r&&(o.j41(0,"div")(1,"label",8),o.EFF(2,"Your passwords are not matching."),o.k0s()())}let $m=(()=>{class r{constructor(t,s,d){this.route=t,this.userService=s,this.router=d,this.newPassword="",this.retypePassword="",this.token=null,this.passwordMatchError=!1}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}onSubmit(){this.token&&this.newPassword===this.retypePassword&&this.userService.processResetPassword(this.token,this.newPassword).subscribe({next:t=>{console.log("Password reset successfully:",t),alert("Password has been reset successfully."),this.router.navigate(["/"])},error:t=>{console.error("Error resetting password:",t),alert("Failed to reset password. Please try again.")}}),this.newPassword!==this.retypePassword&&(this.passwordMatchError=!0)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Hr),o.rXU(yo),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-reset-password"]],decls:11,vars:3,consts:[[1,"reset-password-container"],[1,"reset-password"],[3,"ngSubmit"],[1,"form-group"],[4,"ngIf"],["type","password","name","newPassword","placeholder","Enter your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","retypePassword","placeholder","Re-type your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],[1,"password-match-error"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Reset Password"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return d.onSubmit()}),o.j41(5,"div",3),o.DNE(6,zm,3,0,"div",4),o.j41(7,"input",5),o.mxI("ngModelChange",function(_){return o.DH7(d.newPassword,_)||(d.newPassword=_),_}),o.k0s(),o.j41(8,"input",6),o.mxI("ngModelChange",function(_){return o.DH7(d.retypePassword,_)||(d.retypePassword=_),_}),o.k0s()(),o.j41(9,"button",7),o.EFF(10,"Reset Password"),o.k0s()()()()),2&s&&(o.R7$(6),o.Y8G("ngIf",d.passwordMatchError),o.R7$(),o.R50("ngModel",d.newPassword),o.R7$(),o.R50("ngModel",d.retypePassword))},dependencies:[En,$r,mr,Fr,li,Mi,zr,Yi],styles:[".reset-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.password-match-error[_ngcontent-%COMP%]{color:#dc3545}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Wm=(()=>{class r{constructor(t,s){this.userService=t,this.router=s,this.email=""}onSubmit(){this.email&&this.userService.processForgotUsername(this.email).subscribe({next:t=>{console.log("Username sent to email:",t),alert("Your username has been sent to your email address."),this.email=""},error:t=>{console.error("Error sending username:",t),alert("Failed to send username. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yo),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-username"]],decls:11,vars:1,consts:[[1,"forgot-username-container"],[1,"forgot-username"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Forgot Username"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return d.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",5),o.mxI("ngModelChange",function(_){return o.DH7(d.email,_)||(d.email=_),_}),o.k0s()(),o.j41(9,"button",6),o.EFF(10,"Send Username"),o.k0s()()()()),2&s&&(o.R7$(8),o.R50("ngModel",d.email))},dependencies:[$r,mr,Fr,li,Mi,zr,Yi],styles:[".forgot-username-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();const Xm=()=>["/"];function nE(r,a){if(1&r&&(o.j41(0,"div",3)(1,"p"),o.EFF(2),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.verificationStatus)}}function Jb(r,a){if(1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.errorMessage)}}function ex(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2,"Your account is now verified! You can "),o.j41(3,"a",4),o.EFF(4,"login"),o.k0s(),o.EFF(5," now."),o.k0s()()),2&r&&(o.R7$(3),o.Y8G("routerLink",o.lJ4(1,Xm)))}let tx=(()=>{class r{constructor(t,s){this.route=t,this.userService=s,this.verificationStatus="",this.errorMessage="",this.token=""}ngOnInit(){this.token=this.route.snapshot.params.token,this.verifyEmail()}verifyEmail(){this.userService.verifyEmail(this.token).subscribe({next:()=>{this.verificationStatus="Your email has been successfully verified!"},error:t=>{this.verificationStatus="Verification failed. Your email could not be verified.",this.errorMessage=t.error?.message||"An error occurred during verification."}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Hr),o.rXU(yo))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-verify-email"]],decls:6,vars:3,consts:[[1,"verification-container"],["class","verification-status",4,"ngIf"],[4,"ngIf"],[1,"verification-status"],[3,"routerLink"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Email Verification"),o.k0s(),o.DNE(3,nE,3,1,"div",1)(4,Jb,3,1,"div",2)(5,ex,6,2,"div",2),o.k0s()),2&s&&(o.R7$(3),o.Y8G("ngIf",d.verificationStatus),o.R7$(),o.Y8G("ngIf",d.errorMessage),o.R7$(),o.Y8G("ngIf",d.verificationStatus&&!d.errorMessage))},dependencies:[En,Vo],styles:[".verification-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;text-align:center}.verification-status[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{margin-top:10px}"]})}}return r})(),nx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-cookie-policy"]],decls:1,vars:0,consts:[["src",o.wXG`/policy/cookie-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,d){1&s&&o.nrm(0,"iframe",0)}})}}return r})(),rx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-privacy-policy"]],decls:1,vars:0,consts:[["src",o.wXG`/policy/privacy-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,d){1&s&&o.nrm(0,"iframe",0)}})}}return r})();function ix(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"h2"),o.EFF(3,"Delete Account"),o.k0s(),o.j41(4,"p"),o.EFF(5," Are you sure you want to delete your account? This action cannot be undone. "),o.k0s(),o.j41(6,"div",3)(7,"button",4),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.onConfirm())}),o.EFF(8,"Yes"),o.k0s(),o.j41(9,"button",5),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.onCancel())}),o.EFF(10,"Cancel"),o.k0s()()()()}}let rE=(()=>{class r{constructor(){this.showModal=!1,this.confirmDelete=new o.bkB,this.cancelDelete=new o.bkB}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onConfirm(){this.confirmDelete.emit(),this.closeModal()}onCancel(){this.cancelDelete.emit(),this.closeModal()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-delete-account-modal"]],outputs:{confirmDelete:"confirmDelete",cancelDelete:"cancelDelete"},decls:1,vars:1,consts:[["class","modal-backdrop",4,"ngIf"],[1,"modal-backdrop"],[1,"modal-content"],[1,"modal-buttons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(s,d){1&s&&o.DNE(0,ix,11,0,"div",0),2&s&&o.Y8G("ngIf",d.showModal)},dependencies:[En],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;text-align:center;width:300px;box-shadow:0 5px 15px #0000004d}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}}return r})();function ox(r,a){1&r&&(o.j41(0,"div")(1,"label",12),o.EFF(2,"Please check your new email to confirm your updated email."),o.k0s()())}function Ym(r,a){1&r&&(o.j41(0,"div")(1,"label",13),o.EFF(2,"Your password was changed!"),o.k0s()())}function qm(r,a){1&r&&(o.j41(0,"div")(1,"label",13),o.EFF(2,"Error updating your password."),o.k0s()())}function sx(r,a){1&r&&(o.j41(0,"div")(1,"label",13),o.EFF(2,"Your passwords are not matching."),o.k0s()())}let ax=(()=>{class r{constructor(t){this.userService=t,this.email="",this.currentEmail="",this.password="",this.currentPassword="",this.retypePassword="",this.initiatedUpdateEmail=!1,this.changedPassword=!1,this.errorPassword=!1,this.passwordMatchError=!1}ngOnInit(){this.getEmail()}getEmail(){this.userService.getUserEmail().subscribe({next:t=>{this.currentEmail=t.email}})}updateEmail(){this.userService.updateUserEmail({email:this.email}).subscribe({next:s=>{this.initiatedUpdateEmail=!0}})}updatePassword(){this.password===this.retypePassword?this.userService.updateUserPassword({currentPassword:this.currentPassword,newPassword:this.password}).subscribe({next:s=>{this.password="",this.currentPassword="",this.retypePassword="",this.errorPassword=!1,this.passwordMatchError=!1,this.changedPassword=!0},error:s=>{this.changedPassword=!1,this.passwordMatchError=!1,this.errorPassword=!0}}):(this.errorPassword=!1,this.changedPassword=!1,this.passwordMatchError=!0)}openDeleteModal(){this.deleteAccountModal.openModal()}handleDelete(){this.userService.deleteUser2().subscribe(t=>{alert("Account deleted successfully.")})}handleCancel(){}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yo))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-settings"]],viewQuery:function(s,d){if(1&s&&o.GBs(rE,5),2&s){let y;o.mGM(y=o.lsd())&&(d.deleteAccountModal=y.first)}},decls:25,vars:9,consts:[[3,"confirmDelete","cancelDelete"],[1,"settings-container"],[1,"setting-item"],["for","email"],[4,"ngIf"],["type","email","id","email","placeholder","New email",3,"ngModelChange","ngModel"],[3,"click"],[1,"setting-item-pass"],["type","password","id","currentPassword","placeholder","Current password",3,"ngModelChange","ngModel"],["type","password","id","password","placeholder","New password",3,"ngModelChange","ngModel"],["type","password","id","retypePassword","placeholder","Re-type password",3,"ngModelChange","ngModel"],[1,"delete-account",3,"click"],["for","email",1,"label-email-msg"],[1,"label-password-msg"]],template:function(s,d){1&s&&(o.j41(0,"app-delete-account-modal",0),o.bIt("confirmDelete",function(){return d.handleDelete()})("cancelDelete",function(){return d.handleCancel()}),o.k0s(),o.j41(1,"div",1)(2,"h2"),o.EFF(3,"Settings"),o.k0s(),o.j41(4,"div",2)(5,"label",3),o.EFF(6),o.k0s(),o.DNE(7,ox,3,0,"div",4),o.j41(8,"input",5),o.mxI("ngModelChange",function(_){return o.DH7(d.email,_)||(d.email=_),_}),o.k0s(),o.j41(9,"button",6),o.bIt("click",function(){return d.updateEmail()}),o.EFF(10,"Update Email"),o.k0s()(),o.DNE(11,Ym,3,0,"div",4)(12,qm,3,0,"div",4)(13,sx,3,0,"div",4),o.j41(14,"div",7)(15,"input",8),o.mxI("ngModelChange",function(_){return o.DH7(d.currentPassword,_)||(d.currentPassword=_),_}),o.k0s()(),o.j41(16,"div",7)(17,"input",9),o.mxI("ngModelChange",function(_){return o.DH7(d.password,_)||(d.password=_),_}),o.k0s()(),o.j41(18,"div",7)(19,"input",10),o.mxI("ngModelChange",function(_){return o.DH7(d.retypePassword,_)||(d.retypePassword=_),_}),o.k0s(),o.j41(20,"button",6),o.bIt("click",function(){return d.updatePassword()}),o.EFF(21,"Update Password"),o.k0s()(),o.j41(22,"div",2)(23,"button",11),o.bIt("click",function(){return d.openDeleteModal()}),o.EFF(24," Delete Account "),o.k0s()()()),2&s&&(o.R7$(6),o.SpI("Current email: ",d.currentEmail,""),o.R7$(),o.Y8G("ngIf",d.initiatedUpdateEmail),o.R7$(),o.R50("ngModel",d.email),o.R7$(3),o.Y8G("ngIf",d.changedPassword),o.R7$(),o.Y8G("ngIf",d.errorPassword),o.R7$(),o.Y8G("ngIf",d.passwordMatchError),o.R7$(2),o.R50("ngModel",d.currentPassword),o.R7$(2),o.R50("ngModel",d.password),o.R7$(2),o.R50("ngModel",d.retypePassword))},dependencies:[En,mr,Fr,zr,rE],styles:[".settings-container[_ngcontent-%COMP%]{max-width:300px;margin:0 auto 15px;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}.setting-item[_ngcontent-%COMP%]{margin-bottom:10px}.setting-item-pass[_ngcontent-%COMP%]{margin-bottom:5px}.label-email-msg[_ngcontent-%COMP%], .label-password-msg[_ngcontent-%COMP%]{color:#dc3545}input[_ngcontent-%COMP%]{width:275px;padding:10px;margin-top:8px}button[_ngcontent-%COMP%]{padding:10px;margin-top:10px;width:100%;background-color:#3c6bec;color:#fff;border:none;cursor:pointer}button.delete-account[_ngcontent-%COMP%]{background-color:#dc3545}"]})}}return r})();function cx(r,a){1&r&&(o.j41(0,"div",3)(1,"p"),o.EFF(2,"Confirming your email, please wait..."),o.k0s()())}function lx(r,a){1&r&&(o.j41(0,"div")(1,"h2"),o.EFF(2,"Email Confirmation Successful"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Your email has been updated successfully."),o.k0s(),o.j41(5,"button",4),o.EFF(6,"Go to Login"),o.k0s()())}function ux(r,a){1&r&&(o.j41(0,"div")(1,"h2"),o.EFF(2,"Email Confirmation Failed"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Invalid or expired token. Please try again or contact support."),o.k0s(),o.j41(5,"button",5),o.EFF(6,"Go to Home"),o.k0s()())}let dx=(()=>{class r{constructor(t,s){this.route=t,this.userService=s,this.isLoading=!0,this.isConfirmed=!1}ngOnInit(){const t=this.route.snapshot.params.token;t&&this.confirmEmail(t)}confirmEmail(t){this.userService.confirmEmail(t).subscribe({next:s=>{this.isLoading=!1,this.isConfirmed=!0},error:s=>{this.isLoading=!1,this.isConfirmed=!1}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Hr),o.rXU(yo))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-email-confirmation"]],decls:4,vars:3,consts:[[1,"email-confirmation-container"],["class","loading-message",4,"ngIf"],[4,"ngIf"],[1,"loading-message"],["routerLink","/login",1,"btn"],["routerLink","/",1,"btn"]],template:function(s,d){1&s&&(o.j41(0,"div",0),o.DNE(1,cx,3,0,"div",1)(2,lx,7,0,"div",2)(3,ux,7,0,"div",2),o.k0s()),2&s&&(o.R7$(),o.Y8G("ngIf",d.isLoading),o.R7$(),o.Y8G("ngIf",!d.isLoading&&d.isConfirmed),o.R7$(),o.Y8G("ngIf",!d.isLoading&&!d.isConfirmed))},dependencies:[En,Vo],styles:[".email-confirmation-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.loading-message[_ngcontent-%COMP%]{color:#333}h2[_ngcontent-%COMP%]{color:#3c6bec}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px;color:#fff;background-color:#3c6bec;border:none;border-radius:5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#3c6bec}"]})}}return r})(),fx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-data-deletion-policy"]],decls:2,vars:0,template:function(s,d){1&s&&(o.j41(0,"p"),o.EFF(1,"If you want to delete your user data, write to mh.testdev@gmail.com"),o.k0s())}})}}return r})(),hx=(()=>{class r{constructor(t){this.router=t,this.searchText=""}onSearchChange(){console.log(this.searchText)}searchEvents(){this.router.navigate(["/search-results"],{queryParams:{query:this.searchText}}),console.log("Searching events for:",this.searchText)}goToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-homepage"]],decls:10,vars:1,consts:[[1,"homepage-container"],[1,"title"],[1,"search-container"],["type","text","placeholder","Search for events...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-button",3,"click"],[1,"login-container"],[1,"login-button",3,"click"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h1",1),o.EFF(2,"Turnstile Ticket"),o.k0s(),o.j41(3,"div",2)(4,"input",3),o.mxI("ngModelChange",function(_){return o.DH7(d.searchText,_)||(d.searchText=_),_}),o.bIt("ngModelChange",function(){return d.onSearchChange()}),o.k0s(),o.j41(5,"button",4),o.bIt("click",function(){return d.searchEvents()}),o.EFF(6,"Search"),o.k0s()(),o.j41(7,"div",5)(8,"button",6),o.bIt("click",function(){return d.goToLogin()}),o.EFF(9,"Login"),o.k0s()()()),2&s&&(o.R7$(4),o.R50("ngModel",d.searchText))},dependencies:[mr,Fr,zr],styles:[".homepage-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px}.title[_ngcontent-%COMP%]{font-size:3em;margin-bottom:20px}.search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.search-input[_ngcontent-%COMP%]{padding:10px;font-size:1.2em;width:300px;margin-right:10px}.search-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#007bff;color:#fff;border:none;cursor:pointer}.search-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]{margin-top:20px}.login-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#28a745;color:#fff;border:none;cursor:pointer}.login-button[_ngcontent-%COMP%]:hover{background-color:#218838}"]})}}return r})();var nu=function(r){return r.o="o",r.tm="tm",r}(nu||{});let Cc=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.eventUrl=Zi_apiUrl+"/ticketing/events"}getEventsByVenue(){return this.http.get(`${this.eventUrl}/venue`)}createEvent(t){return this.http.post(`${this.eventUrl}`,t)}getEvent(t,s=nu.o){return this.http.get(`${this.eventUrl}/${t}?&source=${s}`)}updateEvent(t,s){return this.http.put(`${this.eventUrl}/${t}`,s)}getAllEvents(){return this.http.get(`${this.eventUrl}`)}searchEvents(t){return this.http.get(`${this.eventUrl}/search?keyword=${t}`)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function wc(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2,"No events found."),o.k0s()())}function ru(r,a){if(1&r&&(o.j41(0,"div")(1,"p")(2,"strong"),o.EFF(3,"Performer:"),o.k0s(),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(4),o.SpI(" ",t.name,"")}}function iE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",5),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.goToEventDetails(d.id))}),o.j41(1,"h3"),o.EFF(2),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s(),o.j41(5,"p")(6,"strong"),o.EFF(7,"Venue:"),o.k0s(),o.EFF(8),o.k0s(),o.DNE(9,ru,5,1,"div",6),o.j41(10,"p")(11,"strong"),o.EFF(12,"Date:"),o.k0s(),o.EFF(13),o.nI1(14,"date"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.JRh(t.name),o.R7$(2),o.JRh(t.description),o.R7$(4),o.SpI(" ",t.venue.name,""),o.R7$(),o.Y8G("ngForOf",t.performers),o.R7$(4),o.SpI(" ",o.i5U(14,5,t.date,"medium"),"")}}function px(r,a){if(1&r&&(o.j41(0,"div",3),o.DNE(1,iE,15,8,"div",4),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.Y8G("ngForOf",t.events)}}let Zm=(()=>{class r{constructor(t,s,d){this.route=t,this.router=s,this.eventService=d,this.events=[],this.searchText=""}ngOnInit(){this.route.queryParams.subscribe(t=>{this.searchText=t.query||"",this.searchText?this.eventService.searchEvents(this.searchText).subscribe({next:s=>{s.original.forEach(d=>{"OPEN"===d.status&&this.events.push(this.createOriginalEvent(d))}),s.ticketmaster._embedded?.events.forEach(d=>{"onsale"===d.dates.status.code&&this.events.push(this.createTicketmasterEvent(d))}),this.events.sort((d,y)=>d.date.getTime()-y.date.getTime())},error:s=>{console.error("Error fetching events:",s)}}):this.eventService.getAllEvents().subscribe({next:s=>{s.original.forEach(d=>{"OPEN"===d.status&&this.events.push(this.createOriginalEvent(d))}),s.ticketmaster._embedded?.events.forEach(d=>{"onsale"===d.dates.status.code&&this.events.push(this.createTicketmasterEvent(d))}),this.events.sort((d,y)=>d.date.getTime()-y.date.getTime())},error:s=>{console.error("Error fetching events:",s)}})})}createOriginalEvent(t){return{id:t.id,name:t.name,status:t.status,date:new Date(t.date),venue:t.venue,performers:t.performers,description:"",url:"",type:nu.o,tickets:t.tickets}}createTicketmasterEvent(t){let s=[];return t._embedded.attractions?.forEach(y=>{s.push(y)}),{id:t.id,name:t.name,status:t.dates.status.code,date:new Date(t.dates.start.dateTime),venue:t._embedded.venues[0]||"",performers:s||[],description:"",url:t.url,type:nu.tm,tickets:[]}}goToEventDetails(t){let s=this.events.filter(y=>y.id===t)[0];this.router.navigate(["/event",s.type,t],{state:{data:s}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Hr),o.rXU(nn),o.rXU(Cc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-search-results"]],decls:5,vars:2,consts:[[1,"search-results-container"],[4,"ngIf"],["class","event-list",4,"ngIf"],[1,"event-list"],["class","event-item",3,"click",4,"ngFor","ngForOf"],[1,"event-item",3,"click"],[4,"ngFor","ngForOf"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Search Results"),o.k0s(),o.DNE(3,wc,3,0,"div",1)(4,px,2,1,"div",2),o.k0s()),2&s&&(o.R7$(3),o.Y8G("ngIf",0===d.events.length),o.R7$(),o.Y8G("ngIf",d.events.length>0))},dependencies:[vr,En,Us],styles:[".search-results-container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.event-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.event-item[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;margin:10px;width:60%;background-color:#f9f9f9;cursor:pointer}.event-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]})}}return r})(),Km=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.bookingUrl=Zi_apiUrl+"/ticketing/bookings"}getBookingsForUser(){return this.http.get(`${this.bookingUrl}/user`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}createReservation(t){return this.http.post(`${this.bookingUrl}/reserve`,{ticketIds:t},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}confirmReservation(t,s){return this.http.post(`${this.bookingUrl}/confirm`,{id:t,paymentIntentId:s},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}releaseReservation(t){return this.http.post(`${this.bookingUrl}/release`,{id:t},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}startGuestCheckout(){return this.http.get(`${this.bookingUrl}/guest/start`)}createGuestReservation(t,s){return this.http.post(`${this.bookingUrl}/guest/reserve`,{ticketIds:t},{headers:{Authorization:"Bearer "+s}})}confirmGuestReservation(t,s,d,y){return this.http.post(`${this.bookingUrl}/guest/confirm`,{id:t,paymentIntentId:s,guestEmail:d},{headers:{Authorization:"Bearer "+y}})}releaseGuestReservation(t,s){return this.http.post(`${this.bookingUrl}/guest/release`,{id:t},{headers:{Authorization:"Bearer "+s}})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var pa,oE="https://js.stripe.com/v3",sE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Qm="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",iu=function(a){var t=a&&!a.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(oE).concat(t);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(s),s},ou=null,su=null,Up=null,ny=!1,ry=function(){return pa||(pa=(a=null,null!==ou?ou:(ou=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u")t(null);else if(window.Stripe&&a&&console.warn(Qm),window.Stripe)t(window.Stripe);else try{var d=function(){for(var a=document.querySelectorAll('script[src^="'.concat(oE,'"]')),t=0;t<a.length;t++){var s=a[t];if(sE.test(s.src))return s}return null}();if(d&&a)console.warn(Qm);else if(d){if(d&&null!==Up&&null!==su){var y;d.removeEventListener("load",Up),d.removeEventListener("error",su),null===(y=d.parentNode)||void 0===y||y.removeChild(d),d=iu(a)}}else d=iu(a);Up=function(a,t){return function(){window.Stripe?a(window.Stripe):t(new Error("Stripe.js not available"))}}(t,s),su=function(a){return function(){a(new Error("Failed to load Stripe.js"))}}(s),d.addEventListener("load",Up),d.addEventListener("error",su)}catch(_){return void s(_)}})).catch(function(t){return ou=null,Promise.reject(t)})).catch(function(a){return pa=null,Promise.reject(a)}));var a};Promise.resolve().then(function(){return ry()}).catch(function(r){ny||console.warn(r)});let Vp=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.paymentUrl=Zi_apiUrl+"/payments",this.stripe=null,this.elements=null}initializeStripe(){var t=this;return sr(function*(){t.stripe=yield function(){for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];ny=!0;var d=Date.now();return ry().then(function(y){return function(a,t,s){if(null===a)return null;var d=a.apply(void 0,t);return function(a,t){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"4.7.0",startTime:t})}(d,s),d}(y,t,d)})}("pk_test_51QCCOIKH1UdL2G8klFomufbtt6Bb2wTBji1M7qML3lJ1afTtKYHDNXOxpHmeRm0CtNcnKuIOEtmSgJpob4T9FKXd00zL0H71ce"),t.elements=t.stripe?.elements()??null})()}getElements(){return this.elements}getStripe(){return this.stripe}getBalance(){return this.http.get(`${this.paymentUrl}/balance`)}getPayoutSchedule(){return this.http.get(`${this.paymentUrl}/payout-schedule`)}setPayoutSchedule(t,s,d){return this.http.post(`${this.paymentUrl}/payout-schedule`,{interval:t,weeklyAnchor:s,monthlyAnchor:d},{responseType:"text"})}createPayout(t){return this.http.post(`${this.paymentUrl}/payout`,{amount:t})}getExternalAccounts(){return this.http.get(`${this.paymentUrl}/external-account/all`)}addOrUpdateExternalAccount(t,s,d){return t?this.http.put(`${this.paymentUrl}/external-account/${t}`,{token:s,type:d}):this.http.post(`${this.paymentUrl}/external-account`,{token:s,type:d})}removeExternalAccount(t){return this.http.delete(`${this.paymentUrl}/external-account/${t}`)}createPaymentIntent(t,s){return this.http.post(`${this.paymentUrl}/create-payment-intent`,{ticketIds:t,venueId:s},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}createGuestPaymentIntent(t,s,d){return this.http.post(`${this.paymentUrl}/guest/create-payment-intent`,{ticketIds:t,venueId:s},{headers:{Authorization:"Bearer "+d}})}confirmPayment(t,s){return this.stripe?.confirmCardPayment(t,{payment_method:{card:s}})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo),o.KVO(lr))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function lE(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.Lme(" 1 x ",t.name," - Price: $",t.price," ")}}let uE=(()=>{class r{constructor(){this.modalClosed=new o.bkB}closeModal(){this.modalClosed.emit()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-booking-confirmation-modal"]],inputs:{bookingId:"bookingId",tickets:"tickets",totalAmount:"totalAmount"},outputs:{modalClosed:"modalClosed"},decls:22,vars:3,consts:[[1,"modal-backdrop"],[1,"modal-container"],[1,"booking-details"],[1,"tickets"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Booking Confirmation"),o.k0s(),o.j41(4,"p"),o.EFF(5,"Your booking was successful! Here are the details:"),o.k0s(),o.j41(6,"div",2)(7,"p")(8,"strong"),o.EFF(9,"Confirmation Number:"),o.k0s(),o.EFF(10),o.k0s(),o.j41(11,"p")(12,"strong"),o.EFF(13,"Total Amount:"),o.k0s(),o.EFF(14),o.k0s(),o.j41(15,"div",3)(16,"h3"),o.EFF(17,"Tickets:"),o.k0s(),o.j41(18,"ul"),o.DNE(19,lE,2,2,"li",4),o.k0s()()(),o.j41(20,"button",5),o.bIt("click",function(){return d.closeModal()}),o.EFF(21,"Close"),o.k0s()()()),2&s&&(o.R7$(10),o.SpI(" ",d.bookingId,""),o.R7$(4),o.SpI(" $",d.totalAmount.toFixed(2),""),o.R7$(5),o.Y8G("ngForOf",d.tickets))},dependencies:[vr],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;width:400px;text-align:center}.booking-details[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;border:none;background-color:#5cb85c;color:#fff;cursor:pointer;border-radius:5px}button[_ngcontent-%COMP%]:hover{background-color:#4cae4c}"]})}}return r})();function dE(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-booking-confirmation-modal",3),o.bIt("modalClosed",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.closeReserveModalAfterBooking())}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("bookingId",t.bookingId)("tickets",t.tickets)("totalAmount",t.totalAmount)}}function fE(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.Lme("",t.id," ",t.name,"")}}function hE(r,a){1&r&&(o.j41(0,"div")(1,"form",12)(2,"label",13),o.EFF(3,"Card Number"),o.k0s(),o.nrm(4,"div",14),o.j41(5,"label",15),o.EFF(6,"Expiration Date"),o.k0s(),o.nrm(7,"div",16),o.j41(8,"label",17),o.EFF(9,"Security Code"),o.k0s(),o.nrm(10,"div",18),o.k0s()())}function pE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h2"),o.EFF(2,"Time Remaining"),o.k0s(),o.j41(3,"h3"),o.EFF(4),o.k0s(),o.j41(5,"h2"),o.EFF(6,"Reservation Details"),o.k0s(),o.j41(7,"p"),o.EFF(8," Your reservation is on hold. Please complete your purchase before the time runs out. "),o.k0s(),o.j41(9,"p"),o.EFF(10,"You have reserved the following tickets:"),o.k0s(),o.j41(11,"ul"),o.DNE(12,fE,2,2,"li",9),o.k0s(),o.j41(13,"p"),o.EFF(14),o.nI1(15,"currency"),o.k0s(),o.DNE(16,hE,11,0,"div",10),o.j41(17,"button",11),o.bIt("click",function(){o.eBV(t);const d=o.XpG(3);return o.Njj(d.pay())}),o.EFF(18,"Pay"),o.k0s()()}if(2&r){const t=o.XpG(3);o.R7$(4),o.JRh(t.getFormattedTime()),o.R7$(8),o.Y8G("ngForOf",t.getSelectedTickets()),o.R7$(2),o.SpI("Total: ",o.bMT(15,4,t.totalAmount),""),o.R7$(2),o.Y8G("ngIf",0!==t.totalAmount)}}function iy(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"p"),o.EFF(2,"Please login or continue as a guest to reserve tickets."),o.k0s(),o.j41(3,"button",19),o.bIt("click",function(){o.eBV(t);const d=o.XpG(4);return o.Njj(d.login())}),o.EFF(4,"Login"),o.k0s(),o.j41(5,"button",19),o.bIt("click",function(){o.eBV(t);const d=o.XpG(4);return o.Njj(d.continueAsGuest())}),o.EFF(6,"Continue as Guest"),o.k0s()()}}function oy(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.Lme("",t.id," ",t.name,"")}}function gE(r,a){1&r&&(o.j41(0,"div",28),o.EFF(1,"Emails do not match"),o.k0s())}function mx(r,a){1&r&&(o.j41(0,"div")(1,"form",12)(2,"label",13),o.EFF(3,"Card Number"),o.k0s(),o.nrm(4,"div",14),o.j41(5,"label",15),o.EFF(6,"Expiration Date"),o.k0s(),o.nrm(7,"div",16),o.j41(8,"label",17),o.EFF(9,"Security Code"),o.k0s(),o.nrm(10,"div",18),o.k0s()())}function sy(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"form",20),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG(4);return o.Njj(d.onGuestCheckout())}),o.j41(2,"h2"),o.EFF(3,"Time Remaining"),o.k0s(),o.j41(4,"h3"),o.EFF(5),o.k0s(),o.j41(6,"h2"),o.EFF(7,"Reservation Details"),o.k0s(),o.j41(8,"p"),o.EFF(9," Your reservation is on hold. Please complete your purchase before the time runs out. "),o.k0s(),o.j41(10,"p"),o.EFF(11,"You have reserved the following tickets:"),o.k0s(),o.j41(12,"ul"),o.DNE(13,oy,2,2,"li",9),o.k0s(),o.j41(14,"p"),o.EFF(15),o.nI1(16,"currency"),o.k0s(),o.j41(17,"div",21),o.DNE(18,gE,2,0,"div",22),o.j41(19,"label",23),o.EFF(20,"Email"),o.k0s(),o.nrm(21,"input",24),o.k0s(),o.j41(22,"div",21)(23,"label",25),o.EFF(24,"Confirm Email"),o.k0s(),o.nrm(25,"input",26),o.k0s(),o.DNE(26,mx,11,0,"div",10),o.j41(27,"button",27),o.EFF(28,"Pay"),o.k0s()()()}if(2&r){const t=o.XpG(4);o.R7$(),o.Y8G("formGroup",t.guestForm),o.R7$(4),o.JRh(t.getFormattedTime()),o.R7$(8),o.Y8G("ngForOf",t.getSelectedTickets()),o.R7$(2),o.SpI("Total: ",o.bMT(16,6,t.totalAmount),""),o.R7$(3),o.Y8G("ngIf",t.emailMismatch),o.R7$(8),o.Y8G("ngIf",0!==t.totalAmount)}}function ay(r,a){if(1&r&&o.DNE(0,iy,7,0,"div",10)(1,sy,29,8,"div",10),2&r){const t=o.XpG(3);o.Y8G("ngIf",!t.isGuestCheckout&&!t.isLoggedIn),o.R7$(),o.Y8G("ngIf",t.isGuestCheckout&&!t.isLoggedIn)}}function ga(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",6)(1,"span",7),o.bIt("click",function(){o.eBV(t);const d=o.XpG(2);return o.Njj(d.close())}),o.EFF(2,"\xd7"),o.k0s(),o.DNE(3,pE,19,6,"div",8)(4,ay,2,2,"ng-template",null,0,o.C5r),o.k0s()}if(2&r){const t=o.sdS(5),s=o.XpG(2);o.R7$(3),o.Y8G("ngIf",s.isLoggedIn)("ngIfElse",t)}}function cy(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",6)(1,"span",7),o.bIt("click",function(){o.eBV(t);const d=o.XpG(2);return o.Njj(d.close())}),o.EFF(2,"\xd7"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Sorry! An error occured."),o.k0s()()}}function mE(r,a){if(1&r&&(o.j41(0,"div",4),o.DNE(1,ga,6,2,"div",5)(2,cy,5,0,"div",5),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.Y8G("ngIf",t.isTicketsAvailable),o.R7$(),o.Y8G("ngIf",!t.isTicketsAvailable)}}let yx=(()=>{class r{constructor(t,s,d,y,_){this.bookingService=t,this.paymentService=s,this.authService=d,this.fb=y,this.router=_,this.venueId=null,this.ticketIds=[],this.tickets=[],this.totalAmount=0,this.closeModal=new o.bkB,this.closeModalAfterBooking=new o.bkB,this.isLoggedIn=!1,this.isGuestCheckout=!1,this.guestEmail="",this.timer=300,this.isTicketsAvailable=!0,this.showConfirmation=!1,this.showReserveModal=!0,this.guestForm=this.fb.group({email:["",[Ht.required,Ht.email]],confirmEmail:["",[Ht.required,Ht.email]]},{validators:this.emailsMatchValidator})}ngOnInit(){var t=this;return sr(function*(){t.checkLoginStatus(),0!==t.totalAmount&&(yield t.paymentService.initializeStripe(),t.isLoggedIn&&t.isTicketsAvailable&&t.setupCardElements()),t.createReservation()})()}setupCardElements(){const t=this.paymentService.getElements();this.cardNumberElement=t?.create("cardNumber"),this.cardNumberElement?.mount("#card-number-element"),this.cardExpiryElement=t?.create("cardExpiry"),this.cardExpiryElement?.mount("#card-expiry-element"),this.cardCvcElement=t?.create("cardCvc"),this.cardCvcElement?.mount("#card-cvc-element")}pay(){0!==this.totalAmount?this.isGuestCheckout?this.paymentService.createGuestPaymentIntent(this.ticketIds,this.venueId,this.sessionToken).subscribe(t=>{this.clientSecret=t.clientSecret,this.paymentService.confirmPayment(this.clientSecret,this.cardNumberElement)?.then(s=>{if(s.error)switch(s.error.code){case"expired_card":console.log("your card is expired");break;case"incorrect_cvc":console.log("incorrect cvc");break;case"processing_error":console.log("there was an error processing your card");break;case"incorrect_number":console.log("your card number is incorrect");break;default:console.log("your card was declined")}else this.confirmGuestPurchase(t.paymentIntentId),console.log("Payment successful! ",s)})}):this.paymentService.createPaymentIntent(this.ticketIds,this.venueId).subscribe(t=>{this.clientSecret=t.clientSecret,this.paymentService.confirmPayment(this.clientSecret,this.cardNumberElement)?.then(s=>{if(s.error)switch(s.error.code){case"expired_card":console.log("your card is expired");break;case"incorrect_cvc":console.log("incorrect cvc");break;case"processing_error":console.log("there was an error processing your card");break;case"incorrect_number":console.log("your card number is incorrect");break;default:console.log("your card was declined")}else this.confirmPurchase(t.paymentIntentId),console.log("Payment successful! ",s)})}):this.isGuestCheckout?this.confirmGuestPurchase(null):this.confirmPurchase(null)}checkLoginStatus(){this.isLoggedIn=this.authService.isAuthenticated()}createReservation(){if(this.isLoggedIn){this.startTimer();const t=[];for(let s=0;s<this.ticketIds.length;s++)t.push(Number(this.ticketIds[s]));this.bookingService.createReservation(t).subscribe({next:s=>{this.bookingId=s.id,console.log("Reservation created:",s)},error:s=>{this.isTicketsAvailable=!1,console.error("Error creating reservation:",s)}})}}confirmPurchase(t){this.bookingService.confirmReservation(this.bookingId,t).subscribe({next:s=>{console.log("Tickets purchased:",s),this.openBookingConfirmationModal()},error:s=>{this.isTicketsAvailable=!1,console.error("Error confirming purchase:",s)}})}cancelReservation(){this.bookingService.releaseReservation(this.bookingId).subscribe({next:t=>{console.log("Reservation released:",t)},error:t=>{console.error("Error releasing reservation:",t)}})}getSelectedTickets(){return this.tickets.filter(s=>this.ticketIds.includes(s.id))}login(){this.router.navigate(["/login"])}emailsMatchValidator(t){const s=t.get("email")?.value,d=t.get("confirmEmail")?.value;return s&&d&&s!==d?{emailsMismatch:!0}:null}get emailMismatch(){return this.guestForm.hasError("emailsMismatch")&&this.guestForm.get("confirmEmail")?.touched}continueAsGuest(){var t=this;return sr(function*(){t.isGuestCheckout=!0;let s=localStorage.getItem("guestSessionToken");try{!s||t.authService.isTokenExpired(s)?t.bookingService.startGuestCheckout().subscribe({next:y=>{t.sessionToken=y.guestCheckoutToken,localStorage.setItem("guestSessionToken",t.sessionToken)},error:y=>{t.isGuestCheckout=!1,t.isTicketsAvailable=!1,console.error("Error starting guest session:",y)}}):t.sessionToken=s}catch{t.isGuestCheckout=!1,t.isTicketsAvailable=!1}if(0!==t.totalAmount){yield t.paymentService.initializeStripe(),t.paymentService.getElements(),yield new Promise(_=>setTimeout(_,100));try{t.setupCardElements()}catch{t.isGuestCheckout=!1,t.isTicketsAvailable=!1}}const d=[];for(let y=0;y<t.ticketIds.length;y++)d.push(Number(t.ticketIds[y]));t.startTimer(),t.bookingService.createGuestReservation(d,t.sessionToken).subscribe({next:y=>{t.bookingId=y.id},error:y=>{401===y.status&&localStorage.removeItem("guestSessionToken"),clearInterval(t.interval),t.isGuestCheckout=!1,t.isTicketsAvailable=!1}})})()}onGuestCheckout(){this.guestForm.invalid||(this.guestEmail=this.guestForm.value.email,this.pay())}cancelGuestReservation(){this.bookingService.releaseGuestReservation(this.bookingId,this.sessionToken).subscribe({next:t=>{console.log("Reservation released:",t)},error:t=>{console.error("Error releasing reservation:",t)}})}confirmGuestPurchase(t){this.bookingService.confirmGuestReservation(this.bookingId,t,this.guestEmail,this.sessionToken).subscribe({next:s=>{console.log("Tickets purchased:",s),this.openBookingConfirmationModal()},error:s=>{this.isTicketsAvailable=!1,console.error("Error confirming purchase:",s)}})}startTimer(){this.interval=setInterval(()=>{this.timer>0?this.timer--:(clearInterval(this.interval),this.isGuestCheckout?this.cancelGuestReservation():this.cancelReservation())},1e3)}close(){this.isLoggedIn&&!this.showConfirmation&&this.isTicketsAvailable&&this.cancelReservation(),this.isGuestCheckout&&!this.showConfirmation&&this.isTicketsAvailable&&this.cancelGuestReservation(),clearInterval(this.interval),this.closeModal.emit()}closeReserveModalAfterBooking(){clearInterval(this.interval),this.closeModalAfterBooking.emit()}openBookingConfirmationModal(){clearInterval(this.interval),this.tickets=this.getSelectedTickets(),this.showReserveModal=!1,this.showConfirmation=!0}getFormattedTime(){return`${Math.floor(this.timer/60)}:${this.padZero(this.timer%60)}`}padZero(t){return t<10?"0"+t:t.toString()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Km),o.rXU(Vp),o.rXU(lr),o.rXU(Wo),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-reserve-ticket-modal"]],inputs:{venueId:"venueId",ticketIds:"ticketIds",tickets:"tickets",totalAmount:"totalAmount"},outputs:{closeModal:"closeModal",closeModalAfterBooking:"closeModalAfterBooking"},decls:2,vars:2,consts:[["loginPrompt",""],[3,"bookingId","tickets","totalAmount","modalClosed",4,"ngIf"],["class","custom-modal-backdrop",4,"ngIf"],[3,"modalClosed","bookingId","tickets","totalAmount"],[1,"custom-modal-backdrop"],["class","custom-modal",4,"ngIf"],[1,"custom-modal"],[1,"close",3,"click"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"click"],["id","payment-form"],["for","card-number-element"],["id","card-number-element",1,"stripe-input"],["for","card-expiry-element"],["id","card-expiry-element",1,"stripe-input"],["for","card-cvc-element"],["id","card-cvc-element",1,"stripe-input"],[3,"click"],[3,"ngSubmit","formGroup"],[1,"form-group"],["class","error-email",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","required","","placeholder","Enter your email",1,"form-input"],["for","confirmEmail"],["type","email","id","confirmEmail","formControlName","confirmEmail","required","","placeholder","Confirm your email",1,"form-input"],["type","submit"],[1,"error-email"]],template:function(s,d){1&s&&o.DNE(0,dE,1,3,"app-booking-confirmation-modal",1)(1,mE,3,2,"div",2),2&s&&(o.Y8G("ngIf",d.showConfirmation),o.R7$(),o.Y8G("ngIf",d.showReserveModal))},dependencies:[vr,En,$r,mr,Fr,li,Mi,Yi,$o,Is,uE,wr],styles:[".custom-modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center}.custom-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000004d;width:400px;max-width:90%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]{margin-right:10px}.stripe-input[_ngcontent-%COMP%]{border:1px solid #ccc;padding:12px;margin-bottom:10px;border-radius:4px}.form-input[_ngcontent-%COMP%]{width:375px;border:1px solid #ccc;padding:12px;margin-bottom:10px;border-radius:4px}.error-email[_ngcontent-%COMP%]{color:red}"]})}}return r})();function jp(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-reserve-ticket-modal",2),o.bIt("closeModal",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.closeReserveModal())})("closeModalAfterBooking",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.closeReserveModalAfterBooking())}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("venueId",t.venueId)("ticketIds",t.selectedTicketIds)("tickets",t.rawTickets)("totalAmount",t.totalAmount)}}function Hp(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"div")(2,"span"),o.EFF(3),o.nI1(4,"currency"),o.k0s(),o.j41(5,"span"),o.EFF(6),o.k0s(),o.j41(7,"span"),o.EFF(8),o.k0s()(),o.j41(9,"div")(10,"button",8),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.decrementTicket(d.price))}),o.EFF(11,"-"),o.k0s(),o.j41(12,"span"),o.EFF(13),o.k0s(),o.j41(14,"button",8),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.incrementTicket(d.price))}),o.EFF(15,"+"),o.k0s()()()}if(2&r){const t=a.$implicit;o.R7$(3),o.SpI("Price: ",o.bMT(4,6,t.price),""),o.R7$(3),o.SpI(" Total Available: ",t.totalAvailable,""),o.R7$(2),o.SpI(" Selected: ",t.selectedCount,""),o.R7$(2),o.Y8G("disabled",0===t.selectedCount),o.R7$(3),o.JRh(t.selectedCount),o.R7$(),o.Y8G("disabled",t.selectedCount>=t.totalAvailable)}}function yE(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.Lme(" Ticket ID: ",t.id," ",t.name," ")}}function ly(r,a){1&r&&(o.j41(0,"div"),o.EFF(1,"Sold Out"),o.k0s())}function Gp(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",3)(1,"div",4)(2,"span",5),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.close())}),o.EFF(3,"\xd7"),o.k0s(),o.j41(4,"h2"),o.EFF(5,"Select Tickets for Purchase"),o.k0s(),o.DNE(6,Hp,16,8,"div",6),o.j41(7,"h3"),o.EFF(8,"Selected Tickets:"),o.k0s(),o.j41(9,"ul"),o.DNE(10,yE,2,2,"li",6),o.k0s(),o.DNE(11,ly,2,0,"div",7),o.j41(12,"button",8),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openReserveModal())}),o.EFF(13,"Reserve Tickets"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(6),o.Y8G("ngForOf",t.ticketsByPrice),o.R7$(4),o.Y8G("ngForOf",t.getSelectedTickets()),o.R7$(),o.Y8G("ngIf",0===t.ticketsByPrice.length),o.R7$(),o.Y8G("disabled",0===t.selectedTicketIds.length)}}let uy=(()=>{class r{constructor(t,s){this.eventService=t,this.route=s,this.modalClosed=new o.bkB,this.ticketsByPrice=[],this.selectedTicketIds=[],this.rawTickets=[],this.showReserveModal=!1,this.venueId=null,this.showSelectionModal=!1,this.event=null,this.totalAmount=0}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id")}getSelectedTickets(){return this.rawTickets.filter(s=>this.selectedTicketIds.includes(s.id))}calculateTotalAmount(){this.totalAmount=this.ticketsByPrice.reduce((t,s)=>t+s.price*s.selectedCount,0),console.log("Total amount for selected tickets:",this.totalAmount)}fetchTickets(){this.eventService.getEvent(this.eventId).subscribe(t=>{this.venueId=t.venue.id,this.rawTickets=t?.tickets,this.aggregateTicketsByPrice()})}aggregateTicketsByPrice(){const t=this.rawTickets.filter(d=>"AVAILABLE"===d.status),s={};t.forEach(d=>{s[d.price]||(s[d.price]={price:d.price,totalAvailable:0,tickets:[],selectedCount:0}),s[d.price].totalAvailable++,s[d.price].tickets.push(d)}),this.ticketsByPrice=Object.values(s)}incrementTicket(t){const s=this.ticketsByPrice.find(d=>d.price===t);if(s&&s.selectedCount<s.totalAvailable){const d=s.tickets[Math.floor(Math.random()*s.tickets.length)];this.selectedTicketIds.push(d.id),s.tickets=s.tickets.filter(y=>y.id!==d.id),s.selectedCount++,this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}decrementTicket(t){const s=this.ticketsByPrice.find(d=>d.price===t);if(s&&s.selectedCount>0){const d=this.selectedTicketIds.pop();s.selectedCount--;const y=this.rawTickets.find(_=>_.id===d);y&&s.tickets.push(y),this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}removeTicket(t){this.selectedTicketIds=this.selectedTicketIds.filter(s=>s!==t),console.log("Updated selected ticket IDs:",this.selectedTicketIds)}close(){this.selectedTicketIds=[],this.modalClosed.emit()}openReserveModal(){this.showReserveModal=!0,this.showSelectionModal=!1}closeReserveModal(){var t=this;return sr(function*(){yield new Promise(s=>setTimeout(s,100)),t.selectedTicketIds=[],t.fetchTickets(),t.showReserveModal=!1,t.showSelectionModal=!0})()}closeReserveModalAfterBooking(){this.selectedTicketIds=[],this.showReserveModal=!1,this.showSelectionModal=!1,this.close()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cc),o.rXU(Hr))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-ticket-selection-modal"]],inputs:{venueId:"venueId",showSelectionModal:"showSelectionModal",event:"event"},outputs:{modalClosed:"modalClosed"},decls:2,vars:2,consts:[[3,"venueId","ticketIds","tickets","totalAmount","closeModal","closeModalAfterBooking",4,"ngIf"],["class","modal",4,"ngIf"],[3,"closeModal","closeModalAfterBooking","venueId","ticketIds","tickets","totalAmount"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click","disabled"]],template:function(s,d){1&s&&o.DNE(0,jp,1,4,"app-reserve-ticket-modal",0)(1,Gp,14,4,"div",1),2&s&&(o.Y8G("ngIf",d.showReserveModal),o.R7$(),o.Y8G("ngIf",d.showSelectionModal))},dependencies:[vr,En,yx,wr],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000004d;width:400px;max-width:90%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function vx(r,a){if(1&r&&(o.j41(0,"div")(1,"p")(2,"strong"),o.EFF(3,"Performer:"),o.k0s(),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(4),o.SpI(" ",t.name,"")}}function nf(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",2)(1,"h2"),o.EFF(2),o.k0s(),o.j41(3,"p")(4,"strong"),o.EFF(5,"Description:"),o.k0s(),o.EFF(6),o.k0s(),o.j41(7,"p")(8,"strong"),o.EFF(9,"Venue:"),o.k0s(),o.EFF(10),o.k0s(),o.DNE(11,vx,5,1,"div",3),o.j41(12,"p")(13,"strong"),o.EFF(14,"Date:"),o.k0s(),o.EFF(15),o.nI1(16,"date"),o.k0s(),o.j41(17,"button",4),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openTicketSelectionModal())}),o.EFF(18,"Purchase Tickets"),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(2),o.JRh(t.eventDetails.name),o.R7$(4),o.SpI(" ",t.eventDetails.description,""),o.R7$(4),o.SpI(" ",t.eventDetails.venue.name,""),o.R7$(),o.Y8G("ngForOf",t.eventDetails.performers),o.R7$(4),o.SpI(" ",o.i5U(16,5,t.eventDetails.date,"medium"),"")}}let vE=(()=>{class r{constructor(t,s,d){this.eventService=t,this.route=s,this.router=d,this.showTicketSelectionModal=!1;const y=this.router.getCurrentNavigation()?.extras?.state?.data;this.eventDetails=y}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.sourceId=this.route.snapshot.paramMap.get("sourceId"),this.fetchEventDetails(this.sourceId)}fetchEventDetails(t){this.eventService.getEvent(this.eventId,t).subscribe(s=>{switch(t){case nu.o:this.eventDetails=s;break;case nu.tm:this.eventDetails={};let d=[];s._embedded.attractions?.forEach(y=>{d.push(y)}),this.eventDetails.id=s.id,this.eventDetails.name=s.name,this.eventDetails.status=s.dates.status.code,this.eventDetails.date=new Date(s.dates.start.dateTime),this.eventDetails.venue=s._embedded.venues[0],this.eventDetails.performers=d,this.eventDetails.description="",this.eventDetails.url=s.url,this.eventDetails.type="ticketmaster",this.eventDetails.tickets=[]}},s=>{console.error("Error fetching event details:",s)})}openTicketSelectionModal(){"o"===this.sourceId?(setTimeout(()=>{this.ticketSelectionModal.fetchTickets()}),this.showTicketSelectionModal=!0):window.location.href=this.eventDetails.url}onModalClosed(){this.showTicketSelectionModal=!1}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cc),o.rXU(Hr),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-event-details"]],viewQuery:function(s,d){if(1&s&&o.GBs(uy,5),2&s){let y;o.mGM(y=o.lsd())&&(d.ticketSelectionModal=y.first)}},decls:2,vars:3,consts:[[3,"modalClosed","showSelectionModal","event"],["class","event-details-container",4,"ngIf"],[1,"event-details-container"],[4,"ngFor","ngForOf"],[1,"purchase-button",3,"click"]],template:function(s,d){1&s&&(o.j41(0,"app-ticket-selection-modal",0),o.bIt("modalClosed",function(){return d.onModalClosed()}),o.k0s(),o.DNE(1,nf,19,8,"div",1)),2&s&&(o.Y8G("showSelectionModal",d.showTicketSelectionModal)("event",d.eventDetails),o.R7$(),o.Y8G("ngIf",d.eventDetails))},dependencies:[vr,En,uy,Us],styles:[".event-details-container[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;background-color:#f9f9f9}.purchase-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#007bff;color:#fff;border:none;cursor:pointer}.purchase-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();var CE=F(8314);function zp(r,a){if(1&r&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&r){const t=o.XpG().$implicit;o.R7$(),o.SpI(" ",t.status,"")}}function wE(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.nI1(2,"currency"),o.DNE(3,zp,2,1,"span",8),o.nrm(4,"canvas",9),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.E5c(" Ticket ID: ",t.id,", ",t.name," , Price: ",o.bMT(2,6,t.price)," "),o.R7$(2),o.Y8G("ngIf","REFUNDED"===t.status),o.R7$(),o.Mz_("id","ticket-",t.id,"")}}function vo(r,a){if(1&r&&(o.j41(0,"div",6)(1,"p")(2,"strong"),o.EFF(3,"Booking ID:"),o.k0s(),o.EFF(4),o.k0s(),o.j41(5,"p")(6,"strong"),o.EFF(7,"Booking Date:"),o.k0s(),o.EFF(8),o.nI1(9,"date"),o.k0s(),o.j41(10,"p")(11,"strong"),o.EFF(12,"Event:"),o.k0s(),o.EFF(13),o.k0s(),o.j41(14,"p")(15,"strong"),o.EFF(16,"Event Status:"),o.k0s(),o.EFF(17),o.k0s(),o.j41(18,"p")(19,"strong"),o.EFF(20,"Event Date:"),o.k0s(),o.EFF(21),o.nI1(22,"date"),o.k0s(),o.j41(23,"p")(24,"strong"),o.EFF(25,"Show Time:"),o.k0s(),o.EFF(26),o.k0s(),o.j41(27,"p")(28,"strong"),o.EFF(29,"Venue:"),o.k0s(),o.EFF(30),o.k0s(),o.j41(31,"p")(32,"strong"),o.EFF(33,"Total Amount:"),o.k0s(),o.EFF(34),o.nI1(35,"currency"),o.k0s(),o.j41(36,"h5"),o.EFF(37,"Tickets"),o.k0s(),o.j41(38,"ul"),o.DNE(39,wE,5,8,"li",7),o.k0s()()),2&r){const t=o.XpG();o.R7$(4),o.SpI(" ",t.bookingDetails.id,""),o.R7$(4),o.SpI(" ",o.i5U(9,9,t.bookingDetails.date,"shortDate"),""),o.R7$(5),o.SpI(" ",t.bookingDetails.event.name,""),o.R7$(4),o.SpI(" ",t.bookingDetails.event.status,""),o.R7$(4),o.SpI(" ",o.i5U(22,12,t.bookingDetails.event.date,"shortDate"),""),o.R7$(5),o.SpI(" ",t.getTimeFromDate(t.bookingDetails.event.date),""),o.R7$(4),o.SpI(" ",t.bookingDetails.venue.name,""),o.R7$(4),o.SpI(" ",o.bMT(35,15,t.bookingDetails.totalPrice),""),o.R7$(5),o.Y8G("ngForOf",t.bookingDetails.tickets)}}let au=(()=>{class r{constructor(){this.bookings=[],this.close=new o.bkB}ngOnInit(){this.loadBookingDetails()}ngAfterViewInit(){this.generateQRCode(this.bookingDetails.tickets)}generateQRCode(t){t.forEach(s=>{const d=document.getElementById("ticket-"+s.id);CE.mo(d,s.token,{width:200},y=>{y&&console.error(y),console.log("QR code generated successfully")})})}getTimeFromDate(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}loadBookingDetails(){this.bookingDetails=this.bookings.find(t=>t.id===this.bookingId)}closeModal(){this.close.emit()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-booking-details-modal"]],inputs:{bookingId:"bookingId",bookings:"bookings"},outputs:{close:"close"},decls:8,vars:1,consts:[[1,"modal-overlay"],[1,"modal-container"],[1,"modal-header"],[1,"modal-title"],[1,"close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),o.EFF(4,"Booking Details"),o.k0s(),o.j41(5,"span",4),o.bIt("click",function(){return d.closeModal()}),o.EFF(6,"\xd7"),o.k0s()(),o.DNE(7,vo,40,17,"div",5),o.k0s()()),2&s&&(o.R7$(7),o.Y8G("ngIf",d.bookingDetails))},dependencies:[vr,En,wr,Us],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:20px;width:80%;max-width:500px;border-radius:10px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-body[_ngcontent-%COMP%]{margin-top:20px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function Kn(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",3)(1,"span"),o.EFF(2),o.k0s(),o.j41(3,"span"),o.EFF(4),o.nI1(5,"date"),o.k0s(),o.j41(6,"button",4),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG();return o.Njj(y.openBookingDetails(d.id))}),o.EFF(7,"View Details"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.SpI("Booking ID: ",t.id,""),o.R7$(2),o.SpI("Booking Date: ",o.i5U(5,2,t.date,"shortDate"),"")}}function ma(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-booking-details-modal",5),o.bIt("close",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.closeModal())}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("bookingId",t.selectedBookingId)("bookings",t.bookings)}}let rf=(()=>{class r{constructor(t){this.bookingsService=t,this.bookings=[],this.selectedBookingId=null,this.isModalOpen=!1}ngOnInit(){this.loadBookings()}loadBookings(){this.bookingsService.getBookingsForUser().subscribe(t=>{this.bookings=t})}openBookingDetails(t){this.selectedBookingId=t,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Km))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-bookings"]],decls:5,vars:2,consts:[[1,"booking-list"],["class","booking-item",4,"ngFor","ngForOf"],[3,"bookingId","bookings","close",4,"ngIf"],[1,"booking-item"],[3,"click"],[3,"close","bookingId","bookings"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Your Bookings"),o.k0s(),o.DNE(3,Kn,8,5,"div",1),o.k0s(),o.DNE(4,ma,1,2,"app-booking-details-modal",2)),2&s&&(o.R7$(3),o.Y8G("ngForOf",d.bookings),o.R7$(),o.Y8G("ngIf",d.isModalOpen))},dependencies:[vr,En,au,Us],styles:[".booking-list[_ngcontent-%COMP%]{margin:20px}.booking-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc;display:flex;justify-content:space-between}.booking-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}"]})}}return r})();class Ni extends Zu.yU{constructor(a,t){super()}schedule(a,t=0){return this}}const Qo={setInterval(r,a,...t){const{delegate:s}=Qo;return s?.setInterval?s.setInterval(r,a,...t):setInterval(r,a,...t)},clearInterval(r){const{delegate:a}=Qo;return(a?.clearInterval||clearInterval)(r)},delegate:void 0};var EE=F(7908);const sf={now:()=>(sf.delegate||Date).now(),delegate:void 0};class Ec{constructor(a,t=Ec.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,s){return new this.schedulerActionCtor(this,a).schedule(s,t)}}Ec.now=sf.now;const _E=new class dy extends Ec{constructor(a,t=Ec.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let s;this._active=!0;do{if(s=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,s){for(;a=t.shift();)a.unsubscribe();throw s}}}(class cu extends Ni{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var s;if(this.closed)return this;this.state=a;const d=this.id,y=this.scheduler;return null!=d&&(this.id=this.recycleAsyncId(y,d,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(y,this.id,t),this}requestAsyncId(a,t,s=0){return Qo.setInterval(a.flush.bind(a,this),s)}recycleAsyncId(a,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&Qo.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(a,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let d,s=!1;try{this.work(a)}catch(y){s=!0,d=y||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),d}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,EE.o)(s,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});function Gn(r,a=_E){return(0,qn.N)((t,s)=>{let d=null,y=null,_=null;const M=()=>{if(d){d.unsubscribe(),d=null;const T=y;y=null,s.next(T)}};function R(){const T=_+r,V=a.now();if(V<T)return d=this.schedule(void 0,T-V),void s.add(d);M()}t.subscribe((0,Zn._)(s,T=>{y=T,_=a.now(),d||(d=a.schedule(R,r),s.add(d))},()=>{M(),s.complete()},void 0,()=>{y=d=null}))})}function $p(r,a=ls.D){return r=r??bE,(0,qn.N)((t,s)=>{let d,y=!0;t.subscribe((0,Zn._)(s,_=>{const M=a(_);(y||!r(d,M))&&(y=!1,d=M,s.next(_))}))})}function bE(r,a){return r===a}var Qn=F(262),lu=F.t(Qn,2);let ya=(()=>{class r{constructor(){this._papa=lu}parse(t,s){return this._papa.parse(t,s)}unparse(t,s){return this._papa.unparse(t,s)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function af(r,a){if(1&r){const t=o.RV6();o.j41(0,"li",20),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2).index,_=o.XpG();return o.Njj(_.selectPerformer(y,d))}),o.EFF(1),o.k0s()}if(2&r){const t=a.$implicit;o.R7$(),o.SpI(" ",t.name," ")}}function uu(r,a){if(1&r&&(o.j41(0,"ul",18),o.DNE(1,af,2,1,"li",19),o.k0s()),2&r){const t=o.XpG().index,s=o.XpG();o.R7$(),o.Y8G("ngForOf",s.performerSearchResults[t])}}function cf(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",15)(1,"input",16),o.bIt("input",function(){let d;const y=o.eBV(t),_=y.$implicit,M=y.index,R=o.XpG();return o.Njj(R.onSearchPerformer(M,null==(d=_.get("name"))?null:d.value))}),o.k0s(),o.DNE(2,uu,2,1,"ul",17),o.j41(3,"button",11),o.bIt("click",function(){const d=o.eBV(t).index,y=o.XpG();return o.Njj(y.removePerformer(d))}),o.EFF(4," Remove Performer "),o.k0s()()}if(2&r){const t=a.index,s=o.XpG();o.Y8G("formGroupName",t),o.R7$(2),o.Y8G("ngIf",null==s.performerSearchResults[t]?null:s.performerSearchResults[t].length)}}function fy(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",15)(1,"div",2)(2,"label",21),o.EFF(3,"Ticket Name: "),o.k0s(),o.nrm(4,"input",22),o.k0s(),o.j41(5,"div",2)(6,"label",21),o.EFF(7,"Ticket Price: "),o.k0s(),o.nrm(8,"input",23),o.k0s(),o.j41(9,"div",2)(10,"label",21),o.EFF(11,"Ticket Quantity: "),o.k0s(),o.nrm(12,"input",24),o.k0s(),o.j41(13,"button",11),o.bIt("click",function(){const d=o.eBV(t).index,y=o.XpG();return o.Njj(y.removeTicket(d))}),o.EFF(14,"Remove Ticket"),o.k0s()()}if(2&r){const t=a.index;o.Y8G("formGroupName",t),o.R7$(2),o.Mz_("for","ticketName-",t,""),o.R7$(2),o.Mz_("id","ticketName-",t,""),o.R7$(2),o.Mz_("for","ticketPrice-",t,""),o.R7$(2),o.Mz_("id","ticketPrice-",t,""),o.R7$(2),o.Mz_("for","ticketQuantity-",t,""),o.R7$(2),o.Mz_("id","ticketQuantity-",t,"")}}let hy=(()=>{class r{constructor(t,s,d,y,_){this.papa=t,this.fb=s,this.performerService=d,this.userService=y,this.eventService=_,this.performerSearchResults=[],this.selectedPerformerIds=[],this.searchTerms=new Ro.B,this.currentIndex=0,this.eventForm=this.fb.group({name:["",Ht.required],eventDate:[null,Ht.required],ticketExpirationDate:[null,Ht.required],performers:this.fb.array([]),tickets:this.fb.array([])}),this.performers.valueChanges.subscribe(()=>{this.performerSearchResults=this.performers.controls.map(()=>[])})}ngOnInit(){this.searchTerms.pipe(Gn(300),$p(),or(t=>{const s=this.currentIndex;return t.length>1?this.performerService.searchPerformers(t):(this.performerSearchResults[s]=[],[])})).subscribe(t=>{this.performerSearchResults[this.currentIndex]=t})}onFileSelected(t){const s=t.target.files?.[0];if(s){const d=new FileReader;d.onload=y=>{const _=y.target?.result;this.papa.parse(_,{header:!0,complete:M=>{M.data.splice(M.data.length-1,1),this.addTickets(M.data)}})},d.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},d.readAsText(s)}}get performers(){return this.eventForm.get("performers")}get tickets(){return this.eventForm.get("tickets")}addPerformer(){const t=this.fb.group({name:["",Ht.required]});this.performers.push(t),this.performerSearchResults.push([])}onSearchPerformer(t,s){this.currentIndex=t,this.searchTerms.next(s)}selectPerformer(t,s){this.selectedPerformerIds.push(s.id);const d=this.performers.at(t).get("name");d&&d.setValue(s.name),this.performerSearchResults[t]=[]}removePerformer(t){this.performers.removeAt(t),this.selectedPerformerIds.splice(t,1)}addTicket(){const t=this.fb.group({name:["",Ht.required],price:[0,[Ht.required,Ht.min(0)]],quantity:[0,[Ht.required,Ht.min(1)]]});this.eventForm.get("tickets").push(t)}addTickets(t){t.forEach(s=>{const d=this.fb.group({name:[s.name,Ht.required],price:[s.price,Ht.required],quantity:[s.quantity,Ht.required]});this.eventForm.get("tickets").push(d)})}removeTicket(t){this.eventForm.get("tickets").removeAt(t)}formTicketsToRequestTickets(){if(this.eventForm.valid){let s=[];return this.eventForm.value.tickets.forEach(d=>{for(let y=0;y<d.quantity;y++)s.push({name:d.name,price:d.price})}),s}return[]}onSubmit(){if(this.eventForm.valid){const t=this.eventForm.value;this.userService.getUser().subscribe({next:s=>{let d={name:t.name,venueId:s.id,date:t.eventDate,ticketExpiry:t.ticketExpirationDate,tickets:this.formTicketsToRequestTickets(),performerIds:this.selectedPerformerIds};this.eventService.createEvent(d).subscribe({next:()=>{this.eventForm.reset(),alert("Event created!")}})}})}else console.log("Form is not valid")}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ya),o.rXU(Wo),o.rXU(kp),o.rXU(yo),o.rXU(Cc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-create-event"]],decls:31,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","placeholder","Enter event name",1,"form-control"],["for","eventDate"],["id","eventDate","formControlName","eventDate","type","datetime-local"],["for","ticketExpirationDate"],["id","ticketExpirationDate","formControlName","ticketExpirationDate","type","datetime-local"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","tickets"],["type","submit",3,"disabled"],["type","file",3,"change"],[3,"formGroupName"],["type","text","formControlName","name","placeholder","Search Performer",3,"input"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],["class","performer-list-item",3,"click",4,"ngFor","ngForOf"],[1,"performer-list-item",3,"click"],[3,"for"],["formControlName","name","placeholder","Enter ticket name",1,"form-control",3,"id"],["formControlName","price","placeholder","Enter ticket price","type","number",1,"form-control",3,"id"],["formControlName","quantity","placeholder","Enter ticket quantity","type","number",1,"form-control",3,"id"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Create Event"),o.k0s(),o.j41(3,"form",1),o.bIt("ngSubmit",function(){return d.onSubmit()}),o.j41(4,"div",2)(5,"label",3),o.EFF(6,"Event Name: "),o.k0s(),o.nrm(7,"input",4),o.k0s(),o.j41(8,"div")(9,"label",5),o.EFF(10,"Event Date: "),o.k0s(),o.nrm(11,"input",6),o.k0s(),o.j41(12,"div")(13,"label",7),o.EFF(14,"Ticket Expiration Date: "),o.k0s(),o.nrm(15,"input",8),o.k0s(),o.j41(16,"h3"),o.EFF(17,"Performers"),o.k0s(),o.j41(18,"div",9),o.DNE(19,cf,5,2,"div",10),o.k0s(),o.j41(20,"button",11),o.bIt("click",function(){return d.addPerformer()}),o.EFF(21,"Add Performer"),o.k0s(),o.j41(22,"h3"),o.EFF(23,"Tickets"),o.k0s(),o.j41(24,"div",12),o.DNE(25,fy,15,13,"div",10),o.k0s(),o.j41(26,"button",11),o.bIt("click",function(){return d.addTicket()}),o.EFF(27,"Add Ticket"),o.k0s(),o.j41(28,"button",13),o.EFF(29,"Submit Event"),o.k0s()()(),o.j41(30,"input",14),o.bIt("change",function(_){return d.onFileSelected(_)}),o.k0s()),2&s&&(o.R7$(3),o.Y8G("formGroup",d.eventForm),o.R7$(16),o.Y8G("ngForOf",d.performers.controls),o.R7$(6),o.Y8G("ngForOf",d.tickets.controls),o.R7$(3),o.Y8G("disabled",!d.eventForm.valid))},dependencies:[vr,En,$r,mr,dc,Fr,li,$o,Is,jl,Hl],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:5px 0}.performer-list-item[_ngcontent-%COMP%]{cursor:pointer}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();function py(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2,"No events found for this venue."),o.k0s()())}function lf(r,a){if(1&r){const t=o.RV6();o.j41(0,"li")(1,"span"),o.EFF(2),o.nI1(3,"date"),o.k0s(),o.j41(4,"button",2),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.editEvent(d.id))}),o.EFF(5,"Edit"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.E5c("",t.name," - ",o.i5U(3,3,t.date,"shortDate")," - ",t.status,"")}}function Wp(r,a){if(1&r&&(o.j41(0,"ul")(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,lf,6,6,"li",1),o.k0s()),2&r){const t=o.XpG();o.R7$(2),o.SpI("Events for ",null==t.events[0]?null:t.events[0].venue.name,""),o.R7$(),o.Y8G("ngForOf",t.events)}}let gy=(()=>{class r{constructor(t,s,d){this.route=t,this.eventService=s,this.router=d,this.events=[]}ngOnInit(){this.venueId=this.route.snapshot.paramMap.get("venueId")||"",this.fetchEvents()}fetchEvents(){this.eventService.getEventsByVenue().subscribe(t=>{this.events=t},t=>{console.error("Error fetching events: ",t)})}editEvent(t){this.router.navigate(["/venue","events",t,"edit"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Hr),o.rXU(Cc),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-venue-event-list"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(s,d){1&s&&o.DNE(0,py,3,0,"div",0)(1,Wp,4,2,"ul",0),2&s&&(o.Y8G("ngIf",0===d.events.length),o.R7$(),o.Y8G("ngIf",d.events.length>0))},dependencies:[vr,En,Us],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-left:15px}"]})}}return r})();function wx(r,a){if(1&r){const t=o.RV6();o.j41(0,"li",21),o.bIt("click",function(){const d=o.eBV(t).$implicit,y=o.XpG(2).index,_=o.XpG();return o.Njj(_.selectPerformer(y,d))}),o.EFF(1),o.k0s()}if(2&r){const t=a.$implicit;o.R7$(),o.SpI(" ",t.name," ")}}function _c(r,a){if(1&r&&(o.j41(0,"ul",19),o.DNE(1,wx,2,1,"li",20),o.k0s()),2&r){const t=o.XpG().index,s=o.XpG();o.R7$(),o.Y8G("ngForOf",s.performerSuggestions[t])}}function my(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",16),o.nrm(1,"input",17),o.j41(2,"button",5),o.bIt("click",function(){const d=o.eBV(t).index,y=o.XpG();return o.Njj(y.removePerformer(d))}),o.EFF(3,"Remove"),o.k0s(),o.DNE(4,_c,2,1,"ul",18),o.k0s()}if(2&r){const t=a.index,s=o.XpG();o.Y8G("formGroupName",t),o.R7$(4),o.Y8G("ngIf",s.performerSuggestions[t].length>0)}}function du(r,a){if(1&r&&(o.j41(0,"option",22),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.SpI(" ",t," ")}}function xE(r,a){if(1&r&&(o.j41(0,"option",22),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.SpI(" ",t," ")}}function IE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",16),o.nrm(1,"input",23)(2,"input",24)(3,"input",25),o.j41(4,"select",26),o.DNE(5,xE,2,2,"option",10),o.k0s(),o.j41(6,"button",27),o.bIt("click",function(){const d=o.eBV(t).index,y=o.XpG();return o.Njj(y.removeTicket(d))}),o.EFF(7," Remove Ticket "),o.k0s()()}if(2&r){let t;const s=a.$implicit,d=a.index,y=o.XpG();o.Y8G("formGroupName",d),o.R7$(5),o.Y8G("ngForOf",y.ticketStatuses),o.R7$(),o.Y8G("hidden",null==(t=s.get("id"))?null:t.value)}}let uf=(()=>{class r{constructor(t,s,d,y,_,M){this.papa=t,this.route=s,this.fb=d,this.eventService=y,this.performerService=_,this.router=M,this.performerSuggestions=[],this.statusOptions=["OPEN","CANCELED","CLOSED"],this.ticketStatuses=["AVAILABLE","UNAVAILABLE"],this.eventForm=this.fb.group({name:["",Ht.required],performers:this.fb.array([]),date:["",Ht.required],ticketExpirationDate:["",Ht.required],status:["",Ht.required],tickets:this.fb.array([])}),this.performersArray=this.eventForm.get("performers")}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("eventId")||"",this.loadEventDetails()}onFileSelected(t){const s=t.target.files?.[0];if(s){const d=new FileReader;d.onload=y=>{const _=y.target?.result;this.papa.parse(_,{header:!0,complete:M=>{M.data.splice(M.data.length-1,1),this.addTickets(M.data)}})},d.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},d.readAsText(s)}}get tickets(){return this.eventForm.get("tickets")}loadEventDetails(){this.eventService.getEvent(this.eventId).subscribe(t=>{this.eventForm.patchValue({name:t.name,date:t.date,ticketExpirationDate:t.ticketExpiry,status:t.status||"OPEN"}),t.performers.forEach(s=>{this.addPerformer(s)}),this.tickets.clear(),t.tickets.forEach(s=>{if("UNAVAILABLE"===s.status){const d=this.createTicketForm(s);this.tickets.push(d)}})},t=>{console.error("Error loading event details: ",t)})}createTicketForm(t){return this.fb.group({id:[{value:t.id,disabled:!0}],name:[t.name],price:[t.price],status:[t.status]})}addPerformer(t={id:"",name:""}){const s=this.fb.group({id:[t.id],name:[t.name,Ht.required]});this.performersArray.push(s),this.performerSuggestions.push([]),this.setupPerformerAutoComplete(this.performersArray.length-1)}addTicket(t){const s=this.createTicketForm(t||{id:null,name:"",price:"",status:"AVAILABLE"});this.tickets.push(s)}addTickets(t){t.forEach(s=>{for(let d=0;d<s.quantity;d++){const y=this.fb.group({id:null,name:[s.name],price:[s.price],status:s.status||"AVAILABLE"});this.eventForm.get("tickets").push(y)}})}removeTicket(t){this.tickets.removeAt(t)}removePerformer(t){this.performersArray.removeAt(t),this.performerSuggestions.splice(t,1)}setupPerformerAutoComplete(t){this.performersArray.at(t).get("name").valueChanges.pipe(Gn(300),$p(),or(s=>s?this.performerService.searchPerformers(s):at([]))).subscribe({next:s=>{this.performerSuggestions[t]=s},error:s=>{console.error("Error fetching performer suggestions: ",s)}})}selectPerformer(t,s){this.performersArray.at(t).patchValue({id:s.id,name:s.name}),this.performerSuggestions[t]=[]}onSubmit(){if(this.eventForm.valid){let t=[];this.eventForm.value.performers.map(d=>{t.push(d.id)});const s={name:this.eventForm.value.name,performerIds:t,date:this.eventForm.value.date,ticketExpiry:this.eventForm.value.ticketExpirationDate,status:this.eventForm.value.status,tickets:this.eventForm.getRawValue().tickets};this.eventService.updateEvent(this.eventId,s).subscribe({next:()=>{console.log("Event updated successfully"),this.router.navigate(["/venue","events"])},error:d=>{console.error("Error updating event: ",d)}})}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ya),o.rXU(Hr),o.rXU(Wo),o.rXU(Cc),o.rXU(kp),o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-venue-event-edit"]],decls:37,vars:5,consts:[[3,"ngSubmit","formGroup"],["for","name"],["id","name","formControlName","name"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["for","date"],["type","datetime-local","id","date","formControlName","date"],["for","status"],["id","status","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["for","ticketExpirationDate"],["type","datetime-local","id","ticketExpirationDate","formControlName","ticketExpirationDate"],["formArrayName","tickets"],["type","file",3,"change"],["type","submit",3,"disabled"],[3,"formGroupName"],["formControlName","name","placeholder","Performer Name"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["type","text","formControlName","id","placeholder","Ticket ID","readonly",""],["type","text","formControlName","name","placeholder","Ticket Name"],["type","number","formControlName","price","placeholder","Price"],["formControlName","status"],["type","button",3,"click","hidden"]],template:function(s,d){1&s&&(o.j41(0,"h2"),o.EFF(1,"Edit Event"),o.k0s(),o.j41(2,"form",0),o.bIt("ngSubmit",function(){return d.onSubmit()}),o.j41(3,"div")(4,"label",1),o.EFF(5,"Event Name:"),o.k0s(),o.nrm(6,"input",2),o.k0s(),o.j41(7,"div")(8,"label"),o.EFF(9,"Performers:"),o.k0s(),o.j41(10,"div",3),o.DNE(11,my,5,2,"div",4),o.k0s(),o.j41(12,"button",5),o.bIt("click",function(){return d.addPerformer()}),o.EFF(13,"Add Performer"),o.k0s()(),o.j41(14,"div")(15,"label",6),o.EFF(16,"Event Date & Time:"),o.k0s(),o.nrm(17,"input",7),o.k0s(),o.j41(18,"div")(19,"label",8),o.EFF(20,"Event Status:"),o.k0s(),o.j41(21,"select",9),o.DNE(22,du,2,2,"option",10),o.k0s()(),o.j41(23,"div")(24,"label",11),o.EFF(25,"Ticket Expiration Date: "),o.k0s(),o.nrm(26,"input",12),o.k0s(),o.j41(27,"div",13)(28,"label"),o.EFF(29,"Tickets:"),o.k0s(),o.DNE(30,IE,8,3,"div",4),o.j41(31,"button",5),o.bIt("click",function(){return d.addTicket()}),o.EFF(32,"Add Ticket"),o.k0s()(),o.j41(33,"div")(34,"input",14),o.bIt("change",function(_){return d.onFileSelected(_)}),o.k0s()(),o.j41(35,"button",15),o.EFF(36,"Save Changes"),o.k0s()()),2&s&&(o.R7$(2),o.Y8G("formGroup",d.eventForm),o.R7$(9),o.Y8G("ngForOf",d.performersArray.controls),o.R7$(11),o.Y8G("ngForOf",d.statusOptions),o.R7$(8),o.Y8G("ngForOf",d.tickets.controls),o.R7$(5),o.Y8G("disabled",d.eventForm.invalid))},dependencies:[vr,En,$r,Hd,$l,mr,dc,da,Fr,li,$o,Is,jl,Hl],styles:["form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%]{margin-top:15px}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();var Ke=function(r){return r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",r}(Ke||{}),Xp=new Map([[Ke.QR_CODE,"QR_CODE"],[Ke.AZTEC,"AZTEC"],[Ke.CODABAR,"CODABAR"],[Ke.CODE_39,"CODE_39"],[Ke.CODE_93,"CODE_93"],[Ke.CODE_128,"CODE_128"],[Ke.DATA_MATRIX,"DATA_MATRIX"],[Ke.MAXICODE,"MAXICODE"],[Ke.ITF,"ITF"],[Ke.EAN_13,"EAN_13"],[Ke.EAN_8,"EAN_8"],[Ke.PDF_417,"PDF_417"],[Ke.RSS_14,"RSS_14"],[Ke.RSS_EXPANDED,"RSS_EXPANDED"],[Ke.UPC_A,"UPC_A"],[Ke.UPC_E,"UPC_E"],[Ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function df(r){return Object.values(Ke).includes(r)}var di=function(r){return r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",r}(di||{}),Ji=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[di.SCAN_TYPE_CAMERA,di.SCAN_TYPE_FILE],r}(),ti=function(){function r(a,t){this.format=a,this.formatName=t}return r.prototype.toString=function(){return this.formatName},r.create=function(a){if(!Xp.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new r(a,Xp.get(a))},r}(),vy=function(){function r(){}return r.createFromText=function(a){return{decodedText:a,result:{text:a}}},r.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},r}(),Cy=function(r){return r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",r}(Cy||{}),ff=function(){function r(){}return r.createFrom=function(a){return{errorMessage:a,type:Cy.UNKWOWN_ERROR}},r}(),Yp=function(){function r(a){this.verbose=a}return r.prototype.log=function(a){this.verbose&&console.log(a)},r.prototype.warn=function(a){this.verbose&&console.warn(a)},r.prototype.logError=function(a,t){(this.verbose||!0===t)&&console.error(a)},r.prototype.logErrors=function(a){if(0===a.length)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},r}();function eo(r){return typeof r>"u"||null===r}var fu=function(){function r(){}return r.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},r.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),gn=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(a){return"Last Match: ".concat(a)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),hu=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),hf=function(){function r(){}return r.isMediaStreamConstraintsValid=function(a,t){if("object"!=typeof a)return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof a,"."),!0),!1;for(var y=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),M=0,R=Object.keys(a);M<R.length;M++){var T=R[M];if(y.has(T))return t.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},r}(),Tn=F(5496),va=function(){function r(a,t,s){if(this.formatMap=new Map([[Ke.QR_CODE,Tn.BarcodeFormat.QR_CODE],[Ke.AZTEC,Tn.BarcodeFormat.AZTEC],[Ke.CODABAR,Tn.BarcodeFormat.CODABAR],[Ke.CODE_39,Tn.BarcodeFormat.CODE_39],[Ke.CODE_93,Tn.BarcodeFormat.CODE_93],[Ke.CODE_128,Tn.BarcodeFormat.CODE_128],[Ke.DATA_MATRIX,Tn.BarcodeFormat.DATA_MATRIX],[Ke.MAXICODE,Tn.BarcodeFormat.MAXICODE],[Ke.ITF,Tn.BarcodeFormat.ITF],[Ke.EAN_13,Tn.BarcodeFormat.EAN_13],[Ke.EAN_8,Tn.BarcodeFormat.EAN_8],[Ke.PDF_417,Tn.BarcodeFormat.PDF_417],[Ke.RSS_14,Tn.BarcodeFormat.RSS_14],[Ke.RSS_EXPANDED,Tn.BarcodeFormat.RSS_EXPANDED],[Ke.UPC_A,Tn.BarcodeFormat.UPC_A],[Ke.UPC_E,Tn.BarcodeFormat.UPC_E],[Ke.UPC_EAN_EXTENSION,Tn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Tn)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=s;var d=this.createZXingFormats(a),y=new Map;y.set(Tn.DecodeHintType.POSSIBLE_FORMATS,d),y.set(Tn.DecodeHintType.TRY_HARDER,!1),this.hints=y}return r.prototype.decodeAsync=function(a){var t=this;return new Promise(function(s,d){try{s(t.decode(a))}catch(y){d(y)}})},r.prototype.decode=function(a){var t=new Tn.MultiFormatReader(this.verbose,this.hints),s=new Tn.HTMLCanvasElementLuminanceSource(a),d=new Tn.BinaryBitmap(new Tn.HybridBinarizer(s)),y=t.decode(d);return{text:y.text,format:ti.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(t,s,d){a.set(t,s)}),a},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createZXingFormats=function(a){for(var t=[],s=0,d=a;s<d.length;s++){var y=d[s];this.formatMap.has(y)?t.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return t},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),Ca=function(){function r(a,t,s){if(this.formatMap=new Map([[Ke.QR_CODE,"qr_code"],[Ke.AZTEC,"aztec"],[Ke.CODABAR,"codabar"],[Ke.CODE_39,"code_39"],[Ke.CODE_93,"code_93"],[Ke.CODE_128,"code_128"],[Ke.DATA_MATRIX,"data_matrix"],[Ke.ITF,"itf"],[Ke.EAN_13,"ean_13"],[Ke.EAN_8,"ean_8"],[Ke.PDF_417,"pdf417"],[Ke.UPC_A,"upc_a"],[Ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=s;var d=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},r.prototype.decodeAsync=function(a){return function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var t,s;return function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(a)];case 1:if(!(t=d.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(s=this.selectLargestBarcode(t)).rawValue,format:ti.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(a){for(var t=null,s=0,d=0,y=a;d<y.length;d++){var _=y[d],M=_.boundingBox.width*_.boundingBox.height;M>s&&(s=M,t=_)}if(!t)throw"No largest barcode found";return t},r.prototype.createBarcodeDetectorFormats=function(a){for(var t=[],s=0,d=a;s<d.length;s++){var y=d[s];this.formatMap.has(y)?t.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(t,s,d){a.set(t,s)}),a},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),pf=function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})},gf=function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},_y=function(){function r(a,t,s,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,t&&Ca.isSupported()?(this.primaryDecoder=new Ca(a,s,d),this.secondaryDecoder=new va(a,s,d)):this.primaryDecoder=new va(a,s,d)}return r.prototype.decodeAsync=function(a){return pf(this,void 0,void 0,function(){var t;return gf(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(a){return pf(this,void 0,void 0,function(){var t,s;return gf(this,function(d){switch(d.label){case 0:t=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,d.sent()];case 3:if(s=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw s;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(a){if(this.verbose){var t=performance.now()-a;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,t=0,s=this.executionResults;t<s.length;t++)a+=s[t];console.log("".concat(a/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),mf=function(){var r=function(a,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(s[y]=d[y])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),pu=function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})},yf=function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},by=function(){function r(a,t){this.name=a,this.track=t}return r.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},r.prototype.apply=function(a){var t={};return t[this.name]=a,this.track.applyConstraints({advanced:[t]})},r.prototype.value=function(){var a=this.track.getSettings();return this.name in a?a[this.name]:null},r}(),xy=function(r){function a(t){return r.call(this,"zoom",t)||this}return mf(a,r),a}(function(r){function a(t,s){return r.call(this,t,s)||this}return mf(a,r),a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(t){var s={};return s[this.name]=t,this.track.applyConstraints({advanced:[s]})},a.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities()[this.name];return{min:s.min,max:s.max,step:s.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a}(by)),AE=function(r){function a(t){return r.call(this,"torch",t)||this}return mf(a,r),a}(by),SE=function(){function r(a){this.track=a}return r.prototype.zoomFeature=function(){return new xy(this.track)},r.prototype.torchFeature=function(){return new AE(this.track)},r}(),TE=function(){function r(a,t,s){this.isClosed=!1,this.parentElement=a,this.mediaStream=t,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return r.prototype.createVideoElement=function(a){var t=document.createElement("video");return t.style.width="".concat(a,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},r.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){a.callbacks.onRenderSurfaceReady(a.surface.clientWidth,a.surface.clientHeight),a.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(a,t,s,d){return pu(this,void 0,void 0,function(){var y,_;return yf(this,function(M){switch(M.label){case 0:return y=new r(a,t,d),s.aspectRatio?(_={aspectRatio:s.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:M.sent(),M.label=2;case 2:return y.setupSurface(),[2,y]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(a){this.failIfClosed();var t=this,s=function(){setTimeout(a,200),t.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(a){return pu(this,void 0,void 0,function(){return yf(this,function(t){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(t,s){var y=a.mediaStream.getVideoTracks().length,_=0;a.mediaStream.getVideoTracks().forEach(function(M){a.mediaStream.removeTrack(M),M.stop(),++_>=y&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),t())})})},r.prototype.getCapabilities=function(){return new SE(this.getFirstTrackOrFail())},r}(),Iy=function(){function r(a){this.mediaStream=a}return r.prototype.render=function(a,t,s){return pu(this,void 0,void 0,function(){return yf(this,function(d){return[2,TE.create(a,this.mediaStream,t,s)]})})},r.create=function(a){return pu(this,void 0,void 0,function(){return yf(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:a})];case 1:return[2,new r(d.sent())]}})})},r}(),qp=function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})},Dy=function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},Ex=function(){function r(){}return r.failIfNotSupported=function(){return qp(this,void 0,void 0,function(){return Dy(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(a){return qp(this,void 0,void 0,function(){return Dy(this,function(t){return[2,Iy.create(a)]})})},r}(),Kp=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var a=fu.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(a=fu.insecureContextCameraQueryError()),Promise.reject(a)},r.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var a=location.host.split(":")[0];return"127.0.0.1"===a||"localhost"===a},r.getCamerasFromMediaDevices=function(){return function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var a,t,s,d,y,_,M;return function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(R){switch(R.label){case 0:return a=function(T){for(var Z=0,Ie=T.getVideoTracks();Z<Ie.length;Z++){var ye=Ie[Z];ye.enabled=!1,ye.stop(),T.removeTrack(ye)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=R.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=R.sent(),d=[],y=0,_=s;y<_.length;y++)"videoinput"===(M=_[y]).kind&&d.push({id:M.deviceId,label:M.label});return a(t),[2,d]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,t){MediaStreamTrack.getSources(function(y){for(var _=[],M=0,R=y;M<R.length;M++){var T=R[M];"video"===T.kind&&_.push({id:T.id,label:T.label})}a(_)})})},r}(),Jn=function(r){return r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED",r}(Jn||{}),NE=function(){function r(){this.state=Jn.NOT_STARTED,this.onGoingTransactionNewState=Jn.UNKNOWN}return r.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},r.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Jn.UNKNOWN,this.directTransition(a)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Jn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Jn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(a){switch(this.state){case Jn.UNKNOWN:throw"Transition from unknown is not allowed";case Jn.NOT_STARTED:this.failIfNewStateIs(a,[Jn.PAUSED])}},r.prototype.failIfNewStateIs=function(a,t){for(var s=0,d=t;s<d.length;s++)if(a===d[s])throw"Cannot transition from ".concat(this.state," to ").concat(a)},r}(),RE=function(){function r(a){this.stateManager=a}return r.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},r.prototype.directTransition=function(a){this.stateManager.directTransition(a)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===Jn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==Jn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Jn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===Jn.PAUSED},r}(),OE=function(){function r(){}return r.create=function(){return new RE(new NE)},r}(),kE=function(){var r=function(a,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,d){s.__proto__=d}||function(s,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(s[y]=d[y])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),fi=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return kE(a,r),a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a}(Ji),FE=function(){function r(a,t){this.logger=t,this.fps=fi.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=!0===a.disableFlip,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=fi.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?hf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!eo(this.qrbox)},r.create=function(a,t){return new r(a,t)},r}(),Qp=function(){function r(a,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");var d;this.elementId=a,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(this.verbose=!0===(d=t).verbose),this.logger=new Yp(this.verbose),this.qrcode=new _y(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=OE.create()}return r.prototype.start=function(a,t,s,d){var _,y=this;if(!a)throw"cameraIdOrConfig is required";if(!s||"function"!=typeof s)throw"qrCodeSuccessCallback is required and should be a function.";_=d||(this.verbose?this.logger.log:function(){});var M=FE.create(t,this.logger);this.clearElement();var R=!1;M.videoConstraints&&(M.isMediaStreamConstraintsValid()?R=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=R,V=document.getElementById(this.elementId);V.style.position="relative",this.shouldScan=!0,this.element=V;var Ie=this,ye=this.stateManagerProxy.startTransition(Jn.SCANNING);return new Promise(function(Oe,Be){var Ue=T?M.videoConstraints:Ie.createVideoConstraints(a);if(!Ue)return ye.cancel(),void Be("videoConstraints should be defined");var Qe={};(!T||M.aspectRatio)&&(Qe.aspectRatio=M.aspectRatio);var zt={onRenderSurfaceReady:function(vt,vn){Ie.setupUi(vt,vn,M),Ie.isScanning=!0,Ie.foreverScan(M,s,_)}};Ex.failIfNotSupported().then(function(vt){vt.create(Ue).then(function(vn){return vn.render(y.element,Qe,zt).then(function(er){Ie.renderedCamera=er,ye.execute(),Oe(null)}).catch(function(er){ye.cancel(),Be(er)})}).catch(function(vn){ye.cancel(),Be(fu.errorGettingUserMedia(vn))})}).catch(function(vt){ye.cancel(),Be(fu.cameraStreamingNotSupported())})})},r.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Jn.PAUSED),this.showPausedState(),(eo(a)||!0!==a)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,t=function(){a.stateManagerProxy.directTransition(Jn.SCANNING),a.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Jn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),function(){if(a.element){var y=document.getElementById(fi.SHADED_REGION_ELEMENT_ID);y&&a.element.removeChild(y)}}(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),t.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(a,t){return this.scanFileV2(a,t).then(function(s){return s.decodedText})},r.prototype.scanFileV2=function(a,t){var s=this;if(!(a&&a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(eo(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,y){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(a);var _=new Image;_.onload=function(){var M=_.width,R=_.height,T=document.getElementById(s.elementId),V=T.clientWidth?T.clientWidth:fi.DEFAULT_WIDTH,Z=Math.max(T.clientHeight?T.clientHeight:R,fi.FILE_SCAN_MIN_HEIGHT),Ie=s.computeCanvasDrawConfig(M,R,V,Z);if(t){var ye=s.createCanvasElement(V,Z,"qr-canvas-visible");ye.style.display="inline-block",T.appendChild(ye);var Oe=ye.getContext("2d");if(!Oe)throw"Unable to get 2d context from canvas";Oe.canvas.width=V,Oe.canvas.height=Z,Oe.drawImage(_,0,0,M,R,Ie.x,Ie.y,Ie.width,Ie.height)}var Be=fi.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ue=Math.max(_.width,Ie.width),Qe=Math.max(_.height,Ie.height),zt=Ue+2*Be,vt=Qe+2*Be,vn=s.createCanvasElement(zt,vt);T.appendChild(vn);var er=vn.getContext("2d");if(!er)throw"Unable to get 2d context from canvas";er.canvas.width=zt,er.canvas.height=vt,er.drawImage(_,0,0,M,R,Be,Be,Ue,Qe);try{s.qrcode.decodeRobustlyAsync(vn).then(function(Wr){d(vy.createFromQrcodeResult(Wr))}).catch(y)}catch(Wr){y("QR code parse error, error = ".concat(Wr))}},_.onerror=y,_.onabort=y,_.onstalled=y,_.onsuspend=y,_.src=URL.createObjectURL(a)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return Kp.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(a){if(!a)throw"videoConstaints is required argument.";if(!hf.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},r.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(a){if(!a||"boolean"==typeof a||!a.formatsToSupport)return[Ke.QR_CODE,Ke.AZTEC,Ke.CODABAR,Ke.CODE_39,Ke.CODE_93,Ke.CODE_128,Ke.DATA_MATRIX,Ke.MAXICODE,Ke.ITF,Ke.EAN_13,Ke.EAN_8,Ke.PDF_417,Ke.RSS_14,Ke.RSS_EXPANDED,Ke.UPC_A,Ke.UPC_E,Ke.UPC_EAN_EXTENSION];if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===a.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],d=0,y=a.formatsToSupport;d<y.length;d++){var _=y[d];df(_)?s.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(0===s.length)throw"None of formatsToSupport match supported values.";return s},r.prototype.getUseBarCodeDetectorIfSupported=function(a){if(eo(a))return!0;if(!eo(a.useBarCodeDetectorIfSupported))return!1!==a.useBarCodeDetectorIfSupported;if(eo(a.experimentalFeatures))return!0;var t=a.experimentalFeatures;return!!eo(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},r.prototype.validateQrboxSize=function(a,t,s){var y=s.qrbox;this.validateQrboxConfig(y);var T,_=this.toQrdimensions(a,t,y),M=function(T){if(T<fi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(fi.MIN_QR_BOX_SIZE,"px.")};M(_.width),M(_.height),_.width=((T=_.width)>a&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=a),T)},r.prototype.validateQrboxConfig=function(a){if("number"!=typeof a&&"function"!=typeof a&&(void 0===a.width||void 0===a.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(a,t,s){if("number"==typeof s)return{width:s,height:s};if("function"==typeof s)try{return s(a,t)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return s},r.prototype.setupUi=function(a,t,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(a,t,s);var d=eo(s.qrbox)?{width:a,height:t}:s.qrbox;this.validateQrboxConfig(d);var y=this.toQrdimensions(a,t,d);y.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=s.isShadedBoxEnabled()&&y.height<=t,M={x:0,y:0,width:a,height:t},R=_?this.getShadedRegionBounds(a,t,y):M,T=this.createCanvasElement(R.width,R.height),Z=T.getContext("2d",{willReadFrequently:!0});Z.canvas.width=R.width,Z.canvas.height=R.height,this.element.append(T),_&&this.possiblyInsertShadingElement(this.element,a,t,y),this.createScannerPausedUiElement(this.element),this.qrRegion=R,this.context=Z,this.canvasElement=T},r.prototype.createScannerPausedUiElement=function(a){var t=document.createElement("div");t.innerText=fu.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",a.appendChild(t),this.scannerPausedUiElement=t},r.prototype.scanContext=function(a,t){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return a(d.text,vy.createFromQrcodeResult(d)),s.possiblyUpdateShaders(!0),!0}).catch(function(d){s.possiblyUpdateShaders(!1);var y=fu.codeParseError(d);return t(y,ff.createFrom(y)),!1})},r.prototype.foreverScan=function(a,t,s){var d=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),_=y.videoWidth/y.clientWidth,M=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(y,this.qrRegion.x*_,this.qrRegion.y*M,this.qrRegion.width*_,this.qrRegion.height*M,0,0,this.qrRegion.width,this.qrRegion.height);var Ie=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(a,t,s)},d.getTimeoutFps(a.fps))};this.scanContext(t,s).then(function(ye){ye||!0===a.disableFlip?Ie():(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(t,s).finally(function(){Ie()}))}).catch(function(ye){d.logger.logError("Error happend while scanning context",ye),Ie()})}},r.prototype.createVideoConstraints=function(a){if("string"==typeof a)return{deviceId:{exact:a}};if("object"==typeof a){var t="facingMode",s="deviceId",d={user:!0,environment:!0},y="exact",_=function(Oe){if(Oe in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Oe,"'")},M=Object.keys(a);if(1!==M.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(M.length," keys");var R=Object.keys(a)[0];if(R!==t&&R!==s)throw"Only '".concat(t,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(R!==t){var Z=a.deviceId;if("string"==typeof Z)return{deviceId:Z};if("object"==typeof Z){if(y in Z)return{deviceId:{exact:Z["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof Z)}var T=a.facingMode;if("string"==typeof T){if(_(T))return{facingMode:T}}else{if("object"!=typeof T)throw"Invalid type of 'facingMode' = ".concat(typeof T);if(!(y in T))throw"'facingMode' should be string or object with"+" ".concat(y," as key.");if(_(T["".concat(y)]))return{facingMode:{exact:T["".concat(y)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof a)},r.prototype.computeCanvasDrawConfig=function(a,t,s,d){if(a<=s&&t<=d)return{x:(s-a)/2,y:(d-t)/2,width:a,height:t};var M=a,R=t;return a>s&&(t*=s/a,a=s),t>d&&(a*=d/t,t=d),this.logger.log("Image downsampled from "+"".concat(M,"X").concat(R)+" to ".concat(a,"X").concat(t,".")),this.computeCanvasDrawConfig(a,t,s,d)},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},r.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=a?fi.BORDER_SHADER_MATCH_COLOR:fi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(a,t,s){var d=a,y=t,_=document.createElement("canvas");return _.style.width="".concat(d,"px"),_.style.height="".concat(y,"px"),_.style.display="none",_.id=eo(s)?"qr-canvas":s,_},r.prototype.getShadedRegionBounds=function(a,t,s){if(s.width>a||s.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-s.width)/2,y:(t-s.height)/2,width:s.width,height:s.height}},r.prototype.possiblyInsertShadingElement=function(a,t,s,d){if(!(t-d.width<1||s-d.height<1)){var y=document.createElement("div");y.style.position="absolute";var _=(t-d.width)/2,M=(s-d.height)/2;if(y.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(fi.SHADED_REGION_ELEMENT_ID),t-d.width<11||s-d.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(y,40,5,-5,null,0,!0),this.insertShaderBorders(y,40,5,-5,null,0,!1),this.insertShaderBorders(y,40,5,null,-5,0,!0),this.insertShaderBorders(y,40,5,null,-5,0,!1),this.insertShaderBorders(y,5,45,-5,null,-5,!0),this.insertShaderBorders(y,5,45,null,-5,-5,!0),this.insertShaderBorders(y,5,45,-5,null,-5,!1),this.insertShaderBorders(y,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}a.append(y)}},r.prototype.insertShaderBorders=function(a,t,s,d,y,_,M){var R=document.createElement("div");R.style.position="absolute",R.style.backgroundColor=fi.BORDER_SHADER_DEFAULT_COLOR,R.style.width="".concat(t,"px"),R.style.height="".concat(s,"px"),null!==d&&(R.style.top="".concat(d,"px")),null!==y&&(R.style.bottom="".concat(y,"px")),M?R.style.left="".concat(_,"px"):R.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(R),a.appendChild(R)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(a){return 1e3/a},r}(),Jp="data:image/svg+xml;base64,",PE=Jp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",LE=Jp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Ay=Jp+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Sy=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),UE=function(){function r(){this.data=Sy.createDefault();var a=localStorage.getItem(r.LOCAL_STORAGE_KEY);a?this.data=JSON.parse(a):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(a){this.data.hasPermission=a,this.flush()},r.prototype.setLastUsedCameraId=function(a){this.data.lastUsedCameraId=a,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=Sy.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),VE=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(a){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=hu.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var s=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(d);var y=document.createElement("a");y.innerText=hu.reportIssues(),y.href="https://github.com/mebjas/html5-qrcode/issues",y.target="new",y.style.color="white",this.infoDiv.appendChild(y),a.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),Ty=function(){function r(a,t){this.isShowingInfoIcon=!0,this.onTapIn=a,this.onTapOut=t,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(a){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Ay,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return t.onHoverIn()},this.infoIcon.onmouseout=function(s){return t.onHoverOut()},this.infoIcon.onclick=function(s){return t.onClick()},a.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Ay,this.infoIcon.style.opacity="0.6")},r}(),My=function(){function r(){var a=this;this.infoDiv=new VE,this.infoIcon=new Ty(function(){a.infoDiv.show()},function(){a.infoDiv.hide()})}return r.prototype.renderInto=function(a){this.infoDiv.renderInto(a),this.infoIcon.renderInto(a)},r}(),Ny=function(){function r(){}return r.hasPermissions=function(){return function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var a,t,s,d;return function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(y){switch(y.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(a=y.sent(),t=0,s=a;t<s.length;t++)if("videoinput"===(d=s[t]).kind&&d.label)return[2,!0];return[2,!1]}})})},r}(),Jo=function(){function r(a){this.supportedScanTypes=this.validateAndReturnScanTypes(a)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var a=0,t=this.supportedScanTypes;a<t.length;a++)if(r.isCameraScanType(t[a]))return!0;return!1},r.isCameraScanType=function(a){return a===di.SCAN_TYPE_CAMERA},r.isFileScanType=function(a){return a===di.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(a){if(!a||0===a.length)return Ji.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Ji.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(a.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var s=0,d=a;s<d.length;s++){var y=d[s];if(!Ji.DEFAULT_SUPPORTED_SCAN_TYPE.includes(y))throw"Unsupported scan type ".concat(y)}return a},r}(),hi=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),Co=function(){function r(){}return r.createElement=function(a,t){var s=document.createElement(a);return s.id=t,s.classList.add(hi.ALL_ELEMENT_CLASS),"button"===a&&s.setAttribute("type","button"),s},r}(),tg=function(r,a,t,s){return new(t||(t=Promise))(function(y,_){function M(V){try{T(s.next(V))}catch(Z){_(Z)}}function R(V){try{T(s.throw(V))}catch(Z){_(Z)}}function T(V){V.done?y(V.value):function d(y){return y instanceof t?y:new t(function(_){_(y)})}(V.value).then(M,R)}T((s=s.apply(r,a||[])).next())})},xc=function(r,a){var s,d,y,_,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return _={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(_[Symbol.iterator]=function(){return this}),_;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;_&&(_=0,T[0]&&(t=0)),t;)try{if(s=1,d&&(y=2&T[0]?d.return:T[0]?d.throw||((y=d.return)&&y.call(d),0):d.next)&&!(y=y.call(d,T[1])).done)return y;switch(d=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return t.label++,{value:T[1],done:!1};case 5:t.label++,d=T[1],T=[0];continue;case 7:T=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){t=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){t.label=T[1];break}if(6===T[0]&&t.label<y[1]){t.label=y[1],y=T;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(T);break}y[2]&&t.ops.pop(),t.trys.pop();continue}T=a.call(r,t)}catch(V){T=[6,V],d=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},vf=function(){function r(a,t,s){this.isTorchOn=!1,this.torchCapability=a,this.buttonController=t,this.onTorchActionFailureCallback=s}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return tg(this,void 0,void 0,function(){var a,t;return xc(this,function(s){switch(s.label){case 0:this.buttonController.disable(),a=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(a)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),a),[3,4];case 3:return t=s.sent(),this.propagateFailure(a,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(a,t){a===t?(this.buttonController.setText(t?gn.torchOffButton():gn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},r.prototype.propagateFailure=function(a,t){var s=a?gn.torchOnFailedMessage():gn.torchOffFailedMessage();t&&(s+="; Error = "+t),this.onTorchActionFailureCallback(s)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),Ic=function(){function r(a,t){this.onTorchActionFailureCallback=t,this.torchButton=Co.createElement("button",hi.TORCH_BUTTON_ID),this.torchController=new vf(a,this,t)}return r.prototype.render=function(a,t){var s=this;this.torchButton.innerText=gn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var d=this;this.torchButton.addEventListener("click",function(y){return tg(s,void 0,void 0,function(){return xc(this,function(_){switch(_.label){case 0:return[4,d.torchController.flipState()];case 1:return _.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(hi.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(hi.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(hi.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(hi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),a.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(a){this.torchController=new vf(a,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(a){this.torchButton.innerText=a},r.prototype.reset=function(){this.torchButton.innerText=gn.torchOnButton(),this.torchController.reset()},r.create=function(a,t,s,d){var y=new r(t,d);return y.render(a,s),y},r}(),Ry=function(){function r(a,t,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",a.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=Co.createElement("button",hi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(M){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=Co.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var y=this;this.fileScanInput.addEventListener("change",function(M){if(null!=M&&null!=M.target){var R=M.target;if(!R.files||0!==R.files.length){var V=R.files[0];y.setImageNameToButton(V.name),s(V)}}});var _=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(_),this.fileBasedScanRegion.addEventListener("dragenter",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(M){M.stopPropagation(),M.preventDefault(),y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder();var R=M.dataTransfer;if(R){var T=R.files;if(!T||0===T.length)return;for(var V=!1,Z=0;Z<T.length;++Z){var Ie=T.item(Z);if(Ie&&Ie.type.match(/image.*/)){V=!0,y.setImageNameToButton(Ie.name),s(Ie),_.innerText=gn.dragAndDropMessage();break}}V||(_.innerText=gn.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var a=document.createElement("div");return a.style.textAlign="center",a.style.margin="auto",a.style.width="80%",a.style.maxWidth="600px",a.style.border=this.fileBasedScanRegionDefaultBorder(),a.style.padding="10px",a.style.marginBottom="10px",a},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var a=document.createElement("div");return a.innerText=gn.dragAndDropMessage(),a.style.fontWeight="400",a},r.prototype.setImageNameToButton=function(a){if(a.length>20){var s=a.substring(0,8),d=a.length,y=a.substring(d-8,d);a="".concat(s,"....").concat(y)}var _=gn.fileSelectionChooseAnother()+" - "+a;this.fileSelectionButton.innerText=_},r.prototype.setInitialValueToButton=function(){var a=gn.fileSelectionChooseImage()+" - "+gn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=a},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(a,t,s){return new r(a,t,s)},r}(),Dc=function(){function r(a){this.selectElement=Co.createElement("select",hi.CAMERA_SELECTION_SELECT_ID),this.cameras=a,this.options=[]}return r.prototype.render=function(a){var t=document.createElement("span");t.style.marginRight="10px";var s=this.cameras.length;if(0===s)throw new Error("No cameras found");if(1===s)t.style.display="none";else{var d=gn.selectCamera();t.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var y=1,_=0,M=this.cameras;_<M.length;_++){var R=M[_],T=R.id,V=null==R.label?T:R.label;(!V||""===V)&&(V=[gn.anonymousCameraPrefix(),y++].join(" "));var Z=document.createElement("option");Z.value=T,Z.innerText=V,this.options.push(Z),this.selectElement.appendChild(Z)}t.appendChild(this.selectElement),a.appendChild(t)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return!0===this.selectElement.disabled},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(a){for(var t=0,s=this.options;t<s.length;t++)if(s[t].value===a)return!0;return!1},r.prototype.setValue=function(a){if(!this.hasValue(a))throw new Error("".concat(a," is not present in the camera list."));this.selectElement.value=a},r.prototype.hasSingleItem=function(){return 1===this.cameras.length},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(a,t){var s=new r(t);return s.render(a),s},r}(),ng=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Co.createElement("input",hi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(a,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",a.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=gn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var a=gn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(a,t,s,d){this.rangeInput.min=a.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(a){this.onChangeCallback=a},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(a,t){var s=new r;return s.render(a,t),s},r}(),Dr=function(r){return r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",r}(Dr||{});!function(){function r(a,t,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=a,this.config=this.createConfig(t),this.verbose=!0===s,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.scanTypeSelector=new Jo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Yp(this.verbose),this.persistedDataManager=new UE,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}r.prototype.render=function(a,t){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(y,_){if(a)a(y,_);else{if(s.lastMatchFound===y)return;s.lastMatchFound=y,s.setHeaderMessage(gn.lastMatch(y),Dr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(y,_){t&&t(y,_)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new Qp(this.getScanRegionId(),function Sc(r,a){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:a}}(this.config,this.verbose))},r.prototype.pause=function(a){(eo(a)||!0!==a)&&(a=!1),this.getHtml5QrcodeOrFail().pause(a)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var a=this,t=function(){var s=document.getElementById(a.elementId);s&&(s.innerHTML="",a.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,d){a.html5Qrcode?a.html5Qrcode.isScanning?a.html5Qrcode.stop().then(function(y){a.html5Qrcode?(a.html5Qrcode.clear(),t(),s()):s()}).catch(function(y){a.verbose&&a.logger.logError("Unable to stop qrcode scanner",y),d(y)}):(a.html5Qrcode.clear(),t(),s()):s()}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(a){return this.getHtml5QrcodeOrFail().applyVideoConstraints(a)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(a){return a?(a.fps||(a.fps=Ji.SCAN_DEFAULT_FPS),a.rememberLastUsedCamera!==!Ji.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(a.rememberLastUsedCamera=Ji.DEFAULT_REMEMBER_LAST_CAMERA_USED),a.supportedScanTypes||(a.supportedScanTypes=Ji.DEFAULT_SUPPORTED_SCAN_TYPE),a):{fps:Ji.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ji.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ji.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(a){a.style.position="relative",a.style.padding="0px",a.style.border="1px solid silver",this.createHeader(a);var t=document.createElement("div"),s=this.getScanRegionId();t.id=s,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",a.appendChild(t),Jo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),y=this.getDashboardId();d.id=y,d.style.width="100%",a.appendChild(d),this.setupInitialDashboard(d)},r.prototype.resetBasicLayout=function(a){a.style.border="none"},r.prototype.setupInitialDashboard=function(a){this.createSection(a),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(a){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",a.appendChild(t),(new My).renderInto(t);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",t.appendChild(d)},r.prototype.createSection=function(a){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",a.appendChild(t)},r.prototype.createCameraListUi=function(a,t,s){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(gn.cameraPermissionRequesting());var y=function(){s||d.createPermissionButton(a,t)};Qp.getCameras().then(function(_){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),_&&_.length>0?(a.removeChild(t),d.renderCameraSelection(_)):(d.setHeaderMessage(gn.noCameraFound(),Dr.STATUS_WARNING),y())}).catch(function(_){d.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:y(),d.setHeaderMessage(_,Dr.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(a,t){var s=this,d=Co.createElement("button",this.getCameraPermissionButtonId());d.innerText=gn.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,s.createCameraListUi(a,t,d)}),t.appendChild(d)},r.prototype.createPermissionsUi=function(a,t){var s=this;Jo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?Ny.hasPermissions().then(function(d){d?s.createCameraListUi(a,t):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(a,t))}).catch(function(d){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(a,t)}):this.createPermissionButton(a,t)},r.prototype.createSectionControlPanel=function(){var a=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");a.appendChild(t);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Jo.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(s);var d=document.createElement("div");d.style.textAlign="center",s.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,d),this.renderFileScanUi(t)},r.prototype.renderFileScanUi=function(a){var t=Jo.isFileScanType(this.currentScanType),s=this;this.fileSelectionUi=Ry.create(a,t,function(y){if(!s.html5Qrcode)throw"html5Qrcode not defined";Jo.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(gn.loadingImage()),s.html5Qrcode.scanFileV2(y,!0).then(function(_){s.resetHeaderMessage(),s.qrCodeSuccessCallback(_.decodedText,_)}).catch(function(_){s.setHeaderMessage(_,Dr.STATUS_WARNING),s.qrCodeErrorCallback(_,ff.createFrom(_))}))})},r.prototype.renderCameraSelection=function(a){var t=this,s=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var y=ng.create(d,!1),M=Dc.create(d,a),R=document.createElement("span"),T=Co.createElement("button",hi.CAMERA_START_BUTTON_ID);T.innerText=gn.scanButtonStartScanningText(),R.appendChild(T);var Z,V=Co.createElement("button",hi.CAMERA_STOP_BUTTON_ID);V.innerText=gn.scanButtonStopScanningText(),V.style.display="none",V.disabled=!0,R.appendChild(V),d.appendChild(R);var ye=function(Be){Be||(T.style.display="none"),T.innerText=gn.scanButtonStartScanningText(),T.style.opacity="1",T.disabled=!1,Be&&(T.style.display="inline-block")};if(T.addEventListener("click",function(Be){T.innerText=gn.scanButtonScanningStarting(),M.disable(),T.disabled=!0,T.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var Ue=M.getValue();s.persistedDataManager.setLastUsedCameraId(Ue),s.html5Qrcode.start(Ue,function Ac(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(Qe){V.disabled=!1,V.style.display="inline-block",ye(!1);var zt=s.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(Be){Be.torchFeature().isSupported()?(Z?Z.updateTorchCapability(Be.torchFeature()):Z=Ic.create(R,Be.torchFeature(),{display:"none",marginLeft:"5px"},function(Ue){s.setHeaderMessage(Ue,Dr.STATUS_WARNING)}),Z.show()):Z&&Z.hide()}(zt),!0===t.config.showZoomSliderIfSupported&&function(Be){var Ue=Be.zoomFeature();if(Ue.isSupported()){y.setOnCameraZoomValueChangeCallback(function(zt){Ue.apply(zt)});var Qe=1;t.config.defaultZoomValueIfSupported&&(Qe=t.config.defaultZoomValueIfSupported),Qe=function DE(r,a,t){return r>t?t:r<a?a:r}(Qe,Ue.min(),Ue.max()),y.setValues(Ue.min(),Ue.max(),Qe,Ue.step()),y.show()}}(zt)}).catch(function(Qe){s.showHideScanTypeSwapLink(!0),M.enable(),ye(!0),s.setHeaderMessage(Qe,Dr.STATUS_WARNING)})}),M.hasSingleItem()&&T.click(),V.addEventListener("click",function(Be){if(!s.html5Qrcode)throw"html5Qrcode not defined";V.disabled=!0,s.html5Qrcode.stop().then(function(Ue){t.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),M.enable(),T.disabled=!1,V.style.display="none",T.style.display="inline-block",Z&&(Z.reset(),Z.hide()),y.removeOnCameraZoomValueChangeCallback(),y.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(Ue){V.disabled=!1,s.setHeaderMessage(Ue,Dr.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var Oe=s.persistedDataManager.getLastUsedCameraId();M.hasValue(Oe)?(M.setValue(Oe),T.click()):s.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var a=this,t=gn.textIfCameraScanSelected(),s=gn.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),y=document.createElement("div");y.style.textAlign="center";var _=Co.createElement("span",this.getDashboardSectionSwapLinkId());_.style.textDecoration="underline",_.style.cursor="pointer",_.innerText=Jo.isCameraScanType(this.currentScanType)?t:s,_.addEventListener("click",function(){a.sectionSwapAllowed?(a.resetHeaderMessage(),a.fileSelectionUi.resetValue(),a.sectionSwapAllowed=!1,Jo.isCameraScanType(a.currentScanType)?(a.clearScanRegion(),a.getCameraScanRegion().style.display="none",a.fileSelectionUi.show(),_.innerText=s,a.currentScanType=di.SCAN_TYPE_FILE,a.insertFileScanImageToScanRegion()):(a.clearScanRegion(),a.getCameraScanRegion().style.display="block",a.fileSelectionUi.hide(),_.innerText=t,a.currentScanType=di.SCAN_TYPE_CAMERA,a.insertCameraScanImageToScanRegion(),a.startCameraScanIfPermissionExistsOnSwap()),a.sectionSwapAllowed=!0):a.verbose&&a.logger.logError("Section swap called when not allowed")}),y.appendChild(_),d.appendChild(y)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var a=this,t=this;this.persistedDataManager.hasCameraPermissions()&&Ny.hasPermissions().then(function(s){if(s){var d=document.getElementById(t.getCameraPermissionButtonId());if(!d)throw a.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(s){t.persistedDataManager.setHasPermission(!1)})},r.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},r.prototype.setHeaderMessage=function(a,t){t||(t=Dr.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=a,s.style.display="block",t){case Dr.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case Dr.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)"}},r.prototype.showHideScanTypeSwapLink=function(a){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==a&&(a=!1),this.sectionSwapAllowed=a,this.getDashboardSectionSwapLink().style.display=a?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var a=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){t.innerHTML="<br>",t.appendChild(a.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=PE,this.cameraScanImage.alt=gn.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var a=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(s){t.innerHTML="<br>",t.appendChild(a.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=LE,this.fileScanImage.alt=gn.fileScanAltText()},r.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return hi.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return hi.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let Tc=(()=>{class r{constructor(t){this.http=t,this.ticketUrl=Zi_apiUrl+"/ticketing/tickets"}validateTicket(t){return this.http.post(`${this.ticketUrl}/validate`,{encryptedTicketData:t},{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(mo))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Mc(r,a){1&r&&o.nrm(0,"img",8)}function Nc(r,a){1&r&&(o.j41(0,"div",9),o.EFF(1,"PASS"),o.k0s())}function Rc(r,a){1&r&&o.nrm(0,"img",10)}function Oc(r,a){1&r&&(o.j41(0,"div",11),o.EFF(1,"INVALID"),o.k0s())}function Oy(r,a){if(1&r&&(o.j41(0,"div",12),o.EFF(1),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI("Reason: ",t.invalidMessage,"")}}let ky=(()=>{class r{constructor(t){this.ticketService=t,this.scannerId="reader",this.isScanning=!1,this.isDetermined=!1,this.isValid=!1,this.invalidMessage=""}ngOnInit(){}ngAfterViewInit(){this.qrCodeScanner=new Qp(this.scannerId)}ngOnDestroy(){this.stopScanner()}toggleScanner(){this.isScanning?this.stopScanner():this.startScanner()}startScanner(){if(this.isDetermined=!1,!this.qrCodeScanner)return;const s=window.innerWidth<600?300:500;this.qrCodeScanner.start({facingMode:"environment"},{fps:10,qrbox:{width:s,height:s}},d=>this.handleQrCodeSuccess(d),d=>console.log("QR Code scan error:",d)).then(()=>{this.isScanning=!0,console.log("QR Code scanning started.")}).catch(d=>{console.log("QR Code start error:",d),this.isScanning=!1})}stopScanner(){!this.qrCodeScanner||!this.isScanning||this.qrCodeScanner.stop().then(()=>{this.isScanning=!1,console.log("QR Code scanning stopped.")}).catch(t=>{console.log("Error stopping the scanner:",t),this.isScanning=!1})}handleQrCodeSuccess(t){console.log("QR code detected:",t),this.validateTicket(t),this.stopScanner()}validateTicket(t){this.ticketService.validateTicket(t).subscribe({next:s=>{this.isValid=!0,this.isDetermined=!0},error:s=>{console.log(s),this.isValid=!1,this.isDetermined=!0,this.invalidMessage=403!==s.status?s.error:"Unauthorized scanning"}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Tc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-scanner"]],decls:9,vars:6,consts:[[1,"scanner-container"],["id","reader",1,"scanner-box"],[1,"scanner-btn",3,"click"],["src","assets/checkmark.svg","alt","PASS","class","checkmark-image",4,"ngIf"],["class","ticket-pass",4,"ngIf"],["src","assets/invalid.svg","alt","INVALID","class","invalid-image",4,"ngIf"],["class","ticket-fail",4,"ngIf"],["class","invalid-msg",4,"ngIf"],["src","assets/checkmark.svg","alt","PASS",1,"checkmark-image"],[1,"ticket-pass"],["src","assets/invalid.svg","alt","INVALID",1,"invalid-image"],[1,"ticket-fail"],[1,"invalid-msg"]],template:function(s,d){1&s&&(o.j41(0,"div",0),o.nrm(1,"div",1),o.j41(2,"button",2),o.bIt("click",function(){return d.toggleScanner()}),o.EFF(3),o.k0s(),o.DNE(4,Mc,1,0,"img",3)(5,Nc,2,0,"div",4)(6,Rc,1,0,"img",5)(7,Oc,2,0,"div",6)(8,Oy,2,1,"div",7),o.k0s()),2&s&&(o.R7$(3),o.SpI(" ",d.isScanning?"Stop Scanner":"Start Scanner"," "),o.R7$(),o.Y8G("ngIf",d.isValid&&d.isDetermined),o.R7$(),o.Y8G("ngIf",d.isValid&&d.isDetermined),o.R7$(),o.Y8G("ngIf",!d.isValid&&d.isDetermined),o.R7$(),o.Y8G("ngIf",!d.isValid&&d.isDetermined),o.R7$(),o.Y8G("ngIf",!d.isValid&&d.isDetermined))},dependencies:[En],styles:[".scanner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;height:100vh;background-color:#f4f4f9;text-align:center}.scanner-box[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:auto;aspect-ratio:1;border:2px solid #333;margin:20px 0}#reader[_ngcontent-%COMP%]{overflow:hidden}#reader[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.scanner-btn[_ngcontent-%COMP%]{position:absolute;bottom:100px}.checkmark-image[_ngcontent-%COMP%]{width:45%;max-width:300px;position:absolute;bottom:400px}.ticket-pass[_ngcontent-%COMP%]{position:absolute;color:#43a047;font-size:50px;font-weight:1000;font-family:Arial,Helvetica,sans-serif;bottom:365px}.invalid-image[_ngcontent-%COMP%]{width:45%;max-width:300px;position:absolute;bottom:400px}.ticket-fail[_ngcontent-%COMP%]{position:absolute;color:#d50000;font-size:50px;font-weight:1000;font-family:Arial,Helvetica,sans-serif;bottom:365px}.invalid-msg[_ngcontent-%COMP%]{position:absolute;bottom:350px}button[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border:none;padding:12px 24px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#357abd}@media (max-width: 600px){.scanner-box[_ngcontent-%COMP%]{width:90%;height:auto}button[_ngcontent-%COMP%]{width:100%}}"]})}}return r})(),rg=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(or(()=>this.checkAuthenticatedAndNavigate()),Rr(()=>(this.router.navigate(["/forbidden"]),at(!1)))):this.checkAuthenticatedAndNavigate()}checkAuthenticatedAndNavigate(){const t=this.authService.isAuthenticated();return t||this.router.navigate(["/forbidden"]),at(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(lr),o.KVO(nn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Fy=(()=>{class r{constructor(t){this.router=t}goToHome(){this.router.navigate(["/"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(nn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forbidden"]],decls:11,vars:0,consts:[[1,"forbidden-container"],[1,"forbidden-content"],["src","assets/forbidden-illustration.svg","alt","Forbidden",1,"forbidden-image"],[3,"click"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"403"),o.k0s(),o.j41(4,"h2"),o.EFF(5,"Access Forbidden"),o.k0s(),o.j41(6,"p"),o.EFF(7,"You don\u2019t have permission to access this page."),o.k0s(),o.nrm(8,"img",2),o.j41(9,"button",3),o.bIt("click",function(){return d.goToHome()}),o.EFF(10,"Go to Homepage"),o.k0s()()())},styles:[".forbidden-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;background-color:#f4f4f9}.forbidden-content[_ngcontent-%COMP%]{max-width:400px;padding:20px}.forbidden-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;color:#ff6b6b;margin-bottom:.5rem}.forbidden-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin-bottom:1rem}.forbidden-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.forbidden-image[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:20px auto}button[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border:none;padding:10px 20px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#357abd}"]})}}return r})(),wa=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(or(()=>this.checkRoleAndNavigate()),Rr(()=>(this.router.navigate(["/forbidden"]),at(!1)))):this.checkRoleAndNavigate()}checkRoleAndNavigate(){const t=this.authService.isAuthenticated()&&this.authService.getRoles()?.includes("ROLE_VENUE");return t||this.router.navigate(["/forbidden"]),at(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(lr),o.KVO(nn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ms(r,a){const t="object"==typeof a;return new Promise((s,d)=>{let _,y=!1;r.subscribe({next:M=>{_=M,y=!0},error:d,complete:()=>{y?s(_):t?s(a.defaultValue):d(new Qc)}})})}function Ly(r,a){if(1&r&&(o.j41(0,"div")(1,"h3"),o.EFF(2,"Account Balance"),o.k0s(),o.j41(3,"p")(4,"strong"),o.EFF(5,"Available:"),o.k0s(),o.EFF(6),o.nI1(7,"number"),o.k0s(),o.j41(8,"p")(9,"strong"),o.EFF(10,"Pending:"),o.k0s(),o.EFF(11),o.nI1(12,"number"),o.k0s()()),2&r){const t=o.XpG();o.R7$(6),o.SpI(" $",o.i5U(7,2,t.balance.available,"1.2-2"),""),o.R7$(5),o.SpI(" $",o.i5U(12,5,t.balance.pending,"1.2-2"),"")}}function By(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",4)(1,"h3"),o.EFF(2,"Request Payout"),o.k0s(),o.j41(3,"form",5),o.bIt("ngSubmit",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.requestPayout())}),o.j41(4,"label",6),o.EFF(5,"Payout Amount ($):"),o.k0s(),o.j41(6,"input",7),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.payoutAmount,d)||(y.payoutAmount=d),o.Njj(d)}),o.k0s(),o.j41(7,"button",8),o.EFF(8," Request Payout "),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(6),o.R50("ngModel",t.payoutAmount),o.Y8G("max",t.balance.available),o.R7$(),o.Y8G("disabled",!t.payoutAmount||t.payoutAmount<=0||t.payoutAmount>t.balance.available)}}function Ns(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"label",20),o.EFF(2,"Payout Day:"),o.k0s(),o.j41(3,"select",21),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.weeklyAnchor,d)||(y.weeklyAnchor=d),o.Njj(d)}),o.j41(4,"option",22),o.EFF(5,"Monday"),o.k0s(),o.j41(6,"option",23),o.EFF(7,"Tuesday"),o.k0s(),o.j41(8,"option",24),o.EFF(9,"Wednesday"),o.k0s(),o.j41(10,"option",25),o.EFF(11,"Thursday"),o.k0s(),o.j41(12,"option",26),o.EFF(13,"Friday"),o.k0s(),o.j41(14,"option",27),o.EFF(15,"Saturday"),o.k0s(),o.j41(16,"option",28),o.EFF(17,"Sunday"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(3),o.R50("ngModel",t.weeklyAnchor)}}function jE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"label",29),o.EFF(2,"Payout Day of the Month:"),o.k0s(),o.j41(3,"input",30),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.monthlyAnchor,d)||(y.monthlyAnchor=d),o.Njj(d)}),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(3),o.R50("ngModel",t.monthlyAnchor)}}function HE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h3"),o.EFF(2,"Bank Account Information"),o.k0s(),o.j41(3,"p")(4,"strong"),o.EFF(5,"Bank Name:"),o.k0s(),o.EFF(6),o.k0s(),o.j41(7,"p")(8,"strong"),o.EFF(9,"Last 4 Digits:"),o.k0s(),o.EFF(10),o.k0s(),o.j41(11,"p")(12,"strong"),o.EFF(13,"Status:"),o.k0s(),o.EFF(14),o.k0s(),o.j41(15,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openBankForm(!0))}),o.EFF(16,"Edit Bank Account"),o.k0s(),o.j41(17,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.removeExternalAccount(d.bankAccount.id))}),o.EFF(18," Remove Bank Account "),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(6),o.SpI(" ",t.bankAccount.bankName,""),o.R7$(4),o.SpI(" ",t.bankAccount.last4,""),o.R7$(4),o.SpI(" ",t.bankAccount.status,"")}}function ig(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h3"),o.EFF(2,"Debit Card Information"),o.k0s(),o.j41(3,"p")(4,"strong"),o.EFF(5,"Card Brand:"),o.k0s(),o.EFF(6),o.k0s(),o.j41(7,"p")(8,"strong"),o.EFF(9,"Last 4 Digits:"),o.k0s(),o.EFF(10),o.k0s(),o.j41(11,"p")(12,"strong"),o.EFF(13,"Expiration:"),o.k0s(),o.EFF(14),o.k0s(),o.j41(15,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openCardForm(!0))}),o.EFF(16,"Edit Card"),o.k0s(),o.j41(17,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.removeExternalAccount(d.card.id))}),o.EFF(18,"Remove Card"),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(6),o.SpI(" ",t.card.brand,""),o.R7$(4),o.SpI(" ",t.card.last4,""),o.R7$(4),o.Lme(" ",t.card.expMonth,"/",t.card.expYear,"")}}function Ea(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h3"),o.EFF(2,"Add Debit Card"),o.k0s(),o.j41(3,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openCardForm(!1))}),o.EFF(4,"Add Card"),o.k0s()()}}function og(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h3"),o.EFF(2,"Add Bank Account"),o.k0s(),o.j41(3,"button",31),o.bIt("click",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openBankForm(!1))}),o.EFF(4,"Add Bank Account"),o.k0s()()}}function GE(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"h3"),o.EFF(2,"Add Payment Method"),o.k0s(),o.j41(3,"label")(4,"input",32),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.selectedPayoutMethod,d)||(y.selectedPayoutMethod=d),o.Njj(d)}),o.bIt("change",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openBankForm(!1))}),o.k0s(),o.EFF(5," Add Bank Account "),o.k0s(),o.j41(6,"label")(7,"input",33),o.mxI("ngModelChange",function(d){o.eBV(t);const y=o.XpG();return o.DH7(y.selectedPayoutMethod,d)||(y.selectedPayoutMethod=d),o.Njj(d)}),o.bIt("change",function(){o.eBV(t);const d=o.XpG();return o.Njj(d.openCardForm(!1))}),o.k0s(),o.EFF(8," Add Debit Card "),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(4),o.R50("ngModel",t.selectedPayoutMethod),o.R7$(3),o.R50("ngModel",t.selectedPayoutMethod)}}const _x=[{path:"login",component:Rp},{path:"",component:hx},{path:"",redirectTo:"",pathMatch:"full"},{path:"register",component:Fm},{path:"dashboard",component:Gm,canActivate:[rg]},{path:"forgot-password",component:Bp},{path:"forgot-username",component:Wm},{path:"reset-password/:token",component:$m},{path:"verify-email/:token",component:tx},{path:"cookie-policy",component:nx},{path:"privacy-policy",component:rx},{path:"data-deletion-policy",component:fx},{path:"settings",component:ax,canActivate:[rg]},{path:"confirm-email/:token",component:dx},{path:"search-results",component:Zm},{path:"event/:sourceId/:id",component:vE},{path:"bookings",component:rf,canActivate:[(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(or(()=>this.checkAuthenticatedAndNavigate()),Rr(()=>(this.router.navigate(["/forbidden"]),at(!1)))):this.checkAuthenticatedAndNavigate()}checkAuthenticatedAndNavigate(){const t=this.authService.isAuthenticated()&&(this.authService.getRoles()?.includes("ROLE_USER")||this.authService.getRoles()?.includes("ROLE_ADMIN"));return t||this.router.navigate(["/forbidden"]),at(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(lr),o.KVO(nn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()]},{path:"venue/events/create",component:hy,canActivate:[wa]},{path:"venue/events",component:gy,canActivate:[wa]},{path:"venue/events/:eventId/edit",component:uf,canActivate:[wa]},{path:"scanner",component:ky,canActivate:[wa]},{path:"forbidden",component:Fy},{path:"payments",component:(()=>{class r{constructor(t,s){this.router=t,this.paymentService=s,this.balance=null,this.payoutAmount=null,this.isManual=!1}ngOnInit(){this.getBalance(),this.paymentService.getPayoutSchedule().subscribe({next:t=>{this.isManual="manual"===t.interval}})}getBalance(){var t=this;return sr(function*(){try{const s=yield Ms(t.paymentService.getBalance());t.balance={available:s.available,pending:s.pending}}catch(s){console.error("Error fetching balance:",s)}})()}requestPayout(){var t=this;return sr(function*(){if(t.payoutAmount&&t.balance&&t.payoutAmount<=t.balance.available)try{yield Ms(t.paymentService.createPayout(t.payoutAmount)),alert("Payout request submitted successfully."),t.payoutAmount=null,t.getBalance()}catch(s){console.error("Error requesting payout:",s),alert("Failed to request payout. Please try again.")}else alert("Invalid payout amount.")})()}navigateToPaymentSettings(){this.router.navigate(["/payment-settings"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(nn),o.rXU(Vp))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-payments"]],decls:7,vars:2,consts:[[1,"payments"],[3,"click"],[4,"ngIf"],["class","payout-section",4,"ngIf"],[1,"payout-section"],[3,"ngSubmit"],["for","payoutAmount"],["type","number","id","payoutAmount","name","payoutAmount","min","1","required","",3,"ngModelChange","ngModel","max"],["type","submit",3,"disabled"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Payments"),o.k0s(),o.j41(3,"button",1),o.bIt("click",function(){return d.navigateToPaymentSettings()}),o.EFF(4,"Go to Payment Settings"),o.k0s(),o.DNE(5,Ly,13,8,"div",2)(6,By,9,3,"div",3),o.k0s()),2&s&&(o.R7$(5),o.Y8G("ngIf",d.balance),o.R7$(),o.Y8G("ngIf",d.balance&&d.isManual))},dependencies:[En,$r,mr,dc,Fr,li,Mi,fa,Gd,zr,Yi,ni],styles:[".payments[_ngcontent-%COMP%]{text-align:center;padding:20px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}input[_ngcontent-%COMP%]{width:100px}"]})}}return r})(),canActivate:[wa]},{path:"payment-settings",component:(()=>{class r{constructor(t){this.paymentService=t,this.selectedPayoutMethod=null,this.stripeLoaded=!1,this.routingNumber="",this.accountNumber="",this.accountHolderName="",this.isBusinessAccount=!1,this.bankAccount=null,this.card=null,this.editingBank=!1,this.editingCard=!1,this.addingCard=!1,this.addingBank=!1,this.payoutInterval="MANUAL",this.weeklyAnchor=null,this.monthlyAnchor=null}ngOnInit(){var t=this;return sr(function*(){yield t.paymentService.initializeStripe(),t.stripe=t.paymentService.getStripe(),t.stripeLoaded=!0,t.loadExternalAccounts(),t.loadPayoutSchedule()})()}ngOnDestroy(){this.unmountElements()}setupCardElement(t){var s=this;return sr(function*(){if(s.stripe&&!s.cardElement){const d=s.stripe.elements();s.cardElement=d.create("card"),s.cardElement.mount(`#${t}`)}})()}unmountElements(){this.cardElement&&(this.cardElement.unmount(),this.cardElement=null)}openBankForm(t){this.unmountElements(),this.editingBank=t,this.addingBank=!t}openCardForm(t){this.unmountElements(),this.editingCard=t,this.addingCard=!t,this.setupCardElement(t?"card-element-edit":"card-element-add")}cancelEditAdd(t){"bank"===t?(this.editingBank=!1,this.addingBank=!1):"card"===t&&(this.editingCard=!1,this.addingCard=!1),this.unmountElements()}loadPayoutSchedule(){var t=this;return sr(function*(){t.paymentService.getPayoutSchedule().subscribe({next:s=>{t.payoutInterval=s.interval.toUpperCase(),t.weeklyAnchor=null!==s.weeklyAnchor?s.weeklyAnchor.toUpperCase():null,t.monthlyAnchor=s.monthlyAnchor},error:s=>{console.error("Error retrieving payout schedule:",s)}})})()}updatePayoutSchedule(){var t=this;return sr(function*(){try{yield Ms(t.paymentService.setPayoutSchedule(t.payoutInterval,t.weeklyAnchor,t.monthlyAnchor)),alert("Payout schedule updated successfully.")}catch(s){console.error("Failed to update payout schedule:",s),alert("Failed to update payout schedule. Please try again.")}})()}loadExternalAccounts(){var t=this;return sr(function*(){try{const s=yield Ms(t.paymentService.getExternalAccounts());t.bankAccount=s?.find(d=>"bank_account"===d.object),t.card=s?.find(d=>"card"===d.object)}catch(s){console.error("Error loading external accounts:",s)}})()}removeExternalAccount(t){var s=this;return sr(function*(){try{yield Ms(s.paymentService.removeExternalAccount(t)),s.loadExternalAccounts()}catch(d){console.error("Error removing external account:",d),alert("Unable to remove account")}})()}submitBankAccountForm(){var t=this;return sr(function*(){const{token:s,error:d}=yield t.paymentService.getStripe().createToken("bank_account",{country:"US",currency:"usd",routing_number:t.routingNumber,account_number:t.accountNumber,account_holder_name:t.accountHolderName,account_holder_type:t.isBusinessAccount?"company":"individual"});d?console.error("Bank Account Error:",d.message):(yield Ms(t.paymentService.addOrUpdateExternalAccount(t.bankAccount?.id,s?.id,"bank")),t.loadExternalAccounts(),t.cancelEditAdd("bank"))})()}submitCardForm(){var t=this;return sr(function*(){const{token:s,error:d}=yield t.paymentService.getStripe().createToken(t.cardElement,{currency:"usd"});d?console.error("Card Error:",d.message):(yield Ms(t.paymentService.addOrUpdateExternalAccount(t.card?.id,s?.id,"card")),t.loadExternalAccounts(),t.cancelEditAdd("card"))})()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Vp))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-payment-settings"]],decls:85,vars:24,consts:[[1,"payment-settings"],[1,"payout-schedule-section"],[3,"ngSubmit"],["for","payoutInterval"],["id","payoutInterval","name","payoutInterval","required","",3,"ngModelChange","ngModel"],["value","MANUAL"],["value","DAILY"],["value","WEEKLY"],["value","MONTHLY"],[4,"ngIf"],["type","submit"],[3,"hidden"],["type","text","name","routingNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","accountNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","accountHolderName","required","",3,"ngModelChange","ngModel"],["type","checkbox","name","isBusinessAccount",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["type","button",3,"click"],["id","card-element-edit"],["id","card-element-add"],["for","weeklyAnchor"],["id","weeklyAnchor","name","weeklyAnchor","required","",3,"ngModelChange","ngModel"],["value","MONDAY"],["value","TUESDAY"],["value","WEDNESDAY"],["value","THURSDAY"],["value","FRIDAY"],["value","SATURDAY"],["value","SUNDAY"],["for","monthlyAnchor"],["type","number","id","monthlyAnchor","name","monthlyAnchor","min","1","max","31","required","",3,"ngModelChange","ngModel"],[3,"click"],["type","radio","name","payoutMethod","value","bank",3,"ngModelChange","change","ngModel"],["type","radio","name","payoutMethod","value","card",3,"ngModelChange","change","ngModel"]],template:function(s,d){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Payment Settings"),o.k0s(),o.j41(3,"div",1)(4,"h3"),o.EFF(5,"Set Payout Schedule"),o.k0s(),o.j41(6,"form",2),o.bIt("ngSubmit",function(){return d.updatePayoutSchedule()}),o.j41(7,"label",3),o.EFF(8,"Payout Interval:"),o.k0s(),o.j41(9,"select",4),o.mxI("ngModelChange",function(_){return o.DH7(d.payoutInterval,_)||(d.payoutInterval=_),_}),o.j41(10,"option",5),o.EFF(11,"Manual"),o.k0s(),o.j41(12,"option",6),o.EFF(13,"Daily"),o.k0s(),o.j41(14,"option",7),o.EFF(15,"Weekly"),o.k0s(),o.j41(16,"option",8),o.EFF(17,"Monthly"),o.k0s()(),o.DNE(18,Ns,18,1,"div",9)(19,jE,4,1,"div",9),o.j41(20,"button",10),o.EFF(21,"Update Payout Schedule"),o.k0s()()(),o.DNE(22,HE,19,3,"div",9)(23,ig,19,4,"div",9)(24,Ea,5,0,"div",9)(25,og,5,0,"div",9)(26,GE,9,2,"div",9),o.j41(27,"div",11)(28,"h3"),o.EFF(29,"Edit Bank Account Information"),o.k0s(),o.j41(30,"form",2),o.bIt("ngSubmit",function(){return d.submitBankAccountForm()}),o.j41(31,"label"),o.EFF(32,"Routing Number"),o.k0s(),o.j41(33,"input",12),o.mxI("ngModelChange",function(_){return o.DH7(d.routingNumber,_)||(d.routingNumber=_),_}),o.k0s(),o.j41(34,"label"),o.EFF(35,"Account Number"),o.k0s(),o.j41(36,"input",13),o.mxI("ngModelChange",function(_){return o.DH7(d.accountNumber,_)||(d.accountNumber=_),_}),o.k0s(),o.j41(37,"label"),o.EFF(38,"Account Holder Name"),o.k0s(),o.j41(39,"input",14),o.mxI("ngModelChange",function(_){return o.DH7(d.accountHolderName,_)||(d.accountHolderName=_),_}),o.k0s(),o.j41(40,"label")(41,"input",15),o.mxI("ngModelChange",function(_){return o.DH7(d.isBusinessAccount,_)||(d.isBusinessAccount=_),_}),o.k0s(),o.EFF(42," Business Account "),o.k0s(),o.j41(43,"button",16),o.EFF(44," Save Bank Account "),o.k0s(),o.j41(45,"button",17),o.bIt("click",function(){return d.cancelEditAdd("bank")}),o.EFF(46,"Cancel"),o.k0s()()(),o.j41(47,"div",11)(48,"h3"),o.EFF(49,"Edit Debit Card Information"),o.k0s(),o.j41(50,"form",2),o.bIt("ngSubmit",function(){return d.submitCardForm()}),o.nrm(51,"div",18),o.j41(52,"button",16),o.EFF(53,"Save Card"),o.k0s(),o.j41(54,"button",17),o.bIt("click",function(){return d.cancelEditAdd("card")}),o.EFF(55,"Cancel"),o.k0s()()(),o.j41(56,"div",11)(57,"h3"),o.EFF(58,"Add Bank Account Information (U.S. Only)"),o.k0s(),o.j41(59,"form",2),o.bIt("ngSubmit",function(){return d.submitBankAccountForm()}),o.j41(60,"label"),o.EFF(61,"Routing Number"),o.k0s(),o.j41(62,"input",12),o.mxI("ngModelChange",function(_){return o.DH7(d.routingNumber,_)||(d.routingNumber=_),_}),o.k0s(),o.j41(63,"label"),o.EFF(64,"Account Number"),o.k0s(),o.j41(65,"input",13),o.mxI("ngModelChange",function(_){return o.DH7(d.accountNumber,_)||(d.accountNumber=_),_}),o.k0s(),o.j41(66,"label"),o.EFF(67,"Account Holder Name"),o.k0s(),o.j41(68,"input",14),o.mxI("ngModelChange",function(_){return o.DH7(d.accountHolderName,_)||(d.accountHolderName=_),_}),o.k0s(),o.j41(69,"label")(70,"input",15),o.mxI("ngModelChange",function(_){return o.DH7(d.isBusinessAccount,_)||(d.isBusinessAccount=_),_}),o.k0s(),o.EFF(71," Business Account "),o.k0s(),o.j41(72,"button",16),o.EFF(73," Save Bank Account "),o.k0s(),o.j41(74,"button",17),o.bIt("click",function(){return d.cancelEditAdd("bank")}),o.EFF(75,"Cancel"),o.k0s()()(),o.j41(76,"div",11)(77,"h3"),o.EFF(78,"Add Debit Card Information"),o.k0s(),o.j41(79,"form",2),o.bIt("ngSubmit",function(){return d.submitCardForm()}),o.nrm(80,"div",19),o.j41(81,"button",16),o.EFF(82,"Save Debit Card"),o.k0s(),o.j41(83,"button",17),o.bIt("click",function(){return d.cancelEditAdd("card")}),o.EFF(84,"Cancel"),o.k0s()()()()),2&s&&(o.R7$(9),o.R50("ngModel",d.payoutInterval),o.R7$(9),o.Y8G("ngIf","WEEKLY"===d.payoutInterval),o.R7$(),o.Y8G("ngIf","MONTHLY"===d.payoutInterval),o.R7$(3),o.Y8G("ngIf",d.bankAccount&&!d.editingBank&&!d.addingBank),o.R7$(),o.Y8G("ngIf",d.card&&!d.editingCard&&!d.addingCard),o.R7$(),o.Y8G("ngIf",d.bankAccount&&!d.card&&!d.editingCard&&!d.addingCard),o.R7$(),o.Y8G("ngIf",!d.bankAccount&&d.card&&!d.editingBank&&!d.addingBank),o.R7$(),o.Y8G("ngIf",!(d.bankAccount||d.card||d.addingBank||d.addingCard||d.editingBank||d.editingCard)),o.R7$(),o.Y8G("hidden",!d.editingBank),o.R7$(6),o.R50("ngModel",d.routingNumber),o.R7$(3),o.R50("ngModel",d.accountNumber),o.R7$(3),o.R50("ngModel",d.accountHolderName),o.R7$(2),o.R50("ngModel",d.isBusinessAccount),o.R7$(2),o.Y8G("disabled",!d.stripeLoaded),o.R7$(4),o.Y8G("hidden",!d.editingCard),o.R7$(5),o.Y8G("disabled",!d.stripeLoaded),o.R7$(4),o.Y8G("hidden",!d.addingBank),o.R7$(6),o.R50("ngModel",d.routingNumber),o.R7$(3),o.R50("ngModel",d.accountNumber),o.R7$(3),o.R50("ngModel",d.accountHolderName),o.R7$(2),o.R50("ngModel",d.isBusinessAccount),o.R7$(2),o.Y8G("disabled",!d.stripeLoaded),o.R7$(4),o.Y8G("hidden",!d.addingCard),o.R7$(5),o.Y8G("disabled",!d.stripeLoaded))},dependencies:[En,$r,Hd,$l,mr,dc,Xh,da,_s,Fr,li,Mi,fa,Gd,zr,Yi],styles:[".payment-settings[_ngcontent-%COMP%]{max-width:500px;margin:auto;padding:20px}label[_ngcontent-%COMP%]{display:block;margin:10px 0 5px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px}#card-element[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer;margin-top:20px}"]})}}return r})(),canActivate:[wa]}];let bx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[$h.forRoot(_x),$h]})}}return r})(),zE=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"footer"],[1,"footer-content"],["routerLink","/privacy-policy"],["routerLink","/cookie-policy"],["routerLink","/data-deletion-policy"]],template:function(s,d){1&s&&(o.j41(0,"footer",0)(1,"div",1)(2,"a",2),o.EFF(3,"Privacy Policy"),o.k0s(),o.j41(4,"span"),o.EFF(5,"|"),o.k0s(),o.j41(6,"a",3),o.EFF(7,"Cookie Policy"),o.k0s(),o.j41(8,"span"),o.EFF(9,"|"),o.k0s(),o.j41(10,"a",4),o.EFF(11,"Data Deletion Policy"),o.k0s()()())},dependencies:[Vo],styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f8f8f8;padding:10px;height:50px;margin-top:auto}.footer-content[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;margin:0 10px}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}"]})}}return r})(),$E=(()=>{class r{constructor(t,s){this.router=t,this.authService=s,this.title="ticketing-system"}ngOnInit(){this.router.events.subscribe(t=>{if(t instanceof Wi){const s=this.authService.getToken();s&&this.authService.isTokenExpired(s)&&this.authService.refreshToken().subscribe()}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(nn),o.rXU(lr))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-container"]],template:function(s,d){1&s&&(o.j41(0,"div",0),o.nrm(1,"router-outlet")(2,"app-footer"),o.k0s())},dependencies:[dd,zE]})}}return r})(),Vy=(()=>{class r{constructor(t,s){this.authService=t,this.router=s,this.isRefreshing=!1,this.refreshTokenSubject=new Zr.t(null)}intercept(t,s){const d=this.authService.getToken();if(d&&this.authService.isTokenExpired(d)&&!this.isRefreshing)return this.handle401Error(t,s);let y=t;return d&&!this.isExcludedUrl(t.url)&&(y=this.addTokenHeader(t,d)),s.handle(y).pipe(Rr(_=>401!==_.status||this.isExcludedUrl(t.url)?403!==_.status||this.isExcludedUrl(t.url)?No(_):this.handle403Error(y,s):this.handle401Error(y,s)))}addTokenHeader(t,s){return t.clone({headers:t.headers.set("Authorization",`Bearer ${s}`)})}handle401Error(t,s){return this.isRefreshing?this.refreshTokenSubject.pipe(fo(d=>null!=d),fs(1),or(d=>s.handle(this.addTokenHeader(t,d)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshToken().pipe(or(d=>(this.isRefreshing=!1,this.authService.saveAccessToken(d?.accessToken),this.refreshTokenSubject.next(d?.accessToken),s.handle(this.addTokenHeader(t,d?.accessToken)))),Rr(d=>(this.isRefreshing=!1,No(d)))))}handle403Error(t,s){return this.handle401Error(t,s)}isExcludedUrl(t){return t.includes("/login")||t.includes("/register")||t.includes("/refresh-token")||t.includes("/logout")||t.includes("/weather")||t.includes("/auth/google")||t.includes("/confirm-email")||t.includes("/bookings/guest/start")||t.includes("/bookings/guest/reserve")||t.includes("/bookings/guest/confirm")||t.includes("/bookings/guest/release")}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(lr),o.KVO(nn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})(),ur=(()=>{class r{constructor(t,s,d,y,_){this.doc=t,this.delegate=s,this.zone=d,this.animationType=y,this.moduleImpl=_,this._rendererFactoryPromise=null,this.scheduler=(0,o.WQX)(o.An2,{optional:!0}),this.loadingSchedulerFn=(0,o.WQX)(XE,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){const t=()=>this.moduleImpl??F.e(142).then(F.bind(F,3142)).then(d=>d);let s;return s=this.loadingSchedulerFn?this.loadingSchedulerFn(t):t(),s.catch(d=>{throw new o.wOt(5300,!1)}).then(({\u0275createEngine:d,\u0275AnimationRendererFactory:y})=>{this._engine=d(this.animationType,this.doc);const _=new y(this.delegate,this._engine,this.zone);return this.delegate=_,_})}createRenderer(t,s){const d=this.delegate.createRenderer(t,s);if(0===d.\u0275type)return d;"boolean"==typeof d.throwOnSyntheticProps&&(d.throwOnSyntheticProps=!1);const y=new jy(d);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(_=>{const M=_.createRenderer(t,s);y.use(M),this.scheduler?.notify(10)}).catch(_=>{y.use(d)}),y}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){o.QTQ()}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class jy{constructor(a){this.delegate=a,this.replay=[],this.\u0275type=1}use(a){if(this.delegate=a,null!==this.replay){for(const t of this.replay)t(a);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(a,t){return this.delegate.createElement(a,t)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}get destroyNode(){return this.delegate.destroyNode}appendChild(a,t){this.delegate.appendChild(a,t)}insertBefore(a,t,s,d){this.delegate.insertBefore(a,t,s,d)}removeChild(a,t,s){this.delegate.removeChild(a,t,s)}selectRootElement(a,t){return this.delegate.selectRootElement(a,t)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,t,s,d){this.delegate.setAttribute(a,t,s,d)}removeAttribute(a,t,s){this.delegate.removeAttribute(a,t,s)}addClass(a,t){this.delegate.addClass(a,t)}removeClass(a,t){this.delegate.removeClass(a,t)}setStyle(a,t,s,d){this.delegate.setStyle(a,t,s,d)}removeStyle(a,t,s){this.delegate.removeStyle(a,t,s)}setProperty(a,t,s){this.shouldReplay(t)&&this.replay.push(d=>d.setProperty(a,t,s)),this.delegate.setProperty(a,t,s)}setValue(a,t){this.delegate.setValue(a,t)}listen(a,t,s){return this.shouldReplay(t)&&this.replay.push(d=>d.listen(a,t,s)),this.delegate.listen(a,t,s)}shouldReplay(a){return null!==this.replay&&a.startsWith("@")}}const XE=new o.nKC("");function YE(r="animations"){return(0,o.ngT)("NgAsyncAnimations"),(0,o.EmA)([{provide:o._9s,useFactory:(a,t,s)=>new ur(a,t,s,r),deps:[oe,Hn,o.SKi]},{provide:o.bc$,useValue:"noop"===r?"NoopAnimations":"BrowserAnimations"}])}let Hy=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r,bootstrap:[$E]})}static{this.\u0275inj=o.G2t({providers:[lr,Pm,{provide:Dp,useValue:Dp},xm,{provide:um,useClass:Vy,multi:!0},zw(Ko(Zo.LegacyInterceptors,[{provide:ym,useFactory:kw},{provide:ql,useExisting:ym,multi:!0}])),YE()],imports:[Vf,bx,Q1,xw]})}}return r})();Yn().bootstrapModule(Hy).catch(r=>console.error(r))},243:nt=>{"use strict";var ee={single_source_shortest_paths:function(F,o,W){var G={},$={};$[o]=0;var K,oe,ce,J,pe,Ce,X=ee.PriorityQueue.make();for(X.push(o,0);!X.empty();)for(ce in J=(K=X.pop()).cost,pe=F[oe=K.value]||{})pe.hasOwnProperty(ce)&&(Ce=J+pe[ce],(typeof $[ce]>"u"||$[ce]>Ce)&&($[ce]=Ce,X.push(ce,Ce),G[ce]=oe));if(typeof W<"u"&&typeof $[W]>"u"){var We=["Could not find a path from ",o," to ",W,"."].join("");throw new Error(We)}return G},extract_shortest_path_from_predecessor_list:function(F,o){for(var W=[],G=o;G;)W.push(G),G=F[G];return W.reverse(),W},find_path:function(F,o,W){var G=ee.single_source_shortest_paths(F,o,W);return ee.extract_shortest_path_from_predecessor_list(G,W)},PriorityQueue:{make:function(F){var G,o=ee.PriorityQueue,W={};for(G in F=F||{},o)o.hasOwnProperty(G)&&(W[G]=o[G]);return W.queue=[],W.sorter=F.sorter||o.default_sorter,W},default_sorter:function(F,o){return F.cost-o.cost},push:function(F,o){this.queue.push({value:F,cost:o}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};nt.exports=ee},5496:function(nt,ee){!function(F){"use strict";function o(D){return null==D}var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,c){D.__proto__=c}||function(D,c){for(var l in c)c.hasOwnProperty(l)&&(D[l]=c[l])};var K=function(D){function c(l){var f=this.constructor,p=D.call(this,l)||this;return Object.defineProperty(p,"name",{value:f.name,enumerable:!1}),function $(D,c){var l=Object.setPrototypeOf;l?l(D,c):D.__proto__=c}(p,f.prototype),function X(D,c){void 0===c&&(c=D.constructor);var l=Error.captureStackTrace;l&&l(D,c)}(p),p}return function G(D,c){function l(){this.constructor=D}W(D,c),D.prototype=null===c?Object.create(c):(l.prototype=c.prototype,new l)}(c,D),c}(Error);let oe=(()=>{class D extends K{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}return D.kind="Exception",D})(),ce=(()=>{class D extends oe{}return D.kind="ArgumentException",D})(),J=(()=>{class D extends oe{}return D.kind="IllegalArgumentException",D})();class pe{constructor(c){if(this.binarizer=c,null===c)throw new J("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,l){return this.binarizer.getBlackRow(c,l)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,l,f,p){const g=this.binarizer.getLuminanceSource().crop(c,l,f,p);return new pe(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new pe(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new pe(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let se=(()=>{class D extends oe{static getChecksumInstance(){return new D}}return D.kind="ChecksumException",D})();class Ce{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _e{static arraycopy(c,l,f,p,g){for(;g--;)f[p++]=c[l++]}static currentTimeMillis(){return Date.now()}}let Se=(()=>{class D extends oe{}return D.kind="IndexOutOfBoundsException",D})(),We=(()=>{class D extends Se{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}return D.kind="ArrayIndexOutOfBoundsException",D})();class mt{static fill(c,l){for(let f=0,p=c.length;f<p;f++)c[f]=l}static fillWithin(c,l,f,p){mt.rangeCheck(c.length,l,f);for(let g=l;g<f;g++)c[g]=p}static rangeCheck(c,l,f){if(l>f)throw new J("fromIndex("+l+") > toIndex("+f+")");if(l<0)throw new We(l);if(f>c)throw new We(f)}static asList(...c){return c}static create(c,l,f){return Array.from({length:c}).map(g=>Array.from({length:l}).fill(f))}static createInt32Array(c,l,f){return Array.from({length:c}).map(g=>Int32Array.from({length:l}).fill(f))}static equals(c,l){if(!(c&&l&&c.length&&l.length&&c.length===l.length))return!1;for(let f=0,p=c.length;f<p;f++)if(c[f]!==l[f])return!1;return!0}static hashCode(c){if(null===c)return 0;let l=1;for(const f of c)l=31*l+f;return l}static fillUint8Array(c,l){for(let f=0;f!==c.length;f++)c[f]=l}static copyOf(c,l){return c.slice(0,l)}static copyOfUint8Array(c,l){if(c.length<=l){const f=new Uint8Array(l);return f.set(c),f}return c.slice(0,l)}static copyOfRange(c,l,f){const p=f-l,g=new Int32Array(p);return _e.arraycopy(c,l,g,0,p),g}static binarySearch(c,l,f){void 0===f&&(f=mt.numberComparator);let p=0,g=c.length-1;for(;p<=g;){const v=g+p>>1,C=f(l,c[v]);if(C>0)p=v+1;else{if(!(C<0))return v;g=v-1}}return-p-1}static numberComparator(c,l){return c-l}}class be{static numberOfTrailingZeros(c){let l;if(0===c)return 32;let f=31;return l=c<<16,0!==l&&(f-=16,c=l),l=c<<8,0!==l&&(f-=8,c=l),l=c<<4,0!==l&&(f-=4,c=l),l=c<<2,0!==l&&(f-=2,c=l),f-(c<<1>>>31)}static numberOfLeadingZeros(c){if(0===c)return 32;let l=1;return c>>>16||(l+=16,c<<=16),c>>>24||(l+=8,c<<=8),c>>>28||(l+=4,c<<=4),c>>>30||(l+=2,c<<=2),l-=c>>>31,l}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=(c=(858993459&(c-=c>>>1&1431655765))+(c>>>2&858993459))+(c>>>4)&252645135,63&(c+=c>>>8)+(c>>>16)}static truncDivision(c,l){return Math.trunc(c/l)}static parseInt(c,l=void 0){return parseInt(c,l)}}be.MIN_VALUE_32_BITS=-2147483648,be.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(c,l){void 0===c?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,this.bits=null==l?Fe.makeArray(c):l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>32*this.bits.length){const l=Fe.makeArray(c);_e.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(c){return!!(this.bits[Math.floor(c/32)]&1<<(31&c))}set(c){this.bits[Math.floor(c/32)]|=1<<(31&c)}flip(c){this.bits[Math.floor(c/32)]^=1<<(31&c)}getNextSet(c){const l=this.size;if(c>=l)return l;const f=this.bits;let p=Math.floor(c/32),g=f[p];g&=~((1<<(31&c))-1);const v=f.length;for(;0===g;){if(++p===v)return l;g=f[p]}const C=32*p+be.numberOfTrailingZeros(g);return C>l?l:C}getNextUnset(c){const l=this.size;if(c>=l)return l;const f=this.bits;let p=Math.floor(c/32),g=~f[p];g&=~((1<<(31&c))-1);const v=f.length;for(;0===g;){if(++p===v)return l;g=~f[p]}const C=32*p+be.numberOfTrailingZeros(g);return C>l?l:C}setBulk(c,l){this.bits[Math.floor(c/32)]=l}setRange(c,l){if(l<c||c<0||l>this.size)throw new J;if(l===c)return;l--;const f=Math.floor(c/32),p=Math.floor(l/32),g=this.bits;for(let v=f;v<=p;v++)g[v]|=(2<<(v<p?31:31&l))-(1<<(v>f?0:31&c))}clear(){const c=this.bits.length,l=this.bits;for(let f=0;f<c;f++)l[f]=0}isRange(c,l,f){if(l<c||c<0||l>this.size)throw new J;if(l===c)return!0;l--;const p=Math.floor(c/32),g=Math.floor(l/32),v=this.bits;for(let C=p;C<=g;C++){const A=(2<<(C<g?31:31&l))-(1<<(C>p?0:31&c))&4294967295;if((v[C]&A)!==(f?A:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(c,l){if(l<0||l>32)throw new J("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let f=l;f>0;f--)this.appendBit(1==(c>>f-1&1))}appendBitArray(c){const l=c.size;this.ensureCapacity(this.size+l);for(let f=0;f<l;f++)this.appendBit(c.get(f))}xor(c){if(this.size!==c.size)throw new J("Sizes don't match");const l=this.bits;for(let f=0,p=l.length;f<p;f++)l[f]^=c.bits[f]}toBytes(c,l,f,p){for(let g=0;g<p;g++){let v=0;for(let C=0;C<8;C++)this.get(c)&&(v|=1<<7-C),c++;l[f+g]=v}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),f=l+1,p=this.bits;for(let g=0;g<f;g++){let v=p[g];v=v>>1&1431655765|(1431655765&v)<<1,v=v>>2&858993459|(858993459&v)<<2,v=v>>4&252645135|(252645135&v)<<4,v=v>>8&16711935|(16711935&v)<<8,v=v>>16&65535|(65535&v)<<16,c[l-g]=v}if(this.size!==32*f){const g=32*f-this.size;let v=c[0]>>>g;for(let C=1;C<f;C++){const E=c[C];v|=E<<32-g,c[C-1]=v,v=E>>>g}c[f-1]=v}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){return c instanceof Fe&&this.size===c.size&&mt.equals(this.bits,c.bits)}hashCode(){return 31*this.size+mt.hashCode(this.bits)}toString(){let c="";for(let l=0,f=this.size;l<f;l++)7&l||(c+=" "),c+=this.get(l)?"X":".";return c}clone(){return new Fe(this.size,this.bits.slice())}}var it=function(D){return D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",D}(it||{}),Ve=it;let we=(()=>{class D extends oe{static getFormatInstance(){return new D}}return D.kind="FormatException",D})();var Te=function(D){return D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR",D}(Te||{});class ie{constructor(c,l,f,...p){this.valueIdentifier=c,this.name=f,this.values="number"==typeof l?Int32Array.from([l]):l,this.otherEncodingNames=p,ie.VALUE_IDENTIFIER_TO_ECI.set(c,this),ie.NAME_TO_ECI.set(f,this);const g=this.values;for(let v=0,C=g.length;v!==C;v++)ie.VALUES_TO_ECI.set(g[v],this);for(const v of p)ie.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new we("incorect value");const l=ie.VALUES_TO_ECI.get(c);if(void 0===l)throw new we("incorect value");return l}static getCharacterSetECIByName(c){const l=ie.NAME_TO_ECI.get(c);if(void 0===l)throw new we("incorect value");return l}equals(c){if(!(c instanceof ie))return!1;const l=c;return this.getName()===l.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Te.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Te.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Te.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Te.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Te.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Te.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Te.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Te.Big5,28,"Big5"),ie.GB18030=new ie(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Te.EUC_KR,30,"EUC_KR","EUC-KR");let Ne=(()=>{class D extends oe{}return D.kind="UnsupportedOperationException",D})();class Y{static decode(c,l){const f=this.encodingName(l);return this.customDecoder?this.customDecoder(c,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(c,f):new TextDecoder(f).decode(c)}static shouldDecodeOnFallback(c){return!Y.isBrowser()&&"ISO-8859-1"===c}static encode(c,l){const f=this.encodingName(l);return this.customEncoder?this.customEncoder(c,f):typeof TextEncoder>"u"?this.encodeFallback(c):(new TextEncoder).encode(c)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(c){return"string"==typeof c?c:c.getName()}static encodingCharacterSet(c){return c instanceof ie?c:ie.getCharacterSetECIByName(c)}static decodeFallback(c,l){const f=this.encodingCharacterSet(l);if(Y.isDecodeFallbackSupported(f)){let p="";for(let g=0,v=c.length;g<v;g++){let C=c[g].toString(16);C.length<2&&(C="0"+C),p+="%"+C}return decodeURIComponent(p)}if(f.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new Ne(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(ie.UTF8)||c.equals(ie.ISO8859_1)||c.equals(ie.ASCII)}static encodeFallback(c){const f=btoa(unescape(encodeURIComponent(c))).split(""),p=[];for(let g=0;g<f.length;g++)p.push(f[g].charCodeAt(0));return new Uint8Array(p)}}class B{static castAsNonUtf8Char(c,l=null){const f=l?l.getName():this.ISO88591;return Y.decode(new Uint8Array([c]),f)}static guessEncoding(c,l){if(null!=l&&void 0!==l.get(Ve.CHARACTER_SET))return l.get(Ve.CHARACTER_SET).toString();const f=c.length;let p=!0,g=!0,v=!0,C=0,E=0,I=0,A=0,O=0,k=0,L=0,z=0,Q=0,re=0,ue=0;const Ae=c.length>3&&239===c[0]&&187===c[1]&&191===c[2];for(let He=0;He<f&&(p||g||v);He++){const ge=255&c[He];v&&(C>0?128&ge?C--:v=!1:128&ge&&(64&ge?(C++,32&ge?(C++,16&ge?(C++,8&ge?v=!1:A++):I++):E++):v=!1)),p&&(ge>127&&ge<160?p=!1:ge>159&&(ge<192||215===ge||247===ge)&&ue++),g&&(O>0?ge<64||127===ge||ge>252?g=!1:O--:128===ge||160===ge||ge>239?g=!1:ge>160&&ge<224?(k++,z=0,L++,L>Q&&(Q=L)):ge>127?(O++,L=0,z++,z>re&&(re=z)):(L=0,z=0))}return v&&C>0&&(v=!1),g&&O>0&&(g=!1),v&&(Ae||E+I+A>0)?B.UTF8:g&&(B.ASSUME_SHIFT_JIS||Q>=3||re>=3)?B.SHIFT_JIS:p&&g?2===Q&&2===k||10*ue>=f?B.SHIFT_JIS:B.ISO88591:p?B.ISO88591:g?B.SHIFT_JIS:v?B.UTF8:B.PLATFORM_DEFAULT_ENCODING}static format(c,...l){let f=-1;return c.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,C,E,I,A,O){if("%%"===v)return"%";if(void 0===l[++f])return;v=I?parseInt(I.substr(1)):void 0;let L,k=A?parseInt(A.substr(1)):void 0;switch(O){case"s":L=l[f];break;case"c":L=l[f][0];break;case"f":L=parseFloat(l[f]).toFixed(v);break;case"p":L=parseFloat(l[f]).toPrecision(v);break;case"e":L=parseFloat(l[f]).toExponential(v);break;case"x":L=parseInt(l[f]).toString(k||16);break;case"d":L=parseFloat(parseInt(l[f],k||10).toPrecision(v)).toFixed(0)}L="object"==typeof L?JSON.stringify(L):(+L).toString(k);let z=parseInt(E),Q=E&&E[0]+""=="0"?"0":" ";for(;L.length<z;)L=void 0!==C?L+Q:Q+L;return L})}static getBytes(c,l){return Y.encode(c,l)}static getCharCode(c,l=0){return c.charCodeAt(l)}static getCharAt(c){return String.fromCharCode(c)}}B.SHIFT_JIS=ie.SJIS.getName(),B.GB2312="GB2312",B.ISO88591=ie.ISO8859_1.getName(),B.EUC_JP="EUC_JP",B.UTF8=ie.UTF8.getName(),B.PLATFORM_DEFAULT_ENCODING=B.UTF8,B.ASSUME_SHIFT_JIS=!1;class te{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return this.value+="string"==typeof c?c.toString():this.encoding?B.castAsNonUtf8Char(c,this.encoding):String.fromCharCode(c),this}appendChars(c,l,f){for(let p=l;l<l+f;p++)this.append(c[p]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,l){this.value=this.value.substr(0,c)+l+this.value.substr(c+1)}substring(c,l){return this.value.substring(c,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,l){this.value=this.value.substr(0,c)+l+this.value.substr(c+l.length)}}class fe{constructor(c,l,f,p){if(this.width=c,this.height=l,this.rowSize=f,this.bits=p,null==l&&(l=c),this.height=l,c<1||l<1)throw new J("Both dimensions must be greater than 0");null==f&&(f=Math.floor((c+31)/32)),this.rowSize=f,null==p&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const l=c.length,f=c[0].length,p=new fe(f,l);for(let g=0;g<l;g++){const v=c[g];for(let C=0;C<f;C++)v[C]&&p.set(C,g)}return p}static parseFromString(c,l,f){if(null===c)throw new J("stringRepresentation cannot be null");const p=new Array(c.length);let g=0,v=0,C=-1,E=0,I=0;for(;I<c.length;)if("\n"===c.charAt(I)||"\r"===c.charAt(I)){if(g>v){if(-1===C)C=g-v;else if(g-v!==C)throw new J("row lengths do not match");v=g,E++}I++}else if(c.substring(I,I+l.length)===l)I+=l.length,p[g]=!0,g++;else{if(c.substring(I,I+f.length)!==f)throw new J("illegal character encountered: "+c.substring(I));I+=f.length,p[g]=!1,g++}if(g>v){if(-1===C)C=g-v;else if(g-v!==C)throw new J("row lengths do not match");E++}const A=new fe(C,E);for(let O=0;O<g;O++)p[O]&&A.set(Math.floor(O%C),Math.floor(O/C));return A}get(c,l){const f=l*this.rowSize+Math.floor(c/32);return!!(this.bits[f]>>>(31&c)&1)}set(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]|=1<<(31&c)&4294967295}unset(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]&=~(1<<(31&c)&4294967295)}flip(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]^=1<<(31&c)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new J("input matrix dimensions do not match");const l=new Fe(Math.floor(this.width/32)+1),f=this.rowSize,p=this.bits;for(let g=0,v=this.height;g<v;g++){const C=g*f,E=c.getRow(g,l).getBitArray();for(let I=0;I<f;I++)p[C+I]^=E[I]}}clear(){const c=this.bits,l=c.length;for(let f=0;f<l;f++)c[f]=0}setRegion(c,l,f,p){if(l<0||c<0)throw new J("Left and top must be nonnegative");if(p<1||f<1)throw new J("Height and width must be at least 1");const g=c+f,v=l+p;if(v>this.height||g>this.width)throw new J("The region must fit inside the matrix");const C=this.rowSize,E=this.bits;for(let I=l;I<v;I++){const A=I*C;for(let O=c;O<g;O++)E[A+Math.floor(O/32)]|=1<<(31&O)&4294967295}}getRow(c,l){null==l||l.getSize()<this.width?l=new Fe(this.width):l.clear();const f=this.rowSize,p=this.bits,g=c*f;for(let v=0;v<f;v++)l.setBulk(32*v,p[g+v]);return l}setRow(c,l){_e.arraycopy(l.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),l=this.getHeight();let f=new Fe(c),p=new Fe(c);for(let g=0,v=Math.floor((l+1)/2);g<v;g++)f=this.getRow(g,f),p=this.getRow(l-1-g,p),f.reverse(),p.reverse(),this.setRow(g,p),this.setRow(l-1-g,f)}getEnclosingRectangle(){const l=this.height,f=this.rowSize,p=this.bits;let g=this.width,v=l,C=-1,E=-1;for(let I=0;I<l;I++)for(let A=0;A<f;A++){const O=p[I*f+A];if(0!==O){if(I<v&&(v=I),I>E&&(E=I),32*A<g){let k=0;for(;!(O<<31-k&4294967295);)k++;32*A+k<g&&(g=32*A+k)}if(32*A+31>C){let k=31;for(;!(O>>>k);)k--;32*A+k>C&&(C=32*A+k)}}}return C<g||E<v?null:Int32Array.from([g,v,C-g+1,E-v+1])}getTopLeftOnBit(){const c=this.rowSize,l=this.bits;let f=0;for(;f<l.length&&0===l[f];)f++;if(f===l.length)return null;const p=f/c;let g=f%c*32;const v=l[f];let C=0;for(;!(v<<31-C&4294967295);)C++;return g+=C,Int32Array.from([g,p])}getBottomRightOnBit(){const c=this.rowSize,l=this.bits;let f=l.length-1;for(;f>=0&&0===l[f];)f--;if(f<0)return null;const p=Math.floor(f/c);let g=32*Math.floor(f%c);const v=l[f];let C=31;for(;!(v>>>C);)C--;return g+=C,Int32Array.from([g,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){return c instanceof fe&&this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&mt.equals(this.bits,c.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+mt.hashCode(this.bits),c}toString(c="X ",l="  ",f="\n"){return this.buildToString(c,l,f)}buildToString(c,l,f){let p=new te;for(let g=0,v=this.height;g<v;g++){for(let C=0,E=this.width;C<E;C++)p.append(this.get(C,g)?c:l);p.append(f)}return p.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}let j=(()=>{class D extends oe{static getNotFoundInstance(){return new D}}return D.kind="NotFoundException",D})();class De extends Ce{constructor(c){super(c),this.luminances=De.EMPTY,this.buckets=new Int32Array(De.LUMINANCE_BUCKETS)}getBlackRow(c,l){const f=this.getLuminanceSource(),p=f.getWidth();null==l||l.getSize()<p?l=new Fe(p):l.clear(),this.initArrays(p);const g=f.getRow(c,this.luminances),v=this.buckets;for(let E=0;E<p;E++)v[(255&g[E])>>De.LUMINANCE_SHIFT]++;const C=De.estimateBlackPoint(v);if(p<3)for(let E=0;E<p;E++)(255&g[E])<C&&l.set(E);else{let E=255&g[0],I=255&g[1];for(let A=1;A<p-1;A++){const O=255&g[A+1];(4*I-E-O)/2<C&&l.set(A),E=I,I=O}}return l}getBlackMatrix(){const c=this.getLuminanceSource(),l=c.getWidth(),f=c.getHeight(),p=new fe(l,f);this.initArrays(l);const g=this.buckets;for(let E=1;E<5;E++){const I=Math.floor(f*E/5),A=c.getRow(I,this.luminances),O=Math.floor(4*l/5);for(let k=Math.floor(l/5);k<O;k++)g[(255&A[k])>>De.LUMINANCE_SHIFT]++}const v=De.estimateBlackPoint(g),C=c.getMatrix();for(let E=0;E<f;E++){const I=E*l;for(let A=0;A<l;A++)(255&C[I+A])<v&&p.set(A,E)}return p}createBinarizer(c){return new De(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const l=this.buckets;for(let f=0;f<De.LUMINANCE_BUCKETS;f++)l[f]=0}static estimateBlackPoint(c){const l=c.length;let f=0,p=0,g=0;for(let A=0;A<l;A++)c[A]>g&&(p=A,g=c[A]),c[A]>f&&(f=c[A]);let v=0,C=0;for(let A=0;A<l;A++){const O=A-p,k=c[A]*O*O;k>C&&(v=A,C=k)}if(p>v){const A=p;p=v,v=A}if(v-p<=l/16)throw new j;let E=v-1,I=-1;for(let A=v-1;A>p;A--){const O=A-p,k=O*O*(v-A)*(f-c[A]);k>I&&(E=A,I=k)}return E<<De.LUMINANCE_SHIFT}}De.LUMINANCE_BITS=5,De.LUMINANCE_SHIFT=8-De.LUMINANCE_BITS,De.LUMINANCE_BUCKETS=1<<De.LUMINANCE_BITS,De.EMPTY=Uint8ClampedArray.from([0]);class Ee extends De{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const c=this.getLuminanceSource(),l=c.getWidth(),f=c.getHeight();if(l>=Ee.MINIMUM_DIMENSION&&f>=Ee.MINIMUM_DIMENSION){const p=c.getMatrix();let g=l>>Ee.BLOCK_SIZE_POWER;l&Ee.BLOCK_SIZE_MASK&&g++;let v=f>>Ee.BLOCK_SIZE_POWER;f&Ee.BLOCK_SIZE_MASK&&v++;const C=Ee.calculateBlackPoints(p,g,v,l,f),E=new fe(l,f);Ee.calculateThresholdForBlock(p,g,v,l,f,C,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new Ee(c)}static calculateThresholdForBlock(c,l,f,p,g,v,C){const E=g-Ee.BLOCK_SIZE,I=p-Ee.BLOCK_SIZE;for(let A=0;A<f;A++){let O=A<<Ee.BLOCK_SIZE_POWER;O>E&&(O=E);const k=Ee.cap(A,2,f-3);for(let L=0;L<l;L++){let z=L<<Ee.BLOCK_SIZE_POWER;z>I&&(z=I);const Q=Ee.cap(L,2,l-3);let re=0;for(let Ae=-2;Ae<=2;Ae++){const He=v[k+Ae];re+=He[Q-2]+He[Q-1]+He[Q]+He[Q+1]+He[Q+2]}Ee.thresholdBlock(c,z,O,re/25,p,C)}}}static cap(c,l,f){return c<l?l:c>f?f:c}static thresholdBlock(c,l,f,p,g,v){for(let C=0,E=f*g+l;C<Ee.BLOCK_SIZE;C++,E+=g)for(let I=0;I<Ee.BLOCK_SIZE;I++)(255&c[E+I])<=p&&v.set(l+I,f+C)}static calculateBlackPoints(c,l,f,p,g){const v=g-Ee.BLOCK_SIZE,C=p-Ee.BLOCK_SIZE,E=new Array(f);for(let I=0;I<f;I++){E[I]=new Int32Array(l);let A=I<<Ee.BLOCK_SIZE_POWER;A>v&&(A=v);for(let O=0;O<l;O++){let k=O<<Ee.BLOCK_SIZE_POWER;k>C&&(k=C);let L=0,z=255,Q=0;for(let ue=0,Ae=A*p+k;ue<Ee.BLOCK_SIZE;ue++,Ae+=p){for(let He=0;He<Ee.BLOCK_SIZE;He++){const ge=255&c[Ae+He];L+=ge,ge<z&&(z=ge),ge>Q&&(Q=ge)}if(Q-z>Ee.MIN_DYNAMIC_RANGE)for(ue++,Ae+=p;ue<Ee.BLOCK_SIZE;ue++,Ae+=p)for(let He=0;He<Ee.BLOCK_SIZE;He++)L+=255&c[Ae+He]}let re=L>>2*Ee.BLOCK_SIZE_POWER;if(Q-z<=Ee.MIN_DYNAMIC_RANGE&&(re=z/2,I>0&&O>0)){const ue=(E[I-1][O]+2*E[I][O-1]+E[I-1][O-1])/4;z<ue&&(re=ue)}E[I][O]=re}}return E}}Ee.BLOCK_SIZE_POWER=3,Ee.BLOCK_SIZE=1<<Ee.BLOCK_SIZE_POWER,Ee.BLOCK_SIZE_MASK=Ee.BLOCK_SIZE-1,Ee.MINIMUM_DIMENSION=5*Ee.BLOCK_SIZE,Ee.MIN_DYNAMIC_RANGE=24;class Zt{constructor(c,l){this.width=c,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,l,f,p){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let l=new te;for(let f=0;f<this.height;f++){const p=this.getRow(f,c);for(let g=0;g<this.width;g++){const v=255&p[g];let C;C=v<64?"#":v<128?"+":v<192?".":" ",l.append(C)}l.append("\n")}return l.toString()}}class Ft extends Zt{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,l){const f=this.delegate.getRow(c,l),p=this.getWidth();for(let g=0;g<p;g++)f[g]=255-(255&f[g]);return f}getMatrix(){const c=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(l);for(let p=0;p<l;p++)f[p]=255-(255&c[p]);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(c,l,f,p){return new Ft(this.delegate.crop(c,l,f,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ft(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ft(this.delegate.rotateCounterClockwise45())}}class Xe extends Zt{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=Xe.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const l=c.getContext("2d").getImageData(0,0,c.width,c.height);return Xe.toGrayscaleBuffer(l.data,c.width,c.height)}static toGrayscaleBuffer(c,l,f){const p=new Uint8ClampedArray(l*f);for(let g=0,v=0,C=c.length;g<C;g+=4,v++){let E;E=0===c[g+3]?255:306*c[g]+601*c[g+1]+117*c[g+2]+512>>10,p[v]=E}return p}getRow(c,l){if(c<0||c>=this.getHeight())throw new J("Requested row is outside the image: "+c);const f=this.getWidth(),p=c*f;return null===l?l=this.buffer.slice(p,p+f):(l.length<f&&(l=new Uint8ClampedArray(f)),l.set(this.buffer.slice(p,p+f))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,l,f,p){return super.crop(c,l,f,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const l=this.getTempCanvasElement(),f=l.getContext("2d"),p=c*Xe.DEGREE_TO_RADIANS,g=this.canvas.width,v=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(p))*g+Math.abs(Math.sin(p))*v),E=Math.ceil(Math.abs(Math.sin(p))*g+Math.abs(Math.cos(p))*v);return l.width=C,l.height=E,f.translate(C/2,E/2),f.rotate(p),f.drawImage(this.canvas,g/-2,v/-2),this.buffer=Xe.makeBufferFromCanvasImageData(l),this}invert(){return new Ft(this)}}Xe.DEGREE_TO_RADIANS=Math.PI/180;class un{constructor(c,l,f){this.deviceId=c,this.label=l,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ye=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(D,c,l,f){return new(l||(l=Promise))(function(g,v){function C(A){try{I(f.next(A))}catch(O){v(O)}}function E(A){try{I(f.throw(A))}catch(O){v(O)}}function I(A){A.done?g(A.value):function p(g){return g instanceof l?g:new l(function(v){v(g)})}(A.value).then(C,E)}I((f=f.apply(D,c||[])).next())})};class On{constructor(c,l=500,f){this.reader=c,this.timeBetweenScansMillis=l,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return Ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const f of c){const p="video"===f.kind?"videoinput":f.kind;"videoinput"===p&&l.push({deviceId:f.deviceId||f.id,label:f.label||`Video device ${l.length+1}`,kind:p,groupId:f.groupId})}return l})}getVideoInputDevices(){return Ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new un(l.deviceId,l.label))})}findDeviceById(c){return Ye(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(f=>f.deviceId===c):null})}decodeFromInputVideoDevice(c,l){return Ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,l)})}decodeOnceFromVideoDevice(c,l){return Ye(this,void 0,void 0,function*(){let f;this.reset(),f=c?{deviceId:{exact:c}}:{facingMode:"environment"};const p={video:f};return yield this.decodeOnceFromConstraints(p,l)})}decodeOnceFromConstraints(c,l){return Ye(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(f,l)})}decodeOnceFromStream(c,l){return Ye(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(c,l);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(c,l,f){return Ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,l,f)})}decodeFromVideoDevice(c,l,f){return Ye(this,void 0,void 0,function*(){let p;p=c?{deviceId:{exact:c}}:{facingMode:"environment"};const g={video:p};return yield this.decodeFromConstraints(g,l,f)})}decodeFromConstraints(c,l,f){return Ye(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(p,l,f)})}decodeFromStream(c,l,f){return Ye(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,l);return yield this.decodeContinuously(p,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,l){return Ye(this,void 0,void 0,function*(){const f=this.prepareVideoElement(l);return this.addVideoSource(f,c),this.videoElement=f,this.stream=c,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(c){return new Promise((l,f)=>this.playVideoOnLoad(c,()=>l()))}playVideoOnLoad(c,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",l),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return Ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(c))console.warn("Trying to play video that is already playing.");else try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,l){const f=document.getElementById(c);if(!f)throw new ce(`element with id '${c}' not found`);if(f.nodeName.toLowerCase()!==l.toLowerCase())throw new ce(`element with id '${c}' must be an ${l} element`);return f}decodeFromImage(c,l){if(!c&&!l)throw new ce("either imageElement with a src set or an url must be provided");return l&&!c?this.decodeFromImageUrl(l):this.decodeFromImageElement(c)}decodeFromVideo(c,l){if(!c&&!l)throw new ce("Either an element with a src set or an URL must be provided");return l&&!c?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,l,f){if(void 0===c&&void 0===l)throw new ce("Either an element with a src set or an URL must be provided");return l&&!c?this.decodeFromVideoUrlContinuously(l,f):this.decodeFromVideoElementContinuously(c,f)}decodeFromImageElement(c){if(!c)throw new ce("An image element must be provided.");this.reset();const l=this.prepareImageElement(c);let f;return this.imageElement=l,f=this.isImageLoaded(l)?this.decodeOnce(l,!1,!0):this._decodeOnLoadImage(l),f}decodeFromVideoElement(c){const l=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(c,l){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(f,l)}_decodeFromVideoElementSetup(c){if(!c)throw new ce("A video element must be provided.");this.reset();const l=this.prepareVideoElement(c);return this.videoElement=l,l}decodeFromImageUrl(c){if(!c)throw new ce("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const f=this._decodeOnLoadImage(l);return l.src=c,f}decodeFromVideoUrl(c){if(!c)throw new ce("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElement(l);return l.src=c,f}decodeFromVideoUrlContinuously(c,l){if(!c)throw new ce("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(f,l);return f.src=c,p}_decodeOnLoadImage(c){return new Promise((l,f)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(l,f),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return Ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,l){return Ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,l)})}isImageLoaded(c){return!(!c.complete||0===c.naturalWidth)}prepareImageElement(c){let l;return typeof c>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),"string"==typeof c&&(l=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(l=c),l}prepareVideoElement(c){let l;return!c&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),"string"==typeof c&&(l=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(l=c),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(c,l=!0,f=!0){this._stopAsyncDecode=!1;const p=(g,v)=>{if(this._stopAsyncDecode)return v(new j("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{g(this.decode(c))}catch(C){if(l&&C instanceof j||(C instanceof se||C instanceof we)&&f)return setTimeout(p,this._timeBetweenDecodingAttempts,g,v);v(C)}};return new Promise((g,v)=>p(g,v))}decodeContinuously(c,l){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const p=this.decode(c);l(p,null),setTimeout(f,this.timeBetweenScansMillis)}catch(p){l(null,p),(p instanceof se||p instanceof we||p instanceof j)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(c){const l=this.createBinaryBitmap(c);return this.decodeBitmap(l)}_isHTMLVideoElement(c){return 0!==c.videoWidth}drawFrameOnCanvas(c,l,f){l||(l={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(c,l,f=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const f=this.getCaptureCanvas(c),p=new Xe(f),g=new Ee(p);return new pe(g)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const l=this.createCaptureCanvas(c);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let f,p;return typeof c<"u"&&(c instanceof HTMLVideoElement?(f=c.videoWidth,p=c.videoHeight):c instanceof HTMLImageElement&&(f=c.naturalWidth||c.width,p=c.naturalHeight||c.height)),l.style.width=f+"px",l.style.height=p+"px",l.width=f,l.height=p,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,l){try{c.srcObject=l}catch{c.src=URL.createObjectURL(l)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class Nt{constructor(c,l,f=(null==l?0:8*l.length),p,g,v=_e.currentTimeMillis()){this.text=c,this.rawBytes=l,this.numBits=f,this.resultPoints=p,this.format=g,this.timestamp=v,this.text=c,this.rawBytes=l,this.numBits=null==f?null==l?0:8*l.length:f,this.resultPoints=p,this.format=g,this.resultMetadata=null,this.timestamp=null==v?_e.currentTimeMillis():v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,l){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(c,l)}putAllMetadata(c){null!==c&&(this.resultMetadata=null===this.resultMetadata?c:new Map(c))}addResultPoints(c){const l=this.resultPoints;if(null===l)this.resultPoints=c;else if(null!==c&&c.length>0){const f=new Array(l.length+c.length);_e.arraycopy(l,0,f,0,l.length),_e.arraycopy(c,0,f,l.length,c.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe=function(D){return D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",D}(qe||{}),Pe=qe,Kt=function(D){return D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",D}(Kt||{}),Ct=Kt;class Cn{constructor(c,l,f,p,g=-1,v=-1){this.rawBytes=c,this.text=l,this.byteSegments=f,this.ecLevel=p,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=v,this.numBits=null==c?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Yt{exp(c){return this.expTable[c]}log(c){if(0===c)throw new J;return this.logTable[c]}static addOrSubtract(c,l){return c^l}}class St{constructor(c,l){if(0===l.length)throw new J;this.field=c;const f=l.length;if(f>1&&0===l[0]){let p=1;for(;p<f&&0===l[p];)p++;p===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-p),_e.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(0===c)return this.getCoefficient(0);const l=this.coefficients;let f;if(1===c){f=0;for(let v=0,C=l.length;v!==C;v++)f=Yt.addOrSubtract(f,l[v]);return f}f=l[0];const p=l.length,g=this.field;for(let v=1;v<p;v++)f=Yt.addOrSubtract(g.multiply(c,f),l[v]);return f}addOrSubtract(c){if(!this.field.equals(c.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let l=this.coefficients,f=c.coefficients;if(l.length>f.length){const v=l;l=f,f=v}let p=new Int32Array(f.length);const g=f.length-l.length;_e.arraycopy(f,0,p,0,g);for(let v=g;v<f.length;v++)p[v]=Yt.addOrSubtract(l[v-g],f[v]);return new St(this.field,p)}multiply(c){if(!this.field.equals(c.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const l=this.coefficients,f=l.length,p=c.coefficients,g=p.length,v=new Int32Array(f+g-1),C=this.field;for(let E=0;E<f;E++){const I=l[E];for(let A=0;A<g;A++)v[E+A]=Yt.addOrSubtract(v[E+A],C.multiply(I,p[A]))}return new St(C,v)}multiplyScalar(c){if(0===c)return this.field.getZero();if(1===c)return this;const l=this.coefficients.length,f=this.field,p=new Int32Array(l),g=this.coefficients;for(let v=0;v<l;v++)p[v]=f.multiply(g[v],c);return new St(f,p)}multiplyByMonomial(c,l){if(c<0)throw new J;if(0===l)return this.field.getZero();const f=this.coefficients,p=f.length,g=new Int32Array(p+c),v=this.field;for(let C=0;C<p;C++)g[C]=v.multiply(f[C],l);return new St(v,g)}divide(c){if(!this.field.equals(c.field))throw new J("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new J("Divide by 0");const l=this.field;let f=l.getZero(),p=this;const g=c.getCoefficient(c.getDegree()),v=l.inverse(g);for(;p.getDegree()>=c.getDegree()&&!p.isZero();){const C=p.getDegree()-c.getDegree(),E=l.multiply(p.getCoefficient(p.getDegree()),v),I=c.multiplyByMonomial(C,E),A=l.buildMonomial(C,E);f=f.addOrSubtract(A),p=p.addOrSubtract(I)}return[f,p]}toString(){let c="";for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);if(0!==f){if(f<0?(c+=" - ",f=-f):c.length>0&&(c+=" + "),0===l||1!==f){const p=this.field.log(f);0===p?c+="1":1===p?c+="a":(c+="a^",c+=p)}0!==l&&(1===l?c+="x":(c+="x^",c+=l))}}return c}}let Je=(()=>{class D extends oe{}return D.kind="ArithmeticException",D})();class Ze extends Yt{constructor(c,l,f){super(),this.primitive=c,this.size=l,this.generatorBase=f;const p=new Int32Array(l);let g=1;for(let C=0;C<l;C++)p[C]=g,g*=2,g>=l&&(g^=c,g&=l-1);this.expTable=p;const v=new Int32Array(l);for(let C=0;C<l-1;C++)v[p[C]]=C;this.logTable=v,this.zero=new St(this,Int32Array.from([0])),this.one=new St(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,l){if(c<0)throw new J;if(0===l)return this.zero;const f=new Int32Array(c+1);return f[0]=l,new St(this,f)}inverse(c){if(0===c)throw new Je;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,l){return 0===c||0===l?0:this.expTable[(this.logTable[c]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+be.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Ze.AZTEC_DATA_12=new Ze(4201,4096,1),Ze.AZTEC_DATA_10=new Ze(1033,1024,1),Ze.AZTEC_DATA_6=new Ze(67,64,1),Ze.AZTEC_PARAM=new Ze(19,16,1),Ze.QR_CODE_FIELD_256=new Ze(285,256,0),Ze.DATA_MATRIX_FIELD_256=new Ze(301,256,1),Ze.AZTEC_DATA_8=Ze.DATA_MATRIX_FIELD_256,Ze.MAXICODE_FIELD_64=Ze.AZTEC_DATA_6;let sn=(()=>{class D extends oe{}return D.kind="ReedSolomonException",D})(),an=(()=>{class D extends oe{}return D.kind="IllegalStateException",D})();class $t{constructor(c){this.field=c}decode(c,l){const f=this.field,p=new St(f,c),g=new Int32Array(l);let v=!0;for(let L=0;L<l;L++){const z=p.evaluateAt(f.exp(L+f.getGeneratorBase()));g[g.length-1-L]=z,0!==z&&(v=!1)}if(v)return;const C=new St(f,g),E=this.runEuclideanAlgorithm(f.buildMonomial(l,1),C,l),A=E[1],O=this.findErrorLocations(E[0]),k=this.findErrorMagnitudes(A,O);for(let L=0;L<O.length;L++){const z=c.length-1-f.log(O[L]);if(z<0)throw new sn("Bad error location");c[z]=Ze.addOrSubtract(c[z],k[L])}}runEuclideanAlgorithm(c,l,f){if(c.getDegree()<l.getDegree()){const L=c;c=l,l=L}const p=this.field;let g=c,v=l,C=p.getZero(),E=p.getOne();for(;v.getDegree()>=(f/2|0);){let L=g,z=C;if(g=v,C=E,g.isZero())throw new sn("r_{i-1} was zero");v=L;let Q=p.getZero();const re=g.getCoefficient(g.getDegree()),ue=p.inverse(re);for(;v.getDegree()>=g.getDegree()&&!v.isZero();){const Ae=v.getDegree()-g.getDegree(),He=p.multiply(v.getCoefficient(v.getDegree()),ue);Q=Q.addOrSubtract(p.buildMonomial(Ae,He)),v=v.addOrSubtract(g.multiplyByMonomial(Ae,He))}if(E=Q.multiply(C).addOrSubtract(z),v.getDegree()>=g.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const I=E.getCoefficient(0);if(0===I)throw new sn("sigmaTilde(0) was zero");const A=p.inverse(I);return[E.multiplyScalar(A),v.multiplyScalar(A)]}findErrorLocations(c){const l=c.getDegree();if(1===l)return Int32Array.from([c.getCoefficient(1)]);const f=new Int32Array(l);let p=0;const g=this.field;for(let v=1;v<g.getSize()&&p<l;v++)0===c.evaluateAt(v)&&(f[p]=g.inverse(v),p++);if(p!==l)throw new sn("Error locator degree does not match number of roots");return f}findErrorMagnitudes(c,l){const f=l.length,p=new Int32Array(f),g=this.field;for(let v=0;v<f;v++){const C=g.inverse(l[v]);let E=1;for(let I=0;I<f;I++)if(v!==I){const A=g.multiply(l[I],C);E=g.multiply(E,1&A?-2&A:1|A)}p[v]=g.multiply(c.evaluateAt(C),g.inverse(E)),0!==g.getGeneratorBase()&&(p[v]=g.multiply(p[v],C))}return p}}var Wt=function(D){return D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY",D}(Wt||{});let Vt=(()=>{class D{decode(l){this.ddata=l;let f=l.getBits(),p=this.extractBits(f),g=this.correctBits(p),v=D.convertBoolArrayToByteArray(g),C=D.getEncodedData(g),E=new Cn(v,C,null,null);return E.setNumBits(g.length),E}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,p=Wt.UPPER,g=Wt.UPPER,v="",C=0;for(;C<f;)if(g===Wt.BINARY){if(f-C<5)break;let E=D.readCode(l,C,5);if(C+=5,0===E){if(f-C<11)break;E=D.readCode(l,C,11)+31,C+=11}for(let I=0;I<E;I++){if(f-C<8){C=f;break}const A=D.readCode(l,C,8);v+=B.castAsNonUtf8Char(A),C+=8}g=p}else{let E=g===Wt.DIGIT?4:5;if(f-C<E)break;let I=D.readCode(l,C,E);C+=E;let A=D.getCharacter(g,I);A.startsWith("CTRL_")?(p=g,g=D.getTable(A.charAt(5)),"L"===A.charAt(6)&&(p=g)):(v+=A,g=p)}return v}static getTable(l){switch(l){case"L":return Wt.LOWER;case"P":return Wt.PUNCT;case"M":return Wt.MIXED;case"D":return Wt.DIGIT;case"B":return Wt.BINARY;default:return Wt.UPPER}}static getCharacter(l,f){switch(l){case Wt.UPPER:return D.UPPER_TABLE[f];case Wt.LOWER:return D.LOWER_TABLE[f];case Wt.MIXED:return D.MIXED_TABLE[f];case Wt.PUNCT:return D.PUNCT_TABLE[f];case Wt.DIGIT:return D.DIGIT_TABLE[f];default:throw new an("Bad table")}}correctBits(l){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=Ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=Ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=Ze.AZTEC_DATA_10):(p=12,f=Ze.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),v=l.length/p;if(v<g)throw new we;let C=l.length%p,E=new Int32Array(v);for(let L=0;L<v;L++,C+=p)E[L]=D.readCode(l,C,p);try{new $t(f).decode(E,v-g)}catch(L){throw new we(L)}let I=(1<<p)-1,A=0;for(let L=0;L<g;L++){let z=E[L];if(0===z||z===I)throw new we;(1===z||z===I-1)&&A++}let O=new Array(g*p-A),k=0;for(let L=0;L<g;L++){let z=E[L];if(1===z||z===I-1)O.fill(z>1,k,k+p-1),k+=p-1;else for(let Q=p-1;Q>=0;--Q)O[k++]=!!(z&1<<Q)}return O}extractBits(l){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),g=(f?11:14)+4*p,v=new Int32Array(g),C=new Array(this.totalBitsInLayer(p,f));if(f)for(let E=0;E<v.length;E++)v[E]=E;else{let E=g+1+2*be.truncDivision(be.truncDivision(g,2)-1,15),I=g/2,A=be.truncDivision(E,2);for(let O=0;O<I;O++){let k=O+be.truncDivision(O,15);v[I-O-1]=A-k-1,v[I+O]=A+k+1}}for(let E=0,I=0;E<p;E++){let A=4*(p-E)+(f?9:12),O=2*E,k=g-1-O;for(let L=0;L<A;L++){let z=2*L;for(let Q=0;Q<2;Q++)C[I+z+Q]=l.get(v[O+Q],v[O+L]),C[I+2*A+z+Q]=l.get(v[O+L],v[k-Q]),C[I+4*A+z+Q]=l.get(v[k-Q],v[k-L]),C[I+6*A+z+Q]=l.get(v[k-L],v[O+Q])}I+=8*A}return C}static readCode(l,f,p){let g=0;for(let v=f;v<f+p;v++)g<<=1,l[v]&&(g|=1);return g}static readByte(l,f){let p=l.length-f;return p>=8?D.readCode(l,f,8):D.readCode(l,f,p)<<8-p}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let p=0;p<f.length;p++)f[p]=D.readByte(l,8*p);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}return D.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],D.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],D.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],D.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],D.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],D})();class et{constructor(){}static round(c){return NaN===c?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,l,f,p){const g=c-f,v=l-p;return Math.sqrt(g*g+v*v)}static sum(c){let l=0;for(let f=0,p=c.length;f!==p;f++)l+=c[f];return l}}class ar{static floatToIntBits(c){return c}}ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(c,l){this.x=c,this.y=l}getX(){return this.x}getY(){return this.y}equals(c){return c instanceof de&&this.x===c.x&&this.y===c.y}hashCode(){return 31*ar.floatToIntBits(this.x)+ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const l=this.distance(c[0],c[1]),f=this.distance(c[1],c[2]),p=this.distance(c[0],c[2]);let g,v,C;if(f>=l&&f>=p?(v=c[0],g=c[1],C=c[2]):p>=f&&p>=l?(v=c[1],g=c[0],C=c[2]):(v=c[2],g=c[0],C=c[1]),this.crossProductZ(g,v,C)<0){const E=g;g=C,C=E}c[0]=g,c[1]=v,c[2]=C}static distance(c,l){return et.distance(c.x,c.y,l.x,l.y)}static crossProductZ(c,l,f){const p=l.x,g=l.y;return(f.x-p)*(c.y-g)-(f.y-g)*(c.x-p)}}class Pn{constructor(c,l){this.bits=c,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class yr extends Pn{constructor(c,l,f,p,g){super(c,l),this.compact=f,this.nbDatablocks=p,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Ln=(()=>{class D{constructor(l,f,p,g){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),null==f&&(f=D.INIT_SIZE),null==p&&(p=l.getWidth()/2|0),null==g&&(g=l.getHeight()/2|0);const v=f/2|0;if(this.leftInit=p-v,this.rightInit=p+v,this.upInit=g-v,this.downInit=g+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let l=this.leftInit,f=this.rightInit,p=this.upInit,g=this.downInit,v=!1,C=!0,E=!1,I=!1,A=!1,O=!1,k=!1;const L=this.width,z=this.height;for(;C;){C=!1;let Q=!0;for(;(Q||!I)&&f<L;)Q=this.containsBlackPoint(p,g,f,!1),Q?(f++,C=!0,I=!0):I||f++;if(f>=L){v=!0;break}let re=!0;for(;(re||!A)&&g<z;)re=this.containsBlackPoint(l,f,g,!0),re?(g++,C=!0,A=!0):A||g++;if(g>=z){v=!0;break}let ue=!0;for(;(ue||!O)&&l>=0;)ue=this.containsBlackPoint(p,g,l,!1),ue?(l--,C=!0,O=!0):O||l--;if(l<0){v=!0;break}let Ae=!0;for(;(Ae||!k)&&p>=0;)Ae=this.containsBlackPoint(l,f,p,!0),Ae?(p--,C=!0,k=!0):k||p--;if(p<0){v=!0;break}C&&(E=!0)}if(!v&&E){const Q=f-l;let re=null;for(let ge=1;null===re&&ge<Q;ge++)re=this.getBlackPointOnSegment(l,g-ge,l+ge,g);if(null==re)throw new j;let ue=null;for(let ge=1;null===ue&&ge<Q;ge++)ue=this.getBlackPointOnSegment(l,p+ge,l+ge,p);if(null==ue)throw new j;let Ae=null;for(let ge=1;null===Ae&&ge<Q;ge++)Ae=this.getBlackPointOnSegment(f,p+ge,f-ge,p);if(null==Ae)throw new j;let He=null;for(let ge=1;null===He&&ge<Q;ge++)He=this.getBlackPointOnSegment(f,g-ge,f-ge,g);if(null==He)throw new j;return this.centerEdges(He,re,Ae,ue)}throw new j}getBlackPointOnSegment(l,f,p,g){const v=et.round(et.distance(l,f,p,g)),C=(p-l)/v,E=(g-f)/v,I=this.image;for(let A=0;A<v;A++){const O=et.round(l+A*C),k=et.round(f+A*E);if(I.get(O,k))return new de(O,k)}return null}centerEdges(l,f,p,g){const v=l.getX(),C=l.getY(),E=f.getX(),I=f.getY(),A=p.getX(),O=p.getY(),k=g.getX(),L=g.getY(),z=D.CORR;return v<this.width/2?[new de(k-z,L+z),new de(E+z,I+z),new de(A-z,O-z),new de(v+z,C-z)]:[new de(k+z,L+z),new de(E+z,I-z),new de(A-z,O+z),new de(v-z,C-z)]}containsBlackPoint(l,f,p,g){const v=this.image;if(g){for(let C=l;C<=f;C++)if(v.get(C,p))return!0}else for(let C=l;C<=f;C++)if(v.get(p,C))return!0;return!1}}return D.INIT_SIZE=10,D.CORR=1,D})();class mn{static checkAndNudgePoints(c,l){const f=c.getWidth(),p=c.getHeight();let g=!0;for(let v=0;v<l.length&&g;v+=2){const C=Math.floor(l[v]),E=Math.floor(l[v+1]);if(C<-1||C>f||E<-1||E>p)throw new j;g=!1,-1===C?(l[v]=0,g=!0):C===f&&(l[v]=f-1,g=!0),-1===E?(l[v+1]=0,g=!0):E===p&&(l[v+1]=p-1,g=!0)}g=!0;for(let v=l.length-2;v>=0&&g;v-=2){const C=Math.floor(l[v]),E=Math.floor(l[v+1]);if(C<-1||C>f||E<-1||E>p)throw new j;g=!1,-1===C?(l[v]=0,g=!0):C===f&&(l[v]=f-1,g=!0),-1===E?(l[v+1]=0,g=!0):E===p&&(l[v+1]=p-1,g=!0)}}}class Rt{constructor(c,l,f,p,g,v,C,E,I){this.a11=c,this.a21=l,this.a31=f,this.a12=p,this.a22=g,this.a32=v,this.a13=C,this.a23=E,this.a33=I}static quadrilateralToQuadrilateral(c,l,f,p,g,v,C,E,I,A,O,k,L,z,Q,re){const ue=Rt.quadrilateralToSquare(c,l,f,p,g,v,C,E);return Rt.squareToQuadrilateral(I,A,O,k,L,z,Q,re).times(ue)}transformPoints(c){const l=c.length,f=this.a11,p=this.a12,g=this.a13,v=this.a21,C=this.a22,E=this.a23,I=this.a31,A=this.a32,O=this.a33;for(let k=0;k<l;k+=2){const L=c[k],z=c[k+1],Q=g*L+E*z+O;c[k]=(f*L+v*z+I)/Q,c[k+1]=(p*L+C*z+A)/Q}}transformPointsWithValues(c,l){const f=this.a11,p=this.a12,g=this.a13,v=this.a21,C=this.a22,E=this.a23,I=this.a31,A=this.a32,O=this.a33,k=c.length;for(let L=0;L<k;L++){const z=c[L],Q=l[L],re=g*z+E*Q+O;c[L]=(f*z+v*Q+I)/re,l[L]=(p*z+C*Q+A)/re}}static squareToQuadrilateral(c,l,f,p,g,v,C,E){const I=c-f+g-C,A=l-p+v-E;if(0===I&&0===A)return new Rt(f-c,g-f,c,p-l,v-p,l,0,0,1);{const O=f-g,k=C-g,L=p-v,z=E-v,Q=O*z-k*L,re=(I*z-k*A)/Q,ue=(O*A-I*L)/Q;return new Rt(f-c+re*f,C-c+ue*C,c,p-l+re*p,E-l+ue*E,l,re,ue,1)}}static quadrilateralToSquare(c,l,f,p,g,v,C,E){return Rt.squareToQuadrilateral(c,l,f,p,g,v,C,E).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new Rt(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Tt extends mn{sampleGrid(c,l,f,p,g,v,C,E,I,A,O,k,L,z,Q,re,ue,Ae,He){const ge=Rt.quadrilateralToQuadrilateral(p,g,v,C,E,I,A,O,k,L,z,Q,re,ue,Ae,He);return this.sampleGridWithTransform(c,l,f,ge)}sampleGridWithTransform(c,l,f,p){if(l<=0||f<=0)throw new j;const g=new fe(l,f),v=new Float32Array(2*l);for(let C=0;C<f;C++){const E=v.length,I=C+.5;for(let A=0;A<E;A+=2)v[A]=A/2+.5,v[A+1]=I;p.transformPoints(v),mn.checkAndNudgePoints(c,v);try{for(let A=0;A<E;A+=2)c.get(Math.floor(v[A]),Math.floor(v[A+1]))&&g.set(A/2,C)}catch{throw new j}}return g}}class Ge{static setGridSampler(c){Ge.gridSampler=c}static getInstance(){return Ge.gridSampler}}Ge.gridSampler=new Tt;class dn{constructor(c,l){this.x=c,this.y=l}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Un{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let l=this.getMatrixCenter(),f=this.getBullsEyeCorners(l);if(c){let v=f[0];f[0]=f[2],f[2]=v}this.extractParameters(f);let p=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),g=this.getMatrixCornerPoints(f);return new yr(p,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!(this.isValidPoint(c[0])&&this.isValidPoint(c[1])&&this.isValidPoint(c[2])&&this.isValidPoint(c[3])))throw new j;let l=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(c[0],c[1],l),this.sampleLine(c[1],c[2],l),this.sampleLine(c[2],c[3],l),this.sampleLine(c[3],c[0],l)]);this.shift=this.getRotation(f,l);let p=0;for(let v=0;v<4;v++){let C=f[(this.shift+v)%4];this.compact?(p<<=7,p+=C>>1&127):(p<<=10,p+=(C>>2&992)+(C>>1&31))}let g=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=1+(g>>6),this.nbDataBlocks=1+(63&g)):(this.nbLayers=1+(g>>11),this.nbDataBlocks=1+(2047&g))}getRotation(c,l){let f=0;c.forEach((p,g,v)=>{f=(p>>l-2<<1)+(1&p)+(f<<3)}),f=((1&f)<<11)+(f>>1);for(let p=0;p<4;p++)if(be.bitCount(f^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new j}getCorrectedParameterData(c,l){let f,p;l?(f=7,p=2):(f=10,p=4);let g=f-p,v=new Int32Array(f);for(let E=f-1;E>=0;--E)v[E]=15&c,c>>=4;try{new $t(Ze.AZTEC_PARAM).decode(v,g)}catch{throw new j}let C=0;for(let E=0;E<p;E++)C=(C<<4)+v[E];return C}getBullsEyeCorners(c){let l=c,f=c,p=c,g=c,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(l,v,1,-1),k=this.getFirstDifferent(f,v,1,1),L=this.getFirstDifferent(p,v,-1,1),z=this.getFirstDifferent(g,v,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(O,k,L,z))break}l=O,f=k,p=L,g=z,v=!v}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new j;this.compact=5===this.nbCenterLayers;let C=new de(l.getX()+.5,l.getY()-.5),E=new de(f.getX()+.5,f.getY()+.5),I=new de(p.getX()-.5,p.getY()+.5),A=new de(g.getX()-.5,g.getY()-.5);return this.expandSquare([C,E,I,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,l,f,p;try{let C=new Ln(this.image).detect();c=C[0],l=C[1],f=C[2],p=C[3]}catch{let E=this.image.getWidth()/2,I=this.image.getHeight()/2;c=this.getFirstDifferent(new dn(E+7,I-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new dn(E+7,I+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new dn(E-7,I+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new dn(E-7,I-7),!1,-1,-1).toResultPoint()}let g=et.round((c.getX()+p.getX()+l.getX()+f.getX())/4),v=et.round((c.getY()+p.getY()+l.getY()+f.getY())/4);try{let C=new Ln(this.image,15,g,v).detect();c=C[0],l=C[1],f=C[2],p=C[3]}catch{c=this.getFirstDifferent(new dn(g+7,v-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new dn(g+7,v+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new dn(g-7,v+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new dn(g-7,v-7),!1,-1,-1).toResultPoint()}return g=et.round((c.getX()+p.getX()+l.getX()+f.getX())/4),v=et.round((c.getY()+p.getY()+l.getY()+f.getY())/4),new dn(g,v)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,l,f,p,g){let v=Ge.getInstance(),C=this.getDimension(),E=C/2-this.nbCenterLayers,I=C/2+this.nbCenterLayers;return v.sampleGrid(c,C,C,E,E,I,E,I,I,E,I,l.getX(),l.getY(),f.getX(),f.getY(),p.getX(),p.getY(),g.getX(),g.getY())}sampleLine(c,l,f){let p=0,g=this.distanceResultPoint(c,l),v=g/f,C=c.getX(),E=c.getY(),I=v*(l.getX()-c.getX())/g,A=v*(l.getY()-c.getY())/g;for(let O=0;O<f;O++)this.image.get(et.round(C+O*I),et.round(E+O*A))&&(p|=1<<f-O-1);return p}isWhiteOrBlackRectangle(c,l,f,p){c=new dn(c.getX()-3,c.getY()+3),l=new dn(l.getX()-3,l.getY()-3),f=new dn(f.getX()+3,f.getY()-3),p=new dn(p.getX()+3,p.getY()+3);let v=this.getColor(p,c);if(0===v)return!1;let C=this.getColor(c,l);return C===v&&(C=this.getColor(l,f),C===v)&&(C=this.getColor(f,p),C===v)}getColor(c,l){let f=this.distancePoint(c,l),p=(l.getX()-c.getX())/f,g=(l.getY()-c.getY())/f,v=0,C=c.getX(),E=c.getY(),I=this.image.get(c.getX(),c.getY()),A=Math.ceil(f);for(let k=0;k<A;k++)C+=p,E+=g,this.image.get(et.round(C),et.round(E))!==I&&v++;let O=v/f;return O>.1&&O<.9?0:O<=.1===I?1:-1}getFirstDifferent(c,l,f,p){let g=c.getX()+f,v=c.getY()+p;for(;this.isValid(g,v)&&this.image.get(g,v)===l;)g+=f,v+=p;for(g-=f,v-=p;this.isValid(g,v)&&this.image.get(g,v)===l;)g+=f;for(g-=f;this.isValid(g,v)&&this.image.get(g,v)===l;)v+=p;return v-=p,new dn(g,v)}expandSquare(c,l,f){let p=f/(2*l),g=c[0].getX()-c[2].getX(),v=c[0].getY()-c[2].getY(),C=(c[0].getX()+c[2].getX())/2,E=(c[0].getY()+c[2].getY())/2,I=new de(C+p*g,E+p*v),A=new de(C-p*g,E-p*v);return g=c[1].getX()-c[3].getX(),v=c[1].getY()-c[3].getY(),C=(c[1].getX()+c[3].getX())/2,E=(c[1].getY()+c[3].getY())/2,[I,new de(C+p*g,E+p*v),A,new de(C-p*g,E-p*v)]}isValid(c,l){return c>=0&&c<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(c){let l=et.round(c.getX()),f=et.round(c.getY());return this.isValid(l,f)}distancePoint(c,l){return et.distance(c.getX(),c.getY(),l.getX(),l.getY())}distanceResultPoint(c,l){return et.distance(c.getX(),c.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(be.truncDivision(this.nbLayers-4,8)+1)+15}}class wn{decode(c,l=null){let f=null,p=new Un(c.getBlackMatrix()),g=null,v=null;try{let A=p.detectMirror(!1);g=A.getPoints(),this.reportFoundResultPoints(l,g),v=(new Vt).decode(A)}catch(A){f=A}if(null==v)try{let A=p.detectMirror(!0);g=A.getPoints(),this.reportFoundResultPoints(l,g),v=(new Vt).decode(A)}catch(A){throw f??A}let C=new Nt(v.getText(),v.getRawBytes(),v.getNumBits(),g,Pe.AZTEC,_e.currentTimeMillis()),E=v.getByteSegments();null!=E&&C.putMetadata(Ct.BYTE_SEGMENTS,E);let I=v.getECLevel();return null!=I&&C.putMetadata(Ct.ERROR_CORRECTION_LEVEL,I),C}reportFoundResultPoints(c,l){if(null!=c){let f=c.get(Ve.NEED_RESULT_POINT_CALLBACK);null!=f&&l.forEach((p,g,v)=>{f.foundPossibleResultPoint(p)})}}reset(){}}class Mt{decode(c,l){try{return this.doDecode(c,l)}catch{if(l&&!0===l.get(Ve.TRY_HARDER)&&c.isRotateSupported()){const g=c.rotateCounterClockwise(),v=this.doDecode(g,l),C=v.getResultMetadata();let E=270;null!==C&&!0===C.get(Ct.ORIENTATION)&&(E+=C.get(Ct.ORIENTATION)%360),v.putMetadata(Ct.ORIENTATION,E);const I=v.getResultPoints();if(null!==I){const A=g.getHeight();for(let O=0;O<I.length;O++)I[O]=new de(A-I[O].getY()-1,I[O].getX())}return v}throw new j}}reset(){}doDecode(c,l){const f=c.getWidth(),p=c.getHeight();let g=new Fe(f);const v=l&&!0===l.get(Ve.TRY_HARDER),C=Math.max(1,p>>(v?8:5));let E;E=v?p:15;const I=Math.trunc(p/2);for(let A=0;A<E;A++){const O=Math.trunc((A+1)/2),L=I+C*(1&A?-O:O);if(L<0||L>=p)break;try{g=c.getBlackRow(L,g)}catch{continue}for(let z=0;z<2;z++){if(1===z&&(g.reverse(),l&&!0===l.get(Ve.NEED_RESULT_POINT_CALLBACK))){const Q=new Map;l.forEach((re,ue)=>Q.set(ue,re)),Q.delete(Ve.NEED_RESULT_POINT_CALLBACK),l=Q}try{const Q=this.decodeRow(L,g,l);if(1===z){Q.putMetadata(Ct.ORIENTATION,180);const re=Q.getResultPoints();null!==re&&(re[0]=new de(f-re[0].getX()-1,re[0].getY()),re[1]=new de(f-re[1].getX()-1,re[1].getY()))}return Q}catch{}}}throw new j}static recordPattern(c,l,f){const p=f.length;for(let I=0;I<p;I++)f[I]=0;const g=c.getSize();if(l>=g)throw new j;let v=!c.get(l),C=0,E=l;for(;E<g;){if(c.get(E)!==v)f[C]++;else{if(++C===p)break;f[C]=1,v=!v}E++}if(C!==p&&(C!==p-1||E!==g))throw new j}static recordPatternInReverse(c,l,f){let p=f.length,g=c.get(l);for(;l>0&&p>=0;)c.get(--l)!==g&&(p--,g=!g);if(p>=0)throw new j;Mt.recordPattern(c,l+1,f)}static patternMatchVariance(c,l,f){const p=c.length;let g=0,v=0;for(let I=0;I<p;I++)g+=c[I],v+=l[I];if(g<v)return Number.POSITIVE_INFINITY;const C=g/v;f*=C;let E=0;for(let I=0;I<p;I++){const A=c[I],O=l[I]*C,k=A>O?A-O:O-A;if(k>f)return Number.POSITIVE_INFINITY;E+=k}return E/g}}class Me extends Mt{static findStartPattern(c){const l=c.getSize(),f=c.getNextSet(0);let p=0,g=Int32Array.from([0,0,0,0,0,0]),v=f,C=!1;for(let I=f;I<l;I++)if(c.get(I)!==C)g[p]++;else{if(5===p){let A=Me.MAX_AVG_VARIANCE,O=-1;for(let k=Me.CODE_START_A;k<=Me.CODE_START_C;k++){const L=Mt.patternMatchVariance(g,Me.CODE_PATTERNS[k],Me.MAX_INDIVIDUAL_VARIANCE);L<A&&(A=L,O=k)}if(O>=0&&c.isRange(Math.max(0,v-(I-v)/2),v,!1))return Int32Array.from([v,I,O]);v+=g[0]+g[1],g=g.slice(2,g.length-1),g[p-1]=0,g[p]=0,p--}else p++;g[p]=1,C=!C}throw new j}static decodeCode(c,l,f){Mt.recordPattern(c,f,l);let p=Me.MAX_AVG_VARIANCE,g=-1;for(let v=0;v<Me.CODE_PATTERNS.length;v++){const E=this.patternMatchVariance(l,Me.CODE_PATTERNS[v],Me.MAX_INDIVIDUAL_VARIANCE);E<p&&(p=E,g=v)}if(g>=0)return g;throw new j}decodeRow(c,l,f){const p=f&&!0===f.get(Ve.ASSUME_GS1),g=Me.findStartPattern(l),v=g[2];let C=0;const E=new Uint8Array(20);let I;switch(E[C++]=v,v){case Me.CODE_START_A:I=Me.CODE_CODE_A;break;case Me.CODE_START_B:I=Me.CODE_CODE_B;break;case Me.CODE_START_C:I=Me.CODE_CODE_C;break;default:throw new we}let A=!1,O=!1,k="",L=g[0],z=g[1];const Q=Int32Array.from([0,0,0,0,0,0]);let re=0,ue=0,Ae=v,He=0,ge=!0,jt=!1,Dt=!1;for(;!A;){const oo=O;switch(O=!1,re=ue,ue=Me.decodeCode(l,Q,z),E[C++]=ue,ue!==Me.CODE_STOP&&(ge=!0),ue!==Me.CODE_STOP&&(He++,Ae+=He*ue),L=z,z+=Q.reduce((Of,zc)=>Of+zc,0),ue){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new we}switch(I){case Me.CODE_CODE_A:if(ue<64)k+=String.fromCharCode(Dt===jt?32+ue:32+ue+128),Dt=!1;else if(ue<96)k+=String.fromCharCode(Dt===jt?ue-64:ue+64),Dt=!1;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!jt&&Dt?(jt=!0,Dt=!1):jt&&Dt?(jt=!1,Dt=!1):Dt=!0;break;case Me.CODE_SHIFT:O=!0,I=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:I=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:I=Me.CODE_CODE_C;break;case Me.CODE_STOP:A=!0}break;case Me.CODE_CODE_B:if(ue<96)k+=String.fromCharCode(Dt===jt?32+ue:32+ue+128),Dt=!1;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!jt&&Dt?(jt=!0,Dt=!1):jt&&Dt?(jt=!1,Dt=!1):Dt=!0;break;case Me.CODE_SHIFT:O=!0,I=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:I=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:I=Me.CODE_CODE_C;break;case Me.CODE_STOP:A=!0}break;case Me.CODE_CODE_C:if(ue<100)ue<10&&(k+="0"),k+=ue;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_CODE_A:I=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:I=Me.CODE_CODE_B;break;case Me.CODE_STOP:A=!0}}oo&&(I=I===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const Br=z-L;if(z=l.getNextUnset(z),!l.isRange(z,Math.min(l.getSize(),z+(z-L)/2),!1))throw new j;if(Ae-=He*re,Ae%103!==re)throw new se;const Yr=k.length;if(0===Yr)throw new j;Yr>0&&ge&&(k=k.substring(0,I===Me.CODE_CODE_C?Yr-2:Yr-1));const Er=(g[1]+g[0])/2,ln=L+Br/2,Nn=E.length,qr=new Uint8Array(Nn);for(let oo=0;oo<Nn;oo++)qr[oo]=E[oo];const io=[new de(Er,c),new de(ln,c)];return new Nt(k,qr,0,io,Pe.CODE_128,(new Date).getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;let Xt=(()=>{class D extends Mt{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,p){let g=this.counters;g.fill(0),this.decodeRowResult="";let I,A,v=D.findAsteriskPattern(f,g),C=f.getNextSet(v[1]),E=f.getSize();do{D.recordPattern(f,C,g);let re=D.toNarrowWidePattern(g);if(re<0)throw new j;I=D.patternToChar(re),this.decodeRowResult+=I,A=C;for(let ue of g)C+=ue;C=f.getNextSet(C)}while("*"!==I);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L,O=0;for(let re of g)O+=re;if(C!==E&&2*(C-A-O)<O)throw new j;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,ue=0;for(let Ae=0;Ae<re;Ae++)ue+=D.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(re)!==D.ALPHABET_STRING.charAt(ue%43))throw new se;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(0===this.decodeRowResult.length)throw new j;L=this.extendedMode?D.decodeExtended(this.decodeRowResult):this.decodeRowResult;let Q=A+O/2;return new Nt(L,null,0,[new de((v[1]+v[0])/2,l),new de(Q,l)],Pe.CODE_39,(new Date).getTime())}static findAsteriskPattern(l,f){let p=l.getSize(),g=l.getNextSet(0),v=0,C=g,E=!1,I=f.length;for(let A=g;A<p;A++)if(l.get(A)!==E)f[v]++;else{if(v===I-1){if(this.toNarrowWidePattern(f)===D.ASTERISK_ENCODING&&l.isRange(Math.max(0,C-Math.floor((A-C)/2)),C,!1))return[C,A];C+=f[0]+f[1],f.copyWithin(0,2,2+v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,E=!E}throw new j}static toNarrowWidePattern(l){let g,f=l.length,p=0;do{let v=2147483647;for(let I of l)I<v&&I>p&&(v=I);p=v,g=0;let C=0,E=0;for(let I=0;I<f;I++){let A=l[I];A>p&&(E|=1<<f-1-I,g++,C+=A)}if(3===g){for(let I=0;I<f&&g>0;I++){let A=l[I];if(A>p&&(g--,2*A>=C))return-1}return E}}while(g>3);return-1}static patternToChar(l){for(let f=0;f<D.CHARACTER_ENCODINGS.length;f++)if(D.CHARACTER_ENCODINGS[f]===l)return D.ALPHABET_STRING.charAt(f);if(l===D.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(l){let f=l.length,p="";for(let g=0;g<f;g++){let v=l.charAt(g);if("+"===v||"$"===v||"%"===v||"/"===v){let C=l.charAt(g+1),E="\0";switch(v){case"+":if(!(C>="A"&&C<="Z"))throw new we;E=String.fromCharCode(C.charCodeAt(0)+32);break;case"$":if(!(C>="A"&&C<="Z"))throw new we;E=String.fromCharCode(C.charCodeAt(0)-64);break;case"%":if(C>="A"&&C<="E")E=String.fromCharCode(C.charCodeAt(0)-38);else if(C>="F"&&C<="J")E=String.fromCharCode(C.charCodeAt(0)-11);else if(C>="K"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)+16);else if(C>="P"&&C<="T")E=String.fromCharCode(C.charCodeAt(0)+43);else if("U"===C)E="\0";else if("V"===C)E="@";else if("W"===C)E="`";else{if("X"!==C&&"Y"!==C&&"Z"!==C)throw new we;E="\x7f"}break;case"/":if(C>="A"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)-32);else{if("Z"!==C)throw new we;E=":"}}p+=E,g++}else p+=v}return p}}return D.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",D.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],D.ASTERISK_ENCODING=148,D})();class gt extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,l,f){let p=this.decodeStart(l),g=this.decodeEnd(l),v=new te;gt.decodeMiddle(l,p[1],g[0],v);let C=v.toString(),E=null;null!=f&&(E=f.get(Ve.ALLOWED_LENGTHS)),null==E&&(E=gt.DEFAULT_ALLOWED_LENGTHS);let I=C.length,A=!1,O=0;for(let z of E){if(I===z){A=!0;break}z>O&&(O=z)}if(!A&&I>O&&(A=!0),!A)throw new we;const k=[new de(p[1],c),new de(g[0],c)];return new Nt(C,null,0,k,Pe.ITF,(new Date).getTime())}static decodeMiddle(c,l,f,p){let g=new Int32Array(10),v=new Int32Array(5),C=new Int32Array(5);for(g.fill(0),v.fill(0),C.fill(0);l<f;){Mt.recordPattern(c,l,g);for(let I=0;I<5;I++){let A=2*I;v[I]=g[A],C[I]=g[A+1]}let E=gt.decodeDigit(v);p.append(E.toString()),E=this.decodeDigit(C),p.append(E.toString()),g.forEach(function(I){l+=I})}}decodeStart(c){let l=gt.skipWhiteSpace(c),f=gt.findGuardPattern(c,l,gt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(c,f[0]),f}validateQuietZone(c,l){let f=10*this.narrowLineWidth;f=f<l?f:l;for(let p=l-1;f>0&&p>=0&&!c.get(p);p--)f--;if(0!==f)throw new j}static skipWhiteSpace(c){const l=c.getSize(),f=c.getNextSet(0);if(f===l)throw new j;return f}decodeEnd(c){c.reverse();try{let f,l=gt.skipWhiteSpace(c);try{f=gt.findGuardPattern(c,l,gt.END_PATTERN_REVERSED[0])}catch(g){g instanceof j&&(f=gt.findGuardPattern(c,l,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,f[0]);let p=f[0];return f[0]=c.getSize()-f[1],f[1]=c.getSize()-p,f}finally{c.reverse()}}static findGuardPattern(c,l,f){let p=f.length,g=new Int32Array(p),v=c.getSize(),C=!1,E=0,I=l;g.fill(0);for(let A=l;A<v;A++)if(c.get(A)!==C)g[E]++;else{if(E===p-1){if(Mt.patternMatchVariance(g,f,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[I,A];I+=g[0]+g[1],_e.arraycopy(g,2,g,0,E-1),g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,C=!C}throw new j}static decodeDigit(c){let l=gt.MAX_AVG_VARIANCE,f=-1,p=gt.PATTERNS.length;for(let g=0;g<p;g++){let C=Mt.patternMatchVariance(c,gt.PATTERNS[g],gt.MAX_INDIVIDUAL_VARIANCE);C<l?(l=C,f=g):C===l&&(f=-1)}if(f>=0)return f%10;throw new j}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let f,l=!1,p=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),f=rt.findGuardPattern(c,p,!1,this.START_END_PATTERN,g);let v=f[0];p=f[1];let C=v-(p-v);C>=0&&(l=c.isRange(C,v,!1))}return f}static checkChecksum(c){return rt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let l=c.length;if(0===l)return!1;let f=parseInt(c.charAt(l-1),10);return rt.getStandardUPCEANChecksum(c.substring(0,l-1))===f}static getStandardUPCEANChecksum(c){let l=c.length,f=0;for(let p=l-1;p>=0;p-=2){let g=c.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new we;f+=g}f*=3;for(let p=l-2;p>=0;p-=2){let g=c.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new we;f+=g}return(1e3-f)%10}static decodeEnd(c,l){return rt.findGuardPattern(c,l,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,l,f,p){return this.findGuardPattern(c,l,f,p,new Int32Array(p.length))}static findGuardPattern(c,l,f,p,g){let v=c.getSize(),C=0,E=l=f?c.getNextUnset(l):c.getNextSet(l),I=p.length,A=f;for(let O=l;O<v;O++)if(c.get(O)!==A)g[C]++;else{if(C===I-1){if(Mt.patternMatchVariance(g,p,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([E,O]);E+=g[0]+g[1];let k=g.slice(2,g.length-1);for(let L=0;L<C-1;L++)g[L]=k[L];g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,A=!A}throw new j}static decodeDigit(c,l,f,p){this.recordPattern(c,f,l);let g=this.MAX_AVG_VARIANCE,v=-1,C=p.length;for(let E=0;E<C;E++){let A=Mt.patternMatchVariance(l,p[E],rt.MAX_INDIVIDUAL_VARIANCE);A<g&&(g=A,v=E)}if(v>=0)return v;throw new j}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class wo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,l,f){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,f,p),v=p.toString(),C=wo.parseExtensionString(v),E=[new de((f[0]+f[1])/2,c),new de(g,c)],I=new Nt(v,null,0,E,Pe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=C&&I.putAllMetadata(C),I}decodeMiddle(c,l,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=c.getSize(),v=l[1],C=0;for(let I=0;I<5&&v<g;I++){let A=rt.decodeDigit(c,p,v,rt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+A%10);for(let O of p)v+=O;A>=10&&(C|=1<<4-I),4!==I&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(5!==f.length)throw new j;let E=this.determineCheckDigit(C);if(wo.extensionChecksum(f.toString())!==E)throw new j;return v}static extensionChecksum(c){let l=c.length,f=0;for(let p=l-2;p>=0;p-=2)f+=c.charAt(p).charCodeAt(0)-48;f*=3;for(let p=l-1;p>=0;p-=2)f+=c.charAt(p).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(c){for(let l=0;l<10;l++)if(c===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new j}static parseExtensionString(c){if(5!==c.length)return null;let l=wo.parseExtension5String(c);return null==l?null:new Map([[Ct.SUGGESTED_PRICE,l]])}static parseExtension5String(c){let l;switch(c.charAt(0)){case"0":l="\xa3";break;case"5":l="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l=""}let f=parseInt(c.substring(1)),g=f%100;return l+(f/100).toString()+"."+(g<10?"0"+g:g.toString())}}class Pt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,l,f){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,f,p),v=p.toString(),C=Pt.parseExtensionString(v),E=[new de((f[0]+f[1])/2,c),new de(g,c)],I=new Nt(v,null,0,E,Pe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=C&&I.putAllMetadata(C),I}decodeMiddle(c,l,f){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=c.getSize(),v=l[1],C=0;for(let E=0;E<2&&v<g;E++){let I=rt.decodeDigit(c,p,v,rt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+I%10);for(let A of p)v+=A;I>=10&&(C|=1<<1-E),1!==E&&(v=c.getNextSet(v),v=c.getNextUnset(v))}if(2!==f.length)throw new j;if(parseInt(f.toString())%4!==C)throw new j;return v}static parseExtensionString(c){return 2!==c.length?null:new Map([[Ct.ISSUE_NUMBER,parseInt(c)]])}}class vu{static decodeRow(c,l,f){let p=rt.findGuardPattern(l,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new wo).decodeRow(c,l,p)}catch{return(new Pt).decodeRow(c,l,p)}}}vu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends rt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let l=ut.L_PATTERNS[c-10],f=new Int32Array(l.length);for(let p=0;p<l.length;p++)f[p]=l[l.length-p-1];ut.L_AND_G_PATTERNS[c]=f}}decodeRow(c,l,f){let p=ut.findStartGuardPattern(l),g=null==f?null:f.get(Ve.NEED_RESULT_POINT_CALLBACK);if(null!=g){const ge=new de((p[0]+p[1])/2,c);g.foundPossibleResultPoint(ge)}let v=this.decodeMiddle(l,p,this.decodeRowStringBuffer),C=v.rowOffset,E=v.resultString;if(null!=g){const ge=new de(C,c);g.foundPossibleResultPoint(ge)}let I=this.decodeEnd(l,C);if(null!=g){const ge=new de((I[0]+I[1])/2,c);g.foundPossibleResultPoint(ge)}let A=I[1],O=A+(A-I[0]);if(O>=l.getSize()||!l.isRange(A,O,!1))throw new j;let k=E.toString();if(k.length<8)throw new we;if(!ut.checkChecksum(k))throw new se;let L=(p[1]+p[0])/2,z=(I[1]+I[0])/2,Q=this.getBarcodeFormat(),re=[new de(L,c),new de(z,c)],ue=new Nt(k,null,0,re,Q,(new Date).getTime()),Ae=0;try{let ge=vu.decodeRow(c,l,I[1]);ue.putMetadata(Ct.UPC_EAN_EXTENSION,ge.getText()),ue.putAllMetadata(ge.getResultMetadata()),ue.addResultPoints(ge.getResultPoints()),Ae=ge.getText().length}catch{}let He=null==f?null:f.get(Ve.ALLOWED_EAN_EXTENSIONS);if(null!=He){let ge=!1;for(let jt in He)if(Ae.toString()===jt){ge=!0;break}if(!ge)throw new j}return ue}decodeEnd(c,l){return ut.findGuardPattern(c,l,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return ut.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let l=c.length;if(0===l)return!1;let f=parseInt(c.charAt(l-1),10);return ut.getStandardUPCEANChecksum(c.substring(0,l-1))===f}static getStandardUPCEANChecksum(c){let l=c.length,f=0;for(let p=l-1;p>=0;p-=2){let g=c.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new we;f+=g}f*=3;for(let p=l-2;p>=0;p-=2){let g=c.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new we;f+=g}return(1e3-f)%10}}let es=(()=>{class D extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),C=f[1],E=0;for(let A=0;A<6&&C<v;A++){let O=ut.decodeDigit(l,g,C,ut.L_AND_G_PATTERNS);p+=String.fromCharCode(48+O%10);for(let k of g)C+=k;O>=10&&(E|=1<<5-A)}p=D.determineFirstDigit(p,E),C=ut.findGuardPattern(l,C,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&C<v;A++){let O=ut.decodeDigit(l,g,C,ut.L_PATTERNS);p+=String.fromCharCode(48+O);for(let k of g)C+=k}return{rowOffset:C,resultString:p}}getBarcodeFormat(){return Pe.EAN_13}static determineFirstDigit(l,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return String.fromCharCode(48+p)+l;throw new j}}return D.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],D})();class Cu extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,l,f){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=c.getSize(),v=l[1];for(let E=0;E<4&&v<g;E++){let I=ut.decodeDigit(c,p,v,ut.L_PATTERNS);f+=String.fromCharCode(48+I);for(let A of p)v+=A}v=ut.findGuardPattern(c,v,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&v<g;E++){let I=ut.decodeDigit(c,p,v,ut.L_PATTERNS);f+=String.fromCharCode(48+I);for(let A of p)v+=A}return{rowOffset:v,resultString:f}}getBarcodeFormat(){return Pe.EAN_8}}class ba extends ut{constructor(){super(...arguments),this.ean13Reader=new es}getBarcodeFormat(){return Pe.UPC_A}decode(c,l){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,l,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,l,f))}decodeMiddle(c,l,f){return this.ean13Reader.decodeMiddle(c,l,f)}maybeReturnResult(c){let l=c.getText();if("0"===l.charAt(0)){let f=new Nt(l.substring(1),null,null,c.getResultPoints(),Pe.UPC_A);return null!=c.getResultMetadata()&&f.putAllMetadata(c.getResultMetadata()),f}throw new j}reset(){this.ean13Reader.reset()}}class cr extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,l,f){const p=this.decodeMiddleCounters.map(I=>I);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const g=c.getSize();let v=l[1],C=0;for(let I=0;I<6&&v<g;I++){const A=cr.decodeDigit(c,p,v,cr.L_AND_G_PATTERNS);f+=String.fromCharCode(48+A%10);for(let O of p)v+=O;A>=10&&(C|=1<<5-I)}return{rowOffset:v,resultString:cr.determineNumSysAndCheckDigit(f,C)}}decodeEnd(c,l){return cr.findGuardPatternWithoutCounters(c,l,!0,cr.MIDDLE_END_PATTERN)}checkChecksum(c){return ut.checkChecksum(cr.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,l){for(let f=0;f<=1;f++)for(let p=0;p<10;p++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][p])return String.fromCharCode(48+f)+c+String.fromCharCode(48+p);throw j.getNotFoundInstance()}getBarcodeFormat(){return Pe.UPC_E}static convertUPCEtoUPCA(c){const l=c.slice(1,7).split("").map(g=>g.charCodeAt(0)),f=new te;f.append(c.charAt(0));let p=l[5];switch(p){case 0:case 1:case 2:f.appendChars(l,0,2),f.append(p),f.append("0000"),f.appendChars(l,2,3);break;case 3:f.appendChars(l,0,3),f.append("00000"),f.appendChars(l,3,2);break;case 4:f.appendChars(l,0,4),f.append("00000"),f.append(l[4]);break;default:f.appendChars(l,0,5),f.append("0000"),f.append(p)}return c.length>=8&&f.append(c.charAt(7)),f.toString()}}cr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ct extends Mt{constructor(c){super();let l=null==c?null:c.get(Ve.POSSIBLE_FORMATS),f=[];o(l)?(f.push(new es),f.push(new ba),f.push(new Cu),f.push(new cr)):(l.indexOf(Pe.EAN_13)>-1&&f.push(new es),l.indexOf(Pe.UPC_A)>-1&&f.push(new ba),l.indexOf(Pe.EAN_8)>-1&&f.push(new Cu),l.indexOf(Pe.UPC_E)>-1&&f.push(new cr)),this.readers=f}decodeRow(c,l,f){for(let p of this.readers)try{const g=p.decodeRow(c,l,f),v=g.getBarcodeFormat()===Pe.EAN_13&&"0"===g.getText().charAt(0),C=null==f?null:f.get(Ve.POSSIBLE_FORMATS),E=null==C||C.includes(Pe.UPC_A);if(v&&E){const I=g.getRawBytes(),A=new Nt(g.getText().substring(1),I,I?I.length:null,g.getResultPoints(),Pe.UPC_A);return A.putAllMetadata(g.getResultMetadata()),A}return g}catch{}throw new j}reset(){for(let c of this.readers)c.reset()}}let gi=(()=>{class D extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let p=0;p<f.length;p++)if(Mt.patternMatchVariance(l,f[p],D.MAX_INDIVIDUAL_VARIANCE)<D.MAX_AVG_VARIANCE)return p;throw new j}static count(l){return et.sum(new Int32Array(l))}static increment(l,f){let p=0,g=f[0];for(let v=1;v<l.length;v++)f[v]>g&&(g=f[v],p=v);l[p]++}static decrement(l,f){let p=0,g=f[0];for(let v=1;v<l.length;v++)f[v]<g&&(g=f[v],p=v);l[p]--}static isFinderPattern(l){let f=l[0]+l[1],g=f/(f+l[2]+l[3]);if(g>=D.MIN_FINDER_PATTERN_RATIO&&g<=D.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;for(let E of l)E>C&&(C=E),E<v&&(v=E);return C<10*v}return!1}}return D.MAX_AVG_VARIANCE=.2,D.MAX_INDIVIDUAL_VARIANCE=.45,D.MIN_FINDER_PATTERN_RATIO=9.5/12,D.MAX_FINDER_PATTERN_RATIO=12.5/14,D})();class zn{constructor(c,l){this.value=c,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){return c instanceof zn&&this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Fc{constructor(c,l,f,p,g){this.value=c,this.startEnd=l,this.value=c,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new de(f,g)),this.resultPoints.push(new de(p,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){return c instanceof Fc&&this.value===c.value}hashCode(){return this.value}}class mi{constructor(){}static getRSSvalue(c,l,f){let p=0;for(let E of c)p+=E;let g=0,v=0,C=c.length;for(let E=0;E<C-1;E++){let I;for(I=1,v|=1<<E;I<c[E];I++,v&=~(1<<E)){let A=mi.combins(p-I-1,C-E-2);if(f&&0===v&&p-I-(C-E-1)>=C-E-1&&(A-=mi.combins(p-I-(C-E),C-E-2)),C-E-1>1){let O=0;for(let k=p-I-(C-E-2);k>l;k--)O+=mi.combins(p-I-k-1,C-E-3);A-=O*(C-1-E)}else p-I>l&&A--;g+=A}p-=I}return g}static combins(c,l){let f,p;c-l>l?(p=l,f=c-l):(p=c-l,f=l);let g=1,v=1;for(let C=c;C>f;C--)g*=C,v<=p&&(g/=v,v++);for(;v<=p;)g/=v,v++;return g}}class wg{static buildBitArray(c){let l=2*c.length-1;null==c[c.length-1].getRightChar()&&(l-=1);let p=new Fe(12*l),g=0,C=c[0].getRightChar().getValue();for(let E=11;E>=0;--E)C&1<<E&&p.set(g),g++;for(let E=1;E<c.length;++E){let I=c[E],A=I.getLeftChar().getValue();for(let O=11;O>=0;--O)A&1<<O&&p.set(g),g++;if(null!=I.getRightChar()){let O=I.getRightChar().getValue();for(let k=11;k>=0;--k)O&1<<k&&p.set(g),g++}}return p}}class Tr{constructor(c,l){l?this.decodedInformation=null:(this.finished=c,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pc{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}let yi=(()=>{class D extends Pc{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===D.FNC1}}return D.FNC1="$",D})();class Eo extends Pc{constructor(c,l,f){super(c),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let to=(()=>{class D extends Pc{constructor(l,f,p){if(super(l),f<0||f>10||p<0||p>10)throw new we;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===D.FNC1}isSecondDigitFNC1(){return this.secondDigit===D.FNC1}isAnyFNC1(){return this.firstDigit===D.FNC1||this.secondDigit===D.FNC1}}return D.FNC1=10,D})();class ze{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new j;let l=c.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],c):ze.processFixedAI(2,g[1],c);if(c.length<3)throw new j;let f=c.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===f)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],c):ze.processFixedAI(3,g[1],c);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===f)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],c):ze.processFixedAI(4,g[1],c);if(c.length<4)throw new j;let p=c.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===p)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],c):ze.processFixedAI(4,g[1],c);throw new j}static processFixedAI(c,l,f){if(f.length<c)throw new j;let p=f.substring(0,c);if(f.length<c+l)throw new j;let g=f.substring(c,c+l),v=f.substring(c+l),C="("+p+")"+g,E=ze.parseFieldsInGeneralPurpose(v);return null==E?C:C+E}static processVariableAI(c,l,f){let g,p=f.substring(0,c);g=f.length<c+l?f.length:c+l;let v=f.substring(c,g),C=f.substring(g),E="("+p+")"+v,I=ze.parseFieldsInGeneralPurpose(C);return null==I?E:E+I}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class Os{constructor(c){this.buffer=new te,this.information=c}decodeAllCodes(c,l){let f=l,p=null;for(;;){let g=this.decodeGeneralPurposeField(f,p),v=ze.parseFieldsInGeneralPurpose(g.getNewString());if(null!=v&&c.append(v),p=g.isRemaining()?""+g.getRemainingValue():null,f===g.getNewPosition())break;f=g.getNewPosition()}return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let l=c;l<c+3;++l)if(this.information.get(l))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(c,4);return new to(this.information.getSize(),0===g?to.FNC1:g-1,to.FNC1)}let l=this.extractNumericValueFromBitArray(c,7);return new to(c+7,(l-8)/11,(l-8)%11)}extractNumericValueFromBitArray(c,l){return Os.extractNumericValueFromBitArray(this.information,c,l)}static extractNumericValueFromBitArray(c,l,f){let p=0;for(let g=0;g<f;++g)c.get(l+g)&&(p|=1<<f-g-1);return p}decodeGeneralPurposeField(c,l){this.buffer.setLengthToZero(),null!=l&&this.buffer.append(l),this.current.setPosition(c);let f=this.parseBlocks();return null!=f&&f.isRemaining()?new Eo(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Eo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,l;do{let f=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),c=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),c=l.isFinished()):(l=this.parseNumericBlock(),c=l.isFinished()),f===this.current.getPosition()&&!c)break}while(!c);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let l;return l=c.isSecondDigitFNC1()?new Eo(this.current.getPosition(),this.buffer.toString()):new Eo(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new Tr(!0,l)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let l=new Eo(this.current.getPosition(),this.buffer.toString());return new Tr(!0,l)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Tr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let l=new Eo(this.current.getPosition(),this.buffer.toString());return new Tr(!0,l)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Tr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let l=new Eo(this.current.getPosition(),this.buffer.toString());return new Tr(!0,l)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Tr(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(c,5);if(l>=5&&l<16)return!0;if(c+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<116)return!0;if(c+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,8);return p>=232&&p<253}decodeIsoIec646(c){let l=this.extractNumericValueFromBitArray(c,5);if(15===l)return new yi(c+5,yi.FNC1);if(l>=5&&l<15)return new yi(c+5,"0"+(l-5));let g,f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<90)return new yi(c+7,""+(f+1));if(f>=90&&f<116)return new yi(c+7,""+(f+7));switch(this.extractNumericValueFromBitArray(c,8)){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new we}return new yi(c+8,g)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(c,5);if(l>=5&&l<16)return!0;if(c+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,6);return f>=16&&f<63}decodeAlphanumeric(c){let l=this.extractNumericValueFromBitArray(c,5);if(15===l)return new yi(c+5,yi.FNC1);if(l>=5&&l<15)return new yi(c+5,"0"+(l-5));let p,f=this.extractNumericValueFromBitArray(c,6);if(f>=32&&f<58)return new yi(c+6,""+(f+33));switch(f){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new an("Decoding invalid alphanumeric value: "+f)}return new yi(c+6,p)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let l=0;l<5&&l+c<this.information.getSize();++l)if(2===l){if(!this.information.get(c+2))return!1}else if(this.information.get(c+l))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let l=c;l<c+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let l=0;l<4&&l+c<this.information.getSize();++l)if(this.information.get(c+l))return!1;return!0}}class Lc{constructor(c){this.information=c,this.generalDecoder=new Os(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Xr=(()=>{class D extends Lc{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,p)}encodeCompressedGtinWithoutAI(l,f,p){for(let g=0;g<4;++g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*g,10);v/100==0&&l.append("0"),v/10==0&&l.append("0"),l.append(v)}D.appendCheckDigit(l,p)}static appendCheckDigit(l,f){let p=0;for(let g=0;g<13;g++){let v=l.charAt(g+f).charCodeAt(0)-48;p+=1&g?v:3*v}p=10-p%10,10===p&&(p=0),l.append(p)}}return D.GTIN_SIZE=40,D})(),Mr=(()=>{class D extends Xr{constructor(l){super(l)}parseInformation(){let l=new te;l.append("(01)");let f=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,D.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,D.HEADER_SIZE+44)}}return D.HEADER_SIZE=4,D})(),ht=(()=>{class D extends Lc{constructor(l){super(l)}parseInformation(){let l=new te;return this.getGeneralDecoder().decodeAllCodes(l,D.HEADER_SIZE)}}return D.HEADER_SIZE=5,D})();class ks extends Xr{constructor(c){super(c)}encodeCompressedWeight(c,l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l,f);this.addWeightCode(c,p);let g=this.checkWeight(p),v=1e5;for(let C=0;C<5;++C)g/v==0&&c.append("0"),v/=10;c.append(g)}}let If=(()=>{class D extends ks{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=D.HEADER_SIZE+ks.GTIN_SIZE+D.WEIGHT_SIZE)throw new j;let l=new te;return this.encodeCompressedGtin(l,D.HEADER_SIZE),this.encodeCompressedWeight(l,D.HEADER_SIZE+ks.GTIN_SIZE,D.WEIGHT_SIZE),l.toString()}}return D.HEADER_SIZE=5,D.WEIGHT_SIZE=15,D})();class Eg extends If{constructor(c){super(c)}addWeightCode(c,l){c.append("(3103)")}checkWeight(c){return c}}class _g extends If{constructor(c){super(c)}addWeightCode(c,l){c.append(l<1e4?"(3202)":"(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}let wu=(()=>{class D extends Xr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<D.HEADER_SIZE+Xr.GTIN_SIZE)throw new j;let l=new te;this.encodeCompressedGtin(l,D.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Xr.GTIN_SIZE,D.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(D.HEADER_SIZE+Xr.GTIN_SIZE+D.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}return D.HEADER_SIZE=8,D.LAST_DIGIT_SIZE=2,D})(),fn=(()=>{class D extends Xr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<D.HEADER_SIZE+Xr.GTIN_SIZE)throw new j;let l=new te;this.encodeCompressedGtin(l,D.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Xr.GTIN_SIZE,D.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Xr.GTIN_SIZE+D.LAST_DIGIT_SIZE,D.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let g=this.getGeneralDecoder().decodeGeneralPurposeField(D.HEADER_SIZE+Xr.GTIN_SIZE+D.LAST_DIGIT_SIZE+D.FIRST_THREE_DIGITS_SIZE,null);return l.append(g.getNewString()),l.toString()}}return D.HEADER_SIZE=8,D.LAST_DIGIT_SIZE=2,D.FIRST_THREE_DIGITS_SIZE=10,D})(),_o=(()=>{class D extends ks{constructor(l,f,p){super(l),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=D.HEADER_SIZE+D.GTIN_SIZE+D.WEIGHT_SIZE+D.DATE_SIZE)throw new j;let l=new te;return this.encodeCompressedGtin(l,D.HEADER_SIZE),this.encodeCompressedWeight(l,D.HEADER_SIZE+D.GTIN_SIZE,D.WEIGHT_SIZE),this.encodeCompressedDate(l,D.HEADER_SIZE+D.GTIN_SIZE+D.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,D.DATE_SIZE);if(38400==p)return;l.append("("),l.append(this.dateCode),l.append(")");let g=p%32;p/=32;let v=p%12+1;p/=12;let C=p;C/10==0&&l.append("0"),l.append(C),v/10==0&&l.append("0"),l.append(v),g/10==0&&l.append("0"),l.append(g)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}return D.HEADER_SIZE=8,D.WEIGHT_SIZE=20,D.DATE_SIZE=16,D})();function Fs(D){try{if(D.get(1))return new Mr(D);if(!D.get(2))return new ht(D);switch(Os.extractNumericValueFromBitArray(D,1,4)){case 4:return new Eg(D);case 5:return new _g(D)}switch(Os.extractNumericValueFromBitArray(D,1,5)){case 12:return new wu(D);case 13:return new fn(D)}switch(Os.extractNumericValueFromBitArray(D,1,7)){case 56:return new _o(D,"310","11");case 57:return new _o(D,"320","11");case 58:return new _o(D,"310","13");case 59:return new _o(D,"320","13");case 60:return new _o(D,"310","15");case 61:return new _o(D,"320","15");case 62:return new _o(D,"310","17");case 63:return new _o(D,"320","17")}}catch(c){throw console.log(c),new an("unknown decoder: "+D)}}class Lr{constructor(c,l,f,p){this.leftchar=c,this.rightchar=l,this.finderpattern=f,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(c,l){return c instanceof Lr&&Lr.equalsOrNull(c.leftchar,l.leftchar)&&Lr.equalsOrNull(c.rightchar,l.rightchar)&&Lr.equalsOrNull(c.finderpattern,l.finderpattern)}static equalsOrNull(c,l){return null===c?null===l:Lr.equals(c,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ps{constructor(c,l,f){this.pairs=c,this.rowNumber=l,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,l){return c instanceof Ps&&this.checkEqualitity(c,l)&&c.wasReversed===l.wasReversed}checkEqualitity(c,l){if(!c||!l)return;let f;return c.forEach((p,g)=>{l.forEach(v=>{p.getLeftChar().getValue()===v.getLeftChar().getValue()&&p.getRightChar().getValue()===v.getRightChar().getValue()&&p.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(f=!0)})}),f}}class xe extends gi{constructor(c){super(...arguments),this.pairs=new Array(xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===c}decodeRow(c,l,f){this.pairs.length=0,this.startFromEven=!1;try{return xe.constructResult(this.decodeRow2pairs(c,l))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,xe.constructResult(this.decodeRow2pairs(c,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,l){let p,f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,c))}catch(g){if(g instanceof j){if(!this.pairs.length)throw new j;f=!0}}if(this.checkChecksum())return this.pairs;if(p=!!this.rows.length,this.storeRow(c,!1),p){let g=this.checkRowsBoolean(!1);if(null!=g||(g=this.checkRowsBoolean(!0),null!=g))return g}throw new j}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return c&&(this.rows=this.rows.reverse()),l}checkRows(c,l){for(let f=l;f<this.rows.length;f++){let p=this.rows[f];this.pairs.length=0;for(let v of c)this.pairs.push(v.getPairs());if(this.pairs.push(p.getPairs()),!xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(c);g.push(p);try{return this.checkRows(g,f+1)}catch(v){this.verbose&&console.log(v)}}throw new j}static isValidSequence(c){for(let l of xe.FINDER_PATTERN_SEQUENCES){if(c.length>l.length)continue;let f=!0;for(let p=0;p<c.length;p++)if(c[p].getFinderPattern().getValue()!=l[p]){f=!1;break}if(f)return!0}return!1}storeRow(c,l){let f=0,p=!1,g=!1;for(;f<this.rows.length;){let v=this.rows[f];if(v.getRowNumber()>c){g=v.isEquivalent(this.pairs);break}p=v.isEquivalent(this.pairs),f++}g||p||xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new Ps(this.pairs,c,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,l){for(let f of l)if(f.getPairs().length!==c.length)for(let p of f.getPairs())for(let g of c)if(Lr.equals(p,g))break}static isPartialRow(c,l){for(let f of l){let p=!0;for(let g of c){let v=!1;for(let C of f.getPairs())if(g.equals(C)){v=!0;break}if(!v){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(c){let p=Fs(wg.buildBitArray(c)).parseInformation(),g=c[0].getFinderPattern().getResultPoints(),v=c[c.length-1].getFinderPattern().getResultPoints();return new Nt(p,null,null,[g[0],g[1],v[0],v[1]],Pe.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),l=c.getLeftChar(),f=c.getRightChar();if(null==f)return!1;let p=f.getChecksumPortion(),g=2;for(let C=1;C<this.pairs.size();++C){let E=this.pairs.get(C);p+=E.getLeftChar().getChecksumPortion(),g++;let I=E.getRightChar();null!=I&&(p+=I.getChecksumPortion(),g++)}return p%=211,211*(g-4)+p==l.getValue()}static getNextSecondBar(c,l){let f;return c.get(l)?(f=c.getNextUnset(l),f=c.getNextSet(f)):(f=c.getNextSet(l),f=c.getNextUnset(f)),f}retrieveNextPair(c,l,f){let p=l.length%2==0;this.startFromEven&&(p=!p);let g,v=!0,C=-1;do{this.findNextPair(c,l,C),g=this.parseFoundFinderPattern(c,f,p),null==g?C=xe.getNextSecondBar(c,this.startEnd[0]):v=!1}while(v);let I,E=this.decodeDataCharacter(c,g,p,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new j;try{I=this.decodeDataCharacter(c,g,p,!1)}catch(A){I=null,this.verbose&&console.log(A)}return new Lr(E,I,g,!0)}isEmptyPair(c){return 0===c.length}findNextPair(c,l,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let v,g=c.getSize();v=f>=0?f:this.isEmptyPair(l)?0:l[l.length-1].getFinderPattern().getStartEnd()[1];let C=l.length%2!=0;this.startFromEven&&(C=!C);let E=!1;for(;v<g&&(E=!c.get(v),E);)v++;let I=0,A=v;for(let O=v;O<g;O++)if(c.get(O)!=E)p[I]++;else{if(3==I){if(C&&xe.reverseCounters(p),xe.isFinderPattern(p))return this.startEnd[0]=A,void(this.startEnd[1]=O);C&&xe.reverseCounters(p),A+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,I--}else I++;p[I]=1,E=!E}throw new j}static reverseCounters(c){let l=c.length;for(let f=0;f<l/2;++f){let p=c[f];c[f]=c[l-f-1],c[l-f-1]=p}}parseFoundFinderPattern(c,l,f){let p,g,v;if(f){let I=this.startEnd[0]-1;for(;I>=0&&!c.get(I);)I--;I++,p=this.startEnd[0]-I,g=I,v=this.startEnd[1]}else g=this.startEnd[0],v=c.getNextUnset(this.startEnd[1]+1),p=v-this.startEnd[1];let E,C=this.getDecodeFinderCounters();_e.arraycopy(C,0,C,1,C.length-1),C[0]=p;try{E=this.parseFinderValue(C,xe.FINDER_PATTERNS)}catch{return null}return new Fc(E,[g,v],g,v,l)}decodeDataCharacter(c,l,f,p){let g=this.getDataCharacterCounters();for(let ln=0;ln<g.length;ln++)g[ln]=0;if(p)xe.recordPatternInReverse(c,l.getStartEnd()[0],g);else{xe.recordPattern(c,l.getStartEnd()[1],g);for(let ln=0,Nn=g.length-1;ln<Nn;ln++,Nn--){let qr=g[ln];g[ln]=g[Nn],g[Nn]=qr}}let C=et.sum(new Int32Array(g))/17,E=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(C-E)/E>.3)throw new j;let I=this.getOddCounts(),A=this.getEvenCounts(),O=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let ln=0;ln<g.length;ln++){let Nn=1*g[ln]/C,qr=Nn+.5;if(qr<1){if(Nn<.3)throw new j;qr=1}else if(qr>8){if(Nn>8.7)throw new j;qr=8}let io=ln/2;1&ln?(A[io]=qr,k[io]=Nn-qr):(I[io]=qr,O[io]=Nn-qr)}this.adjustOddEvenCounts(17);let L=4*l.getValue()+(f?0:2)+(p?0:1)-1,z=0,Q=0;for(let ln=I.length-1;ln>=0;ln--)xe.isNotA1left(l,f,p)&&(Q+=I[ln]*xe.WEIGHTS[L][2*ln]),z+=I[ln];let re=0;for(let ln=A.length-1;ln>=0;ln--)xe.isNotA1left(l,f,p)&&(re+=A[ln]*xe.WEIGHTS[L][2*ln+1]);let ue=Q+re;if(1&z||z>13||z<4)throw new j;let Ae=(13-z)/2,He=xe.SYMBOL_WIDEST[Ae],ge=9-He,jt=mi.getRSSvalue(I,He,!0),Dt=mi.getRSSvalue(A,ge,!1);return new zn(jt*xe.EVEN_TOTAL_SUBSET[Ae]+Dt+xe.GSUM[Ae],ue)}static isNotA1left(c,l,f){return!(0==c.getValue()&&l&&f)}adjustOddEvenCounts(c){let l=et.sum(new Int32Array(this.getOddCounts())),f=et.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1;l>13?g=!0:l<4&&(p=!0);let v=!1,C=!1;f>13?C=!0:f<4&&(v=!0);let E=l+f-c,I=!(1&~l),A=!(1&f);if(1==E)if(I){if(A)throw new j;g=!0}else{if(!A)throw new j;C=!0}else if(-1==E)if(I){if(A)throw new j;p=!0}else{if(!A)throw new j;v=!0}else{if(0!=E)throw new j;if(I){if(!A)throw new j;l<f?(p=!0,C=!0):(g=!0,v=!0)}else if(A)throw new j}if(p){if(g)throw new j;xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(C)throw new j;xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xe.SYMBOL_WIDEST=[7,5,4,3,1],xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xe.GSUM=[0,348,1388,2948,3988],xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xe.FINDER_PAT_A=0,xe.FINDER_PAT_B=1,xe.FINDER_PAT_C=2,xe.FINDER_PAT_D=3,xe.FINDER_PAT_E=4,xe.FINDER_PAT_F=5,xe.FINDER_PATTERN_SEQUENCES=[[xe.FINDER_PAT_A,xe.FINDER_PAT_A],[xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B],[xe.FINDER_PAT_A,xe.FINDER_PAT_C,xe.FINDER_PAT_B,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_C],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F]],xe.MAX_PAIRS=11;class Df extends zn{constructor(c,l,f){super(c,l),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class In extends gi{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,l,f){const p=this.decodePair(l,!1,c,f);In.addOrTally(this.possibleLeftPairs,p),l.reverse();let g=this.decodePair(l,!0,c,f);In.addOrTally(this.possibleRightPairs,g),l.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1)for(let C of this.possibleRightPairs)if(C.getCount()>1&&In.checkChecksum(v,C))return In.constructResult(v,C);throw new j}static addOrTally(c,l){if(null==l)return;let f=!1;for(let p of c)if(p.getValue()===l.getValue()){p.incrementCount(),f=!0;break}f||c.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,l){let f=4537077*c.getValue()+l.getValue(),p=new String(f).toString(),g=new te;for(let I=13-p.length;I>0;I--)g.append("0");g.append(p);let v=0;for(let I=0;I<13;I++){let A=g.charAt(I).charCodeAt(0)-48;v+=1&I?A:3*A}v=10-v%10,10===v&&(v=0),g.append(v.toString());let C=c.getFinderPattern().getResultPoints(),E=l.getFinderPattern().getResultPoints();return new Nt(g.toString(),null,0,[C[0],C[1],E[0],E[1]],Pe.RSS_14,(new Date).getTime())}static checkChecksum(c,l){let f=(c.getChecksumPortion()+16*l.getChecksumPortion())%79,p=9*c.getFinderPattern().getValue()+l.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,f===p}decodePair(c,l,f,p){try{let g=this.findFinderPattern(c,l),v=this.parseFoundFinderPattern(c,f,l,g),C=null==p?null:p.get(Ve.NEED_RESULT_POINT_CALLBACK);if(null!=C){let A=(g[0]+g[1])/2;l&&(A=c.getSize()-1-A),C.foundPossibleResultPoint(new de(A,f))}let E=this.decodeDataCharacter(c,v,!0),I=this.decodeDataCharacter(c,v,!1);return new Df(1597*E.getValue()+I.getValue(),E.getChecksumPortion()+4*I.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(c,l,f){let p=this.getDataCharacterCounters();for(let re=0;re<p.length;re++)p[re]=0;if(f)Mt.recordPatternInReverse(c,l.getStartEnd()[0],p);else{Mt.recordPattern(c,l.getStartEnd()[1]+1,p);for(let re=0,ue=p.length-1;re<ue;re++,ue--){let Ae=p[re];p[re]=p[ue],p[ue]=Ae}}let g=f?16:15,v=et.sum(new Int32Array(p))/g,C=this.getOddCounts(),E=this.getEvenCounts(),I=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let re=0;re<p.length;re++){let ue=p[re]/v,Ae=Math.floor(ue+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let He=Math.floor(re/2);1&re?(E[He]=Ae,A[He]=ue-Ae):(C[He]=Ae,I[He]=ue-Ae)}this.adjustOddEvenCounts(f,g);let O=0,k=0;for(let re=C.length-1;re>=0;re--)k*=9,k+=C[re],O+=C[re];let L=0,z=0;for(let re=E.length-1;re>=0;re--)L*=9,L+=E[re],z+=E[re];let Q=k+3*L;if(f){if(1&O||O>12||O<4)throw new j;let re=(12-O)/2,ue=In.OUTSIDE_ODD_WIDEST[re],Ae=9-ue,He=mi.getRSSvalue(C,ue,!1),ge=mi.getRSSvalue(E,Ae,!0);return new zn(He*In.OUTSIDE_EVEN_TOTAL_SUBSET[re]+ge+In.OUTSIDE_GSUM[re],Q)}{if(1&z||z>10||z<4)throw new j;let re=(10-z)/2,ue=In.INSIDE_ODD_WIDEST[re],Ae=9-ue,He=mi.getRSSvalue(C,ue,!0),ge=mi.getRSSvalue(E,Ae,!1);return new zn(ge*In.INSIDE_ODD_TOTAL_SUBSET[re]+He+In.INSIDE_GSUM[re],Q)}}findFinderPattern(c,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let p=c.getSize(),g=!1,v=0;for(;v<p&&(g=!c.get(v),l!==g);)v++;let C=0,E=v;for(let I=v;I<p;I++)if(c.get(I)!==g)f[C]++;else{if(3===C){if(gi.isFinderPattern(f))return[E,I];E+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,C--}else C++;f[C]=1,g=!g}throw new j}parseFoundFinderPattern(c,l,f,p){let g=c.get(p[0]),v=p[0]-1;for(;v>=0&&g!==c.get(v);)v--;v++;const C=p[0]-v,E=this.getDecodeFinderCounters(),I=new Int32Array(E.length);_e.arraycopy(E,0,I,1,E.length-1),I[0]=C;const A=this.parseFinderValue(I,In.FINDER_PATTERNS);let O=v,k=p[1];return f&&(O=c.getSize()-1-O,k=c.getSize()-1-k),new Fc(A,[v,p[1]],O,k,l)}adjustOddEvenCounts(c,l){let f=et.sum(new Int32Array(this.getOddCounts())),p=et.sum(new Int32Array(this.getEvenCounts())),g=!1,v=!1,C=!1,E=!1;c?(f>12?v=!0:f<4&&(g=!0),p>12?E=!0:p<4&&(C=!0)):(f>11?v=!0:f<5&&(g=!0),p>10?E=!0:p<4&&(C=!0));let I=f+p-l,A=(1&f)==(c?1:0),O=!(1&~p);if(1===I)if(A){if(O)throw new j;v=!0}else{if(!O)throw new j;E=!0}else if(-1===I)if(A){if(O)throw new j;g=!0}else{if(!O)throw new j;C=!0}else{if(0!==I)throw new j;if(A){if(!O)throw new j;f<p?(g=!0,E=!0):(v=!0,C=!0)}else if(O)throw new j}if(g){if(v)throw new j;gi.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&gi.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(E)throw new j;gi.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&gi.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}In.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],In.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],In.OUTSIDE_GSUM=[0,161,961,2015,2715],In.INSIDE_GSUM=[0,336,1036,1516],In.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],In.INSIDE_ODD_WIDEST=[2,4,6,8],In.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends Mt{constructor(c,l){super(),this.readers=[],this.verbose=!0===l;const f=c?c.get(Ve.POSSIBLE_FORMATS):null,p=c&&void 0!==c.get(Ve.ASSUME_CODE_39_CHECK_DIGIT);f?((f.includes(Pe.EAN_13)||f.includes(Pe.UPC_A)||f.includes(Pe.EAN_8)||f.includes(Pe.UPC_E))&&this.readers.push(new ct(c)),f.includes(Pe.CODE_39)&&this.readers.push(new Xt(p)),f.includes(Pe.CODE_128)&&this.readers.push(new Me),f.includes(Pe.ITF)&&this.readers.push(new gt),f.includes(Pe.RSS_14)&&this.readers.push(new In),f.includes(Pe.RSS_EXPANDED)&&this.readers.push(new xe(this.verbose))):(this.readers.push(new ct(c)),this.readers.push(new Xt),this.readers.push(new ct(c)),this.readers.push(new Me),this.readers.push(new gt),this.readers.push(new In),this.readers.push(new xe(this.verbose)))}decodeRow(c,l,f){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(c,l,f)}catch{}throw new j}reset(){this.readers.forEach(c=>c.reset())}}class Qt{constructor(c,l,f){this.ecCodewords=c,this.ecBlocks=[l],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class on{constructor(c,l){this.count=c,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(c,l,f,p,g,v){this.versionNumber=c,this.symbolSizeRows=l,this.symbolSizeColumns=f,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=g,this.ecBlocks=v;let C=0;const E=v.getECCodewords(),I=v.getECBlocks();for(let A of I)C+=A.getCount()*(A.getDataCodewords()+E);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,l){if(1&c||1&l)throw new we;for(let f of je.VERSIONS)if(f.symbolSizeRows===c&&f.symbolSizeColumns===l)return f;throw new we}toString(){return""+this.versionNumber}static buildVersions(){return[new je(1,10,10,8,8,new Qt(5,new on(1,3))),new je(2,12,12,10,10,new Qt(7,new on(1,5))),new je(3,14,14,12,12,new Qt(10,new on(1,8))),new je(4,16,16,14,14,new Qt(12,new on(1,12))),new je(5,18,18,16,16,new Qt(14,new on(1,18))),new je(6,20,20,18,18,new Qt(18,new on(1,22))),new je(7,22,22,20,20,new Qt(20,new on(1,30))),new je(8,24,24,22,22,new Qt(24,new on(1,36))),new je(9,26,26,24,24,new Qt(28,new on(1,44))),new je(10,32,32,14,14,new Qt(36,new on(1,62))),new je(11,36,36,16,16,new Qt(42,new on(1,86))),new je(12,40,40,18,18,new Qt(48,new on(1,114))),new je(13,44,44,20,20,new Qt(56,new on(1,144))),new je(14,48,48,22,22,new Qt(68,new on(1,174))),new je(15,52,52,24,24,new Qt(42,new on(2,102))),new je(16,64,64,14,14,new Qt(56,new on(2,140))),new je(17,72,72,16,16,new Qt(36,new on(4,92))),new je(18,80,80,18,18,new Qt(48,new on(4,114))),new je(19,88,88,20,20,new Qt(56,new on(4,144))),new je(20,96,96,22,22,new Qt(68,new on(4,174))),new je(21,104,104,24,24,new Qt(56,new on(6,136))),new je(22,120,120,18,18,new Qt(68,new on(6,175))),new je(23,132,132,20,20,new Qt(62,new on(8,163))),new je(24,144,144,22,22,new Qt(62,new on(8,156),new on(2,155))),new je(25,8,18,6,16,new Qt(7,new on(1,5))),new je(26,8,32,6,14,new Qt(11,new on(1,10))),new je(27,12,26,10,24,new Qt(14,new on(1,16))),new je(28,12,36,10,16,new Qt(18,new on(1,22))),new je(29,16,36,14,16,new Qt(24,new on(1,32))),new je(30,16,48,14,22,new Qt(28,new on(1,49)))]}}je.VERSIONS=je.buildVersions();class ts{constructor(c){const l=c.getHeight();if(l<8||l>144||1&l)throw new we;this.version=ts.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const l=c.getHeight(),f=c.getWidth();return je.getVersionForDimensions(l,f)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let l=0,f=4,p=0;const g=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let C=!1,E=!1,I=!1,A=!1;do{if(f!==g||0!==p||C)if(f===g-2&&0===p&&3&v&&!E)c[l++]=255&this.readCorner2(g,v),f-=2,p+=2,E=!0;else if(f!==g+4||2!==p||7&v||I)if(f!==g-2||0!==p||4!=(7&v)||A){do{f<g&&p>=0&&!this.readMappingMatrix.get(p,f)&&(c[l++]=255&this.readUtah(f,p,g,v)),f-=2,p+=2}while(f>=0&&p<v);f+=1,p+=3;do{f>=0&&p<v&&!this.readMappingMatrix.get(p,f)&&(c[l++]=255&this.readUtah(f,p,g,v)),f+=2,p-=2}while(f<g&&p>=0);f+=3,p+=1}else c[l++]=255&this.readCorner4(g,v),f-=2,p+=2,A=!0;else c[l++]=255&this.readCorner3(g,v),f-=2,p+=2,I=!0;else c[l++]=255&this.readCorner1(g,v),f-=2,p+=2,C=!0}while(f<g||p<v);if(l!==this.version.getTotalCodewords())throw new we;return c}readModule(c,l,f,p){return c<0&&(c+=f,l+=4-(f+4&7)),l<0&&(l+=p,c+=4-(p+4&7)),this.readMappingMatrix.set(l,c),this.mappingBitMatrix.get(l,c)}readUtah(c,l,f,p){let g=0;return this.readModule(c-2,l-2,f,p)&&(g|=1),g<<=1,this.readModule(c-2,l-1,f,p)&&(g|=1),g<<=1,this.readModule(c-1,l-2,f,p)&&(g|=1),g<<=1,this.readModule(c-1,l-1,f,p)&&(g|=1),g<<=1,this.readModule(c-1,l,f,p)&&(g|=1),g<<=1,this.readModule(c,l-2,f,p)&&(g|=1),g<<=1,this.readModule(c,l-1,f,p)&&(g|=1),g<<=1,this.readModule(c,l,f,p)&&(g|=1),g}readCorner1(c,l){let f=0;return this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,1,c,l)&&(f|=1),f<<=1,this.readModule(c-1,2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(2,l-1,c,l)&&(f|=1),f<<=1,this.readModule(3,l-1,c,l)&&(f|=1),f}readCorner2(c,l){let f=0;return this.readModule(c-3,0,c,l)&&(f|=1),f<<=1,this.readModule(c-2,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(0,l-4,c,l)&&(f|=1),f<<=1,this.readModule(0,l-3,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f}readCorner3(c,l){let f=0;return this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(0,l-3,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-3,c,l)&&(f|=1),f<<=1,this.readModule(1,l-2,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f}readCorner4(c,l){let f=0;return this.readModule(c-3,0,c,l)&&(f|=1),f<<=1,this.readModule(c-2,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(2,l-1,c,l)&&(f|=1),f<<=1,this.readModule(3,l-1,c,l)&&(f|=1),f}extractDataRegion(c){const l=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(c.getHeight()!==l)throw new J("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),v=l/p|0,C=f/g|0,A=new fe(C*g,v*p);for(let O=0;O<v;++O){const k=O*p;for(let L=0;L<C;++L){const z=L*g;for(let Q=0;Q<p;++Q){const re=O*(p+2)+1+Q,ue=k+Q;for(let Ae=0;Ae<g;++Ae)c.get(L*(g+2)+1+Ae,re)&&A.set(z+Ae,ue)}}}return A}}class Bs{constructor(c,l){this.numDataCodewords=c,this.codewords=l}static getDataBlocks(c,l){const f=l.getECBlocks();let p=0;const g=f.getECBlocks();for(let Q of g)p+=Q.getCount();const v=new Array(p);let C=0;for(let Q of g)for(let re=0;re<Q.getCount();re++){const ue=Q.getDataCodewords(),Ae=f.getECCodewords()+ue;v[C++]=new Bs(ue,new Uint8Array(Ae))}const I=v[0].codewords.length-f.getECCodewords(),A=I-1;let O=0;for(let Q=0;Q<A;Q++)for(let re=0;re<C;re++)v[re].codewords[Q]=c[O++];const k=24===l.getVersionNumber(),L=k?8:C;for(let Q=0;Q<L;Q++)v[Q].codewords[I-1]=c[O++];const z=v[0].codewords.length;for(let Q=I;Q<z;Q++)for(let re=0;re<C;re++){const ue=k?(re+8)%C:re;v[ue].codewords[k&&ue>7?Q-1:Q]=c[O++]}if(O!==c.length)throw new J;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class vr{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new J(""+c);let l=0,f=this.bitOffset,p=this.byteOffset;const g=this.bytes;if(f>0){const v=8-f,C=c<v?c:v,E=v-C;l=(g[p]&255>>8-C<<E)>>E,c-=C,f+=C,8===f&&(f=0,p++)}if(c>0){for(;c>=8;)l=l<<8|255&g[p],p++,c-=8;if(c>0){const v=8-c;l=l<<c|(g[p]&255>>v<<v)>>v,f+=c}}return this.bitOffset=f,this.byteOffset=p,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Bn=function(D){return D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE",D}(Bn||{});class bo{static decode(c){const l=new vr(c),f=new te,p=new te,g=new Array;let v=Bn.ASCII_ENCODE;do{if(v===Bn.ASCII_ENCODE)v=this.decodeAsciiSegment(l,f,p);else{switch(v){case Bn.C40_ENCODE:this.decodeC40Segment(l,f);break;case Bn.TEXT_ENCODE:this.decodeTextSegment(l,f);break;case Bn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,f);break;case Bn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,f);break;case Bn.BASE256_ENCODE:this.decodeBase256Segment(l,f,g);break;default:throw new we}v=Bn.ASCII_ENCODE}}while(v!==Bn.PAD_ENCODE&&l.available()>0);return p.length()>0&&f.append(p.toString()),new Cn(c,f.toString(),0===g.length?null:g,null)}static decodeAsciiSegment(c,l,f){let p=!1;do{let g=c.readBits(8);if(0===g)throw new we;if(g<=128)return p&&(g+=128),l.append(String.fromCharCode(g-1)),Bn.ASCII_ENCODE;if(129===g)return Bn.PAD_ENCODE;if(g<=229){const v=g-130;v<10&&l.append("0"),l.append(""+v)}else switch(g){case 230:return Bn.C40_ENCODE;case 231:return Bn.BASE256_ENCODE;case 232:l.append("\x1d");break;case 233:case 234:case 241:break;case 235:p=!0;break;case 236:l.append("[)>\x1e05\x1d"),f.insert(0,"\x1e\x04");break;case 237:l.append("[)>\x1e06\x1d"),f.insert(0,"\x1e\x04");break;case 238:return Bn.ANSIX12_ENCODE;case 239:return Bn.TEXT_ENCODE;case 240:return Bn.EDIFACT_ENCODE;default:if(254!==g||0!==c.available())throw new we}}while(c.available()>0);return Bn.ASCII_ENCODE}static decodeC40Segment(c,l){let f=!1;const p=[];let g=0;do{if(8===c.available())return;const v=c.readBits(8);if(254===v)return;this.parseTwoBytes(v,c.readBits(8),p);for(let C=0;C<3;C++){const E=p[C];switch(g){case 0:if(E<3)g=E+1;else{if(!(E<this.C40_BASIC_SET_CHARS.length))throw new we;{const I=this.C40_BASIC_SET_CHARS[E];f?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),f=!1):l.append(I)}}break;case 1:f?(l.append(String.fromCharCode(E+128)),f=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[E];f?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),f=!1):l.append(I)}else switch(E){case 27:l.append("\x1d");break;case 30:f=!0;break;default:throw new we}g=0;break;case 3:f?(l.append(String.fromCharCode(E+224)),f=!1):l.append(String.fromCharCode(E+96)),g=0;break;default:throw new we}}}while(c.available()>0)}static decodeTextSegment(c,l){let f=!1,p=[],g=0;do{if(8===c.available())return;const v=c.readBits(8);if(254===v)return;this.parseTwoBytes(v,c.readBits(8),p);for(let C=0;C<3;C++){const E=p[C];switch(g){case 0:if(E<3)g=E+1;else{if(!(E<this.TEXT_BASIC_SET_CHARS.length))throw new we;{const I=this.TEXT_BASIC_SET_CHARS[E];f?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),f=!1):l.append(I)}}break;case 1:f?(l.append(String.fromCharCode(E+128)),f=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[E];f?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),f=!1):l.append(I)}else switch(E){case 27:l.append("\x1d");break;case 30:f=!0;break;default:throw new we}g=0;break;case 3:if(!(E<this.TEXT_SHIFT3_SET_CHARS.length))throw new we;{const I=this.TEXT_SHIFT3_SET_CHARS[E];f?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),f=!1):l.append(I),g=0}break;default:throw new we}}}while(c.available()>0)}static decodeAnsiX12Segment(c,l){const f=[];do{if(8===c.available())return;const p=c.readBits(8);if(254===p)return;this.parseTwoBytes(p,c.readBits(8),f);for(let g=0;g<3;g++){const v=f[g];switch(v){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(v<14)l.append(String.fromCharCode(v+44));else{if(!(v<40))throw new we;l.append(String.fromCharCode(v+51))}}}}while(c.available()>0)}static parseTwoBytes(c,l,f){let p=(c<<8)+l-1,g=Math.floor(p/1600);f[0]=g,p-=1600*g,g=Math.floor(p/40),f[1]=g,f[2]=p-40*g}static decodeEdifactSegment(c,l){do{if(c.available()<=16)return;for(let f=0;f<4;f++){let p=c.readBits(6);if(31===p){const g=8-c.getBitOffset();return void(8!==g&&c.readBits(g))}32&p||(p|=64),l.append(String.fromCharCode(p))}}while(c.available()>0)}static decodeBase256Segment(c,l,f){let p=1+c.getByteOffset();const g=this.unrandomize255State(c.readBits(8),p++);let v;if(v=0===g?c.available()/8|0:g<250?g:250*(g-249)+this.unrandomize255State(c.readBits(8),p++),v<0)throw new we;const C=new Uint8Array(v);for(let E=0;E<v;E++){if(c.available()<8)throw new we;C[E]=this.unrandomize255State(c.readBits(8),p++)}f.push(C);try{l.append(Y.decode(C,B.ISO88591))}catch(E){throw new an("Platform does not support required encoding: "+E.message)}}static unrandomize255State(c,l){const p=c-(149*l%255+1);return p>=0?p:p+256}}bo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],bo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],bo.TEXT_SHIFT2_SET_CHARS=bo.C40_SHIFT2_SET_CHARS,bo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"];class En{constructor(){this.rsDecoder=new $t(Ze.DATA_MATRIX_FIELD_256)}decode(c){const l=new ts(c),f=l.getVersion(),p=l.readCodewords(),g=Bs.getDataBlocks(p,f);let v=0;for(let I of g)v+=I.getNumDataCodewords();const C=new Uint8Array(v),E=g.length;for(let I=0;I<E;I++){const A=g[I],O=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(O,k);for(let L=0;L<k;L++)C[L*E+I]=O[L]}return bo.decode(C)}correctErrors(c,l){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-l)}catch{throw new se}for(let p=0;p<l;p++)c[p]=f[p]}}class Vn{constructor(c){this.image=c,this.rectangleDetector=new Ln(this.image)}detect(){const c=this.rectangleDetector.detect();let l=this.detectSolid1(c);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new j;l=this.shiftToModuleCenter(l);const f=l[0],p=l[1],g=l[2],v=l[3];let C=this.transitionsBetween(f,v)+1,E=this.transitionsBetween(g,v)+1;!(1&~C)&&(C+=1),!(1&~E)&&(E+=1),4*C<7*E&&4*E<7*C&&(C=E=Math.max(C,E));let I=Vn.sampleGrid(this.image,f,p,g,v,C,E);return new Pn(I,[f,p,g,v])}static shiftPoint(c,l,f){let p=(l.getX()-c.getX())/(f+1),g=(l.getY()-c.getY())/(f+1);return new de(c.getX()+p,c.getY()+g)}static moveAway(c,l,f){let p=c.getX(),g=c.getY();return p<l?p-=1:p+=1,g<f?g-=1:g+=1,new de(p,g)}detectSolid1(c){let l=c[0],f=c[1],p=c[3],g=c[2],v=this.transitionsBetween(l,f),C=this.transitionsBetween(f,p),E=this.transitionsBetween(p,g),I=this.transitionsBetween(g,l),A=v,O=[g,l,f,p];return A>C&&(A=C,O[0]=l,O[1]=f,O[2]=p,O[3]=g),A>E&&(A=E,O[0]=f,O[1]=p,O[2]=g,O[3]=l),A>I&&(O[0]=p,O[1]=g,O[2]=l,O[3]=f),O}detectSolid2(c){let l=c[0],f=c[1],p=c[2],g=c[3],v=this.transitionsBetween(l,g),C=Vn.shiftPoint(f,p,4*(v+1)),E=Vn.shiftPoint(p,f,4*(v+1));return this.transitionsBetween(C,l)<this.transitionsBetween(E,g)?(c[0]=l,c[1]=f,c[2]=p,c[3]=g):(c[0]=f,c[1]=p,c[2]=g,c[3]=l),c}correctTopRight(c){let l=c[0],f=c[1],p=c[2],g=c[3],v=this.transitionsBetween(l,g),C=this.transitionsBetween(f,g),E=Vn.shiftPoint(l,f,4*(C+1)),I=Vn.shiftPoint(p,f,4*(v+1));v=this.transitionsBetween(E,g),C=this.transitionsBetween(I,g);let A=new de(g.getX()+(p.getX()-f.getX())/(v+1),g.getY()+(p.getY()-f.getY())/(v+1)),O=new de(g.getX()+(l.getX()-f.getX())/(C+1),g.getY()+(l.getY()-f.getY())/(C+1));return this.isValid(A)?this.isValid(O)?this.transitionsBetween(E,A)+this.transitionsBetween(I,A)>this.transitionsBetween(E,O)+this.transitionsBetween(I,O)?A:O:A:this.isValid(O)?O:null}shiftToModuleCenter(c){let l=c[0],f=c[1],p=c[2],g=c[3],v=this.transitionsBetween(l,g)+1,C=this.transitionsBetween(p,g)+1,E=Vn.shiftPoint(l,f,4*C),I=Vn.shiftPoint(p,f,4*v);v=this.transitionsBetween(E,g)+1,C=this.transitionsBetween(I,g)+1,!(1&~v)&&(v+=1),!(1&~C)&&(C+=1);let k,L,A=(l.getX()+f.getX()+p.getX()+g.getX())/4,O=(l.getY()+f.getY()+p.getY()+g.getY())/4;return l=Vn.moveAway(l,A,O),f=Vn.moveAway(f,A,O),p=Vn.moveAway(p,A,O),g=Vn.moveAway(g,A,O),E=Vn.shiftPoint(l,f,4*C),E=Vn.shiftPoint(E,g,4*v),k=Vn.shiftPoint(f,l,4*C),k=Vn.shiftPoint(k,p,4*v),I=Vn.shiftPoint(p,g,4*C),I=Vn.shiftPoint(I,f,4*v),L=Vn.shiftPoint(g,p,4*C),L=Vn.shiftPoint(L,l,4*v),[E,k,I,L]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,l,f,p,g,v,C){return Ge.getInstance().sampleGrid(c,v,C,.5,.5,v-.5,.5,v-.5,C-.5,.5,C-.5,l.getX(),l.getY(),g.getX(),g.getY(),p.getX(),p.getY(),f.getX(),f.getY())}transitionsBetween(c,l){let f=Math.trunc(c.getX()),p=Math.trunc(c.getY()),g=Math.trunc(l.getX()),v=Math.trunc(l.getY()),C=Math.abs(v-p)>Math.abs(g-f);if(C){let Q=f;f=p,p=Q,Q=g,g=v,v=Q}let E=Math.abs(g-f),I=Math.abs(v-p),A=-E/2,O=p<v?1:-1,k=f<g?1:-1,L=0,z=this.image.get(C?p:f,C?f:p);for(let Q=f,re=p;Q!==g;Q+=k){let ue=this.image.get(C?re:Q,C?Q:re);if(ue!==z&&(L++,z=ue),A+=I,A>0){if(re===v)break;re+=O,A-=E}}return L}}let xa=(()=>{class D{constructor(){this.decoder=new En}decode(l,f=null){let p,g;if(null!=f&&f.has(Ve.PURE_BARCODE)){const A=D.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(A),g=D.NO_POINTS}else{const A=new Vn(l.getBlackMatrix()).detect();p=this.decoder.decode(A.getBits()),g=A.getPoints()}const v=p.getRawBytes(),C=new Nt(p.getText(),v,8*v.length,g,Pe.DATA_MATRIX,_e.currentTimeMillis()),E=p.getByteSegments();null!=E&&C.putMetadata(Ct.BYTE_SEGMENTS,E);const I=p.getECLevel();return null!=I&&C.putMetadata(Ct.ERROR_CORRECTION_LEVEL,I),C}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(null==f||null==p)throw new j;const g=this.moduleSize(f,l);let v=f[1],E=f[0];const A=(p[0]-E+1)/g,O=(p[1]-v+1)/g;if(A<=0||O<=0)throw new j;const k=g/2;v+=k,E+=k;const L=new fe(A,O);for(let z=0;z<O;z++){const Q=v+z*g;for(let re=0;re<A;re++)l.get(E+re*g,Q)&&L.set(re,z)}return L}static moduleSize(l,f){const p=f.getWidth();let g=l[0];const v=l[1];for(;g<p&&f.get(g,v);)g++;if(g===p)throw new j;const C=g-l[0];if(0===C)throw new j;return C}}return D.NO_POINTS=[],D})();var ns=function(D){return D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H",D}(ns||{});class cn{constructor(c,l,f){this.value=c,this.stringValue=l,this.bits=f,cn.FOR_BITS.set(f,this),cn.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return cn.L;case"M":return cn.M;case"Q":return cn.Q;case"H":return cn.H;default:throw new ce(c+"not available")}}toString(){return this.stringValue}equals(c){return c instanceof cn&&this.value===c.value}static forBits(c){if(c<0||c>=cn.FOR_BITS.size)throw new J;return cn.FOR_BITS.get(c)}}cn.FOR_BITS=new Map,cn.FOR_VALUE=new Map,cn.L=new cn(ns.L,"L",1),cn.M=new cn(ns.M,"M",0),cn.Q=new cn(ns.Q,"Q",3),cn.H=new cn(ns.H,"H",2);class jn{constructor(c){this.errorCorrectionLevel=cn.forBits(c>>3&3),this.dataMask=7&c}static numBitsDiffering(c,l){return be.bitCount(c^l)}static decodeFormatInformation(c,l){const f=jn.doDecodeFormatInformation(c,l);return null!==f?f:jn.doDecodeFormatInformation(c^jn.FORMAT_INFO_MASK_QR,l^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,l){let f=Number.MAX_SAFE_INTEGER,p=0;for(const g of jn.FORMAT_INFO_DECODE_LOOKUP){const v=g[0];if(v===c||v===l)return new jn(g[1]);let C=jn.numBitsDiffering(c,v);C<f&&(p=g[1],f=C),c!==l&&(C=jn.numBitsDiffering(l,v),C<f&&(p=g[1],f=C))}return f<=3?new jn(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){return c instanceof jn&&this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ae{constructor(c,...l){this.ecCodewordsPerBlock=c,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const l=this.ecBlocks;for(const f of l)c+=f.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(c,l){this.count=c,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(c,l,...f){this.versionNumber=c,this.alignmentPatternCenters=l,this.ecBlocks=f;let p=0;const g=f[0].getECCodewordsPerBlock(),v=f[0].getECBlocks();for(const C of v)p+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!=1)throw new we;try{return this.getVersionForNumber((c-17)/4)}catch{throw new we}}static getVersionForNumber(c){if(c<1||c>40)throw new J;return ot.VERSIONS[c-1]}static decodeVersionInformation(c){let l=Number.MAX_SAFE_INTEGER,f=0;for(let p=0;p<ot.VERSION_DECODE_INFO.length;p++){const g=ot.VERSION_DECODE_INFO[p];if(g===c)return ot.getVersionForNumber(p+7);const v=jn.numBitsDiffering(c,g);v<l&&(f=p+7,l=v)}return l<=3?ot.getVersionForNumber(f):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),l=new fe(c);l.setRegion(0,0,9,9),l.setRegion(c-8,0,8,9),l.setRegion(0,c-8,9,8);const f=this.alignmentPatternCenters.length;for(let p=0;p<f;p++){const g=this.alignmentPatternCenters[p]-2;for(let v=0;v<f;v++)0===p&&(0===v||v===f-1)||p===f-1&&0===v||l.setRegion(this.alignmentPatternCenters[v]-2,g,5,5)}return l.setRegion(6,9,1,c-17),l.setRegion(9,6,c-17,1),this.versionNumber>6&&(l.setRegion(c-11,0,3,6),l.setRegion(0,c-11,6,3)),l}toString(){return""+this.versionNumber}}ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ot.VERSIONS=[new ot(1,new Int32Array(0),new ae(7,new U(1,19)),new ae(10,new U(1,16)),new ae(13,new U(1,13)),new ae(17,new U(1,9))),new ot(2,Int32Array.from([6,18]),new ae(10,new U(1,34)),new ae(16,new U(1,28)),new ae(22,new U(1,22)),new ae(28,new U(1,16))),new ot(3,Int32Array.from([6,22]),new ae(15,new U(1,55)),new ae(26,new U(1,44)),new ae(18,new U(2,17)),new ae(22,new U(2,13))),new ot(4,Int32Array.from([6,26]),new ae(20,new U(1,80)),new ae(18,new U(2,32)),new ae(26,new U(2,24)),new ae(16,new U(4,9))),new ot(5,Int32Array.from([6,30]),new ae(26,new U(1,108)),new ae(24,new U(2,43)),new ae(18,new U(2,15),new U(2,16)),new ae(22,new U(2,11),new U(2,12))),new ot(6,Int32Array.from([6,34]),new ae(18,new U(2,68)),new ae(16,new U(4,27)),new ae(24,new U(4,19)),new ae(28,new U(4,15))),new ot(7,Int32Array.from([6,22,38]),new ae(20,new U(2,78)),new ae(18,new U(4,31)),new ae(18,new U(2,14),new U(4,15)),new ae(26,new U(4,13),new U(1,14))),new ot(8,Int32Array.from([6,24,42]),new ae(24,new U(2,97)),new ae(22,new U(2,38),new U(2,39)),new ae(22,new U(4,18),new U(2,19)),new ae(26,new U(4,14),new U(2,15))),new ot(9,Int32Array.from([6,26,46]),new ae(30,new U(2,116)),new ae(22,new U(3,36),new U(2,37)),new ae(20,new U(4,16),new U(4,17)),new ae(24,new U(4,12),new U(4,13))),new ot(10,Int32Array.from([6,28,50]),new ae(18,new U(2,68),new U(2,69)),new ae(26,new U(4,43),new U(1,44)),new ae(24,new U(6,19),new U(2,20)),new ae(28,new U(6,15),new U(2,16))),new ot(11,Int32Array.from([6,30,54]),new ae(20,new U(4,81)),new ae(30,new U(1,50),new U(4,51)),new ae(28,new U(4,22),new U(4,23)),new ae(24,new U(3,12),new U(8,13))),new ot(12,Int32Array.from([6,32,58]),new ae(24,new U(2,92),new U(2,93)),new ae(22,new U(6,36),new U(2,37)),new ae(26,new U(4,20),new U(6,21)),new ae(28,new U(7,14),new U(4,15))),new ot(13,Int32Array.from([6,34,62]),new ae(26,new U(4,107)),new ae(22,new U(8,37),new U(1,38)),new ae(24,new U(8,20),new U(4,21)),new ae(22,new U(12,11),new U(4,12))),new ot(14,Int32Array.from([6,26,46,66]),new ae(30,new U(3,115),new U(1,116)),new ae(24,new U(4,40),new U(5,41)),new ae(20,new U(11,16),new U(5,17)),new ae(24,new U(11,12),new U(5,13))),new ot(15,Int32Array.from([6,26,48,70]),new ae(22,new U(5,87),new U(1,88)),new ae(24,new U(5,41),new U(5,42)),new ae(30,new U(5,24),new U(7,25)),new ae(24,new U(11,12),new U(7,13))),new ot(16,Int32Array.from([6,26,50,74]),new ae(24,new U(5,98),new U(1,99)),new ae(28,new U(7,45),new U(3,46)),new ae(24,new U(15,19),new U(2,20)),new ae(30,new U(3,15),new U(13,16))),new ot(17,Int32Array.from([6,30,54,78]),new ae(28,new U(1,107),new U(5,108)),new ae(28,new U(10,46),new U(1,47)),new ae(28,new U(1,22),new U(15,23)),new ae(28,new U(2,14),new U(17,15))),new ot(18,Int32Array.from([6,30,56,82]),new ae(30,new U(5,120),new U(1,121)),new ae(26,new U(9,43),new U(4,44)),new ae(28,new U(17,22),new U(1,23)),new ae(28,new U(2,14),new U(19,15))),new ot(19,Int32Array.from([6,30,58,86]),new ae(28,new U(3,113),new U(4,114)),new ae(26,new U(3,44),new U(11,45)),new ae(26,new U(17,21),new U(4,22)),new ae(26,new U(9,13),new U(16,14))),new ot(20,Int32Array.from([6,34,62,90]),new ae(28,new U(3,107),new U(5,108)),new ae(26,new U(3,41),new U(13,42)),new ae(30,new U(15,24),new U(5,25)),new ae(28,new U(15,15),new U(10,16))),new ot(21,Int32Array.from([6,28,50,72,94]),new ae(28,new U(4,116),new U(4,117)),new ae(26,new U(17,42)),new ae(28,new U(17,22),new U(6,23)),new ae(30,new U(19,16),new U(6,17))),new ot(22,Int32Array.from([6,26,50,74,98]),new ae(28,new U(2,111),new U(7,112)),new ae(28,new U(17,46)),new ae(30,new U(7,24),new U(16,25)),new ae(24,new U(34,13))),new ot(23,Int32Array.from([6,30,54,78,102]),new ae(30,new U(4,121),new U(5,122)),new ae(28,new U(4,47),new U(14,48)),new ae(30,new U(11,24),new U(14,25)),new ae(30,new U(16,15),new U(14,16))),new ot(24,Int32Array.from([6,28,54,80,106]),new ae(30,new U(6,117),new U(4,118)),new ae(28,new U(6,45),new U(14,46)),new ae(30,new U(11,24),new U(16,25)),new ae(30,new U(30,16),new U(2,17))),new ot(25,Int32Array.from([6,32,58,84,110]),new ae(26,new U(8,106),new U(4,107)),new ae(28,new U(8,47),new U(13,48)),new ae(30,new U(7,24),new U(22,25)),new ae(30,new U(22,15),new U(13,16))),new ot(26,Int32Array.from([6,30,58,86,114]),new ae(28,new U(10,114),new U(2,115)),new ae(28,new U(19,46),new U(4,47)),new ae(28,new U(28,22),new U(6,23)),new ae(30,new U(33,16),new U(4,17))),new ot(27,Int32Array.from([6,34,62,90,118]),new ae(30,new U(8,122),new U(4,123)),new ae(28,new U(22,45),new U(3,46)),new ae(30,new U(8,23),new U(26,24)),new ae(30,new U(12,15),new U(28,16))),new ot(28,Int32Array.from([6,26,50,74,98,122]),new ae(30,new U(3,117),new U(10,118)),new ae(28,new U(3,45),new U(23,46)),new ae(30,new U(4,24),new U(31,25)),new ae(30,new U(11,15),new U(31,16))),new ot(29,Int32Array.from([6,30,54,78,102,126]),new ae(30,new U(7,116),new U(7,117)),new ae(28,new U(21,45),new U(7,46)),new ae(30,new U(1,23),new U(37,24)),new ae(30,new U(19,15),new U(26,16))),new ot(30,Int32Array.from([6,26,52,78,104,130]),new ae(30,new U(5,115),new U(10,116)),new ae(28,new U(19,47),new U(10,48)),new ae(30,new U(15,24),new U(25,25)),new ae(30,new U(23,15),new U(25,16))),new ot(31,Int32Array.from([6,30,56,82,108,134]),new ae(30,new U(13,115),new U(3,116)),new ae(28,new U(2,46),new U(29,47)),new ae(30,new U(42,24),new U(1,25)),new ae(30,new U(23,15),new U(28,16))),new ot(32,Int32Array.from([6,34,60,86,112,138]),new ae(30,new U(17,115)),new ae(28,new U(10,46),new U(23,47)),new ae(30,new U(10,24),new U(35,25)),new ae(30,new U(19,15),new U(35,16))),new ot(33,Int32Array.from([6,30,58,86,114,142]),new ae(30,new U(17,115),new U(1,116)),new ae(28,new U(14,46),new U(21,47)),new ae(30,new U(29,24),new U(19,25)),new ae(30,new U(11,15),new U(46,16))),new ot(34,Int32Array.from([6,34,62,90,118,146]),new ae(30,new U(13,115),new U(6,116)),new ae(28,new U(14,46),new U(23,47)),new ae(30,new U(44,24),new U(7,25)),new ae(30,new U(59,16),new U(1,17))),new ot(35,Int32Array.from([6,30,54,78,102,126,150]),new ae(30,new U(12,121),new U(7,122)),new ae(28,new U(12,47),new U(26,48)),new ae(30,new U(39,24),new U(14,25)),new ae(30,new U(22,15),new U(41,16))),new ot(36,Int32Array.from([6,24,50,76,102,128,154]),new ae(30,new U(6,121),new U(14,122)),new ae(28,new U(6,47),new U(34,48)),new ae(30,new U(46,24),new U(10,25)),new ae(30,new U(2,15),new U(64,16))),new ot(37,Int32Array.from([6,28,54,80,106,132,158]),new ae(30,new U(17,122),new U(4,123)),new ae(28,new U(29,46),new U(14,47)),new ae(30,new U(49,24),new U(10,25)),new ae(30,new U(24,15),new U(46,16))),new ot(38,Int32Array.from([6,32,58,84,110,136,162]),new ae(30,new U(4,122),new U(18,123)),new ae(28,new U(13,46),new U(32,47)),new ae(30,new U(48,24),new U(14,25)),new ae(30,new U(42,15),new U(32,16))),new ot(39,Int32Array.from([6,26,54,82,110,138,166]),new ae(30,new U(20,117),new U(4,118)),new ae(28,new U(40,47),new U(7,48)),new ae(30,new U(43,24),new U(22,25)),new ae(30,new U(10,15),new U(67,16))),new ot(40,Int32Array.from([6,30,58,86,114,142,170]),new ae(30,new U(19,118),new U(6,119)),new ae(28,new U(18,47),new U(31,48)),new ae(30,new U(34,24),new U(34,25)),new ae(30,new U(20,15),new U(61,16)))];var Dn=function(D){return D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111",D}(Dn||{});class Cr{constructor(c,l){this.value=c,this.isMasked=l}unmaskBitMatrix(c,l){for(let f=0;f<l;f++)for(let p=0;p<l;p++)this.isMasked(f,p)&&c.flip(p,f)}}Cr.values=new Map([[Dn.DATA_MASK_000,new Cr(Dn.DATA_MASK_000,(D,c)=>!(D+c&1))],[Dn.DATA_MASK_001,new Cr(Dn.DATA_MASK_001,(D,c)=>!(1&D))],[Dn.DATA_MASK_010,new Cr(Dn.DATA_MASK_010,(D,c)=>c%3==0)],[Dn.DATA_MASK_011,new Cr(Dn.DATA_MASK_011,(D,c)=>(D+c)%3==0)],[Dn.DATA_MASK_100,new Cr(Dn.DATA_MASK_100,(D,c)=>!(Math.floor(D/2)+Math.floor(c/3)&1))],[Dn.DATA_MASK_101,new Cr(Dn.DATA_MASK_101,(D,c)=>D*c%6==0)],[Dn.DATA_MASK_110,new Cr(Dn.DATA_MASK_110,(D,c)=>D*c%6<3)],[Dn.DATA_MASK_111,new Cr(Dn.DATA_MASK_111,(D,c)=>!(D+c+D*c%3&1))]]);class Af{constructor(c){const l=c.getHeight();if(l<21||1!=(3&l))throw new we;this.bitMatrix=c}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let c=0;for(let g=0;g<6;g++)c=this.copyBit(g,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let g=5;g>=0;g--)c=this.copyBit(8,g,c);const l=this.bitMatrix.getHeight();let f=0;const p=l-7;for(let g=l-1;g>=p;g--)f=this.copyBit(8,g,f);for(let g=l-8;g<l;g++)f=this.copyBit(g,8,f);if(this.parsedFormatInfo=jn.decodeFormatInformation(c,f),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new we}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const c=this.bitMatrix.getHeight(),l=Math.floor((c-17)/4);if(l<=6)return ot.getVersionForNumber(l);let f=0;const p=c-11;for(let v=5;v>=0;v--)for(let C=c-9;C>=p;C--)f=this.copyBit(C,v,f);let g=ot.decodeVersionInformation(f);if(null!==g&&g.getDimensionForVersion()===c)return this.parsedVersion=g,g;f=0;for(let v=5;v>=0;v--)for(let C=c-9;C>=p;C--)f=this.copyBit(v,C,f);if(g=ot.decodeVersionInformation(f),null!==g&&g.getDimensionForVersion()===c)return this.parsedVersion=g,g;throw new we}copyBit(c,l,f){return(this.isMirror?this.bitMatrix.get(l,c):this.bitMatrix.get(c,l))?f<<1|1:f<<1}readCodewords(){const c=this.readFormatInformation(),l=this.readVersion(),f=Cr.values.get(c.getDataMask()),p=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,p);const g=l.buildFunctionPattern();let v=!0;const C=new Uint8Array(l.getTotalCodewords());let E=0,I=0,A=0;for(let O=p-1;O>0;O-=2){6===O&&O--;for(let k=0;k<p;k++){const L=v?p-1-k:k;for(let z=0;z<2;z++)g.get(O-z,L)||(A++,I<<=1,this.bitMatrix.get(O-z,L)&&(I|=1),8===A&&(C[E++]=I,A=0,I=0))}v=!v}if(E!==l.getTotalCodewords())throw new we;return C}remask(){if(null===this.parsedFormatInfo)return;const c=Cr.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,l)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let l=0,f=c.getWidth();l<f;l++)for(let p=l+1,g=c.getHeight();p<g;p++)c.get(l,p)!==c.get(p,l)&&(c.flip(p,l),c.flip(l,p))}}class wt{constructor(c,l){this.numDataCodewords=c,this.codewords=l}static getDataBlocks(c,l,f){if(c.length!==l.getTotalCodewords())throw new J;const p=l.getECBlocksForLevel(f);let g=0;const v=p.getECBlocks();for(const z of v)g+=z.getCount();const C=new Array(g);let E=0;for(const z of v)for(let Q=0;Q<z.getCount();Q++){const re=z.getDataCodewords(),ue=p.getECCodewordsPerBlock()+re;C[E++]=new wt(re,new Uint8Array(ue))}const I=C[0].codewords.length;let A=C.length-1;for(;A>=0&&C[A].codewords.length!==I;)A--;A++;const O=I-p.getECCodewordsPerBlock();let k=0;for(let z=0;z<O;z++)for(let Q=0;Q<E;Q++)C[Q].codewords[z]=c[k++];for(let z=A;z<E;z++)C[z].codewords[O]=c[k++];const L=C[0].codewords.length;for(let z=O;z<L;z++)for(let Q=0;Q<E;Q++)C[Q].codewords[Q<A?z:z+1]=c[k++];return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pt=function(D){return D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI",D}(pt||{});class dt{constructor(c,l,f,p){this.value=c,this.stringValue=l,this.characterCountBitsForVersions=f,this.bits=p,dt.FOR_BITS.set(p,this),dt.FOR_VALUE.set(c,this)}static forBits(c){const l=dt.FOR_BITS.get(c);if(void 0===l)throw new J;return l}getCharacterCountBits(c){const l=c.getVersionNumber();let f;return f=l<=9?0:l<=26?1:2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(c){return c instanceof dt&&this.value===c.value}toString(){return this.stringValue}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.TERMINATOR=new dt(pt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),dt.NUMERIC=new dt(pt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),dt.ALPHANUMERIC=new dt(pt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),dt.STRUCTURED_APPEND=new dt(pt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),dt.BYTE=new dt(pt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),dt.ECI=new dt(pt.ECI,"ECI",Int32Array.from([0,0,0]),7),dt.KANJI=new dt(pt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),dt.FNC1_FIRST_POSITION=new dt(pt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),dt.FNC1_SECOND_POSITION=new dt(pt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),dt.HANZI=new dt(pt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let _u=(()=>{class D{static decode(l,f,p,g){const v=new vr(l);let C=new te;const E=new Array;let I=-1,A=-1;try{let L,O=null,k=!1;do{if(v.available()<4)L=dt.TERMINATOR;else{const z=v.readBits(4);L=dt.forBits(z)}switch(L){case dt.TERMINATOR:break;case dt.FNC1_FIRST_POSITION:case dt.FNC1_SECOND_POSITION:k=!0;break;case dt.STRUCTURED_APPEND:if(v.available()<16)throw new we;I=v.readBits(8),A=v.readBits(8);break;case dt.ECI:const z=D.parseECIValue(v);if(O=ie.getCharacterSetECIByValue(z),null===O)throw new we;break;case dt.HANZI:const Q=v.readBits(4),re=v.readBits(L.getCharacterCountBits(f));Q===D.GB2312_SUBSET&&D.decodeHanziSegment(v,C,re);break;default:const ue=v.readBits(L.getCharacterCountBits(f));switch(L){case dt.NUMERIC:D.decodeNumericSegment(v,C,ue);break;case dt.ALPHANUMERIC:D.decodeAlphanumericSegment(v,C,ue,k);break;case dt.BYTE:D.decodeByteSegment(v,C,ue,O,E,g);break;case dt.KANJI:D.decodeKanjiSegment(v,C,ue);break;default:throw new we}}}while(L!==dt.TERMINATOR)}catch{throw new we}return new Cn(l,C.toString(),0===E.length?null:E,null===p?null:p.toString(),I,A)}static decodeHanziSegment(l,f,p){if(13*p>l.available())throw new we;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const C=l.readBits(13);let E=C/96<<8&4294967295|C%96;E+=E<959?41377:42657,g[v]=E>>8&255,g[v+1]=255&E,v+=2,p--}try{f.append(Y.decode(g,B.GB2312))}catch(C){throw new we(C)}}static decodeKanjiSegment(l,f,p){if(13*p>l.available())throw new we;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const C=l.readBits(13);let E=C/192<<8&4294967295|C%192;E+=E<7936?33088:49472,g[v]=E>>8,g[v+1]=E,v+=2,p--}try{f.append(Y.decode(g,B.SHIFT_JIS))}catch(C){throw new we(C)}}static decodeByteSegment(l,f,p,g,v,C){if(8*p>l.available())throw new we;const E=new Uint8Array(p);for(let A=0;A<p;A++)E[A]=l.readBits(8);let I;I=null===g?B.guessEncoding(E,C):g.getName();try{f.append(Y.decode(E,I))}catch(A){throw new we(A)}v.push(E)}static toAlphaNumericChar(l){if(l>=D.ALPHANUMERIC_CHARS.length)throw new we;return D.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,p,g){const v=f.length();for(;p>1;){if(l.available()<11)throw new we;const C=l.readBits(11);f.append(D.toAlphaNumericChar(Math.floor(C/45))),f.append(D.toAlphaNumericChar(C%45)),p-=2}if(1===p){if(l.available()<6)throw new we;f.append(D.toAlphaNumericChar(l.readBits(6)))}if(g)for(let C=v;C<f.length();C++)"%"===f.charAt(C)&&(C<f.length()-1&&"%"===f.charAt(C+1)?f.deleteCharAt(C+1):f.setCharAt(C,"\x1d"))}static decodeNumericSegment(l,f,p){for(;p>=3;){if(l.available()<10)throw new we;const g=l.readBits(10);if(g>=1e3)throw new we;f.append(D.toAlphaNumericChar(Math.floor(g/100))),f.append(D.toAlphaNumericChar(Math.floor(g/10)%10)),f.append(D.toAlphaNumericChar(g%10)),p-=3}if(2===p){if(l.available()<7)throw new we;const g=l.readBits(7);if(g>=100)throw new we;f.append(D.toAlphaNumericChar(Math.floor(g/10))),f.append(D.toAlphaNumericChar(g%10))}else if(1===p){if(l.available()<4)throw new we;const g=l.readBits(4);if(g>=10)throw new we;f.append(D.toAlphaNumericChar(g))}}static parseECIValue(l){const f=l.readBits(8);if(!(128&f))return 127&f;if(128==(192&f))return(63&f)<<8&4294967295|l.readBits(8);if(192==(224&f))return(31&f)<<16&4294967295|l.readBits(16);throw new we}}return D.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",D.GB2312_SUBSET=1,D})();class bu{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||null===c||c.length<3)return;const l=c[0];c[0]=c[2],c[2]=l}}class bg{constructor(){this.rsDecoder=new $t(Ze.QR_CODE_FIELD_256)}decodeBooleanArray(c,l){return this.decodeBitMatrix(fe.parseFromBooleanArray(c),l)}decodeBitMatrix(c,l){const f=new Af(c);let p=null;try{return this.decodeBitMatrixParser(f,l)}catch(g){p=g}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const g=this.decodeBitMatrixParser(f,l);return g.setOther(new bu(!0)),g}catch(g){throw null!==p?p:g}}decodeBitMatrixParser(c,l){const f=c.readVersion(),p=c.readFormatInformation().getErrorCorrectionLevel(),g=c.readCodewords(),v=wt.getDataBlocks(g,f,p);let C=0;for(const A of v)C+=A.getNumDataCodewords();const E=new Uint8Array(C);let I=0;for(const A of v){const O=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(O,k);for(let L=0;L<k;L++)E[I++]=O[L]}return _u.decode(E,f,p,l)}correctErrors(c,l){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-l)}catch{throw new se}for(let p=0;p<l;p++)c[p]=f[p]}}class Bc extends de{constructor(c,l,f){super(c,l),this.estimatedModuleSize=f}aboutEquals(c,l,f){if(Math.abs(l-this.getY())<=c&&Math.abs(f-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,l,f){const p=(this.getX()+l)/2,g=(this.getY()+c)/2;return new Bc(p,g,(this.estimatedModuleSize+f)/2)}}class rs{constructor(c,l,f,p,g,v,C){this.image=c,this.startX=l,this.startY=f,this.width=p,this.height=g,this.moduleSize=v,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,l=this.height,p=c+this.width,g=this.startY+l/2,v=new Int32Array(3),C=this.image;for(let E=0;E<l;E++){const I=g+(1&E?-Math.floor((E+1)/2):Math.floor((E+1)/2));v[0]=0,v[1]=0,v[2]=0;let A=c;for(;A<p&&!C.get(A,I);)A++;let O=0;for(;A<p;){if(C.get(A,I))if(1===O)v[1]++;else if(2===O){if(this.foundPatternCross(v)){const k=this.handlePossibleCenter(v,I,A);if(null!==k)return k}v[0]=v[2],v[1]=1,v[2]=0,O=1}else v[++O]++;else 1===O&&O++,v[O]++;A++}if(this.foundPatternCross(v)){const k=this.handlePossibleCenter(v,I,p);if(null!==k)return k}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new j}static centerFromEnd(c,l){return l-c[2]-c[1]/2}foundPatternCross(c){const l=this.moduleSize,f=l/2;for(let p=0;p<3;p++)if(Math.abs(l-c[p])>=f)return!1;return!0}crossCheckVertical(c,l,f,p){const g=this.image,v=g.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let E=c;for(;E>=0&&g.get(l,E)&&C[1]<=f;)C[1]++,E--;if(E<0||C[1]>f)return NaN;for(;E>=0&&!g.get(l,E)&&C[0]<=f;)C[0]++,E--;if(C[0]>f)return NaN;for(E=c+1;E<v&&g.get(l,E)&&C[1]<=f;)C[1]++,E++;if(E===v||C[1]>f)return NaN;for(;E<v&&!g.get(l,E)&&C[2]<=f;)C[2]++,E++;return C[2]>f||5*Math.abs(C[0]+C[1]+C[2]-p)>=2*p?NaN:this.foundPatternCross(C)?rs.centerFromEnd(C,E):NaN}handlePossibleCenter(c,l,f){const p=c[0]+c[1]+c[2],g=rs.centerFromEnd(c,f),v=this.crossCheckVertical(l,g,2*c[1],p);if(!isNaN(v)){const C=(c[0]+c[1]+c[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(C,v,g))return I.combineEstimate(v,g,C);const E=new Bc(g,v,C);this.possibleCenters.push(E),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Ot extends de{constructor(c,l,f,p){super(c,l),this.estimatedModuleSize=f,this.count=p,void 0===p&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,l,f){if(Math.abs(l-this.getY())<=c&&Math.abs(f-this.getX())<=c){const p=Math.abs(c-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(c,l,f){const p=this.count+1,g=(this.count*this.getX()+l)/p,v=(this.count*this.getY()+c)/p;return new Ot(g,v,(this.count*this.estimatedModuleSize+f)/p,p)}}class Uc{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let xu=(()=>{class D{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=null!=l&&void 0!==l.get(Ve.TRY_HARDER),p=null!=l&&void 0!==l.get(Ve.PURE_BARCODE),g=this.image,v=g.getHeight(),C=g.getWidth();let E=Math.floor(3*v/(4*D.MAX_MODULES));(E<D.MIN_SKIP||f)&&(E=D.MIN_SKIP);let I=!1;const A=new Int32Array(5);for(let k=E-1;k<v&&!I;k+=E){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let L=0;for(let z=0;z<C;z++)if(g.get(z,k))!(1&~L)&&L++,A[L]++;else if(1&L)A[L]++;else if(4===L)if(D.foundPatternCross(A)){if(!0!==this.handlePossibleCenter(A,k,z,p)){A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;continue}if(E=2,!0===this.hasSkipped)I=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>A[2]&&(k+=re-A[2]-E,z=C-1)}L=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;else A[++L]++;D.foundPatternCross(A)&&!0===this.handlePossibleCenter(A,k,C,p)&&(E=A[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return de.orderBestPatterns(O),new Uc(O)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let v=0;v<5;v++){const C=l[v];if(0===C)return!1;f+=C}if(f<7)return!1;const p=f/7,g=p/2;return Math.abs(p-l[0])<g&&Math.abs(p-l[1])<g&&Math.abs(3*p-l[2])<3*g&&Math.abs(p-l[3])<g&&Math.abs(p-l[4])<g}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,p,g){const v=this.getCrossCheckStateCount();let C=0;const E=this.image;for(;l>=C&&f>=C&&E.get(f-C,l-C);)v[2]++,C++;if(l<C||f<C)return!1;for(;l>=C&&f>=C&&!E.get(f-C,l-C)&&v[1]<=p;)v[1]++,C++;if(l<C||f<C||v[1]>p)return!1;for(;l>=C&&f>=C&&E.get(f-C,l-C)&&v[0]<=p;)v[0]++,C++;if(v[0]>p)return!1;const I=E.getHeight(),A=E.getWidth();for(C=1;l+C<I&&f+C<A&&E.get(f+C,l+C);)v[2]++,C++;if(l+C>=I||f+C>=A)return!1;for(;l+C<I&&f+C<A&&!E.get(f+C,l+C)&&v[3]<p;)v[3]++,C++;if(l+C>=I||f+C>=A||v[3]>=p)return!1;for(;l+C<I&&f+C<A&&E.get(f+C,l+C)&&v[4]<p;)v[4]++,C++;return!(v[4]>=p)&&Math.abs(v[0]+v[1]+v[2]+v[3]+v[4]-g)<2*g&&D.foundPatternCross(v)}crossCheckVertical(l,f,p,g){const v=this.image,C=v.getHeight(),E=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(f,I);)E[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(f,I)&&E[1]<=p;)E[1]++,I--;if(I<0||E[1]>p)return NaN;for(;I>=0&&v.get(f,I)&&E[0]<=p;)E[0]++,I--;if(E[0]>p)return NaN;for(I=l+1;I<C&&v.get(f,I);)E[2]++,I++;if(I===C)return NaN;for(;I<C&&!v.get(f,I)&&E[3]<p;)E[3]++,I++;if(I===C||E[3]>=p)return NaN;for(;I<C&&v.get(f,I)&&E[4]<p;)E[4]++,I++;return E[4]>=p||5*Math.abs(E[0]+E[1]+E[2]+E[3]+E[4]-g)>=2*g?NaN:D.foundPatternCross(E)?D.centerFromEnd(E,I):NaN}crossCheckHorizontal(l,f,p,g){const v=this.image,C=v.getWidth(),E=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(I,f);)E[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(I,f)&&E[1]<=p;)E[1]++,I--;if(I<0||E[1]>p)return NaN;for(;I>=0&&v.get(I,f)&&E[0]<=p;)E[0]++,I--;if(E[0]>p)return NaN;for(I=l+1;I<C&&v.get(I,f);)E[2]++,I++;if(I===C)return NaN;for(;I<C&&!v.get(I,f)&&E[3]<p;)E[3]++,I++;if(I===C||E[3]>=p)return NaN;for(;I<C&&v.get(I,f)&&E[4]<p;)E[4]++,I++;return E[4]>=p||5*Math.abs(E[0]+E[1]+E[2]+E[3]+E[4]-g)>=g?NaN:D.foundPatternCross(E)?D.centerFromEnd(E,I):NaN}handlePossibleCenter(l,f,p,g){const v=l[0]+l[1]+l[2]+l[3]+l[4];let C=D.centerFromEnd(l,p),E=this.crossCheckVertical(f,Math.floor(C),l[2],v);if(!isNaN(E)&&(C=this.crossCheckHorizontal(Math.floor(C),Math.floor(E),l[2],v),!isNaN(C)&&(!g||this.crossCheckDiagonal(Math.floor(E),Math.floor(C),l[2],v)))){const I=v/7;let A=!1;const O=this.possibleCenters;for(let k=0,L=O.length;k<L;k++){const z=O[k];if(z.aboutEquals(I,E,C)){O[k]=z.combineEstimate(E,C,I),A=!0;break}}if(!A){const k=new Ot(C,E,I);O.push(k),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=D.CENTER_QUORUM){if(null!=f)return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);f=p}return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const p=this.possibleCenters.length;for(const C of this.possibleCenters)C.getCount()>=D.CENTER_QUORUM&&(l++,f+=C.getEstimatedModuleSize());if(l<3)return!1;const g=f/p;let v=0;for(const C of this.possibleCenters)v+=Math.abs(C.getEstimatedModuleSize()-g);return v<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new j;const f=this.possibleCenters;let p;if(l>3){let g=0,v=0;for(const I of this.possibleCenters){const A=I.getEstimatedModuleSize();g+=A,v+=A*A}p=g/l;let C=Math.sqrt(v/l-p*p);f.sort((I,A)=>{const O=Math.abs(A.getEstimatedModuleSize()-p),k=Math.abs(I.getEstimatedModuleSize()-p);return O<k?-1:O>k?1:0});const E=Math.max(.2*p,C);for(let I=0;I<f.length&&f.length>3;I++)Math.abs(f[I].getEstimatedModuleSize()-p)>E&&(f.splice(I,1),I--)}if(f.length>3){let g=0;for(const v of f)g+=v.getEstimatedModuleSize();p=g/f.length,f.sort((v,C)=>{if(C.getCount()===v.getCount()){const E=Math.abs(C.getEstimatedModuleSize()-p),I=Math.abs(v.getEstimatedModuleSize()-p);return E<I?1:E>I?-1:0}return C.getCount()-v.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}return D.CENTER_QUORUM=2,D.MIN_SKIP=3,D.MAX_MODULES=57,D})();class tr{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=null==c?null:c.get(Ve.NEED_RESULT_POINT_CALLBACK);const f=new xu(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(f)}processFinderPatternInfo(c){const l=c.getTopLeft(),f=c.getTopRight(),p=c.getBottomLeft(),g=this.calculateModuleSize(l,f,p);if(g<1)throw new j("No pattern found in proccess finder.");const v=tr.computeDimension(l,f,p,g),C=ot.getProvisionalVersionForDimension(v),E=C.getDimensionForVersion()-7;let I=null;if(C.getAlignmentPatternCenters().length>0){const L=f.getX()-l.getX()+p.getX(),z=f.getY()-l.getY()+p.getY(),Q=1-3/E,re=Math.floor(l.getX()+Q*(L-l.getX())),ue=Math.floor(l.getY()+Q*(z-l.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{I=this.findAlignmentInRegion(g,re,ue,Ae);break}catch(He){if(!(He instanceof j))throw He}}const A=tr.createTransform(l,f,p,I,v),O=tr.sampleGrid(this.image,A,v);let k;return k=null===I?[p,l,f]:[p,l,f,I],new Pn(O,k)}static createTransform(c,l,f,p,g){const v=g-3.5;let C,E,I,A;return null!==p?(C=p.getX(),E=p.getY(),I=v-3,A=I):(C=l.getX()-c.getX()+f.getX(),E=l.getY()-c.getY()+f.getY(),I=v,A=v),Rt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,I,A,3.5,v,c.getX(),c.getY(),l.getX(),l.getY(),C,E,f.getX(),f.getY())}static sampleGrid(c,l,f){return Ge.getInstance().sampleGridWithTransform(c,f,f,l)}static computeDimension(c,l,f,p){const g=et.round(de.distance(c,l)/p),v=et.round(de.distance(c,f)/p);let C=Math.floor((g+v)/2)+7;switch(3&C){case 0:C++;break;case 2:C--;break;case 3:throw new j("Dimensions could be not found.")}return C}calculateModuleSize(c,l,f){return(this.calculateModuleSizeOneWay(c,l)+this.calculateModuleSizeOneWay(c,f))/2}calculateModuleSizeOneWay(c,l){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(l.getX()),Math.floor(l.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(f)?p/7:isNaN(p)?f/7:(f+p)/14}sizeOfBlackWhiteBlackRunBothWays(c,l,f,p){let g=this.sizeOfBlackWhiteBlackRun(c,l,f,p),v=1,C=c-(f-c);C<0?(v=c/(c-C),C=0):C>=this.image.getWidth()&&(v=(this.image.getWidth()-1-c)/(C-c),C=this.image.getWidth()-1);let E=Math.floor(l-(p-l)*v);return v=1,E<0?(v=l/(l-E),E=0):E>=this.image.getHeight()&&(v=(this.image.getHeight()-1-l)/(E-l),E=this.image.getHeight()-1),C=Math.floor(c+(C-c)*v),g+=this.sizeOfBlackWhiteBlackRun(c,l,C,E),g-1}sizeOfBlackWhiteBlackRun(c,l,f,p){const g=Math.abs(p-l)>Math.abs(f-c);if(g){let L=c;c=l,l=L,L=f,f=p,p=L}const v=Math.abs(f-c),C=Math.abs(p-l);let E=-v/2;const I=c<f?1:-1,A=l<p?1:-1;let O=0;const k=f+I;for(let L=c,z=l;L!==k;L+=I){if(1===O===this.image.get(g?z:L,g?L:z)){if(2===O)return et.distance(L,z,c,l);O++}if(E+=C,E>0){if(z===p)break;z+=A,E-=v}}return 2===O?et.distance(f+I,p,c,l):NaN}findAlignmentInRegion(c,l,f,p){const g=Math.floor(p*c),v=Math.max(0,l-g),C=Math.min(this.image.getWidth()-1,l+g);if(C-v<3*c)throw new j("Alignment top exceeds estimated module size.");const E=Math.max(0,f-g),I=Math.min(this.image.getHeight()-1,f+g);if(I-E<3*c)throw new j("Alignment bottom exceeds estimated module size.");return new rs(this.image,v,E,C-v,I-E,c,this.resultPointCallback).find()}}class ki{constructor(){this.decoder=new bg}getDecoder(){return this.decoder}decode(c,l){let f,p;if(null!=l&&void 0!==l.get(Ve.PURE_BARCODE)){const E=ki.extractPureBits(c.getBlackMatrix());f=this.decoder.decodeBitMatrix(E,l),p=ki.NO_POINTS}else{const E=new tr(c.getBlackMatrix()).detect(l);f=this.decoder.decodeBitMatrix(E.getBits(),l),p=E.getPoints()}f.getOther()instanceof bu&&f.getOther().applyMirroredCorrection(p);const g=new Nt(f.getText(),f.getRawBytes(),void 0,p,Pe.QR_CODE,void 0),v=f.getByteSegments();null!==v&&g.putMetadata(Ct.BYTE_SEGMENTS,v);const C=f.getECLevel();return null!==C&&g.putMetadata(Ct.ERROR_CORRECTION_LEVEL,C),f.hasStructuredAppend()&&(g.putMetadata(Ct.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),g.putMetadata(Ct.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),g}reset(){}static extractPureBits(c){const l=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(null===l||null===f)throw new j;const p=this.moduleSize(l,c);let g=l[1],v=f[1],C=l[0],E=f[0];if(C>=E||g>=v)throw new j;if(v-g!=E-C&&(E=C+(v-g),E>=c.getWidth()))throw new j;const I=Math.round((E-C+1)/p),A=Math.round((v-g+1)/p);if(I<=0||A<=0)throw new j;if(A!==I)throw new j;const O=Math.floor(p/2);g+=O,C+=O;const k=C+Math.floor((I-1)*p)-E;if(k>0){if(k>O)throw new j;C-=k}const L=g+Math.floor((A-1)*p)-v;if(L>0){if(L>O)throw new j;g-=L}const z=new fe(I,A);for(let Q=0;Q<A;Q++){const re=g+Math.floor(Q*p);for(let ue=0;ue<I;ue++)c.get(C+Math.floor(ue*p),re)&&z.set(ue,Q)}return z}static moduleSize(c,l){const f=l.getHeight(),p=l.getWidth();let g=c[0],v=c[1],C=!0,E=0;for(;g<p&&v<f;){if(C!==l.get(g,v)){if(5==++E)break;C=!C}g++,v++}if(g===p||v===f)throw new j;return(g-c[0])/7}}ki.NO_POINTS=new Array;class yt{PDF417Common(){}static getBitCountSum(c){return et.sum(c)}static toIntArray(c){if(null==c||!c.length)return yt.EMPTY_INT_ARRAY;const l=new Int32Array(c.length);let f=0;for(const p of c)l[f++]=p;return l}static getCodeword(c){const l=mt.binarySearch(yt.SYMBOL_TABLE,262143&c);return l<0?-1:(yt.CODEWORD_TABLE[l]-1)%yt.NUMBER_OF_CODEWORDS}}yt.NUMBER_OF_CODEWORDS=929,yt.MAX_CODEWORDS_IN_BARCODE=yt.NUMBER_OF_CODEWORDS-1,yt.MIN_ROWS_IN_BARCODE=3,yt.MAX_ROWS_IN_BARCODE=90,yt.MODULES_IN_CODEWORD=17,yt.MODULES_IN_STOP_PATTERN=18,yt.BARS_IN_MODULE=8,yt.EMPTY_INT_ARRAY=new Int32Array([]),yt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),yt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Us{constructor(c,l){this.bits=c,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class bt{static detectMultiple(c,l,f){let p=c.getBlackMatrix(),g=bt.detect(f,p);return g.length||(p=p.clone(),p.rotate180(),g=bt.detect(f,p)),new Us(p,g)}static detect(c,l){const f=new Array;let p=0,g=0,v=!1;for(;p<l.getHeight();){const C=bt.findVertices(l,p,g);if(null!=C[0]||null!=C[3]){if(v=!0,f.push(C),!c)break;null!=C[2]?(g=Math.trunc(C[2].getX()),p=Math.trunc(C[2].getY())):(g=Math.trunc(C[4].getX()),p=Math.trunc(C[4].getY()))}else{if(!v)break;v=!1,g=0;for(const E of f)null!=E[1]&&(p=Math.trunc(Math.max(p,E[1].getY()))),null!=E[3]&&(p=Math.max(p,Math.trunc(E[3].getY())));p+=bt.ROW_STEP}}return f}static findVertices(c,l,f){const p=c.getHeight(),g=c.getWidth(),v=new Array(8);return bt.copyToResult(v,bt.findRowsWithPattern(c,p,g,l,f,bt.START_PATTERN),bt.INDEXES_START_PATTERN),null!=v[4]&&(f=Math.trunc(v[4].getX()),l=Math.trunc(v[4].getY())),bt.copyToResult(v,bt.findRowsWithPattern(c,p,g,l,f,bt.STOP_PATTERN),bt.INDEXES_STOP_PATTERN),v}static copyToResult(c,l,f){for(let p=0;p<f.length;p++)c[f[p]]=l[p]}static findRowsWithPattern(c,l,f,p,g,v){const C=new Array(4);let E=!1;const I=new Int32Array(v.length);for(;p<l;p+=bt.ROW_STEP){let O=bt.findGuardPattern(c,g,p,f,!1,v,I);if(null!=O){for(;p>0;){const k=bt.findGuardPattern(c,g,--p,f,!1,v,I);if(null==k){p++;break}O=k}C[0]=new de(O[0],p),C[1]=new de(O[1],p),E=!0;break}}let A=p+1;if(E){let O=0,k=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;A<l;A++){const L=bt.findGuardPattern(c,k[0],A,f,!1,v,I);if(null!=L&&Math.abs(k[0]-L[0])<bt.MAX_PATTERN_DRIFT&&Math.abs(k[1]-L[1])<bt.MAX_PATTERN_DRIFT)k=L,O=0;else{if(O>bt.SKIPPED_ROW_COUNT_MAX)break;O++}}A-=O+1,C[2]=new de(k[0],A),C[3]=new de(k[1],A)}return A-p<bt.BARCODE_MIN_HEIGHT&&mt.fill(C,null),C}static findGuardPattern(c,l,f,p,g,v,C){mt.fillWithin(C,0,C.length,0);let E=l,I=0;for(;c.get(E,f)&&E>0&&I++<bt.MAX_PIXEL_DRIFT;)E--;let A=E,O=0,k=v.length;for(let L=g;A<p;A++)if(c.get(A,f)!==L)C[O]++;else{if(O===k-1){if(bt.patternMatchVariance(C,v,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return new Int32Array([E,A]);E+=C[0]+C[1],_e.arraycopy(C,2,C,0,O-1),C[O-1]=0,C[O]=0,O--}else O++;C[O]=1,L=!L}return O===k-1&&bt.patternMatchVariance(C,v,bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE?new Int32Array([E,A-1]):null}static patternMatchVariance(c,l,f){let p=c.length,g=0,v=0;for(let I=0;I<p;I++)g+=c[I],v+=l[I];if(g<v)return 1/0;let C=g/v;f*=C;let E=0;for(let I=0;I<p;I++){let A=c[I],O=l[I]*C,k=A>O?A-O:O-A;if(k>f)return 1/0;E+=k}return E/g}}bt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),bt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),bt.MAX_AVG_VARIANCE=.42,bt.MAX_INDIVIDUAL_VARIANCE=.8,bt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),bt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),bt.MAX_PIXEL_DRIFT=3,bt.MAX_PATTERN_DRIFT=5,bt.SKIPPED_ROW_COUNT_MAX=25,bt.ROW_STEP=5,bt.BARCODE_MIN_HEIGHT=10;class $n{constructor(c,l){if(0===l.length)throw new J;this.field=c;let f=l.length;if(f>1&&0===l[0]){let p=1;for(;p<f&&0===l[p];)p++;p===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-p),_e.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(0===c)return this.getCoefficient(0);if(1===c){let p=0;for(let g of this.coefficients)p=this.field.add(p,g);return p}let l=this.coefficients[0],f=this.coefficients.length;for(let p=1;p<f;p++)l=this.field.add(this.field.multiply(c,l),this.coefficients[p]);return l}add(c){if(!this.field.equals(c.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let l=this.coefficients,f=c.coefficients;if(l.length>f.length){let v=l;l=f,f=v}let p=new Int32Array(f.length),g=f.length-l.length;_e.arraycopy(f,0,p,0,g);for(let v=g;v<f.length;v++)p[v]=this.field.add(l[v-g],f[v]);return new $n(this.field,p)}subtract(c){if(!this.field.equals(c.field))throw new J("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof $n?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new $n(this.field,new Int32Array([0]));let l=this.coefficients,f=l.length,p=c.coefficients,g=p.length,v=new Int32Array(f+g-1);for(let C=0;C<f;C++){let E=l[C];for(let I=0;I<g;I++)v[C+I]=this.field.add(v[C+I],this.field.multiply(E,p[I]))}return new $n(this.field,v)}negative(){let c=this.coefficients.length,l=new Int32Array(c);for(let f=0;f<c;f++)l[f]=this.field.subtract(0,this.coefficients[f]);return new $n(this.field,l)}multiplyScalar(c){if(0===c)return new $n(this.field,new Int32Array([0]));if(1===c)return this;let l=this.coefficients.length,f=new Int32Array(l);for(let p=0;p<l;p++)f[p]=this.field.multiply(this.coefficients[p],c);return new $n(this.field,f)}multiplyByMonomial(c,l){if(c<0)throw new J;if(0===l)return new $n(this.field,new Int32Array([0]));let f=this.coefficients.length,p=new Int32Array(f+c);for(let g=0;g<f;g++)p[g]=this.field.multiply(this.coefficients[g],l);return new $n(this.field,p)}toString(){let c=new te;for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);0!==f&&(f<0?(c.append(" - "),f=-f):c.length()>0&&c.append(" + "),(0===l||1!==f)&&c.append(f),0!==l&&(1===l?c.append("x"):(c.append("x^"),c.append(l))))}return c.toString()}}class Ia{add(c,l){return(c+l)%this.modulus}subtract(c,l){return(this.modulus+c-l)%this.modulus}exp(c){return this.expTable[c]}log(c){if(0===c)throw new J;return this.logTable[c]}inverse(c){if(0===c)throw new Je;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,l){return 0===c||0===l?0:this.expTable[(this.logTable[c]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class Vc extends Ia{constructor(c,l){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let f=1;for(let p=0;p<c;p++)this.expTable[p]=f,f=f*l%c;for(let p=0;p<c-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new $n(this,new Int32Array([0])),this.one=new $n(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,l){if(c<0)throw new J;if(0===l)return this.zero;let f=new Int32Array(c+1);return f[0]=l,new $n(this,f)}}Vc.PDF417_GF=new Vc(yt.NUMBER_OF_CODEWORDS,3);class Iu{constructor(){this.field=Vc.PDF417_GF}decode(c,l,f){let p=new $n(this.field,c),g=new Int32Array(l),v=!1;for(let z=l;z>0;z--){let Q=p.evaluateAt(this.field.exp(z));g[l-z]=Q,0!==Q&&(v=!0)}if(!v)return 0;let C=this.field.getOne();if(null!=f)for(const z of f){let Q=this.field.exp(c.length-1-z),re=new $n(this.field,new Int32Array([this.field.subtract(0,Q),1]));C=C.multiply(re)}let E=new $n(this.field,g),I=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),E,l),A=I[0],O=I[1],k=this.findErrorLocations(A),L=this.findErrorMagnitudes(O,A,k);for(let z=0;z<k.length;z++){let Q=c.length-1-this.field.log(k[z]);if(Q<0)throw se.getChecksumInstance();c[Q]=this.field.subtract(c[Q],L[z])}return k.length}runEuclideanAlgorithm(c,l,f){if(c.getDegree()<l.getDegree()){let k=c;c=l,l=k}let p=c,g=l,v=this.field.getZero(),C=this.field.getOne();for(;g.getDegree()>=Math.round(f/2);){let k=p,L=v;if(p=g,v=C,p.isZero())throw se.getChecksumInstance();g=k;let z=this.field.getZero(),Q=p.getCoefficient(p.getDegree()),re=this.field.inverse(Q);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){let ue=g.getDegree()-p.getDegree(),Ae=this.field.multiply(g.getCoefficient(g.getDegree()),re);z=z.add(this.field.buildMonomial(ue,Ae)),g=g.subtract(p.multiplyByMonomial(ue,Ae))}C=z.multiply(v).subtract(L).negative()}let E=C.getCoefficient(0);if(0===E)throw se.getChecksumInstance();let I=this.field.inverse(E);return[C.multiply(I),g.multiply(I)]}findErrorLocations(c){let l=c.getDegree(),f=new Int32Array(l),p=0;for(let g=1;g<this.field.getSize()&&p<l;g++)0===c.evaluateAt(g)&&(f[p]=this.field.inverse(g),p++);if(p!==l)throw se.getChecksumInstance();return f}findErrorMagnitudes(c,l,f){let p=l.getDegree(),g=new Int32Array(p);for(let I=1;I<=p;I++)g[p-I]=this.field.multiply(I,l.getCoefficient(I));let v=new $n(this.field,g),C=f.length,E=new Int32Array(C);for(let I=0;I<C;I++){let A=this.field.inverse(f[I]),O=this.field.subtract(0,c.evaluateAt(A)),k=this.field.inverse(v.evaluateAt(A));E[I]=this.field.multiply(O,k)}return E}}class xo{constructor(c,l,f,p,g){c instanceof xo?this.constructor_2(c):this.constructor_1(c,l,f,p,g)}constructor_1(c,l,f,p,g){const v=null==l||null==f,C=null==p||null==g;if(v&&C)throw new j;v?(l=new de(0,p.getY()),f=new de(0,g.getY())):C&&(p=new de(c.getWidth()-1,l.getY()),g=new de(c.getWidth()-1,f.getY())),this.image=c,this.topLeft=l,this.bottomLeft=f,this.topRight=p,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),f.getX())),this.maxX=Math.trunc(Math.max(p.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),p.getY())),this.maxY=Math.trunc(Math.max(f.getY(),g.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,l){return null==c?l:null==l?c:new xo(c.image,c.topLeft,c.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(c,l,f){let p=this.topLeft,g=this.bottomLeft,v=this.topRight,C=this.bottomRight;if(c>0){let E=f?this.topLeft:this.topRight,I=Math.trunc(E.getY()-c);I<0&&(I=0);let A=new de(E.getX(),I);f?p=A:v=A}if(l>0){let E=f?this.bottomLeft:this.bottomRight,I=Math.trunc(E.getY()+l);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let A=new de(E.getX(),I);f?g=A:C=A}return new xo(this.image,p,g,v,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jc{constructor(c,l,f,p){this.columnCount=c,this.errorCorrectionLevel=p,this.rowCountUpperPart=l,this.rowCountLowerPart=f,this.rowCount=l+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ni{constructor(){this.buffer=""}static form(c,l){let f=-1;return c.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,C,E,I,A,O){if("%%"===v)return"%";if(void 0===l[++f])return;v=I?parseInt(I.substr(1)):void 0;let L,k=A?parseInt(A.substr(1)):void 0;switch(O){case"s":L=l[f];break;case"c":L=l[f][0];break;case"f":L=parseFloat(l[f]).toFixed(v);break;case"p":L=parseFloat(l[f]).toPrecision(v);break;case"e":L=parseFloat(l[f]).toExponential(v);break;case"x":L=parseInt(l[f]).toString(k||16);break;case"d":L=parseFloat(parseInt(l[f],k||10).toPrecision(v)).toFixed(0)}L="object"==typeof L?JSON.stringify(L):(+L).toString(k);let z=parseInt(E),Q=E&&E[0]+""=="0"?"0":" ";for(;L.length<z;)L=void 0!==C?L+Q:Q+L;return L})}format(c,...l){this.buffer+=ni.form(c,l)}toString(){return this.buffer}}let Du=(()=>{class D{constructor(l){this.boundingBox=new xo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(null!=f)return f;for(let p=1;p<D.MAX_NEARBY_DISTANCE;p++){let g=this.imageRowToCodewordIndex(l)-p;if(g>=0&&(f=this.codewords[g],null!=f)||(g=this.imageRowToCodewordIndex(l)+p,g<this.codewords.length&&(f=this.codewords[g],null!=f)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new ni;let f=0;for(const p of this.codewords)null!=p?l.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue()):l.format("%3d:    |   %n",f++);return l.toString()}}return D.MAX_NEARBY_DISTANCE=5,D})();class wr{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let l=this.values.get(c);null==l&&(l=0),l++,this.values.set(c,l)}getValue(){let c=-1,l=new Array;for(const[f,p]of this.values.entries()){const g={getKey:()=>f,getValue:()=>p};g.getValue()>c?(c=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===c&&l.push(g.getKey())}return yt.toIntArray(l)}getConfidence(c){return this.values.get(c)}}class Da extends Du{constructor(c,l){super(c),this._isLeft=l}setRowNumbers(){for(let c of this.getCodewords())c?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,c);let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),g=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),C=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=-1,I=1,A=0;for(let O=v;O<C;O++){if(null==l[O])continue;let k=l[O],L=k.getRowNumber()-E;if(0===L)A++;else if(1===L)I=Math.max(I,A),A=1,E=k.getRowNumber();else if(L<0||k.getRowNumber()>=c.getRowCount()||L>O)l[O]=null;else{let z;z=I>2?(I-2)*L:L;let Q=z>=O;for(let re=1;re<=z&&!Q;re++)Q=null!=l[O-re];Q?l[O]=null:(E=k.getRowNumber(),A=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(null==c)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let l=new Int32Array(c.getRowCount());for(let f of this.getCodewords())if(null!=f){let p=f.getRowNumber();if(p>=l.length)continue;l[p]++}return l}adjustIncompleteIndicatorColumnRowNumbers(c){let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),p=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),C=this.getCodewords(),E=-1;for(let I=g;I<v;I++){if(null==C[I])continue;let A=C[I];A.setRowNumberAsRowIndicatorColumn();let O=A.getRowNumber()-E;0===O||(1===O?E=A.getRowNumber():A.getRowNumber()>=c.getRowCount()?C[I]=null:E=A.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),l=new wr,f=new wr,p=new wr,g=new wr;for(let C of c){if(null==C)continue;C.setRowNumberAsRowIndicatorColumn();let E=C.getValue()%30,I=C.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:f.setValue(3*E+1);break;case 1:g.setValue(E/3),p.setValue(E%3);break;case 2:l.setValue(E+1)}}if(0===l.getValue().length||0===f.getValue().length||0===p.getValue().length||0===g.getValue().length||l.getValue()[0]<1||f.getValue()[0]+p.getValue()[0]<yt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+p.getValue()[0]>yt.MAX_ROWS_IN_BARCODE)return null;let v=new jc(l.getValue()[0],f.getValue()[0],p.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(c,v),v}removeIncorrectCodewords(c,l){for(let f=0;f<c.length;f++){let p=c[f];if(null==c[f])continue;let g=p.getValue()%30,v=p.getRowNumber();if(v>l.getRowCount())c[f]=null;else switch(this._isLeft||(v+=2),v%3){case 0:3*g+1!==l.getRowCountUpperPart()&&(c[f]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(c[f]=null);break;case 2:g+1!==l.getColumnCount()&&(c[f]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class kn{constructor(c,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l,c=yt.MAX_CODEWORDS_IN_BARCODE;do{l=c,c=this.adjustRowNumbersAndGetCount()}while(c>0&&c<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(0===c)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let f=this.detectionResultColumns[l].getCodewords();for(let p=0;p<f.length;p++)null!=f[p]&&(f[p].hasValidRowNumber()||this.adjustRowNumbers(l,p,f))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let c=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++)if(null!=c[f]&&null!=l[f]&&c[f].getRowNumber()===l[f].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let g=this.detectionResultColumns[p].getCodewords()[f];null!=g&&(g.setRowNumber(c[f].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let c=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<l.length;f++){if(null==l[f])continue;let p=l[f].getRowNumber(),g=0;for(let v=this.barcodeColumnCount+1;v>0&&g<this.ADJUST_ROW_NUMBER_SKIP;v--){let C=this.detectionResultColumns[v].getCodewords()[f];null!=C&&(g=kn.adjustRowNumberIfValid(p,g,C),C.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let c=0,l=this.detectionResultColumns[0].getCodewords();for(let f=0;f<l.length;f++){if(null==l[f])continue;let p=l[f].getRowNumber(),g=0;for(let v=1;v<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;v++){let C=this.detectionResultColumns[v].getCodewords()[f];null!=C&&(g=kn.adjustRowNumberIfValid(p,g,C),C.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,l,f){return null==f||f.hasValidRowNumber()||(f.isValidRowNumber(c)?(f.setRowNumber(c),l=0):++l),l}adjustRowNumbers(c,l,f){if(!this.detectionResultColumns[c-1])return;let p=f[l],g=this.detectionResultColumns[c-1].getCodewords(),v=g;null!=this.detectionResultColumns[c+1]&&(v=this.detectionResultColumns[c+1].getCodewords());let C=new Array(14);C[2]=g[l],C[3]=v[l],l>0&&(C[0]=f[l-1],C[4]=g[l-1],C[5]=v[l-1]),l>1&&(C[8]=f[l-2],C[10]=g[l-2],C[11]=v[l-2]),l<f.length-1&&(C[1]=f[l+1],C[6]=g[l+1],C[7]=v[l+1]),l<f.length-2&&(C[9]=f[l+2],C[12]=g[l+2],C[13]=v[l+2]);for(let E of C)if(kn.adjustRowNumber(p,E))return}static adjustRowNumber(c,l){return!(null==l||!l.hasValidRowNumber()||l.getBucket()!==c.getBucket()||(c.setRowNumber(l.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,l){this.detectionResultColumns[c]=l}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];null==c&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ni;for(let f=0;f<c.getCodewords().length;f++){l.format("CW %3d:",f);for(let p=0;p<this.barcodeColumnCount+2;p++){if(null==this.detectionResultColumns[p]){l.format("    |   ");continue}let g=this.detectionResultColumns[p].getCodewords()[f];null!=g?l.format(" %3d|%3d",g.getRowNumber(),g.getValue()):l.format("    |   ")}l.format("%n")}return l.toString()}}let Sf=(()=>{class D{constructor(l,f,p,g){this.rowNumber=D.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==D.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}return D.BARCODE_ROW_UNKNOWN=-1,D})();class $e{static initialize(){for(let c=0;c<yt.SYMBOL_TABLE.length;c++){let l=yt.SYMBOL_TABLE[c],f=1&l;for(let p=0;p<yt.BARS_IN_MODULE;p++){let g=0;for(;(1&l)===f;)g+=1,l>>=1;f=1&l,$e.RATIOS_TABLE[c]||($e.RATIOS_TABLE[c]=new Array(yt.BARS_IN_MODULE)),$e.RATIOS_TABLE[c][yt.BARS_IN_MODULE-p-1]=Math.fround(g/yt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let l=$e.getDecodedCodewordValue($e.sampleBitCounts(c));return-1!==l?l:$e.getClosestDecodedValue(c)}static sampleBitCounts(c){let l=et.sum(c),f=new Int32Array(yt.BARS_IN_MODULE),p=0,g=0;for(let v=0;v<yt.MODULES_IN_CODEWORD;v++)g+c[p]<=l/(2*yt.MODULES_IN_CODEWORD)+v*l/yt.MODULES_IN_CODEWORD&&(g+=c[p],p++),f[p]++;return f}static getDecodedCodewordValue(c){let l=$e.getBitValue(c);return-1===yt.getCodeword(l)?-1:l}static getBitValue(c){let l=0;for(let f=0;f<c.length;f++)for(let p=0;p<c[f];p++)l=l<<1|(f%2==0?1:0);return Math.trunc(l)}static getClosestDecodedValue(c){let l=et.sum(c),f=new Array(yt.BARS_IN_MODULE);if(l>1)for(let v=0;v<f.length;v++)f[v]=Math.fround(c[v]/l);let p=ar.MAX_VALUE,g=-1;this.bSymbolTableReady||$e.initialize();for(let v=0;v<$e.RATIOS_TABLE.length;v++){let C=0,E=$e.RATIOS_TABLE[v];for(let I=0;I<yt.BARS_IN_MODULE;I++){let A=Math.fround(E[I]-f[I]);if(C+=Math.fround(A*A),C>=p)break}C<p&&(p=C,g=yt.SYMBOL_TABLE[v])}return g}}$e.bSymbolTableReady=!1,$e.RATIOS_TABLE=new Array(yt.SYMBOL_TABLE.length).map(D=>new Array(yt.BARS_IN_MODULE));class Vs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class js{static parseLong(c,l=void 0){return parseInt(c,l)}}let Hs=(()=>{class D extends oe{}return D.kind="NullPointerException",D})();class Tf{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,l,f){if(null==c)throw new Hs;if(l<0||l>c.length||f<0||l+f>c.length||l+f<0)throw new Se;if(0!==f)for(let p=0;p<f;p++)this.write(c[l+p])}flush(){}close(){}}class Au extends oe{}class xg extends Tf{constructor(c=32){if(super(),this.count=0,c<0)throw new J("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let f=this.buf.length<<1;if(f-c<0&&(f=c),f<0){if(c<0)throw new Au;f=be.MAX_VALUE}this.buf=mt.copyOfUint8Array(this.buf,f)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,l,f){if(l<0||l>c.length||f<0||l+f-c.length>0)throw new Se;this.ensureCapacity(this.count+f),_e.arraycopy(c,l,this.buf,this.count,f),this.count+=f}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return mt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?"string"==typeof c?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var hn=function(D){return D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT",D}(hn||{});function Gs(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Aa;function ri(D){if(typeof Aa>"u"&&(Aa=Gs()),null===Aa)throw new Error("BigInt is not supported!");return Aa(D)}class le{static decode(c,l){let f=new te(""),p=ie.ISO8859_1;f.enableDecoding(p);let g=1,v=c[g++],C=new Vs;for(;g<c[0];){switch(v){case le.TEXT_COMPACTION_MODE_LATCH:g=le.textCompaction(c,g,f);break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:g=le.byteCompaction(v,c,p,g,f);break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(c[g++]);break;case le.NUMERIC_COMPACTION_MODE_LATCH:g=le.numericCompaction(c,g,f);break;case le.ECI_CHARSET:ie.getCharacterSetECIByValue(c[g++]);break;case le.ECI_GENERAL_PURPOSE:g+=2;break;case le.ECI_USER_DEFINED:g++;break;case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=le.decodeMacroBlock(c,g,C);break;case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:throw new we;default:g--,g=le.textCompaction(c,g,f)}if(!(g<c.length))throw we.getFormatInstance();v=c[g++]}if(0===f.length())throw we.getFormatInstance();let E=new Cn(null,f.toString(),null,l);return E.setOther(C),E}static decodeMacroBlock(c,l,f){if(l+le.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw we.getFormatInstance();let p=new Int32Array(le.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<le.NUMBER_OF_SEQUENCE_CODEWORDS;C++,l++)p[C]=c[l];f.setSegmentIndex(be.parseInt(le.decodeBase900toBase10(p,le.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new te;l=le.textCompaction(c,l,g),f.setFileId(g.toString());let v=-1;for(c[l]===le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=l+1);l<c[0];)switch(c[l]){case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c[++l]){case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new te;l=le.textCompaction(c,l+1,C),f.setFileName(C.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new te;l=le.textCompaction(c,l+1,E),f.setSender(E.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new te;l=le.textCompaction(c,l+1,I),f.setAddressee(I.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new te;l=le.numericCompaction(c,l+1,A),f.setSegmentCount(be.parseInt(A.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new te;l=le.numericCompaction(c,l+1,O),f.setTimestamp(js.parseLong(O.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new te;l=le.numericCompaction(c,l+1,k),f.setChecksum(be.parseInt(k.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new te;l=le.numericCompaction(c,l+1,L),f.setFileSize(js.parseLong(L.toString()));break;default:throw we.getFormatInstance()}break;case le.MACRO_PDF417_TERMINATOR:l++,f.setLastSegment(!0);break;default:throw we.getFormatInstance()}if(-1!==v){let C=l-v;f.isLastSegment()&&C--,f.setOptionalData(mt.copyOfRange(c,v,v+C))}return l}static textCompaction(c,l,f){let p=new Int32Array(2*(c[0]-l)),g=new Int32Array(2*(c[0]-l)),v=0,C=!1;for(;l<c[0]&&!C;){let E=c[l++];if(E<le.TEXT_COMPACTION_MODE_LATCH)p[v]=E/30,p[v+1]=E%30,v+=2;else switch(E){case le.TEXT_COMPACTION_MODE_LATCH:p[v++]=le.TEXT_COMPACTION_MODE_LATCH;break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,C=!0;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[v]=le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=c[l++],g[v]=E,v++}}return le.decodeTextCompaction(p,g,v,f),l}static decodeTextCompaction(c,l,f,p){let g=hn.ALPHA,v=hn.ALPHA,C=0;for(;C<f;){let E=c[C],I="";switch(g){case hn.ALPHA:if(E<26)I=String.fromCharCode(65+E);else switch(E){case 26:I=" ";break;case le.LL:g=hn.LOWER;break;case le.ML:g=hn.MIXED;break;case le.PS:v=g,g=hn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}break;case hn.LOWER:if(E<26)I=String.fromCharCode(97+E);else switch(E){case 26:I=" ";break;case le.AS:v=g,g=hn.ALPHA_SHIFT;break;case le.ML:g=hn.MIXED;break;case le.PS:v=g,g=hn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}break;case hn.MIXED:if(E<le.PL)I=le.MIXED_CHARS[E];else switch(E){case le.PL:g=hn.PUNCT;break;case 26:I=" ";break;case le.LL:g=hn.LOWER;break;case le.AL:g=hn.ALPHA;break;case le.PS:v=g,g=hn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}break;case hn.PUNCT:if(E<le.PAL)I=le.PUNCT_CHARS[E];else switch(E){case le.PAL:g=hn.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}break;case hn.ALPHA_SHIFT:if(g=v,E<26)I=String.fromCharCode(65+E);else switch(E){case 26:I=" ";break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}break;case hn.PUNCT_SHIFT:if(g=v,E<le.PAL)I=le.PUNCT_CHARS[E];else switch(E){case le.PAL:g=hn.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=hn.ALPHA}}""!==I&&p.append(I),C++}}static byteCompaction(c,l,f,p,g){let v=new xg,C=0,E=0,I=!1;switch(c){case le.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),O=l[p++];for(;p<l[0]&&!I;)switch(A[C++]=O,E=900*E+O,O=l[p++],O){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:p--,I=!0;break;default:if(C%5==0&&C>0){for(let k=0;k<6;++k)v.write(Number(ri(E)>>ri(8*(5-k))));E=0,C=0}}p===l[0]&&O<le.TEXT_COMPACTION_MODE_LATCH&&(A[C++]=O);for(let k=0;k<C;k++)v.write(A[k]);break;case le.BYTE_COMPACTION_MODE_LATCH_6:for(;p<l[0]&&!I;){let k=l[p++];if(k<le.TEXT_COMPACTION_MODE_LATCH)C++,E=900*E+k;else switch(k){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:p--,I=!0}if(C%5==0&&C>0){for(let L=0;L<6;++L)v.write(Number(ri(E)>>ri(8*(5-L))));E=0,C=0}}}return g.append(Y.decode(v.toByteArray(),f)),p}static numericCompaction(c,l,f){let p=0,g=!1,v=new Int32Array(le.MAX_NUMERIC_CODEWORDS);for(;l<c[0]&&!g;){let C=c[l++];if(l===c[0]&&(g=!0),C<le.TEXT_COMPACTION_MODE_LATCH)v[p]=C,p++;else switch(C){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,g=!0}(p%le.MAX_NUMERIC_CODEWORDS==0||C===le.NUMERIC_COMPACTION_MODE_LATCH||g)&&p>0&&(f.append(le.decodeBase900toBase10(v,p)),p=0)}return l}static decodeBase900toBase10(c,l){let f=ri(0);for(let g=0;g<l;g++)f+=le.EXP900[l-g-1]*ri(c[g]);let p=f.toString();if("1"!==p.charAt(0))throw new we;return p.substring(1)}}le.TEXT_COMPACTION_MODE_LATCH=900,le.BYTE_COMPACTION_MODE_LATCH=901,le.NUMERIC_COMPACTION_MODE_LATCH=902,le.BYTE_COMPACTION_MODE_LATCH_6=924,le.ECI_USER_DEFINED=925,le.ECI_GENERAL_PURPOSE=926,le.ECI_CHARSET=927,le.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,le.MACRO_PDF417_TERMINATOR=922,le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,le.MAX_NUMERIC_CODEWORDS=15,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,le.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,le.PL=25,le.LL=27,le.AS=27,le.ML=28,le.AL=28,le.PS=29,le.PAL=29,le.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",le.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",le.EXP900=Gs()?function Su(){let D=[];D[0]=ri(1);let c=ri(900);D[1]=c;for(let l=2;l<16;l++)D[l]=D[l-1]*c;return D}():[],le.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Lt{constructor(){}static decode(c,l,f,p,g,v,C){let O,E=new xo(c,l,f,p,g),I=null,A=null;for(let z=!0;;z=!1){if(null!=l&&(I=Lt.getRowIndicatorColumn(c,E,l,!0,v,C)),null!=p&&(A=Lt.getRowIndicatorColumn(c,E,p,!1,v,C)),O=Lt.merge(I,A),null==O)throw j.getNotFoundInstance();let Q=O.getBoundingBox();if(!z||null==Q||!(Q.getMinY()<E.getMinY()||Q.getMaxY()>E.getMaxY()))break;E=Q}O.setBoundingBox(E);let k=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,I),O.setDetectionResultColumn(k,A);let L=null!=I;for(let z=1;z<=k;z++){let re,Q=L?z:k-z;if(void 0!==O.getDetectionResultColumn(Q))continue;re=0===Q||Q===k?new Da(E,0===Q):new Du(E),O.setDetectionResultColumn(Q,re);let ue=-1,Ae=ue;for(let He=E.getMinY();He<=E.getMaxY();He++){if(ue=Lt.getStartColumn(O,Q,He,L),ue<0||ue>E.getMaxX()){if(-1===Ae)continue;ue=Ae}let ge=Lt.detectCodeword(c,E.getMinX(),E.getMaxX(),L,ue,He,v,C);null!=ge&&(re.setCodeword(He,ge),Ae=ue,v=Math.min(v,ge.getWidth()),C=Math.max(C,ge.getWidth()))}}return Lt.createDecoderResult(O)}static merge(c,l){if(null==c&&null==l)return null;let f=Lt.getBarcodeMetadata(c,l);if(null==f)return null;let p=xo.merge(Lt.adjustBoundingBox(c),Lt.adjustBoundingBox(l));return new kn(f,p)}static adjustBoundingBox(c){if(null==c)return null;let l=c.getRowHeights();if(null==l)return null;let f=Lt.getMax(l),p=0;for(let C of l)if(p+=f-C,C>0)break;let g=c.getCodewords();for(let C=0;p>0&&null==g[C];C++)p--;let v=0;for(let C=l.length-1;C>=0&&(v+=f-l[C],!(l[C]>0));C--);for(let C=g.length-1;v>0&&null==g[C];C--)v--;return c.getBoundingBox().addMissingRows(p,v,c.isLeft())}static getMax(c){let l=-1;for(let f of c)l=Math.max(l,f);return l}static getBarcodeMetadata(c,l){let f,p;return null==c||null==(f=c.getBarcodeMetadata())?null==l?null:l.getBarcodeMetadata():null==l||null==(p=l.getBarcodeMetadata())?f:f.getColumnCount()!==p.getColumnCount()&&f.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&f.getRowCount()!==p.getRowCount()?null:f}static getRowIndicatorColumn(c,l,f,p,g,v){let C=new Da(l,p);for(let E=0;E<2;E++){let I=0===E?1:-1,A=Math.trunc(Math.trunc(f.getX()));for(let O=Math.trunc(Math.trunc(f.getY()));O<=l.getMaxY()&&O>=l.getMinY();O+=I){let k=Lt.detectCodeword(c,0,c.getWidth(),p,A,O,g,v);null!=k&&(C.setCodeword(O,k),A=p?k.getStartX():k.getEndX())}}return C}static adjustCodewordCount(c,l){let f=l[0][1],p=f.getValue(),g=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Lt.getNumberOfECCodeWords(c.getBarcodeECLevel());if(0===p.length){if(g<1||g>yt.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();f.setValue(g)}else p[0]!==g&&f.setValue(g)}static createDecoderResult(c){let l=Lt.createBarcodeMatrix(c);Lt.adjustCodewordCount(c,l);let f=new Array,p=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),g=[],v=new Array;for(let E=0;E<c.getBarcodeRowCount();E++)for(let I=0;I<c.getBarcodeColumnCount();I++){let A=l[E][I+1].getValue(),O=E*c.getBarcodeColumnCount()+I;0===A.length?f.push(O):1===A.length?p[O]=A[0]:(v.push(O),g.push(A))}let C=new Array(g.length);for(let E=0;E<C.length;E++)C[E]=g[E];return Lt.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),p,yt.toIntArray(f),yt.toIntArray(v),C)}static createDecoderResultFromAmbiguousValues(c,l,f,p,g){let v=new Int32Array(p.length),C=100;for(;C-- >0;){for(let E=0;E<v.length;E++)l[p[E]]=g[E][v[E]];try{return Lt.decodeCodewords(l,c,f)}catch(E){if(!(E instanceof se))throw E}if(0===v.length)throw se.getChecksumInstance();for(let E=0;E<v.length;E++){if(v[E]<g[E].length-1){v[E]++;break}if(v[E]=0,E===v.length-1)throw se.getChecksumInstance()}}throw se.getChecksumInstance()}static createBarcodeMatrix(c){let l=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let p=0;p<l.length;p++)for(let g=0;g<l[p].length;g++)l[p][g]=new wr;let f=0;for(let p of c.getDetectionResultColumns()){if(null!=p)for(let g of p.getCodewords())if(null!=g){let v=g.getRowNumber();if(v>=0){if(v>=l.length)continue;l[v][f].setValue(g.getValue())}}f++}return l}static isValidBarcodeColumn(c,l){return l>=0&&l<=c.getBarcodeColumnCount()+1}static getStartColumn(c,l,f,p){let g=p?1:-1,v=null;if(Lt.isValidBarcodeColumn(c,l-g)&&(v=c.getDetectionResultColumn(l-g).getCodeword(f)),null!=v)return p?v.getEndX():v.getStartX();if(v=c.getDetectionResultColumn(l).getCodewordNearby(f),null!=v)return p?v.getStartX():v.getEndX();if(Lt.isValidBarcodeColumn(c,l-g)&&(v=c.getDetectionResultColumn(l-g).getCodewordNearby(f)),null!=v)return p?v.getEndX():v.getStartX();let C=0;for(;Lt.isValidBarcodeColumn(c,l-g);){l-=g;for(let E of c.getDetectionResultColumn(l).getCodewords())if(null!=E)return(p?E.getEndX():E.getStartX())+g*C*(E.getEndX()-E.getStartX());C++}return p?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,l,f,p,g,v,C,E){g=Lt.adjustCodewordStartColumn(c,l,f,p,g,v);let I=Lt.getModuleBitCount(c,l,f,p,g,v);if(null==I)return null;let A,O=et.sum(I);if(p)A=g+O;else{for(let z=0;z<I.length/2;z++){let Q=I[z];I[z]=I[I.length-1-z],I[I.length-1-z]=Q}A=g,g=A-O}if(!Lt.checkCodewordSkew(O,C,E))return null;let k=$e.getDecodedValue(I),L=yt.getCodeword(k);return-1===L?null:new Sf(g,A,Lt.getCodewordBucketNumber(k),L)}static getModuleBitCount(c,l,f,p,g,v){let C=g,E=new Int32Array(8),I=0,A=p?1:-1,O=p;for(;(p?C<f:C>=l)&&I<E.length;)c.get(C,v)===O?(E[I]++,C+=A):(I++,O=!O);return I===E.length||C===(p?f:l)&&I===E.length-1?E:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,l,f,p,g,v){let C=g,E=p?-1:1;for(let I=0;I<2;I++){for(;(p?C>=l:C<f)&&p===c.get(C,v);){if(Math.abs(g-C)>Lt.CODEWORD_SKEW_SIZE)return g;C+=E}E=-E,p=!p}return C}static checkCodewordSkew(c,l,f){return l-Lt.CODEWORD_SKEW_SIZE<=c&&c<=f+Lt.CODEWORD_SKEW_SIZE}static decodeCodewords(c,l,f){if(0===c.length)throw we.getFormatInstance();let p=1<<l+1,g=Lt.correctErrors(c,f,p);Lt.verifyCodewordCount(c,p);let v=le.decode(c,""+l);return v.setErrorsCorrected(g),v.setErasures(f.length),v}static correctErrors(c,l,f){if(null!=l&&l.length>f/2+Lt.MAX_ERRORS||f<0||f>Lt.MAX_EC_CODEWORDS)throw se.getChecksumInstance();return Lt.errorCorrection.decode(c,f,l)}static verifyCodewordCount(c,l){if(c.length<4)throw we.getFormatInstance();let f=c[0];if(f>c.length)throw we.getFormatInstance();if(0===f){if(!(l<c.length))throw we.getFormatInstance();c[0]=c.length-l}}static getBitCountForCodeword(c){let l=new Int32Array(8),f=0,p=l.length-1;for(;!((1&c)!==f&&(f=1&c,p--,p<0));)l[p]++,c>>=1;return l}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Lt.getCodewordBucketNumber(Lt.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let l=new ni;for(let f=0;f<c.length;f++){l.format("Row %2d: ",f);for(let p=0;p<c[f].length;p++){let g=c[f][p];0===g.getValue().length?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}Lt.CODEWORD_SKEW_SIZE=2,Lt.MAX_ERRORS=3,Lt.MAX_EC_CODEWORDS=512,Lt.errorCorrection=new Iu;class qt{decode(c,l=null){let f=qt.decode(c,l,!1);if(null==f||0===f.length||null==f[0])throw j.getNotFoundInstance();return f[0]}decodeMultiple(c,l=null){try{return qt.decode(c,l,!0)}catch(f){throw f instanceof we||f instanceof se?j.getNotFoundInstance():f}}static decode(c,l,f){const p=new Array,g=bt.detectMultiple(c,l,f);for(const v of g.getPoints()){const C=Lt.decode(g.getBits(),v[4],v[5],v[6],v[7],qt.getMinCodewordWidth(v),qt.getMaxCodewordWidth(v)),E=new Nt(C.getText(),C.getRawBytes(),void 0,v,Pe.PDF_417);E.putMetadata(Ct.ERROR_CORRECTION_LEVEL,C.getECLevel());const I=C.getOther();null!=I&&E.putMetadata(Ct.PDF417_EXTRA_METADATA,I),p.push(E)}return p.map(v=>v)}static getMaxWidth(c,l){return null==c||null==l?0:Math.trunc(Math.abs(c.getX()-l.getX()))}static getMinWidth(c,l){return null==c||null==l?be.MAX_VALUE:Math.trunc(Math.abs(c.getX()-l.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(qt.getMaxWidth(c[0],c[4]),qt.getMaxWidth(c[6],c[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.max(qt.getMaxWidth(c[1],c[5]),qt.getMaxWidth(c[7],c[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(qt.getMinWidth(c[0],c[4]),qt.getMinWidth(c[6],c[2])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN),Math.min(qt.getMinWidth(c[1],c[5]),qt.getMinWidth(c[7],c[3])*yt.MODULES_IN_CODEWORD/yt.MODULES_IN_STOP_PATTERN)))}reset(){}}let Io=(()=>{class D extends oe{}return D.kind="ReaderException",D})();class Sa{constructor(c,l){this.verbose=!0===c,l&&this.setHints(l)}decode(c,l){return l&&this.setHints(l),this.decodeInternal(c)}decodeWithState(c){return null==this.readers&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const l=!o(c)&&!0===c.get(Ve.TRY_HARDER),f=o(c)?null:c.get(Ve.POSSIBLE_FORMATS),p=new Array;if(!o(f)){const g=f.some(v=>v===Pe.UPC_A||v===Pe.UPC_E||v===Pe.EAN_13||v===Pe.EAN_8||v===Pe.CODABAR||v===Pe.CODE_39||v===Pe.CODE_93||v===Pe.CODE_128||v===Pe.ITF||v===Pe.RSS_14||v===Pe.RSS_EXPANDED);g&&!l&&p.push(new vi(c,this.verbose)),f.includes(Pe.QR_CODE)&&p.push(new ki),f.includes(Pe.DATA_MATRIX)&&p.push(new xa),f.includes(Pe.AZTEC)&&p.push(new wn),f.includes(Pe.PDF_417)&&p.push(new qt),g&&l&&p.push(new vi(c,this.verbose))}0===p.length&&(l||p.push(new vi(c,this.verbose)),p.push(new ki),p.push(new xa),p.push(new wn),p.push(new qt),l&&p.push(new vi(c,this.verbose))),this.readers=p}reset(){if(null!==this.readers)for(const c of this.readers)c.reset()}decodeInternal(c){if(null===this.readers)throw new Io("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(c,this.hints)}catch(f){if(f instanceof Io)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}var Tu=function(D){return D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION",D}(Tu||{}),Wn=Tu;class Mu{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new St(c,Int32Array.from([1])))}buildGenerator(c){const l=this.cachedGenerators;if(c>=l.length){let f=l[l.length-1];const p=this.field;for(let g=l.length;g<=c;g++){const v=f.multiply(new St(p,Int32Array.from([1,p.exp(g-1+p.getGeneratorBase())])));l.push(v),f=v}}return l[c]}encode(c,l){if(0===l)throw new J("No error correction bytes");const f=c.length-l;if(f<=0)throw new J("No data bytes provided");const p=this.buildGenerator(l),g=new Int32Array(f);_e.arraycopy(c,0,g,0,f);let v=new St(this.field,g);v=v.multiplyByMonomial(l,1);const E=v.divide(p)[1].getCoefficients(),I=l-E.length;for(let A=0;A<I;A++)c[f+A]=0;_e.arraycopy(E,0,c,f+I,E.length)}}let nr=(()=>{class D{constructor(){}static applyMaskPenaltyRule1(l){return D.applyMaskPenaltyRule1Internal(l,!0)+D.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let C=0;C<v-1;C++){const E=p[C];for(let I=0;I<g-1;I++){const A=E[I];A===E[I+1]&&A===p[C+1][I]&&A===p[C+1][I+1]&&f++}}return D.N2*f}static applyMaskPenaltyRule3(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let C=0;C<v;C++)for(let E=0;E<g;E++){const I=p[C];E+6<g&&1===I[E]&&0===I[E+1]&&1===I[E+2]&&1===I[E+3]&&1===I[E+4]&&0===I[E+5]&&1===I[E+6]&&(D.isWhiteHorizontal(I,E-4,E)||D.isWhiteHorizontal(I,E+7,E+11))&&f++,C+6<v&&1===p[C][E]&&0===p[C+1][E]&&1===p[C+2][E]&&1===p[C+3][E]&&1===p[C+4][E]&&0===p[C+5][E]&&1===p[C+6][E]&&(D.isWhiteVertical(p,E,C-4,C)||D.isWhiteVertical(p,E,C+7,C+11))&&f++}return f*D.N3}static isWhiteHorizontal(l,f,p){f=Math.max(f,0),p=Math.min(p,l.length);for(let g=f;g<p;g++)if(1===l[g])return!1;return!0}static isWhiteVertical(l,f,p,g){p=Math.max(p,0),g=Math.min(g,l.length);for(let v=p;v<g;v++)if(1===l[v][f])return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let I=0;I<v;I++){const A=p[I];for(let O=0;O<g;O++)1===A[O]&&f++}const C=l.getHeight()*l.getWidth();return Math.floor(10*Math.abs(2*f-C)/C)*D.N4}static getDataMaskBit(l,f,p){let g,v;switch(l){case 0:g=p+f&1;break;case 1:g=1&p;break;case 2:g=f%3;break;case 3:g=(p+f)%3;break;case 4:g=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:v=p*f,g=(1&v)+v%3;break;case 6:v=p*f,g=(1&v)+v%3&1;break;case 7:v=p*f,g=v%3+(p+f&1)&1;break;default:throw new J("Invalid mask pattern: "+l)}return 0===g}static applyMaskPenaltyRule1Internal(l,f){let p=0;const g=f?l.getHeight():l.getWidth(),v=f?l.getWidth():l.getHeight(),C=l.getArray();for(let E=0;E<g;E++){let I=0,A=-1;for(let O=0;O<v;O++){const k=f?C[E][O]:C[O][E];k===A?I++:(I>=5&&(p+=D.N1+(I-5)),I=1,A=k)}I>=5&&(p+=D.N1+(I-5))}return p}}return D.N1=3,D.N2=3,D.N3=40,D.N4=10,D})();class zs{constructor(c,l){this.width=c,this.height=l;const f=new Array(l);for(let p=0;p!==l;p++)f[p]=new Uint8Array(c);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(c,l){return this.bytes[l][c]}getArray(){return this.bytes}setNumber(c,l,f){this.bytes[l][c]=f}setBoolean(c,l,f){this.bytes[l][c]=f?1:0}clear(c){for(const l of this.bytes)mt.fill(l,c)}equals(c){if(!(c instanceof zs))return!1;const l=c;if(this.width!==l.width||this.height!==l.height)return!1;for(let f=0,p=this.height;f<p;++f){const g=this.bytes[f],v=l.bytes[f];for(let C=0,E=this.width;C<E;++C)if(g[C]!==v[C])return!1}return!0}toString(){const c=new te;for(let l=0,f=this.height;l<f;++l){const p=this.bytes[l];for(let g=0,v=this.width;g<v;++g)switch(p[g]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ")}c.append("\n")}return c.toString()}}let no=(()=>{class D{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new te;return l.append("<<\n"),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append("\n ecLevel: "),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append("\n version: "),l.append(this.version?this.version.toString():"null"),l.append("\n maskPattern: "),l.append(this.maskPattern.toString()),this.matrix?(l.append("\n matrix:\n"),l.append(this.matrix.toString())):l.append("\n matrix: null\n"),l.append(">>\n"),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<D.NUM_MASK_PATTERNS}}return D.NUM_MASK_PATTERNS=8,D})(),_n=(()=>{class D extends oe{}return D.kind="WriterException",D})();class ft{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,l,f,p,g){ft.clearMatrix(g),ft.embedBasicPatterns(f,g),ft.embedTypeInfo(l,p,g),ft.maybeEmbedVersionInfo(f,g),ft.embedDataBits(c,p,g)}static embedBasicPatterns(c,l){ft.embedPositionDetectionPatternsAndSeparators(l),ft.embedDarkDotAtLeftBottomCorner(l),ft.maybeEmbedPositionAdjustmentPatterns(c,l),ft.embedTimingPatterns(l)}static embedTypeInfo(c,l,f){const p=new Fe;ft.makeTypeInfoBits(c,l,p);for(let g=0,v=p.getSize();g<v;++g){const C=p.get(p.getSize()-1-g),E=ft.TYPE_INFO_COORDINATES[g];if(f.setBoolean(E[0],E[1],C),g<8){const O=f.getWidth()-g-1;f.setBoolean(O,8,C)}else{const k=f.getHeight()-7+(g-8);f.setBoolean(8,k,C)}}}static maybeEmbedVersionInfo(c,l){if(c.getVersionNumber()<7)return;const f=new Fe;ft.makeVersionInfoBits(c,f);let p=17;for(let g=0;g<6;++g)for(let v=0;v<3;++v){const C=f.get(p);p--,l.setBoolean(g,l.getHeight()-11+v,C),l.setBoolean(l.getHeight()-11+v,g,C)}}static embedDataBits(c,l,f){let p=0,g=-1,v=f.getWidth()-1,C=f.getHeight()-1;for(;v>0;){for(6===v&&(v-=1);C>=0&&C<f.getHeight();){for(let E=0;E<2;++E){const I=v-E;if(!ft.isEmpty(f.get(I,C)))continue;let A;p<c.getSize()?(A=c.get(p),++p):A=!1,255!==l&&nr.getDataMaskBit(l,I,C)&&(A=!A),f.setBoolean(I,C,A)}C+=g}g=-g,C+=g,v-=2}if(p!==c.getSize())throw new _n("Not all bits consumed: "+p+"/"+c.getSize())}static findMSBSet(c){return 32-be.numberOfLeadingZeros(c)}static calculateBCHCode(c,l){if(0===l)throw new J("0 polynomial");const f=ft.findMSBSet(l);for(c<<=f-1;ft.findMSBSet(c)>=f;)c^=l<<ft.findMSBSet(c)-f;return c}static makeTypeInfoBits(c,l,f){if(!no.isValidMaskPattern(l))throw new _n("Invalid mask pattern");const p=c.getBits()<<3|l;f.appendBits(p,5);const g=ft.calculateBCHCode(p,ft.TYPE_INFO_POLY);f.appendBits(g,10);const v=new Fe;if(v.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),f.xor(v),15!==f.getSize())throw new _n("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(c,l){l.appendBits(c.getVersionNumber(),6);const f=ft.calculateBCHCode(c.getVersionNumber(),ft.VERSION_INFO_POLY);if(l.appendBits(f,12),18!==l.getSize())throw new _n("should not happen but we got: "+l.getSize())}static isEmpty(c){return 255===c}static embedTimingPatterns(c){for(let l=8;l<c.getWidth()-8;++l){const f=(l+1)%2;ft.isEmpty(c.get(l,6))&&c.setNumber(l,6,f),ft.isEmpty(c.get(6,l))&&c.setNumber(6,l,f)}}static embedDarkDotAtLeftBottomCorner(c){if(0===c.get(8,c.getHeight()-8))throw new _n;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,l,f){for(let p=0;p<8;++p){if(!ft.isEmpty(f.get(c+p,l)))throw new _n;f.setNumber(c+p,l,0)}}static embedVerticalSeparationPattern(c,l,f){for(let p=0;p<7;++p){if(!ft.isEmpty(f.get(c,l+p)))throw new _n;f.setNumber(c,l+p,0)}}static embedPositionAdjustmentPattern(c,l,f){for(let p=0;p<5;++p){const g=ft.POSITION_ADJUSTMENT_PATTERN[p];for(let v=0;v<5;++v)f.setNumber(c+v,l+p,g[v])}}static embedPositionDetectionPattern(c,l,f){for(let p=0;p<7;++p){const g=ft.POSITION_DETECTION_PATTERN[p];for(let v=0;v<7;++v)f.setNumber(c+v,l+p,g[v])}}static embedPositionDetectionPatternsAndSeparators(c){const l=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,c),ft.embedPositionDetectionPattern(c.getWidth()-l,0,c),ft.embedPositionDetectionPattern(0,c.getWidth()-l,c);ft.embedHorizontalSeparationPattern(0,7,c),ft.embedHorizontalSeparationPattern(c.getWidth()-8,7,c),ft.embedHorizontalSeparationPattern(0,c.getWidth()-8,c);ft.embedVerticalSeparationPattern(7,0,c),ft.embedVerticalSeparationPattern(c.getHeight()-7-1,0,c),ft.embedVerticalSeparationPattern(7,c.getHeight()-7,c)}static maybeEmbedPositionAdjustmentPatterns(c,l){if(c.getVersionNumber()<2)return;const f=c.getVersionNumber()-1,p=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let g=0,v=p.length;g!==v;g++){const C=p[g];if(C>=0)for(let E=0;E!==v;E++){const I=p[E];I>=0&&ft.isEmpty(l.get(I,C))&&ft.embedPositionAdjustmentPattern(I-2,C-2,l)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class Ci{constructor(c,l){this.dataBytes=c,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class st{constructor(){}static calculateMaskPenalty(c){return nr.applyMaskPenaltyRule1(c)+nr.applyMaskPenaltyRule2(c)+nr.applyMaskPenaltyRule3(c)+nr.applyMaskPenaltyRule4(c)}static encode(c,l,f=null){let p=st.DEFAULT_BYTE_MODE_ENCODING;const g=null!==f&&void 0!==f.get(Wn.CHARACTER_SET);g&&(p=f.get(Wn.CHARACTER_SET).toString());const v=this.chooseMode(c,p),C=new Fe;if(v===dt.BYTE&&(g||st.DEFAULT_BYTE_MODE_ENCODING!==p)){const He=ie.getCharacterSetECIByName(p);void 0!==He&&this.appendECI(He,C)}this.appendModeInfo(v,C);const E=new Fe;let I;if(this.appendBytes(c,v,E,p),null!==f&&void 0!==f.get(Wn.QR_VERSION)){const He=Number.parseInt(f.get(Wn.QR_VERSION).toString(),10);I=ot.getVersionForNumber(He);const ge=this.calculateBitsNeeded(v,C,E,I);if(!this.willFit(ge,I,l))throw new _n("Data too big for requested version")}else I=this.recommendVersion(l,v,C,E);const A=new Fe;A.appendBitArray(C);const O=v===dt.BYTE?E.getSizeInBytes():c.length;this.appendLengthInfo(O,I,v,A),A.appendBitArray(E);const k=I.getECBlocksForLevel(l),L=I.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(L,A);const z=this.interleaveWithECBytes(A,I.getTotalCodewords(),L,k.getNumBlocks()),Q=new no;Q.setECLevel(l),Q.setMode(v),Q.setVersion(I);const re=I.getDimensionForVersion(),ue=new zs(re,re),Ae=this.chooseMaskPattern(z,l,I,ue);return Q.setMaskPattern(Ae),ft.buildMatrix(z,l,I,Ae,ue),Q.setMatrix(ue),Q}static recommendVersion(c,l,f,p){const g=this.calculateBitsNeeded(l,f,p,ot.getVersionForNumber(1)),v=this.chooseVersion(g,c),C=this.calculateBitsNeeded(l,f,p,v);return this.chooseVersion(C,c)}static calculateBitsNeeded(c,l,f,p){return l.getSize()+c.getCharacterCountBits(p)+f.getSize()}static getAlphanumericCode(c){return c<st.ALPHANUMERIC_TABLE.length?st.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,l=null){if(ie.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(c))return dt.KANJI;let f=!1,p=!1;for(let g=0,v=c.length;g<v;++g){const C=c.charAt(g);if(st.isDigit(C))f=!0;else{if(-1===this.getAlphanumericCode(C.charCodeAt(0)))return dt.BYTE;p=!0}}return p?dt.ALPHANUMERIC:f?dt.NUMERIC:dt.BYTE}static isOnlyDoubleByteKanji(c){let l;try{l=Y.encode(c,ie.SJIS)}catch{return!1}const f=l.length;if(f%2!=0)return!1;for(let p=0;p<f;p+=2){const g=255&l[p];if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(c,l,f,p){let g=Number.MAX_SAFE_INTEGER,v=-1;for(let C=0;C<no.NUM_MASK_PATTERNS;C++){ft.buildMatrix(c,l,f,C,p);let E=this.calculateMaskPenalty(p);E<g&&(g=E,v=C)}return v}static chooseVersion(c,l){for(let f=1;f<=40;f++){const p=ot.getVersionForNumber(f);if(st.willFit(c,p,l))return p}throw new _n("Data too big")}static willFit(c,l,f){return l.getTotalCodewords()-l.getECBlocksForLevel(f).getTotalECCodewords()>=(c+7)/8}static terminateBits(c,l){const f=8*c;if(l.getSize()>f)throw new _n("data bits cannot fit in the QR Code"+l.getSize()+" > "+f);for(let v=0;v<4&&l.getSize()<f;++v)l.appendBit(!1);const p=7&l.getSize();if(p>0)for(let v=p;v<8;v++)l.appendBit(!1);const g=c-l.getSizeInBytes();for(let v=0;v<g;++v)l.appendBits(1&v?17:236,8);if(l.getSize()!==f)throw new _n("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,l,f,p,g,v){if(p>=f)throw new _n("Block ID too large");const C=c%f,E=f-C,I=Math.floor(c/f),A=I+1,O=Math.floor(l/f),k=O+1,L=I-O,z=A-k;if(L!==z)throw new _n("EC bytes mismatch");if(f!==E+C)throw new _n("RS blocks mismatch");if(c!==(O+L)*E+(k+z)*C)throw new _n("Total bytes mismatch");p<E?(g[0]=O,v[0]=L):(g[0]=k,v[0]=z)}static interleaveWithECBytes(c,l,f,p){if(c.getSizeInBytes()!==f)throw new _n("Number of bits and data bytes does not match");let g=0,v=0,C=0;const E=new Array;for(let A=0;A<p;++A){const O=new Int32Array(1),k=new Int32Array(1);st.getNumDataBytesAndNumECBytesForBlockID(l,f,p,A,O,k);const L=O[0],z=new Uint8Array(L);c.toBytes(8*g,z,0,L);const Q=st.generateECBytes(z,k[0]);E.push(new Ci(z,Q)),v=Math.max(v,L),C=Math.max(C,Q.length),g+=O[0]}if(f!==g)throw new _n("Data bytes does not match offset");const I=new Fe;for(let A=0;A<v;++A)for(const O of E){const k=O.getDataBytes();A<k.length&&I.appendBits(k[A],8)}for(let A=0;A<C;++A)for(const O of E){const k=O.getErrorCorrectionBytes();A<k.length&&I.appendBits(k[A],8)}if(l!==I.getSizeInBytes())throw new _n("Interleaving error: "+l+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(c,l){const f=c.length,p=new Int32Array(f+l);for(let v=0;v<f;v++)p[v]=255&c[v];new Mu(Ze.QR_CODE_FIELD_256).encode(p,l);const g=new Uint8Array(l);for(let v=0;v<l;v++)g[v]=p[f+v];return g}static appendModeInfo(c,l){l.appendBits(c.getBits(),4)}static appendLengthInfo(c,l,f,p){const g=f.getCharacterCountBits(l);if(c>=1<<g)throw new _n(c+" is bigger than "+((1<<g)-1));p.appendBits(c,g)}static appendBytes(c,l,f,p){switch(l){case dt.NUMERIC:st.appendNumericBytes(c,f);break;case dt.ALPHANUMERIC:st.appendAlphanumericBytes(c,f);break;case dt.BYTE:st.append8BitBytes(c,f,p);break;case dt.KANJI:st.appendKanjiBytes(c,f);break;default:throw new _n("Invalid mode: "+l)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const l=st.getDigit(c);return l>=0&&l<=9}static appendNumericBytes(c,l){const f=c.length;let p=0;for(;p<f;){const g=st.getDigit(c.charAt(p));if(p+2<f){const v=st.getDigit(c.charAt(p+1)),C=st.getDigit(c.charAt(p+2));l.appendBits(100*g+10*v+C,10),p+=3}else if(p+1<f){const v=st.getDigit(c.charAt(p+1));l.appendBits(10*g+v,7),p+=2}else l.appendBits(g,4),p++}}static appendAlphanumericBytes(c,l){const f=c.length;let p=0;for(;p<f;){const g=st.getAlphanumericCode(c.charCodeAt(p));if(-1===g)throw new _n;if(p+1<f){const v=st.getAlphanumericCode(c.charCodeAt(p+1));if(-1===v)throw new _n;l.appendBits(45*g+v,11),p+=2}else l.appendBits(g,6),p++}}static append8BitBytes(c,l,f){let p;try{p=Y.encode(c,f)}catch(g){throw new _n(g)}for(let g=0,v=p.length;g!==v;g++)l.appendBits(p[g],8)}static appendKanjiBytes(c,l){let f;try{f=Y.encode(c,ie.SJIS)}catch(g){throw new _n(g)}const p=f.length;for(let g=0;g<p;g+=2){const E=(255&f[g])<<8&4294967295|255&f[g+1];let I=-1;if(E>=33088&&E<=40956?I=E-33088:E>=57408&&E<=60351&&(I=E-49472),-1===I)throw new _n("Invalid byte sequence");l.appendBits(192*(I>>8)+(255&I),13)}}static appendECI(c,l){l.appendBits(dt.ECI.getBits(),4),l.appendBits(c.getValue(),8)}}st.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),st.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();let Fi=(()=>{class D{write(l,f,p,g=null){if(0===l.length)throw new J("Found empty contents");if(f<0||p<0)throw new J("Requested dimensions are too small: "+f+"x"+p);let v=cn.L,C=D.QUIET_ZONE_SIZE;null!==g&&(void 0!==g.get(Wn.ERROR_CORRECTION)&&(v=cn.fromString(g.get(Wn.ERROR_CORRECTION).toString())),void 0!==g.get(Wn.MARGIN)&&(C=Number.parseInt(g.get(Wn.MARGIN).toString(),10)));const E=st.encode(l,v,g);return this.renderResult(E,f,p,C)}writeToDom(l,f,p,g,v=null){"string"==typeof l&&(l=document.querySelector(l));const C=this.write(f,p,g,v);l&&l.appendChild(C)}renderResult(l,f,p,g){const v=l.getMatrix();if(null===v)throw new an;const C=v.getWidth(),E=v.getHeight(),I=C+2*g,A=E+2*g,O=Math.max(f,I),k=Math.max(p,A),L=Math.min(Math.floor(O/I),Math.floor(k/A)),z=Math.floor((O-C*L)/2),Q=Math.floor((k-E*L)/2),re=this.createSVGElement(O,k);for(let ue=0,Ae=Q;ue<E;ue++,Ae+=L)for(let He=0,ge=z;He<C;He++,ge+=L)if(1===v.get(He,ue)){const jt=this.createSvgRectElement(ge,Ae,L,L);re.appendChild(jt)}return re}createSVGElement(l,f){const p=document.createElementNS(D.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(l,f,p,g){const v=document.createElementNS(D.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",f.toString()),v.setAttributeNS(null,"height",p.toString()),v.setAttributeNS(null,"width",g.toString()),v.setAttributeNS(null,"fill","#000000"),v}}return D.QUIET_ZONE_SIZE=4,D.SVG_NS="http://www.w3.org/2000/svg",D})(),Hc=(()=>{class D{encode(l,f,p,g,v){if(0===l.length)throw new J("Found empty contents");if(f!==Pe.QR_CODE)throw new J("Can only encode QR_CODE, but got "+f);if(p<0||g<0)throw new J(`Requested dimensions are too small: ${p}x${g}`);let C=cn.L,E=D.QUIET_ZONE_SIZE;null!==v&&(void 0!==v.get(Wn.ERROR_CORRECTION)&&(C=cn.fromString(v.get(Wn.ERROR_CORRECTION).toString())),void 0!==v.get(Wn.MARGIN)&&(E=Number.parseInt(v.get(Wn.MARGIN).toString(),10)));const I=st.encode(l,C,v);return D.renderResult(I,p,g,E)}static renderResult(l,f,p,g){const v=l.getMatrix();if(null===v)throw new an;const C=v.getWidth(),E=v.getHeight(),I=C+2*g,A=E+2*g,O=Math.max(f,I),k=Math.max(p,A),L=Math.min(Math.floor(O/I),Math.floor(k/A)),z=Math.floor((O-C*L)/2),Q=Math.floor((k-E*L)/2),re=new fe(O,k);for(let ue=0,Ae=Q;ue<E;ue++,Ae+=L)for(let He=0,ge=z;He<C;He++,ge+=L)1===v.get(He,ue)&&re.setRegion(ge,Ae,L,L);return re}}return D.QUIET_ZONE_SIZE=4,D})();let Na=(()=>{class D extends Zt{constructor(l,f,p,g,v,C,E,I){if(super(C,E),this.yuvData=l,this.dataWidth=f,this.dataHeight=p,this.left=g,this.top=v,g+C>f||v+E>p)throw new J("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(C,E)}getRow(l,f){if(l<0||l>=this.getHeight())throw new J("Requested row is outside the image: "+l);const p=this.getWidth();return(null==f||f.length<p)&&(f=new Uint8ClampedArray(p)),_e.arraycopy(this.yuvData,(l+this.top)*this.dataWidth+this.left,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=l*f,g=new Uint8ClampedArray(p);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return _e.arraycopy(this.yuvData,v,g,0,p),g;for(let C=0;C<f;C++)_e.arraycopy(this.yuvData,v,g,C*l,l),v+=this.dataWidth;return g}isCropSupported(){return!0}crop(l,f,p,g){return new D(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,p,g,!1)}renderThumbnail(){const l=this.getWidth()/D.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/D.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*f),g=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let C=0;C<f;C++){const E=C*l;for(let I=0;I<l;I++)p[E+I]=4278190080|65793*(255&g[v+I*D.THUMBNAIL_SCALE_FACTOR]);v+=this.dataWidth*D.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/D.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/D.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const p=this.yuvData;for(let g=0,v=this.top*this.dataWidth+this.left;g<f;g++,v+=this.dataWidth){const C=v+l/2;for(let E=v,I=v+l-1;E<C;E++,I--){const A=p[E];p[E]=p[I],p[I]=A}}}invert(){return new Ft(this)}}return D.THUMBNAIL_SCALE_FACTOR=2,D})();class $s extends Zt{constructor(c,l,f,p,g,v,C){if(super(l,f),this.dataWidth=p,this.dataHeight=g,this.left=v,this.top=C,4===c.BYTES_PER_ELEMENT){const E=l*f,I=new Uint8ClampedArray(E);for(let A=0;A<E;A++){const O=c[A];I[A]=((O>>16&255)+(O>>7&510)+(255&O))/4&255}this.luminances=I}else this.luminances=c;if(void 0===p&&(this.dataWidth=l),void 0===g&&(this.dataHeight=f),void 0===v&&(this.left=0),void 0===C&&(this.top=0),this.left+l>this.dataWidth||this.top+f>this.dataHeight)throw new J("Crop rectangle does not fit within image data.")}getRow(c,l){if(c<0||c>=this.getHeight())throw new J("Requested row is outside the image: "+c);const f=this.getWidth();return(null==l||l.length<f)&&(l=new Uint8ClampedArray(f)),_e.arraycopy(this.luminances,(c+this.top)*this.dataWidth+this.left,l,0,f),l}getMatrix(){const c=this.getWidth(),l=this.getHeight();if(c===this.dataWidth&&l===this.dataHeight)return this.luminances;const f=c*l,p=new Uint8ClampedArray(f);let g=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return _e.arraycopy(this.luminances,g,p,0,f),p;for(let v=0;v<l;v++)_e.arraycopy(this.luminances,g,p,v*c,c),g+=this.dataWidth;return p}isCropSupported(){return!0}crop(c,l,f,p){return new $s(this.luminances,f,p,this.dataWidth,this.dataHeight,this.left+c,this.top+l)}invert(){return new Ft(this)}}class ro extends ie{static forName(c){return this.getCharacterSetECIByName(c)}}class wi{}wi.ISO_8859_1=ie.ISO8859_1;class Nu{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Ra{static singletonList(c){return[c]}static min(c,l){return c.sort(l)[0]}}class Mf{constructor(c){this.previous=c}getPrevious(){return this.previous}}class is extends Mf{constructor(c,l,f){super(c),this.value=l,this.bitCount=f}appendTo(c,l){c.appendBits(this.value,this.bitCount)}add(c,l){return new is(this,c,l)}addBinaryShift(c,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new is(this,c,l)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+be.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class Ao extends is{constructor(c,l,f){super(c,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=f}appendTo(c,l){for(let f=0;f<this.binaryShiftByteCount;f++)(0===f||31===f&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):c.appendBits(0===f?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),c.appendBits(l[this.binaryShiftStart+f],8)}addBinaryShift(c,l){return new Ao(this,c,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function os(D,c,l){return new is(D,c,l)}const Ig=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Nf=new is(null,0,0),Ou=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Rf=function Dg(D){for(let c of D)mt.fill(c,-1);return D[0][4]=0,D[1][4]=0,D[1][0]=28,D[3][4]=0,D[2][4]=0,D[2][0]=15,D}(mt.createInt32Array(6,6));class Li{constructor(c,l,f,p){this.token=c,this.mode=l,this.binaryShiftByteCount=f,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,l){let f=this.bitCount,p=this.token;if(c!==this.mode){let v=Ou[this.mode][c];p=os(p,65535&v,v>>16),f+=v>>16}let g=2===c?4:5;return p=os(p,l,g),new Li(p,c,0,f+g)}shiftAndAppend(c,l){let f=this.token,p=2===this.mode?4:5;return f=os(f,Rf[this.mode][c],p),f=os(f,l,5),new Li(f,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(c){let l=this.token,f=this.mode,p=this.bitCount;if(4===this.mode||2===this.mode){let C=Ou[f][0];l=os(l,65535&C,C>>16),p+=C>>16,f=0}let v=new Li(l,f,this.binaryShiftByteCount+1,p+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===v.binaryShiftByteCount&&(v=v.endBinaryShift(c+1)),v}endBinaryShift(c){if(0===this.binaryShiftByteCount)return this;let l=this.token;return l=function Ru(D,c,l){return new Ao(D,c,l)}(l,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Li(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let l=this.bitCount+(Ou[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?l+=Li.calculateBinaryShiftCost(c)-Li.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(l+=10),l<=c.bitCount}toBitArray(c){let l=[];for(let p=this.endBinaryShift(c.length).token;null!==p;p=p.getPrevious())l.unshift(p);let f=new Fe;for(const p of l)p.appendTo(f,c);return f}toString(){return B.format("%s bits=%d bytes=%d",Ig[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Li.INITIAL_STATE=new Li(Nf,0,0,0);const Fu=function ku(D){const c=B.getCharCode(" "),l=B.getCharCode("."),f=B.getCharCode(",");D[0][c]=1;const p=B.getCharCode("Z"),g=B.getCharCode("A");for(let k=g;k<=p;k++)D[0][k]=k-g+2;D[1][c]=1;const v=B.getCharCode("z"),C=B.getCharCode("a");for(let k=C;k<=v;k++)D[1][k]=k-C+2;D[2][c]=1;const E=B.getCharCode("9"),I=B.getCharCode("0");for(let k=I;k<=E;k++)D[2][k]=k-I+2;D[2][f]=12,D[2][l]=13;const A=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let k=0;k<A.length;k++)D[3][B.getCharCode(A[k])]=k;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<O.length;k++)B.getCharCode(O[k])>0&&(D[4][B.getCharCode(O[k])]=k);return D}(mt.createInt32Array(5,256));class ka{constructor(c){this.text=c}encode(){const c=B.getCharCode(" "),l=B.getCharCode("\n");let f=Ra.singletonList(Li.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let v,C=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case B.getCharCode("\r"):v=C===l?2:0;break;case B.getCharCode("."):v=C===c?3:0;break;case B.getCharCode(","):v=C===c?4:0;break;case B.getCharCode(":"):v=C===c?5:0;break;default:v=0}v>0?(f=ka.updateStateListForPair(f,g,v),g++):f=this.updateStateListForChar(f,g)}return Ra.min(f,(g,v)=>g.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,l){const f=[];for(let p of c)this.updateStateForChar(p,l,f);return ka.simplifyStates(f)}updateStateForChar(c,l,f){let p=255&this.text[l],g=Fu[c.getMode()][p]>0,v=null;for(let C=0;C<=4;C++){let E=Fu[C][p];if(E>0){if(null==v&&(v=c.endBinaryShift(l)),!g||C===c.getMode()||2===C){const I=v.latchAndAppend(C,E);f.push(I)}if(!g&&Rf[c.getMode()][C]>=0){const I=v.shiftAndAppend(C,E);f.push(I)}}}if(c.getBinaryShiftByteCount()>0||0===Fu[c.getMode()][p]){let C=c.addBinaryShiftChar(l);f.push(C)}}static updateStateListForPair(c,l,f){const p=[];for(let g of c)this.updateStateForPair(g,l,f,p);return this.simplifyStates(p)}static updateStateForPair(c,l,f,p){let g=c.endBinaryShift(l);if(p.push(g.latchAndAppend(4,f)),4!==c.getMode()&&p.push(g.shiftAndAppend(4,f)),3===f||4===f){let v=g.latchAndAppend(2,16-f).latchAndAppend(2,1);p.push(v)}if(c.getBinaryShiftByteCount()>0){let v=c.addBinaryShiftChar(l).addBinaryShiftChar(l+1);p.push(v)}}static simplifyStates(c){let l=[];for(const f of c){let p=!0;for(const g of l){if(g.isBetterThanOrEqualTo(f)){p=!1;break}f.isBetterThanOrEqualTo(g)&&(l=l.filter(v=>v!==g))}p&&l.push(f)}return l}}class Jt{constructor(){}static encodeBytes(c){return Jt.encode(c,Jt.DEFAULT_EC_PERCENT,Jt.DEFAULT_AZTEC_LAYERS)}static encode(c,l,f){let C,E,I,A,O,p=new ka(c).encode(),g=be.truncDivision(p.getSize()*l,100)+11,v=p.getSize()+g;if(f!==Jt.DEFAULT_AZTEC_LAYERS){if(C=f<0,E=Math.abs(f),E>(C?Jt.MAX_NB_BITS_COMPACT:Jt.MAX_NB_BITS))throw new J(B.format("Illegal value %s for layers",f));I=Jt.totalBitsInLayer(E,C),A=Jt.WORD_SIZE[E];let ge=I-I%A;if(O=Jt.stuffBits(p,A),O.getSize()+g>ge)throw new J("Data to large for user specified layer");if(C&&O.getSize()>64*A)throw new J("Data to large for user specified layer")}else{A=0,O=null;for(let ge=0;;ge++){if(ge>Jt.MAX_NB_BITS)throw new J("Data too large for an Aztec code");if(C=ge<=3,E=C?ge+1:ge,I=Jt.totalBitsInLayer(E,C),v>I)continue;(null==O||A!==Jt.WORD_SIZE[E])&&(A=Jt.WORD_SIZE[E],O=Jt.stuffBits(p,A));let jt=I-I%A;if(!(C&&O.getSize()>64*A)&&O.getSize()+g<=jt)break}}let ue,k=Jt.generateCheckWords(O,I,A),L=O.getSize()/A,z=Jt.generateModeMessage(C,E,L),Q=(C?11:14)+4*E,re=new Int32Array(Q);if(C){ue=Q;for(let ge=0;ge<re.length;ge++)re[ge]=ge}else{ue=Q+1+2*be.truncDivision(be.truncDivision(Q,2)-1,15);let ge=be.truncDivision(Q,2),jt=be.truncDivision(ue,2);for(let Dt=0;Dt<ge;Dt++){let Br=Dt+be.truncDivision(Dt,15);re[ge-Dt-1]=jt-Br-1,re[ge+Dt]=jt+Br+1}}let Ae=new fe(ue);for(let ge=0,jt=0;ge<E;ge++){let Dt=4*(E-ge)+(C?9:12);for(let Br=0;Br<Dt;Br++){let Yr=2*Br;for(let Er=0;Er<2;Er++)k.get(jt+Yr+Er)&&Ae.set(re[2*ge+Er],re[2*ge+Br]),k.get(jt+2*Dt+Yr+Er)&&Ae.set(re[2*ge+Br],re[Q-1-2*ge-Er]),k.get(jt+4*Dt+Yr+Er)&&Ae.set(re[Q-1-2*ge-Er],re[Q-1-2*ge-Br]),k.get(jt+6*Dt+Yr+Er)&&Ae.set(re[Q-1-2*ge-Br],re[2*ge+Er])}jt+=8*Dt}if(Jt.drawModeMessage(Ae,C,ue,z),C)Jt.drawBullsEye(Ae,be.truncDivision(ue,2),5);else{Jt.drawBullsEye(Ae,be.truncDivision(ue,2),7);for(let ge=0,jt=0;ge<be.truncDivision(Q,2)-1;ge+=15,jt+=16)for(let Dt=1&be.truncDivision(ue,2);Dt<ue;Dt+=2)Ae.set(be.truncDivision(ue,2)-jt,Dt),Ae.set(be.truncDivision(ue,2)+jt,Dt),Ae.set(Dt,be.truncDivision(ue,2)-jt),Ae.set(Dt,be.truncDivision(ue,2)+jt)}let He=new Nu;return He.setCompact(C),He.setSize(ue),He.setLayers(E),He.setCodeWords(L),He.setMatrix(Ae),He}static drawBullsEye(c,l,f){for(let p=0;p<f;p+=2)for(let g=l-p;g<=l+p;g++)c.set(g,l-p),c.set(g,l+p),c.set(l-p,g),c.set(l+p,g);c.set(l-f,l-f),c.set(l-f+1,l-f),c.set(l-f,l-f+1),c.set(l+f,l-f),c.set(l+f,l-f+1),c.set(l+f,l+f-1)}static generateModeMessage(c,l,f){let p=new Fe;return c?(p.appendBits(l-1,2),p.appendBits(f-1,6),p=Jt.generateCheckWords(p,28,4)):(p.appendBits(l-1,5),p.appendBits(f-1,11),p=Jt.generateCheckWords(p,40,4)),p}static drawModeMessage(c,l,f,p){let g=be.truncDivision(f,2);if(l)for(let v=0;v<7;v++){let C=g-3+v;p.get(v)&&c.set(C,g-5),p.get(v+7)&&c.set(g+5,C),p.get(20-v)&&c.set(C,g+5),p.get(27-v)&&c.set(g-5,C)}else for(let v=0;v<10;v++){let C=g-5+v+be.truncDivision(v,5);p.get(v)&&c.set(C,g-7),p.get(v+10)&&c.set(g+7,C),p.get(29-v)&&c.set(C,g+7),p.get(39-v)&&c.set(g-7,C)}}static generateCheckWords(c,l,f){let p=c.getSize()/f,g=new Mu(Jt.getGF(f)),v=be.truncDivision(l,f),C=Jt.bitsToWords(c,f,v);g.encode(C,v-p);let E=l%f,I=new Fe;I.appendBits(0,E);for(const A of Array.from(C))I.appendBits(A,f);return I}static bitsToWords(c,l,f){let g,v,p=new Int32Array(f);for(g=0,v=c.getSize()/l;g<v;g++){let C=0;for(let E=0;E<l;E++)C|=c.get(g*l+E)?1<<l-E-1:0;p[g]=C}return p}static getGF(c){switch(c){case 4:return Ze.AZTEC_PARAM;case 6:return Ze.AZTEC_DATA_6;case 8:return Ze.AZTEC_DATA_8;case 10:return Ze.AZTEC_DATA_10;case 12:return Ze.AZTEC_DATA_12;default:throw new J("Unsupported word size "+c)}}static stuffBits(c,l){let f=new Fe,p=c.getSize(),g=(1<<l)-2;for(let v=0;v<p;v+=l){let C=0;for(let E=0;E<l;E++)(v+E>=p||c.get(v+E))&&(C|=1<<l-1-E);(C&g)===g?(f.appendBits(C&g,l),v--):C&g?f.appendBits(C,l):(f.appendBits(1|C,l),v--)}return f}static totalBitsInLayer(c,l){return((l?88:112)+16*c)*c}}Jt.DEFAULT_EC_PERCENT=33,Jt.DEFAULT_AZTEC_LAYERS=0,Jt.MAX_NB_BITS=32,Jt.MAX_NB_BITS_COMPACT=4,Jt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ss{encode(c,l,f,p){return this.encodeWithHints(c,l,f,p,null)}encodeWithHints(c,l,f,p,g){let v=wi.ISO_8859_1,C=Jt.DEFAULT_EC_PERCENT,E=Jt.DEFAULT_AZTEC_LAYERS;return null!=g&&(g.has(Wn.CHARACTER_SET)&&(v=ro.forName(g.get(Wn.CHARACTER_SET).toString())),g.has(Wn.ERROR_CORRECTION)&&(C=be.parseInt(g.get(Wn.ERROR_CORRECTION).toString())),g.has(Wn.AZTEC_LAYERS)&&(E=be.parseInt(g.get(Wn.AZTEC_LAYERS).toString()))),ss.encodeLayers(c,l,f,p,v,C,E)}static encodeLayers(c,l,f,p,g,v,C){if(l!==Pe.AZTEC)throw new J("Can only encode AZTEC, but got "+l);let E=Jt.encode(B.getBytes(c,g),v,C);return ss.renderResult(E,f,p)}static renderResult(c,l,f){let p=c.getMatrix();if(null==p)throw new an;let g=p.getWidth(),v=p.getHeight(),C=Math.max(l,g),E=Math.max(f,v),I=Math.min(C/g,E/v),A=(C-g*I)/2,O=(E-v*I)/2,k=new fe(C,E);for(let L=0,z=O;L<v;L++,z+=I)for(let Q=0,re=A;Q<g;Q++,re+=I)p.get(Q,L)&&k.setRegion(re,z,I,I);return k}}F.AbstractExpandedDecoder=Lc,F.ArgumentException=ce,F.ArithmeticException=Je,F.AztecCode=Nu,F.AztecCodeReader=wn,F.AztecCodeWriter=ss,F.AztecDecoder=Vt,F.AztecDetector=Un,F.AztecDetectorResult=yr,F.AztecEncoder=Jt,F.AztecHighLevelEncoder=ka,F.AztecPoint=dn,F.BarcodeFormat=Pe,F.Binarizer=Ce,F.BinaryBitmap=pe,F.BitArray=Fe,F.BitMatrix=fe,F.BitSource=vr,F.BrowserAztecCodeReader=class Sr extends On{constructor(c=500){super(new wn,c)}},F.BrowserBarcodeReader=class Ls extends On{constructor(c=500,l){super(new vi(l),c,l)}},F.BrowserCodeReader=On,F.BrowserDatamatrixCodeReader=class Eu extends On{constructor(c=500){super(new xa,c)}},F.BrowserMultiFormatReader=class Ta extends On{constructor(c=null,l=500){const f=new Sa;f.setHints(c),super(f,l)}decodeBitmap(c){return this.reader.decodeWithState(c)}},F.BrowserPDF417Reader=class Ma extends On{constructor(c=500){super(new qt,c)}},F.BrowserQRCodeReader=class Do extends On{constructor(c=500){super(new ki,c)}},F.BrowserQRCodeSvgWriter=Fi,F.CharacterSetECI=ie,F.ChecksumException=se,F.Code128Reader=Me,F.Code39Reader=Xt,F.DataMatrixDecodedBitStreamParser=bo,F.DataMatrixReader=xa,F.DecodeHintType=Ve,F.DecoderResult=Cn,F.DefaultGridSampler=Tt,F.DetectorResult=Pn,F.EAN13Reader=es,F.EncodeHintType=Wn,F.Exception=oe,F.FormatException=we,F.GenericGF=Ze,F.GenericGFPoly=St,F.GlobalHistogramBinarizer=De,F.GridSampler=mn,F.GridSamplerInstance=Ge,F.HTMLCanvasElementLuminanceSource=Xe,F.HybridBinarizer=Ee,F.ITFReader=gt,F.IllegalArgumentException=J,F.IllegalStateException=an,F.InvertedLuminanceSource=Ft,F.LuminanceSource=Zt,F.MathUtils=et,F.MultiFormatOneDReader=vi,F.MultiFormatReader=Sa,F.MultiFormatWriter=class Gc{encode(c,l,f,p,g){let v;if(l!==Pe.QR_CODE)throw new J("No encoder available for format "+l);return v=new Hc,v.encode(c,l,f,p,g)}},F.NotFoundException=j,F.OneDReader=Mt,F.PDF417DecodedBitStreamParser=le,F.PDF417DecoderErrorCorrection=Iu,F.PDF417Reader=qt,F.PDF417ResultMetadata=Vs,F.PerspectiveTransform=Rt,F.PlanarYUVLuminanceSource=Na,F.QRCodeByteMatrix=zs,F.QRCodeDataMask=Cr,F.QRCodeDecodedBitStreamParser=_u,F.QRCodeDecoderErrorCorrectionLevel=cn,F.QRCodeDecoderFormatInformation=jn,F.QRCodeEncoder=st,F.QRCodeEncoderQRCode=no,F.QRCodeMaskUtil=nr,F.QRCodeMatrixUtil=ft,F.QRCodeMode=dt,F.QRCodeReader=ki,F.QRCodeVersion=ot,F.QRCodeWriter=Hc,F.RGBLuminanceSource=$s,F.RSS14Reader=In,F.RSSExpandedReader=xe,F.ReaderException=Io,F.ReedSolomonDecoder=$t,F.ReedSolomonEncoder=Mu,F.ReedSolomonException=sn,F.Result=Nt,F.ResultMetadataType=Ct,F.ResultPoint=de,F.StringUtils=B,F.UnsupportedOperationException=Ne,F.VideoInputDevice=un,F.WhiteRectangleDetector=Ln,F.WriterException=_n,F.ZXingArrays=mt,F.ZXingCharset=ro,F.ZXingInteger=be,F.ZXingStandardCharsets=wi,F.ZXingStringBuilder=te,F.ZXingStringEncoding=Y,F.ZXingSystem=_e,F.createAbstractExpandedDecoder=Fs,Object.defineProperty(F,"__esModule",{value:!0})}(ee)},262:function(nt,ee){var F,W;F=function G(){"use strict";var $=typeof self<"u"?self:typeof window<"u"?window:void 0!==$?$:{},X=!$.document&&!!$.postMessage,K=$.IS_PAPA_WORKER||!1,oe={},ce=0,J={parse:function(Y,B){var te=(B=B||{}).dynamicTyping||!1;if(Ne(te)&&(B.dynamicTypingFunction=te,te={}),B.dynamicTyping=te,B.transform=!!Ne(B.transform)&&B.transform,B.worker&&J.WORKERS_SUPPORTED){var fe=function(){if(!J.WORKERS_SUPPORTED)return!1;var Zt,Ft,De=(Zt=$.URL||$.webkitURL||null,Ft=G.toString(),J.BLOB_URL||(J.BLOB_URL=Zt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ft,")();"],{type:"text/javascript"})))),Ee=new $.Worker(De);return Ee.onmessage=it,Ee.id=ce++,oe[Ee.id]=Ee}();return fe.userStep=B.step,fe.userChunk=B.chunk,fe.userComplete=B.complete,fe.userError=B.error,B.step=Ne(B.step),B.chunk=Ne(B.chunk),B.complete=Ne(B.complete),B.error=Ne(B.error),delete B.worker,void fe.postMessage({input:Y,config:B,workerId:fe.id})}var De,j=null;return"string"==typeof Y?(Y=65279===(De=Y).charCodeAt(0)?De.slice(1):De,j=B.download?new Ce(B):new Se(B)):!0===Y.readable&&Ne(Y.read)&&Ne(Y.on)?j=new We(B):($.File&&Y instanceof File||Y instanceof Object)&&(j=new _e(B)),j.stream(Y)},unparse:function(Y,B){var te=!1,fe=!0,j=",",De="\r\n",Ee='"',Zt=Ee+Ee,Ft=!1,Xe=null,un=!1;!function(){if("object"==typeof B){if("string"!=typeof B.delimiter||J.BAD_DELIMITERS.filter(function(qe){return-1!==B.delimiter.indexOf(qe)}).length||(j=B.delimiter),("boolean"==typeof B.quotes||"function"==typeof B.quotes||Array.isArray(B.quotes))&&(te=B.quotes),"boolean"!=typeof B.skipEmptyLines&&"string"!=typeof B.skipEmptyLines||(Ft=B.skipEmptyLines),"string"==typeof B.newline&&(De=B.newline),"string"==typeof B.quoteChar&&(Ee=B.quoteChar),"boolean"==typeof B.header&&(fe=B.header),Array.isArray(B.columns)){if(0===B.columns.length)throw new Error("Option columns is empty");Xe=B.columns}void 0!==B.escapeChar&&(Zt=B.escapeChar+Ee),("boolean"==typeof B.escapeFormulae||B.escapeFormulae instanceof RegExp)&&(un=B.escapeFormulae instanceof RegExp?B.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var Ye=new RegExp(be(Ee),"g");if("string"==typeof Y&&(Y=JSON.parse(Y)),Array.isArray(Y)){if(!Y.length||Array.isArray(Y[0]))return On(null,Y,Ft);if("object"==typeof Y[0])return On(Xe||Object.keys(Y[0]),Y,Ft)}else if("object"==typeof Y)return"string"==typeof Y.data&&(Y.data=JSON.parse(Y.data)),Array.isArray(Y.data)&&(Y.fields||(Y.fields=Y.meta&&Y.meta.fields||Xe),Y.fields||(Y.fields=Array.isArray(Y.data[0])?Y.fields:"object"==typeof Y.data[0]?Object.keys(Y.data[0]):[]),Array.isArray(Y.data[0])||"object"==typeof Y.data[0]||(Y.data=[Y.data])),On(Y.fields||[],Y.data||[],Ft);throw new Error("Unable to serialize unrecognized input");function On(qe,Pe,Kt){var Ct="";"string"==typeof qe&&(qe=JSON.parse(qe)),"string"==typeof Pe&&(Pe=JSON.parse(Pe));var Cn=Array.isArray(qe)&&0<qe.length,Yt=!Array.isArray(Pe[0]);if(Cn&&fe){for(var St=0;St<qe.length;St++)0<St&&(Ct+=j),Ct+=Nt(qe[St],St);0<Pe.length&&(Ct+=De)}for(var Je=0;Je<Pe.length;Je++){var Ze=Cn?qe.length:Pe[Je].length,sn=!1,an=Cn?0===Object.keys(Pe[Je]).length:0===Pe[Je].length;if(Kt&&!Cn&&(sn="greedy"===Kt?""===Pe[Je].join("").trim():1===Pe[Je].length&&0===Pe[Je][0].length),"greedy"===Kt&&Cn){for(var $t=[],Wt=0;Wt<Ze;Wt++)$t.push(Pe[Je][Yt?qe[Wt]:Wt]);sn=""===$t.join("").trim()}if(!sn){for(var et=0;et<Ze;et++)0<et&&!an&&(Ct+=j),Ct+=Nt(Pe[Je][Cn&&Yt?qe[et]:et],et);Je<Pe.length-1&&(!Kt||0<Ze&&!an)&&(Ct+=De)}}return Ct}function Nt(qe,Pe){if(null==qe)return"";if(qe.constructor===Date)return JSON.stringify(qe).slice(1,25);var Kt=!1;un&&"string"==typeof qe&&un.test(qe)&&(qe="'"+qe,Kt=!0);var Ct=qe.toString().replace(Ye,Zt);return(Kt=Kt||!0===te||"function"==typeof te&&te(qe,Pe)||Array.isArray(te)&&te[Pe]||function(Cn,Yt){for(var St=0;St<Yt.length;St++)if(-1<Cn.indexOf(Yt[St]))return!0;return!1}(Ct,J.BAD_DELIMITERS)||-1<Ct.indexOf(j)||" "===Ct.charAt(0)||" "===Ct.charAt(Ct.length-1))?Ee+Ct+Ee:Ct}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(J.BAD_DELIMITERS=["\r","\n",'"',J.BYTE_ORDER_MARK],J.WORKERS_SUPPORTED=!X&&!!$.Worker,J.NODE_STREAM_INPUT=1,J.LocalChunkSize=10485760,J.RemoteChunkSize=5242880,J.DefaultDelimiter=",",J.Parser=Fe,J.ParserHandle=mt,J.NetworkStreamer=Ce,J.FileStreamer=_e,J.StringStreamer=Se,J.ReadableStreamStreamer=We,$.jQuery){var pe=$.jQuery;pe.fn.parse=function(Y){var B=Y.config||{},te=[];return this.each(function(De){if("INPUT"!==pe(this).prop("tagName").toUpperCase()||"file"!==pe(this).attr("type").toLowerCase()||!$.FileReader||!this.files||0===this.files.length)return!0;for(var Ee=0;Ee<this.files.length;Ee++)te.push({file:this.files[Ee],inputElem:this,instanceConfig:pe.extend({},B)})}),fe(),this;function fe(){if(0!==te.length){var Ee,Zt,Ft,Xe=te[0];if(Ne(Y.before)){var un=Y.before(Xe.file,Xe.inputElem);if("object"==typeof un){if("abort"===un.action)return Ee=Xe.file,Zt=Xe.inputElem,Ft=un.reason,void(Ne(Y.error)&&Y.error({name:"AbortError"},Ee,Zt,Ft));if("skip"===un.action)return void j();"object"==typeof un.config&&(Xe.instanceConfig=pe.extend(Xe.instanceConfig,un.config))}else if("skip"===un)return void j()}var Ye=Xe.instanceConfig.complete;Xe.instanceConfig.complete=function(On){Ne(Ye)&&Ye(On,Xe.file,Xe.inputElem),j()},J.parse(Xe.file,Xe.instanceConfig)}else Ne(Y.complete)&&Y.complete()}function j(){te.splice(0,1),fe()}}}function se(Y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(B){var te=Te(B);te.chunkSize=parseInt(te.chunkSize),B.step||B.chunk||(te.chunkSize=null),this._handle=new mt(te),(this._handle.streamer=this)._config=te}.call(this,Y),this.parseChunk=function(B,te){if(this.isFirstChunk&&Ne(this._config.beforeFirstChunk)){var fe=this._config.beforeFirstChunk(B);void 0!==fe&&(B=fe)}this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+B;this._partialLine="";var De=this._handle.parse(j,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ee=De.meta.cursor;this._finished||(this._partialLine=j.substring(Ee-this._baseIndex),this._baseIndex=Ee),De&&De.data&&(this._rowCount+=De.data.length);var Zt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(K)$.postMessage({results:De,workerId:J.WORKER_ID,finished:Zt});else if(Ne(this._config.chunk)&&!te){if(this._config.chunk(De,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);De=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(De.data),this._completeResults.errors=this._completeResults.errors.concat(De.errors),this._completeResults.meta=De.meta),this._completed||!Zt||!Ne(this._config.complete)||De&&De.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Zt||De&&De.meta.paused||this._nextChunk(),De}this._halted=!0},this._sendError=function(B){Ne(this._config.error)?this._config.error(B):K&&this._config.error&&$.postMessage({workerId:J.WORKER_ID,error:B,finished:!1})}}function Ce(Y){var B;(Y=Y||{}).chunkSize||(Y.chunkSize=J.RemoteChunkSize),se.call(this,Y),this._nextChunk=X?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(te){this._input=te,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),X||(B.onload=ie(this._chunkLoaded,this),B.onerror=ie(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!X),this._config.downloadRequestHeaders){var te=this._config.downloadRequestHeaders;for(var fe in te)B.setRequestHeader(fe,te[fe])}this._config.chunkSize&&B.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{B.send(this._config.downloadRequestBody)}catch(De){this._chunkError(De.message)}X&&0===B.status&&this._chunkError()}},this._chunkLoaded=function(){var fe;4===B.readyState&&(B.status<200||400<=B.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:B.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(fe=B.getResponseHeader("Content-Range"))?-1:parseInt(fe.substring(fe.lastIndexOf("/")+1))),this.parseChunk(B.responseText)))},this._chunkError=function(te){this._sendError(new Error(B.statusText||te))}}function _e(Y){var B,te;(Y=Y||{}).chunkSize||(Y.chunkSize=J.LocalChunkSize),se.call(this,Y);var fe=typeof FileReader<"u";this.stream=function(j){this._input=j,te=j.slice||j.webkitSlice||j.mozSlice,fe?((B=new FileReader).onload=ie(this._chunkLoaded,this),B.onerror=ie(this._chunkError,this)):B=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input;if(this._config.chunkSize){var De=Math.min(this._start+this._config.chunkSize,this._input.size);j=te.call(j,this._start,De)}var Ee=B.readAsText(j,this._config.encoding);fe||this._chunkLoaded({target:{result:Ee}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(B.error)}}function Se(Y){var B;se.call(this,Y=Y||{}),this.stream=function(te){return B=te,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var te,fe=this._config.chunkSize;return fe?(te=B.substring(0,fe),B=B.substring(fe)):(te=B,B=""),this._finished=!B,this.parseChunk(te)}}}function We(Y){se.call(this,Y=Y||{});var B=[],te=!0,fe=!1;this.pause=function(){se.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){se.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){fe&&1===B.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),B.length?this.parseChunk(B.shift()):te=!0},this._streamData=ie(function(j){try{B.push("string"==typeof j?j:j.toString(this._config.encoding)),te&&(te=!1,this._checkIsFinished(),this.parseChunk(B.shift()))}catch(De){this._streamError(De)}},this),this._streamError=ie(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=ie(function(){this._streamCleanUp(),fe=!0,this._streamData("")},this),this._streamCleanUp=ie(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function mt(Y){var B,te,fe,j=Math.pow(2,53),De=-j,Ee=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Zt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ft=this,Xe=0,un=0,Ye=!1,On=!1,Nt=[],qe={data:[],errors:[],meta:{}};if(Ne(Y.step)){var Pe=Y.step;Y.step=function(Je){if(qe=Je,Cn())Ct();else{if(Ct(),0===qe.data.length)return;Xe+=Je.data.length,Y.preview&&Xe>Y.preview?te.abort():(qe.data=qe.data[0],Pe(qe,Ft))}}}function Kt(Je){return"greedy"===Y.skipEmptyLines?""===Je.join("").trim():1===Je.length&&0===Je[0].length}function Ct(){return qe&&fe&&(St("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+J.DefaultDelimiter+"'"),fe=!1),Y.skipEmptyLines&&(qe.data=qe.data.filter(function(Je){return!Kt(Je)})),Cn()&&function(){if(qe)if(Array.isArray(qe.data[0])){for(var Ze=0;Cn()&&Ze<qe.data.length;Ze++)qe.data[Ze].forEach(Je);qe.data.splice(0,1)}else qe.data.forEach(Je);function Je(sn,an){Ne(Y.transformHeader)&&(sn=Y.transformHeader(sn,an)),Nt.push(sn)}}(),function(){if(!qe||!Y.header&&!Y.dynamicTyping&&!Y.transform)return qe;function Je(sn,an){var $t,Wt=Y.header?{}:[];for($t=0;$t<sn.length;$t++){var Vt=$t,et=sn[$t];Y.header&&(Vt=$t>=Nt.length?"__parsed_extra":Nt[$t]),Y.transform&&(et=Y.transform(et,Vt)),et=Yt(Vt,et),"__parsed_extra"===Vt?(Wt[Vt]=Wt[Vt]||[],Wt[Vt].push(et)):Wt[Vt]=et}return Y.header&&($t>Nt.length?St("FieldMismatch","TooManyFields","Too many fields: expected "+Nt.length+" fields but parsed "+$t,un+an):$t<Nt.length&&St("FieldMismatch","TooFewFields","Too few fields: expected "+Nt.length+" fields but parsed "+$t,un+an)),Wt}var Ze=1;return!qe.data.length||Array.isArray(qe.data[0])?(qe.data=qe.data.map(Je),Ze=qe.data.length):qe.data=Je(qe.data,0),Y.header&&qe.meta&&(qe.meta.fields=Nt),un+=Ze,qe}()}function Cn(){return Y.header&&0===Nt.length}function Yt(Je,Ze){return sn=Je,Y.dynamicTypingFunction&&void 0===Y.dynamicTyping[sn]&&(Y.dynamicTyping[sn]=Y.dynamicTypingFunction(sn)),!0===(Y.dynamicTyping[sn]||Y.dynamicTyping)?"true"===Ze||"TRUE"===Ze||"false"!==Ze&&"FALSE"!==Ze&&(function(an){if(Ee.test(an)){var $t=parseFloat(an);if(De<$t&&$t<j)return!0}return!1}(Ze)?parseFloat(Ze):Zt.test(Ze)?new Date(Ze):""===Ze?null:Ze):Ze;var sn}function St(Je,Ze,sn,an){var $t={type:Je,code:Ze,message:sn};void 0!==an&&($t.row=an),qe.errors.push($t)}this.parse=function(Je,Ze,sn){if(Y.newline||(Y.newline=function(Vt,et){Vt=Vt.substring(0,1048576);var ar=new RegExp(be(et)+"([^]*?)"+be(et),"gm"),de=(Vt=Vt.replace(ar,"")).split("\r"),Pn=Vt.split("\n");if(1===de.length||1<Pn.length&&Pn[0].length<de[0].length)return"\n";for(var Ln=0,mn=0;mn<de.length;mn++)"\n"===de[mn][0]&&Ln++;return Ln>=de.length/2?"\r\n":"\r"}(Je,Y.quoteChar||'"')),fe=!1,Y.delimiter)Ne(Y.delimiter)&&(Y.delimiter=Y.delimiter(Je),qe.meta.delimiter=Y.delimiter);else{var $t=function(Vt,et,ar,de,Pn){var yr,Ln,mn,Rt;Pn=Pn||[",","\t","|",";",J.RECORD_SEP,J.UNIT_SEP];for(var Tt=0;Tt<Pn.length;Tt++){var Ge=Pn[Tt],dn=0,Un=0,wn=0;mn=void 0;for(var Sr=new Fe({comments:de,delimiter:Ge,newline:et,preview:10}).parse(Vt),Mt=0;Mt<Sr.data.length;Mt++)if(ar&&Kt(Sr.data[Mt]))wn++;else{var Me=Sr.data[Mt].length;Un+=Me,void 0!==mn?0<Me&&(dn+=Math.abs(Me-mn),mn=Me):mn=Me}0<Sr.data.length&&(Un/=Sr.data.length-wn),(void 0===Ln||dn<=Ln)&&(void 0===Rt||Rt<Un)&&1.99<Un&&(Ln=dn,yr=Ge,Rt=Un)}return{successful:!!(Y.delimiter=yr),bestDelimiter:yr}}(Je,Y.newline,Y.skipEmptyLines,Y.comments,Y.delimitersToGuess);$t.successful?Y.delimiter=$t.bestDelimiter:(fe=!0,Y.delimiter=J.DefaultDelimiter),qe.meta.delimiter=Y.delimiter}var Wt=Te(Y);return Y.preview&&Y.header&&Wt.preview++,B=Je,te=new Fe(Wt),qe=te.parse(B,Ze,sn),Ct(),Ye?{meta:{paused:!0}}:qe||{meta:{paused:!1}}},this.paused=function(){return Ye},this.pause=function(){Ye=!0,te.abort(),B=Ne(Y.chunk)?"":B.substring(te.getCharIndex())},this.resume=function(){Ft.streamer._halted?(Ye=!1,Ft.streamer.parseChunk(B,!0)):setTimeout(Ft.resume,3)},this.aborted=function(){return On},this.abort=function(){On=!0,te.abort(),qe.meta.aborted=!0,Ne(Y.complete)&&Y.complete(qe),B=""}}function be(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fe(Y){var B,te=(Y=Y||{}).delimiter,fe=Y.newline,j=Y.comments,De=Y.step,Ee=Y.preview,Zt=Y.fastMode,Ft=B=null==Y.quoteChar?'"':Y.quoteChar;if(void 0!==Y.escapeChar&&(Ft=Y.escapeChar),("string"!=typeof te||-1<J.BAD_DELIMITERS.indexOf(te))&&(te=","),j===te)throw new Error("Comment character same as delimiter");!0===j?j="#":("string"!=typeof j||-1<J.BAD_DELIMITERS.indexOf(j))&&(j=!1),"\n"!==fe&&"\r"!==fe&&"\r\n"!==fe&&(fe="\n");var Xe=0,un=!1;this.parse=function(Ye,On,Nt){if("string"!=typeof Ye)throw new Error("Input must be a string");var qe=Ye.length,Pe=te.length,Kt=fe.length,Ct=j.length,Cn=Ne(De),Yt=[],St=[],Je=[],Ze=Xe=0;if(!Ye)return Xt();if(Y.header&&!On){var sn=Ye.split(fe)[0].split(te),an=[],$t={},Wt=!1;for(var Vt in sn){var et=sn[Vt];Ne(Y.transformHeader)&&(et=Y.transformHeader(et,Vt));var ar=et,de=$t[et]||0;for(0<de&&(Wt=!0,ar=et+"_"+de),$t[et]=de+1;an.includes(ar);)ar=ar+"_"+de;an.push(ar)}if(Wt){var Pn=Ye.split(fe);Pn[0]=an.join(te),Ye=Pn.join(fe)}}if(Zt||!1!==Zt&&-1===Ye.indexOf(B)){for(var yr=Ye.split(fe),Ln=0;Ln<yr.length;Ln++){if(Xe+=(Je=yr[Ln]).length,Ln!==yr.length-1)Xe+=fe.length;else if(Nt)return Xt();if(!j||Je.substring(0,Ct)!==j){if(Cn){if(Yt=[],wn(Je.split(te)),gt(),un)return Xt()}else wn(Je.split(te));if(Ee&&Ee<=Ln)return Yt=Yt.slice(0,Ee),Xt(!0)}}return Xt()}for(var mn=Ye.indexOf(te,Xe),Rt=Ye.indexOf(fe,Xe),Tt=new RegExp(be(Ft)+be(B),"g"),Ge=Ye.indexOf(B,Xe);;)if(Ye[Xe]!==B)if(j&&0===Je.length&&Ye.substring(Xe,Xe+Ct)===j){if(-1===Rt)return Xt();Rt=Ye.indexOf(fe,Xe=Rt+Kt),mn=Ye.indexOf(te,Xe)}else if(-1!==mn&&(mn<Rt||-1===Rt))Je.push(Ye.substring(Xe,mn)),mn=Ye.indexOf(te,Xe=mn+Pe);else{if(-1===Rt)break;if(Je.push(Ye.substring(Xe,Rt)),Me(Rt+Kt),Cn&&(gt(),un))return Xt();if(Ee&&Yt.length>=Ee)return Xt(!0)}else for(Ge=Xe,Xe++;;){if(-1===(Ge=Ye.indexOf(B,Ge+1)))return Nt||St.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Yt.length,index:Xe}),Mt();if(Ge===qe-1)return Mt(Ye.substring(Xe,Ge).replace(Tt,B));if(B!==Ft||Ye[Ge+1]!==Ft){if(B===Ft||0===Ge||Ye[Ge-1]!==Ft){-1!==mn&&mn<Ge+1&&(mn=Ye.indexOf(te,Ge+1)),-1!==Rt&&Rt<Ge+1&&(Rt=Ye.indexOf(fe,Ge+1));var dn=Sr(-1===Rt?mn:Math.min(mn,Rt));if(Ye.substr(Ge+1+dn,Pe)===te){Je.push(Ye.substring(Xe,Ge).replace(Tt,B)),Ye[Xe=Ge+1+dn+Pe]!==B&&(Ge=Ye.indexOf(B,Xe)),mn=Ye.indexOf(te,Xe),Rt=Ye.indexOf(fe,Xe);break}var Un=Sr(Rt);if(Ye.substring(Ge+1+Un,Ge+1+Un+Kt)===fe){if(Je.push(Ye.substring(Xe,Ge).replace(Tt,B)),Me(Ge+1+Un+Kt),mn=Ye.indexOf(te,Xe),Ge=Ye.indexOf(B,Xe),Cn&&(gt(),un))return Xt();if(Ee&&Yt.length>=Ee)return Xt(!0);break}St.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Yt.length,index:Xe}),Ge++}}else Ge++}return Mt();function wn(rt){Yt.push(rt),Ze=Xe}function Sr(rt){var wo=0;if(-1!==rt){var Pt=Ye.substring(Ge+1,rt);Pt&&""===Pt.trim()&&(wo=Pt.length)}return wo}function Mt(rt){return Nt||(void 0===rt&&(rt=Ye.substring(Xe)),Je.push(rt),Xe=qe,wn(Je),Cn&&gt()),Xt()}function Me(rt){Xe=rt,wn(Je),Je=[],Rt=Ye.indexOf(fe,Xe)}function Xt(rt){return{data:Yt,errors:St,meta:{delimiter:te,linebreak:fe,aborted:un,truncated:!!rt,cursor:Ze+(On||0)}}}function gt(){De(Xt()),Yt=[],St=[]}},this.abort=function(){un=!0},this.getCharIndex=function(){return Xe}}function it(Y){var B=Y.data,te=oe[B.workerId],fe=!1;if(B.error)te.userError(B.error,B.file);else if(B.results&&B.results.data){var j={abort:function(){fe=!0,Ve(B.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:we,resume:we};if(Ne(te.userStep)){for(var De=0;De<B.results.data.length&&(te.userStep({data:B.results.data[De],errors:B.results.errors,meta:B.results.meta},j),!fe);De++);delete B.results}else Ne(te.userChunk)&&(te.userChunk(B.results,j,B.file),delete B.results)}B.finished&&!fe&&Ve(B.workerId,B.results)}function Ve(Y,B){var te=oe[Y];Ne(te.userComplete)&&te.userComplete(B),te.terminate(),delete oe[Y]}function we(){throw new Error("Not implemented.")}function Te(Y){if("object"!=typeof Y||null===Y)return Y;var B=Array.isArray(Y)?[]:{};for(var te in Y)B[te]=Te(Y[te]);return B}function ie(Y,B){return function(){Y.apply(B,arguments)}}function Ne(Y){return"function"==typeof Y}return K&&($.onmessage=function(Y){var B=Y.data;if(void 0===J.WORKER_ID&&B&&(J.WORKER_ID=B.workerId),"string"==typeof B.input)$.postMessage({workerId:J.WORKER_ID,results:J.parse(B.input,B.config),finished:!0});else if($.File&&B.input instanceof File||B.input instanceof Object){var te=J.parse(B.input,B.config);te&&$.postMessage({workerId:J.WORKER_ID,results:te,finished:!0})}}),(Ce.prototype=Object.create(se.prototype)).constructor=Ce,(_e.prototype=Object.create(se.prototype)).constructor=_e,(Se.prototype=Object.create(Se.prototype)).constructor=Se,(We.prototype=Object.create(se.prototype)).constructor=We,J},void 0!==(W=F.apply(ee,[]))&&(nt.exports=W)},8314:(nt,ee,F)=>{const W=F(2836),G=F(9460),$=F(7030),X=F(6511);function K(oe,ce,J,pe,se){const Ce=[].slice.call(arguments,1),_e=Ce.length,Se="function"==typeof Ce[_e-1];if(!Se&&!W())throw new Error("Callback required as last argument");if(!Se){if(_e<1)throw new Error("Too few arguments provided");return 1===_e?(J=ce,ce=pe=void 0):2===_e&&!ce.getContext&&(pe=J,J=ce,ce=void 0),new Promise(function(We,mt){try{const be=G.create(J,pe);We(oe(be,ce,pe))}catch(be){mt(be)}})}if(_e<2)throw new Error("Too few arguments provided");2===_e?(se=J,J=ce,ce=pe=void 0):3===_e&&(ce.getContext&&typeof se>"u"?(se=pe,pe=void 0):(se=pe,pe=J,J=ce,ce=void 0));try{const We=G.create(J,pe);se(null,oe(We,ce,pe))}catch(We){se(We)}}ee.mo=K.bind(null,$.render),K.bind(null,$.renderToDataURL),K.bind(null,function(oe,ce,J){return X.render(oe,J)})},2836:nt=>{nt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(nt,ee,F)=>{const o=F(9089).getSymbolSize;ee.getRowColCoords=function(G){if(1===G)return[];const $=Math.floor(G/7)+2,X=o(G),K=145===X?26:2*Math.ceil((X-13)/(2*$-2)),oe=[X-7];for(let ce=1;ce<$-1;ce++)oe[ce]=oe[ce-1]-K;return oe.push(6),oe.reverse()},ee.getPositions=function(G){const $=[],X=ee.getRowColCoords(G),K=X.length;for(let oe=0;oe<K;oe++)for(let ce=0;ce<K;ce++)0===oe&&0===ce||0===oe&&ce===K-1||oe===K-1&&0===ce||$.push([X[oe],X[ce]]);return $}},1018:(nt,ee,F)=>{const o=F(1677),W=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function G($){this.mode=o.ALPHANUMERIC,this.data=$}G.getBitsLength=function(X){return 11*Math.floor(X/2)+X%2*6},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function(X){let K;for(K=0;K+2<=this.data.length;K+=2){let oe=45*W.indexOf(this.data[K]);oe+=W.indexOf(this.data[K+1]),X.put(oe,11)}this.data.length%2&&X.put(W.indexOf(this.data[K]),6)},nt.exports=G},4662:nt=>{function ee(){this.buffer=[],this.length=0}ee.prototype={get:function(F){const o=Math.floor(F/8);return 1==(this.buffer[o]>>>7-F%8&1)},put:function(F,o){for(let W=0;W<o;W++)this.putBit(1==(F>>>o-W-1&1))},getLengthInBits:function(){return this.length},putBit:function(F){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),F&&(this.buffer[o]|=128>>>this.length%8),this.length++}},nt.exports=ee},5941:nt=>{function ee(F){if(!F||F<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=F,this.data=new Uint8Array(F*F),this.reservedBit=new Uint8Array(F*F)}ee.prototype.set=function(F,o,W,G){const $=F*this.size+o;this.data[$]=W,G&&(this.reservedBit[$]=!0)},ee.prototype.get=function(F,o){return this.data[F*this.size+o]},ee.prototype.xor=function(F,o,W){this.data[F*this.size+o]^=W},ee.prototype.isReserved=function(F,o){return this.reservedBit[F*this.size+o]},nt.exports=ee},4969:(nt,ee,F)=>{const o=F(1677);function W(G){this.mode=o.BYTE,this.data="string"==typeof G?(new TextEncoder).encode(G):new Uint8Array(G)}W.getBitsLength=function($){return 8*$},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(G){for(let $=0,X=this.data.length;$<X;$++)G.put(this.data[$],8)},nt.exports=W},3677:(nt,ee,F)=>{const o=F(7424),W=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],G=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ee.getBlocksCount=function(X,K){switch(K){case o.L:return W[4*(X-1)+0];case o.M:return W[4*(X-1)+1];case o.Q:return W[4*(X-1)+2];case o.H:return W[4*(X-1)+3];default:return}},ee.getTotalCodewordsCount=function(X,K){switch(K){case o.L:return G[4*(X-1)+0];case o.M:return G[4*(X-1)+1];case o.Q:return G[4*(X-1)+2];case o.H:return G[4*(X-1)+3];default:return}}},7424:(nt,ee)=>{ee.L={bit:1},ee.M={bit:0},ee.Q={bit:3},ee.H={bit:2},ee.isValid=function(W){return W&&typeof W.bit<"u"&&W.bit>=0&&W.bit<4},ee.from=function(W,G){if(ee.isValid(W))return W;try{return function F(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return ee.L;case"m":case"medium":return ee.M;case"q":case"quartile":return ee.Q;case"h":case"high":return ee.H;default:throw new Error("Unknown EC Level: "+o)}}(W)}catch{return G}}},6269:(nt,ee,F)=>{const o=F(9089).getSymbolSize;ee.getPositions=function($){const X=o($);return[[0,0],[X-7,0],[0,X-7]]}},6254:(nt,ee,F)=>{const o=F(9089),$=o.getBCHDigit(1335);ee.getEncodedBits=function(K,oe){const ce=K.bit<<3|oe;let J=ce<<10;for(;o.getBCHDigit(J)-$>=0;)J^=1335<<o.getBCHDigit(J)-$;return 21522^(ce<<10|J)}},6686:(nt,ee)=>{const F=new Uint8Array(512),o=new Uint8Array(256);(function(){let G=1;for(let $=0;$<255;$++)F[$]=G,o[G]=$,G<<=1,256&G&&(G^=285);for(let $=255;$<512;$++)F[$]=F[$-255]})(),ee.log=function(G){if(G<1)throw new Error("log("+G+")");return o[G]},ee.exp=function(G){return F[G]},ee.mul=function(G,$){return 0===G||0===$?0:F[o[G]+o[$]]}},3264:(nt,ee,F)=>{const o=F(1677),W=F(9089);function G($){this.mode=o.KANJI,this.data=$}G.getBitsLength=function(X){return 13*X},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function($){let X;for(X=0;X<this.data.length;X++){let K=W.toSJIS(this.data[X]);if(K>=33088&&K<=40956)K-=33088;else{if(!(K>=57408&&K<=60351))throw new Error("Invalid SJIS character: "+this.data[X]+"\nMake sure your charset is UTF-8");K-=49472}K=192*(K>>>8&255)+(255&K),$.put(K,13)}},nt.exports=G},3361:(nt,ee)=>{ee.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function o(W,G,$){switch(W){case ee.Patterns.PATTERN000:return(G+$)%2==0;case ee.Patterns.PATTERN001:return G%2==0;case ee.Patterns.PATTERN010:return $%3==0;case ee.Patterns.PATTERN011:return(G+$)%3==0;case ee.Patterns.PATTERN100:return(Math.floor(G/2)+Math.floor($/3))%2==0;case ee.Patterns.PATTERN101:return G*$%2+G*$%3==0;case ee.Patterns.PATTERN110:return(G*$%2+G*$%3)%2==0;case ee.Patterns.PATTERN111:return(G*$%3+(G+$)%2)%2==0;default:throw new Error("bad maskPattern:"+W)}}ee.isValid=function(G){return null!=G&&""!==G&&!isNaN(G)&&G>=0&&G<=7},ee.from=function(G){return ee.isValid(G)?parseInt(G,10):void 0},ee.getPenaltyN1=function(G){const $=G.size;let X=0,K=0,oe=0,ce=null,J=null;for(let pe=0;pe<$;pe++){K=oe=0,ce=J=null;for(let se=0;se<$;se++){let Ce=G.get(pe,se);Ce===ce?K++:(K>=5&&(X+=K-5+3),ce=Ce,K=1),Ce=G.get(se,pe),Ce===J?oe++:(oe>=5&&(X+=oe-5+3),J=Ce,oe=1)}K>=5&&(X+=K-5+3),oe>=5&&(X+=oe-5+3)}return X},ee.getPenaltyN2=function(G){const $=G.size;let X=0;for(let K=0;K<$-1;K++)for(let oe=0;oe<$-1;oe++){const ce=G.get(K,oe)+G.get(K,oe+1)+G.get(K+1,oe)+G.get(K+1,oe+1);(4===ce||0===ce)&&X++}return 3*X},ee.getPenaltyN3=function(G){const $=G.size;let X=0,K=0,oe=0;for(let ce=0;ce<$;ce++){K=oe=0;for(let J=0;J<$;J++)K=K<<1&2047|G.get(ce,J),J>=10&&(1488===K||93===K)&&X++,oe=oe<<1&2047|G.get(J,ce),J>=10&&(1488===oe||93===oe)&&X++}return 40*X},ee.getPenaltyN4=function(G){let $=0;const X=G.data.length;for(let oe=0;oe<X;oe++)$+=G.data[oe];return 10*Math.abs(Math.ceil(100*$/X/5)-10)},ee.applyMask=function(G,$){const X=$.size;for(let K=0;K<X;K++)for(let oe=0;oe<X;oe++)$.isReserved(oe,K)||$.xor(oe,K,o(G,oe,K))},ee.getBestMask=function(G,$){const X=Object.keys(ee.Patterns).length;let K=0,oe=1/0;for(let ce=0;ce<X;ce++){$(ce),ee.applyMask(ce,G);const J=ee.getPenaltyN1(G)+ee.getPenaltyN2(G)+ee.getPenaltyN3(G)+ee.getPenaltyN4(G);ee.applyMask(ce,G),J<oe&&(oe=J,K=ce)}return K}},1677:(nt,ee,F)=>{const o=F(377),W=F(9359);ee.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ee.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ee.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ee.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ee.MIXED={bit:-1},ee.getCharCountIndicator=function(X,K){if(!X.ccBits)throw new Error("Invalid mode: "+X);if(!o.isValid(K))throw new Error("Invalid version: "+K);return K>=1&&K<10?X.ccBits[0]:K<27?X.ccBits[1]:X.ccBits[2]},ee.getBestModeForData=function(X){return W.testNumeric(X)?ee.NUMERIC:W.testAlphanumeric(X)?ee.ALPHANUMERIC:W.testKanji(X)?ee.KANJI:ee.BYTE},ee.toString=function(X){if(X&&X.id)return X.id;throw new Error("Invalid mode")},ee.isValid=function(X){return X&&X.bit&&X.ccBits},ee.from=function(X,K){if(ee.isValid(X))return X;try{return function G($){if("string"!=typeof $)throw new Error("Param is not a string");switch($.toLowerCase()){case"numeric":return ee.NUMERIC;case"alphanumeric":return ee.ALPHANUMERIC;case"kanji":return ee.KANJI;case"byte":return ee.BYTE;default:throw new Error("Unknown mode: "+$)}}(X)}catch{return K}}},6628:(nt,ee,F)=>{const o=F(1677);function W(G){this.mode=o.NUMERIC,this.data=G.toString()}W.getBitsLength=function($){return 10*Math.floor($/3)+($%3?$%3*3+1:0)},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function($){let X,K,oe;for(X=0;X+3<=this.data.length;X+=3)K=this.data.substr(X,3),oe=parseInt(K,10),$.put(oe,10);const ce=this.data.length-X;ce>0&&(K=this.data.substr(X),oe=parseInt(K,10),$.put(oe,3*ce+1))},nt.exports=W},1744:(nt,ee,F)=>{const o=F(6686);ee.mul=function(G,$){const X=new Uint8Array(G.length+$.length-1);for(let K=0;K<G.length;K++)for(let oe=0;oe<$.length;oe++)X[K+oe]^=o.mul(G[K],$[oe]);return X},ee.mod=function(G,$){let X=new Uint8Array(G);for(;X.length-$.length>=0;){const K=X[0];for(let ce=0;ce<$.length;ce++)X[ce]^=o.mul($[ce],K);let oe=0;for(;oe<X.length&&0===X[oe];)oe++;X=X.slice(oe)}return X},ee.generateECPolynomial=function(G){let $=new Uint8Array([1]);for(let X=0;X<G;X++)$=ee.mul($,new Uint8Array([1,o.exp(X)]));return $}},9460:(nt,ee,F)=>{const o=F(9089),W=F(7424),G=F(4662),$=F(5941),X=F(6214),K=F(6269),oe=F(3361),ce=F(3677),J=F(6289),pe=F(1252),se=F(6254),Ce=F(1677),_e=F(2868);function Fe(ie,Ne,Y){const B=ie.size,te=se.getEncodedBits(Ne,Y);let fe,j;for(fe=0;fe<15;fe++)j=1==(te>>fe&1),ie.set(fe<6?fe:fe<8?fe+1:B-15+fe,8,j,!0),ie.set(8,fe<8?B-fe-1:fe<9?15-fe-1+1:15-fe-1,j,!0);ie.set(B-8,8,1,!0)}function Te(ie,Ne,Y,B){let te;if(Array.isArray(ie))te=_e.fromArray(ie);else{if("string"!=typeof ie)throw new Error("Invalid data");{let Zt=Ne;if(!Zt){const Ft=_e.rawSplit(ie);Zt=pe.getBestVersionForData(Ft,Y)}te=_e.fromString(ie,Zt||40)}}const fe=pe.getBestVersionForData(te,Y);if(!fe)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ne){if(Ne<fe)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+fe+".\n")}else Ne=fe;const j=function Ve(ie,Ne,Y){const B=new G;Y.forEach(function(Ee){B.put(Ee.mode.bit,4),B.put(Ee.getLength(),Ce.getCharCountIndicator(Ee.mode,ie)),Ee.write(B)});const j=8*(o.getSymbolTotalCodewords(ie)-ce.getTotalCodewordsCount(ie,Ne));for(B.getLengthInBits()+4<=j&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(0);const De=(j-B.getLengthInBits())/8;for(let Ee=0;Ee<De;Ee++)B.put(Ee%2?17:236,8);return function we(ie,Ne,Y){const B=o.getSymbolTotalCodewords(Ne),fe=B-ce.getTotalCodewordsCount(Ne,Y),j=ce.getBlocksCount(Ne,Y),Ee=j-B%j,Zt=Math.floor(B/j),Ft=Math.floor(fe/j),Xe=Ft+1,un=Zt-Ft,Ye=new J(un);let On=0;const Nt=new Array(j),qe=new Array(j);let Pe=0;const Kt=new Uint8Array(ie.buffer);for(let Je=0;Je<j;Je++){const Ze=Je<Ee?Ft:Xe;Nt[Je]=Kt.slice(On,On+Ze),qe[Je]=Ye.encode(Nt[Je]),On+=Ze,Pe=Math.max(Pe,Ze)}const Ct=new Uint8Array(B);let Yt,St,Cn=0;for(Yt=0;Yt<Pe;Yt++)for(St=0;St<j;St++)Yt<Nt[St].length&&(Ct[Cn++]=Nt[St][Yt]);for(Yt=0;Yt<un;Yt++)for(St=0;St<j;St++)Ct[Cn++]=qe[St][Yt];return Ct}(B,ie,Ne)}(Ne,Y,te),De=o.getSymbolSize(Ne),Ee=new $(De);return function Se(ie,Ne){const Y=ie.size,B=K.getPositions(Ne);for(let te=0;te<B.length;te++){const fe=B[te][0],j=B[te][1];for(let De=-1;De<=7;De++)if(!(fe+De<=-1||Y<=fe+De))for(let Ee=-1;Ee<=7;Ee++)j+Ee<=-1||Y<=j+Ee||ie.set(fe+De,j+Ee,De>=0&&De<=6&&(0===Ee||6===Ee)||Ee>=0&&Ee<=6&&(0===De||6===De)||De>=2&&De<=4&&Ee>=2&&Ee<=4,!0)}}(Ee,Ne),function We(ie){const Ne=ie.size;for(let Y=8;Y<Ne-8;Y++){const B=Y%2==0;ie.set(Y,6,B,!0),ie.set(6,Y,B,!0)}}(Ee),function mt(ie,Ne){const Y=X.getPositions(Ne);for(let B=0;B<Y.length;B++){const te=Y[B][0],fe=Y[B][1];for(let j=-2;j<=2;j++)for(let De=-2;De<=2;De++)ie.set(te+j,fe+De,-2===j||2===j||-2===De||2===De||0===j&&0===De,!0)}}(Ee,Ne),Fe(Ee,Y,0),Ne>=7&&function be(ie,Ne){const Y=ie.size,B=pe.getEncodedBits(Ne);let te,fe,j;for(let De=0;De<18;De++)te=Math.floor(De/3),fe=De%3+Y-8-3,j=1==(B>>De&1),ie.set(te,fe,j,!0),ie.set(fe,te,j,!0)}(Ee,Ne),function it(ie,Ne){const Y=ie.size;let B=-1,te=Y-1,fe=7,j=0;for(let De=Y-1;De>0;De-=2)for(6===De&&De--;;){for(let Ee=0;Ee<2;Ee++)if(!ie.isReserved(te,De-Ee)){let Zt=!1;j<Ne.length&&(Zt=1==(Ne[j]>>>fe&1)),ie.set(te,De-Ee,Zt),fe--,-1===fe&&(j++,fe=7)}if(te+=B,te<0||Y<=te){te-=B,B=-B;break}}}(Ee,j),isNaN(B)&&(B=oe.getBestMask(Ee,Fe.bind(null,Ee,Y))),oe.applyMask(B,Ee),Fe(Ee,Y,B),{modules:Ee,version:Ne,errorCorrectionLevel:Y,maskPattern:B,segments:te}}ee.create=function(Ne,Y){if(typeof Ne>"u"||""===Ne)throw new Error("No input text");let te,fe,B=W.M;return typeof Y<"u"&&(B=W.from(Y.errorCorrectionLevel,W.M),te=pe.from(Y.version),fe=oe.from(Y.maskPattern),Y.toSJISFunc&&o.setToSJISFunction(Y.toSJISFunc)),Te(Ne,te,B,fe)}},6289:(nt,ee,F)=>{const o=F(1744);function W(G){this.genPoly=void 0,this.degree=G,this.degree&&this.initialize(this.degree)}W.prototype.initialize=function($){this.degree=$,this.genPoly=o.generateECPolynomial(this.degree)},W.prototype.encode=function($){if(!this.genPoly)throw new Error("Encoder not initialized");const X=new Uint8Array($.length+this.degree);X.set($);const K=o.mod(X,this.genPoly),oe=this.degree-K.length;if(oe>0){const ce=new Uint8Array(this.degree);return ce.set(K,oe),ce}return K},nt.exports=W},9359:(nt,ee)=>{const F="[0-9]+";let W="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";W=W.replace(/u/g,"\\u");const G="(?:(?![A-Z0-9 $%*+\\-./:]|"+W+")(?:.|[\r\n]))+";ee.KANJI=new RegExp(W,"g"),ee.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ee.BYTE=new RegExp(G,"g"),ee.NUMERIC=new RegExp(F,"g"),ee.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const $=new RegExp("^"+W+"$"),X=new RegExp("^"+F+"$"),K=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ee.testKanji=function(ce){return $.test(ce)},ee.testNumeric=function(ce){return X.test(ce)},ee.testAlphanumeric=function(ce){return K.test(ce)}},2868:(nt,ee,F)=>{const o=F(1677),W=F(6628),G=F(1018),$=F(4969),X=F(3264),K=F(9359),oe=F(9089),ce=F(243);function J(be){return unescape(encodeURIComponent(be)).length}function pe(be,Fe,it){const Ve=[];let we;for(;null!==(we=be.exec(it));)Ve.push({data:we[0],index:we.index,mode:Fe,length:we[0].length});return Ve}function se(be){const Fe=pe(K.NUMERIC,o.NUMERIC,be),it=pe(K.ALPHANUMERIC,o.ALPHANUMERIC,be);let Ve,we;return oe.isKanjiModeEnabled()?(Ve=pe(K.BYTE,o.BYTE,be),we=pe(K.KANJI,o.KANJI,be)):(Ve=pe(K.BYTE_KANJI,o.BYTE,be),we=[]),Fe.concat(it,Ve,we).sort(function(ie,Ne){return ie.index-Ne.index}).map(function(ie){return{data:ie.data,mode:ie.mode,length:ie.length}})}function Ce(be,Fe){switch(Fe){case o.NUMERIC:return W.getBitsLength(be);case o.ALPHANUMERIC:return G.getBitsLength(be);case o.KANJI:return X.getBitsLength(be);case o.BYTE:return $.getBitsLength(be)}}function mt(be,Fe){let it;const Ve=o.getBestModeForData(be);if(it=o.from(Fe,Ve),it!==o.BYTE&&it.bit<Ve.bit)throw new Error('"'+be+'" cannot be encoded with mode '+o.toString(it)+".\n Suggested mode is: "+o.toString(Ve));switch(it===o.KANJI&&!oe.isKanjiModeEnabled()&&(it=o.BYTE),it){case o.NUMERIC:return new W(be);case o.ALPHANUMERIC:return new G(be);case o.KANJI:return new X(be);case o.BYTE:return new $(be)}}ee.fromArray=function(Fe){return Fe.reduce(function(it,Ve){return"string"==typeof Ve?it.push(mt(Ve,null)):Ve.data&&it.push(mt(Ve.data,Ve.mode)),it},[])},ee.fromString=function(Fe,it){const we=function Se(be){const Fe=[];for(let it=0;it<be.length;it++){const Ve=be[it];switch(Ve.mode){case o.NUMERIC:Fe.push([Ve,{data:Ve.data,mode:o.ALPHANUMERIC,length:Ve.length},{data:Ve.data,mode:o.BYTE,length:Ve.length}]);break;case o.ALPHANUMERIC:Fe.push([Ve,{data:Ve.data,mode:o.BYTE,length:Ve.length}]);break;case o.KANJI:Fe.push([Ve,{data:Ve.data,mode:o.BYTE,length:J(Ve.data)}]);break;case o.BYTE:Fe.push([{data:Ve.data,mode:o.BYTE,length:J(Ve.data)}])}}return Fe}(se(Fe,oe.isKanjiModeEnabled())),Te=function We(be,Fe){const it={},Ve={start:{}};let we=["start"];for(let Te=0;Te<be.length;Te++){const ie=be[Te],Ne=[];for(let Y=0;Y<ie.length;Y++){const B=ie[Y],te=""+Te+Y;Ne.push(te),it[te]={node:B,lastCount:0},Ve[te]={};for(let fe=0;fe<we.length;fe++){const j=we[fe];it[j]&&it[j].node.mode===B.mode?(Ve[j][te]=Ce(it[j].lastCount+B.length,B.mode)-Ce(it[j].lastCount,B.mode),it[j].lastCount+=B.length):(it[j]&&(it[j].lastCount=B.length),Ve[j][te]=Ce(B.length,B.mode)+4+o.getCharCountIndicator(B.mode,Fe))}}we=Ne}for(let Te=0;Te<we.length;Te++)Ve[we[Te]].end=0;return{map:Ve,table:it}}(we,it),ie=ce.find_path(Te.map,"start","end"),Ne=[];for(let Y=1;Y<ie.length-1;Y++)Ne.push(Te.table[ie[Y]].node);return ee.fromArray(function _e(be){return be.reduce(function(Fe,it){const Ve=Fe.length-1>=0?Fe[Fe.length-1]:null;return Ve&&Ve.mode===it.mode?(Fe[Fe.length-1].data+=it.data,Fe):(Fe.push(it),Fe)},[])}(Ne))},ee.rawSplit=function(Fe){return ee.fromArray(se(Fe,oe.isKanjiModeEnabled()))}},9089:(nt,ee)=>{let F;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ee.getSymbolSize=function(G){if(!G)throw new Error('"version" cannot be null or undefined');if(G<1||G>40)throw new Error('"version" should be in range from 1 to 40');return 4*G+17},ee.getSymbolTotalCodewords=function(G){return o[G]},ee.getBCHDigit=function(W){let G=0;for(;0!==W;)G++,W>>>=1;return G},ee.setToSJISFunction=function(G){if("function"!=typeof G)throw new Error('"toSJISFunc" is not a valid function.');F=G},ee.isKanjiModeEnabled=function(){return typeof F<"u"},ee.toSJIS=function(G){return F(G)}},377:(nt,ee)=>{ee.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},1252:(nt,ee,F)=>{const o=F(9089),W=F(3677),G=F(7424),$=F(1677),X=F(377),oe=o.getBCHDigit(7973);function J(Ce,_e){return $.getCharCountIndicator(Ce,_e)+4}function pe(Ce,_e){let Se=0;return Ce.forEach(function(We){const mt=J(We.mode,_e);Se+=mt+We.getBitsLength()}),Se}ee.from=function(_e,Se){return X.isValid(_e)?parseInt(_e,10):Se},ee.getCapacity=function(_e,Se,We){if(!X.isValid(_e))throw new Error("Invalid QR Code version");typeof We>"u"&&(We=$.BYTE);const Fe=8*(o.getSymbolTotalCodewords(_e)-W.getTotalCodewordsCount(_e,Se));if(We===$.MIXED)return Fe;const it=Fe-J(We,_e);switch(We){case $.NUMERIC:return Math.floor(it/10*3);case $.ALPHANUMERIC:return Math.floor(it/11*2);case $.KANJI:return Math.floor(it/13);default:return Math.floor(it/8)}},ee.getBestVersionForData=function(_e,Se){let We;const mt=G.from(Se,G.M);if(Array.isArray(_e)){if(_e.length>1)return function se(Ce,_e){for(let Se=1;Se<=40;Se++)if(pe(Ce,Se)<=ee.getCapacity(Se,_e,$.MIXED))return Se}(_e,mt);if(0===_e.length)return 1;We=_e[0]}else We=_e;return function ce(Ce,_e,Se){for(let We=1;We<=40;We++)if(_e<=ee.getCapacity(We,Se,Ce))return We}(We.mode,We.getLength(),mt)},ee.getEncodedBits=function(_e){if(!X.isValid(_e)||_e<7)throw new Error("Invalid QR Code version");let Se=_e<<12;for(;o.getBCHDigit(Se)-oe>=0;)Se^=7973<<o.getBCHDigit(Se)-oe;return _e<<12|Se}},7030:(nt,ee,F)=>{const o=F(7077);ee.render=function(X,K,oe){let ce=oe,J=K;typeof ce>"u"&&(!K||!K.getContext)&&(ce=K,K=void 0),K||(J=function G(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),ce=o.getOptions(ce);const pe=o.getImageWidth(X.modules.size,ce),se=J.getContext("2d"),Ce=se.createImageData(pe,pe);return o.qrToImageData(Ce.data,X,ce),function W($,X,K){$.clearRect(0,0,X.width,X.height),X.style||(X.style={}),X.height=K,X.width=K,X.style.height=K+"px",X.style.width=K+"px"}(se,J,pe),se.putImageData(Ce,0,0),J},ee.renderToDataURL=function(X,K,oe){let ce=oe;return typeof ce>"u"&&(!K||!K.getContext)&&(ce=K,K=void 0),ce||(ce={}),ee.render(X,K,ce).toDataURL(ce.type||"image/png",(ce.rendererOpts||{}).quality)}},6511:(nt,ee,F)=>{const o=F(7077);function W(X,K){const oe=X.a/255,ce=K+'="'+X.hex+'"';return oe<1?ce+" "+K+'-opacity="'+oe.toFixed(2).slice(1)+'"':ce}function G(X,K,oe){let ce=X+K;return typeof oe<"u"&&(ce+=" "+oe),ce}ee.render=function(K,oe,ce){const J=o.getOptions(oe),pe=K.modules.size,se=K.modules.data,Ce=pe+2*J.margin,_e=J.color.light.a?"<path "+W(J.color.light,"fill")+' d="M0 0h'+Ce+"v"+Ce+'H0z"/>':"",Se="<path "+W(J.color.dark,"stroke")+' d="'+function $(X,K,oe){let ce="",J=0,pe=!1,se=0;for(let Ce=0;Ce<X.length;Ce++){const _e=Math.floor(Ce%K),Se=Math.floor(Ce/K);!_e&&!pe&&(pe=!0),X[Ce]?(se++,Ce>0&&_e>0&&X[Ce-1]||(ce+=pe?G("M",_e+oe,.5+Se+oe):G("m",J,0),J=0,pe=!1),_e+1<K&&X[Ce+1]||(ce+=G("h",se),se=0)):J++}return ce}(se,pe,J.margin)+'"/>',be='<svg xmlns="http://www.w3.org/2000/svg" '+(J.width?'width="'+J.width+'" height="'+J.width+'" ':"")+'viewBox="0 0 '+Ce+" "+Ce+'" shape-rendering="crispEdges">'+_e+Se+"</svg>\n";return"function"==typeof ce&&ce(null,be),be}},7077:(nt,ee)=>{function F(o){if("number"==typeof o&&(o=o.toString()),"string"!=typeof o)throw new Error("Color should be defined as hex string");let W=o.slice().replace("#","").split("");if(W.length<3||5===W.length||W.length>8)throw new Error("Invalid hex color: "+o);(3===W.length||4===W.length)&&(W=Array.prototype.concat.apply([],W.map(function($){return[$,$]}))),6===W.length&&W.push("F","F");const G=parseInt(W.join(""),16);return{r:G>>24&255,g:G>>16&255,b:G>>8&255,a:255&G,hex:"#"+W.slice(0,6).join("")}}ee.getOptions=function(W){W||(W={}),W.color||(W.color={});const $=W.width&&W.width>=21?W.width:void 0;return{width:$,scale:$?4:W.scale||4,margin:typeof W.margin>"u"||null===W.margin||W.margin<0?4:W.margin,color:{dark:F(W.color.dark||"#000000ff"),light:F(W.color.light||"#ffffffff")},type:W.type,rendererOpts:W.rendererOpts||{}}},ee.getScale=function(W,G){return G.width&&G.width>=W+2*G.margin?G.width/(W+2*G.margin):G.scale},ee.getImageWidth=function(W,G){const $=ee.getScale(W,G);return Math.floor((W+2*G.margin)*$)},ee.qrToImageData=function(W,G,$){const X=G.modules.size,K=G.modules.data,oe=ee.getScale(X,$),ce=Math.floor((X+2*$.margin)*oe),J=$.margin*oe,pe=[$.color.light,$.color.dark];for(let se=0;se<ce;se++)for(let Ce=0;Ce<ce;Ce++){let _e=4*(se*ce+Ce),Se=$.color.light;se>=J&&Ce>=J&&se<ce-J&&Ce<ce-J&&(Se=pe[K[Math.floor((se-J)/oe)*X+Math.floor((Ce-J)/oe)]?1:0]),W[_e++]=Se.r,W[_e++]=Se.g,W[_e++]=Se.b,W[_e]=Se.a}}},4412:(nt,ee,F)=>{"use strict";F.d(ee,{t:()=>W});var o=F(1413);class W extends o.B{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const X=super._subscribe($);return!X.closed&&$.next(this._value),X}getValue(){const{hasError:$,thrownError:X,_value:K}=this;if($)throw X;return this._throwIfClosed(),K}next($){super.next(this._value=$)}}},1985:(nt,ee,F)=>{"use strict";F.d(ee,{c:()=>ce});var o=F(7707),W=F(8359),G=F(3494),$=F(1203),X=F(1026),K=F(8071),oe=F(9786);let ce=(()=>{class Ce{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const We=new Ce;return We.source=this,We.operator=Se,We}subscribe(Se,We,mt){const be=function se(Ce){return Ce&&Ce instanceof o.vU||function pe(Ce){return Ce&&(0,K.T)(Ce.next)&&(0,K.T)(Ce.error)&&(0,K.T)(Ce.complete)}(Ce)&&(0,W.Uv)(Ce)}(Se)?Se:new o.Ms(Se,We,mt);return(0,oe.Y)(()=>{const{operator:Fe,source:it}=this;be.add(Fe?Fe.call(be,it):it?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Se){try{return this._subscribe(Se)}catch(We){Se.error(We)}}forEach(Se,We){return new(We=J(We))((mt,be)=>{const Fe=new o.Ms({next:it=>{try{Se(it)}catch(Ve){be(Ve),Fe.unsubscribe()}},error:be,complete:mt});this.subscribe(Fe)})}_subscribe(Se){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Se)}[G.s](){return this}pipe(...Se){return(0,$.m)(Se)(this)}toPromise(Se){return new(Se=J(Se))((We,mt)=>{let be;this.subscribe(Fe=>be=Fe,Fe=>mt(Fe),()=>We(be))})}}return Ce.create=_e=>new Ce(_e),Ce})();function J(Ce){var _e;return null!==(_e=Ce??X.$.Promise)&&void 0!==_e?_e:Promise}},1413:(nt,ee,F)=>{"use strict";F.d(ee,{B:()=>oe});var o=F(1985),W=F(8359);const $=(0,F(1853).L)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=F(7908),K=F(9786);let oe=(()=>{class J extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const Ce=new ce(this,this);return Ce.operator=se,Ce}_throwIfClosed(){if(this.closed)throw new $}next(se){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(se)}})}error(se){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(se)}})}complete(){(0,K.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:Ce,isStopped:_e,observers:Se}=this;return Ce||_e?W.Kn:(this.currentObservers=null,Se.push(se),new W.yU(()=>{this.currentObservers=null,(0,X.o)(Se,se)}))}_checkFinalizedStatuses(se){const{hasError:Ce,thrownError:_e,isStopped:Se}=this;Ce?se.error(_e):Se&&se.complete()}asObservable(){const se=new o.c;return se.source=this,se}}return J.create=(pe,se)=>new ce(pe,se),J})();class ce extends oe{constructor(pe,se){super(),this.destination=pe,this.source=se}next(pe){var se,Ce;null===(Ce=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===Ce||Ce.call(se,pe)}error(pe){var se,Ce;null===(Ce=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===Ce||Ce.call(se,pe)}complete(){var pe,se;null===(se=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===se||se.call(pe)}_subscribe(pe){var se,Ce;return null!==(Ce=null===(se=this.source)||void 0===se?void 0:se.subscribe(pe))&&void 0!==Ce?Ce:W.Kn}}},7707:(nt,ee,F)=>{"use strict";F.d(ee,{Ms:()=>mt,vU:()=>Ce});var o=F(8071),W=F(8359),G=F(1026),$=F(5334),X=F(5343);const K=J("C",void 0,void 0);function J(we,Te,ie){return{kind:we,value:Te,error:ie}}var pe=F(9270),se=F(9786);class Ce extends W.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,W.Uv)(Te)&&Te.add(this)):this.destination=Ve}static create(Te,ie,Ne){return new mt(Te,ie,Ne)}next(Te){this.isStopped?it(function ce(we){return J("N",we,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?it(function oe(we){return J("E",void 0,we)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?it(K,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _e=Function.prototype.bind;function Se(we,Te){return _e.call(we,Te)}class We{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ie}=this;if(ie.next)try{ie.next(Te)}catch(Ne){be(Ne)}}error(Te){const{partialObserver:ie}=this;if(ie.error)try{ie.error(Te)}catch(Ne){be(Ne)}else be(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ie){be(ie)}}}class mt extends Ce{constructor(Te,ie,Ne){let Y;if(super(),(0,o.T)(Te)||!Te)Y={next:Te??void 0,error:ie??void 0,complete:Ne??void 0};else{let B;this&&G.$.useDeprecatedNextContext?(B=Object.create(Te),B.unsubscribe=()=>this.unsubscribe(),Y={next:Te.next&&Se(Te.next,B),error:Te.error&&Se(Te.error,B),complete:Te.complete&&Se(Te.complete,B)}):Y=Te}this.destination=new We(Y)}}function be(we){G.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(we):(0,$.m)(we)}function it(we,Te){const{onStoppedNotification:ie}=G.$;ie&&pe.f.setTimeout(()=>ie(we,Te))}const Ve={closed:!0,next:X.l,error:function Fe(we){throw we},complete:X.l}},8359:(nt,ee,F)=>{"use strict";F.d(ee,{Kn:()=>K,yU:()=>X,Uv:()=>oe});var o=F(8071);const G=(0,F(1853).L)(J=>function(se){J(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((Ce,_e)=>`${_e+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var $=F(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Se of se)Se.remove(this);else se.remove(this);const{initialTeardown:Ce}=this;if((0,o.T)(Ce))try{Ce()}catch(Se){pe=Se instanceof G?Se.errors:[Se]}const{_finalizers:_e}=this;if(_e){this._finalizers=null;for(const Se of _e)try{ce(Se)}catch(We){pe=pe??[],We instanceof G?pe=[...pe,...We.errors]:pe.push(We)}}if(pe)throw new G(pe)}}add(pe){var se;if(pe&&pe!==this)if(this.closed)ce(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(pe)}}_hasParent(pe){const{_parentage:se}=this;return se===pe||Array.isArray(se)&&se.includes(pe)}_addParent(pe){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(pe),se):se?[se,pe]:pe}_removeParent(pe){const{_parentage:se}=this;se===pe?this._parentage=null:Array.isArray(se)&&(0,$.o)(se,pe)}remove(pe){const{_finalizers:se}=this;se&&(0,$.o)(se,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const J=new X;return J.closed=!0,J})();const K=X.EMPTY;function oe(J){return J instanceof X||J&&"closed"in J&&(0,o.T)(J.remove)&&(0,o.T)(J.add)&&(0,o.T)(J.unsubscribe)}function ce(J){(0,o.T)(J)?J():J.unsubscribe()}},1026:(nt,ee,F)=>{"use strict";F.d(ee,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(nt,ee,F)=>{"use strict";F.d(ee,{_:()=>W});var o=F(7707);function W($,X,K,oe,ce){return new G($,X,K,oe,ce)}class G extends o.vU{constructor(X,K,oe,ce,J,pe){super(X),this.onFinalize=J,this.shouldUnsubscribe=pe,this._next=K?function(se){try{K(se)}catch(Ce){X.error(Ce)}}:super._next,this._error=ce?function(se){try{ce(se)}catch(Ce){X.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(se){X.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:K}=this;super.unsubscribe(),!K&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},6354:(nt,ee,F)=>{"use strict";F.d(ee,{T:()=>G});var o=F(9974),W=F(4360);function G($,X){return(0,o.N)((K,oe)=>{let ce=0;K.subscribe((0,W._)(oe,J=>{oe.next($.call(X,J,ce++))}))})}},9270:(nt,ee,F)=>{"use strict";F.d(ee,{f:()=>o});const o={setTimeout(W,G,...$){const{delegate:X}=o;return X?.setTimeout?X.setTimeout(W,G,...$):setTimeout(W,G,...$)},clearTimeout(W){const{delegate:G}=o;return(G?.clearTimeout||clearTimeout)(W)},delegate:void 0}},3494:(nt,ee,F)=>{"use strict";F.d(ee,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(nt,ee,F)=>{"use strict";function o(W,G){if(W){const $=W.indexOf(G);0<=$&&W.splice($,1)}}F.d(ee,{o:()=>o})},1853:(nt,ee,F)=>{"use strict";function o(W){const $=W(X=>{Error.call(X),X.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}F.d(ee,{L:()=>o})},9786:(nt,ee,F)=>{"use strict";F.d(ee,{Y:()=>G,l:()=>$});var o=F(1026);let W=null;function G(X){if(o.$.useDeprecatedSynchronousErrorHandling){const K=!W;if(K&&(W={errorThrown:!1,error:null}),X(),K){const{errorThrown:oe,error:ce}=W;if(W=null,oe)throw ce}}else X()}function $(X){o.$.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=X)}},3669:(nt,ee,F)=>{"use strict";function o(W){return W}F.d(ee,{D:()=>o})},8071:(nt,ee,F)=>{"use strict";function o(W){return"function"==typeof W}F.d(ee,{T:()=>o})},9974:(nt,ee,F)=>{"use strict";F.d(ee,{N:()=>G,S:()=>W});var o=F(8071);function W($){return(0,o.T)($?.lift)}function G($){return X=>{if(W(X))return X.lift(function(K){try{return $(K,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(nt,ee,F)=>{"use strict";function o(){}F.d(ee,{l:()=>o})},1203:(nt,ee,F)=>{"use strict";F.d(ee,{F:()=>W,m:()=>G});var o=F(3669);function W(...$){return G($)}function G($){return 0===$.length?o.D:1===$.length?$[0]:function(K){return $.reduce((oe,ce)=>ce(oe),K)}}},5334:(nt,ee,F)=>{"use strict";F.d(ee,{m:()=>G});var o=F(1026),W=F(9270);function G($){W.f.setTimeout(()=>{const{onUnhandledError:X}=o.$;if(!X)throw $;X($)})}},4438:(nt,ee,F)=>{"use strict";function o(e,n){return Object.is(e,n)}F.d(ee,{bc$:()=>vl,iLQ:()=>iv,sZ2:()=>Bo,hnV:()=>TI,Hbi:()=>IM,o8S:()=>Rs,BIS:()=>gC,gRc:()=>$I,Ql9:()=>qT,Ocv:()=>nM,Z63:()=>Fi,aKT:()=>ll,uvJ:()=>Bi,zcH:()=>Ai,bkB:()=>Di,$GK:()=>Ot,nKC:()=>je,zZn:()=>Or,_q3:()=>O_,MKu:()=>k_,xe9:()=>A_,Co$:()=>cy,Vns:()=>ga,SKi:()=>Rn,Xx1:()=>Gs,Agw:()=>fd,PLl:()=>P0,sFG:()=>Hb,_9s:()=>Cm,czy:()=>Ad,kdw:()=>ri,C4Q:()=>qi,NYb:()=>HT,giA:()=>AI,RxE:()=>CI,c1b:()=>lr,gXe:()=>ro,mal:()=>uf,L39:()=>nN,EWP:()=>iN,Ol2:()=>Gp,w6W:()=>mE,oH4:()=>jI,Rfq:()=>cr,WQX:()=>$e,QuC:()=>I,EmA:()=>re,fpN:()=>xM,HJs:()=>dN,N4e:()=>H_,vPA:()=>jm,O8t:()=>oN,An2:()=>ha,H3F:()=>wI,H8p:()=>io,KH2:()=>Ef,TgB:()=>ps,wOt:()=>de,WHO:()=>II,e01:()=>DI,H5H:()=>n_,Zy3:()=>Pn,mq5:()=>Lx,JZv:()=>gt,LfX:()=>Ps,plB:()=>As,jNT:()=>b_,zjR:()=>SI,ngT:()=>Pr,TL$:()=>pC,Tbb:()=>ut,Vt3:()=>pa,GFd:()=>ay,OA$:()=>Gf,Jv_:()=>z2,aNF:()=>$2,R7$:()=>x1,BMQ:()=>ng,AVh:()=>ye,wni:()=>v2,VBU:()=>ss,FsC:()=>p,jDH:()=>fn,G2t:()=>Fs,$C:()=>l,EJ8:()=>g,rXU:()=>lc,nrm:()=>JE,k0s:()=>Xy,j41:()=>Wy,RV6:()=>kx,xGo:()=>g0,KVO:()=>kn,kS0:()=>Ks,QTQ:()=>Pd,bIt:()=>o_,lsd:()=>E2,XpG:()=>c2,nI1:()=>eI,bMT:()=>tI,i5U:()=>nI,Y8G:()=>V,Mz_:()=>Qy,lJ4:()=>Y2,mGM:()=>w2,sdS:()=>_2,Njj:()=>Zg,eBV:()=>qg,n$t:()=>$h,DNE:()=>sf,C5r:()=>rI,EFF:()=>R2,JRh:()=>c_,SpI:()=>Jy,Lme:()=>l_,E5c:()=>u_,wXG:()=>zh,DH7:()=>V2,mxI:()=>f_,R50:()=>d_,GBs:()=>C2});let W=null,G=!1,$=1;const X=Symbol("SIGNAL");function K(e){const n=W;return W=e,n}const pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function se(e){if(G)throw new Error("");if(null===W)return;W.consumerOnSignalRead(e);const n=W.nextProducerIndex++;Ne(W),n<W.producerNode.length&&W.producerNode[n]!==e&&ie(W)&&Te(W.producerNode[n],W.producerIndexOfThis[n]),W.producerNode[n]!==e&&(W.producerNode[n]=e,W.producerIndexOfThis[n]=ie(W)?we(e,W,n):0),W.producerLastReadVersion[n]=e.version}function _e(e){if((!ie(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==$)){if(!e.producerMustRecompute(e)&&!it(e))return e.dirty=!1,void(e.lastCleanEpoch=$);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$}}function Se(e){if(void 0===e.liveConsumerNode)return;const n=G;G=!0;try{for(const i of e.liveConsumerNode)i.dirty||mt(i)}finally{G=n}}function We(){return!1!==W?.consumerAllowSignalWrites}function mt(e){e.dirty=!0,Se(e),e.consumerMarkedDirty?.(e)}function be(e){return e&&(e.nextProducerIndex=0),K(e)}function Fe(e,n){if(K(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ie(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Te(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function it(e){Ne(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],u=e.producerLastReadVersion[n];if(u!==i.version||(_e(i),u!==i.version))return!0}return!1}function Ve(e){if(Ne(e),ie(e))for(let n=0;n<e.producerNode.length;n++)Te(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function we(e,n,i){if(Y(e),0===e.liveConsumerNode.length&&B(e))for(let u=0;u<e.producerNode.length;u++)e.producerIndexOfThis[u]=we(e.producerNode[u],e,u);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function Te(e,n){if(Y(e),1===e.liveConsumerNode.length&&B(e))for(let u=0;u<e.producerNode.length;u++)Te(e.producerNode[u],e.producerIndexOfThis[u]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const u=e.liveConsumerIndexOfThis[n],h=e.liveConsumerNode[n];Ne(h),h.producerIndexOfThis[u]=n}}function ie(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ne(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Y(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function B(e){return void 0!==e.producerNode}const fe=Symbol("UNSET"),j=Symbol("COMPUTING"),De=Symbol("ERRORED"),Ee={...pe,value:fe,dirty:!0,error:null,equal:o,producerMustRecompute:e=>e.value===fe||e.value===j,producerRecomputeValue(e){if(e.value===j)throw new Error("Detected cycle in computations.");const n=e.value;e.value=j;const i=be(e);let u;try{u=e.computation()}catch(h){u=De,e.error=h}finally{Fe(e,i)}n!==fe&&n!==De&&u!==De&&e.equal(n,u)?e.value=n:(e.value=u,e.version++)}};let Ft=function Zt(){throw new Error};function Xe(){Ft()}let Ye=null;function Pe(e,n){We()||Xe(),e.equal(e.value,n)||(e.value=n,function Yt(e){e.version++,function Ce(){$++}(),Se(e),Ye?.()}(e))}const Cn={...pe,equal:o,value:void 0};var an=F(4412),$t=F(1413),Wt=F(8359),Vt=F(6354);const ar="https://g.co/ng/security#xss";class de extends Error{constructor(n,i){super(Pn(n,i)),this.code=n}}function Pn(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function Ge(e){return{toString:e}.toString()}const Un="__parameters__";function Me(e,n,i){return Ge(()=>{const u=function Mt(e){return function(...i){if(e){const u=e(...i);for(const h in u)this[h]=u[h]}}}(n);function h(...m){if(this instanceof h)return u.apply(this,m),this;const w=new h(...m);return b.annotation=w,b;function b(x,S,N){const P=x.hasOwnProperty(Un)?x[Un]:Object.defineProperty(x,Un,{value:[]})[Un];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(w),x}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}const gt=globalThis;function Pt(e){for(let n in e)if(e[n]===Pt)return n;throw Error("Could not find renamed property on target object.")}function vu(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function es(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const ba=Pt({__forward_ref__:Pt});function cr(e){return e.__forward_ref__=cr,e.toString=function(){return ut(this())},e}function ct(e){return gi(e)?e():e}function gi(e){return"function"==typeof e&&e.hasOwnProperty(ba)&&e.__forward_ref__===cr}function fn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fs(e){return{providers:e.providers||[],imports:e.imports||[]}}function Lr(e){return xe(e,vi)||xe(e,Qt)}function Ps(e){return null!==Lr(e)}function xe(e,n){return e.hasOwnProperty(n)?e[n]:null}function In(e){return e&&(e.hasOwnProperty(Ls)||e.hasOwnProperty(on))?e[Ls]:null}const vi=Pt({\u0275prov:Pt}),Ls=Pt({\u0275inj:Pt}),Qt=Pt({ngInjectableDef:Pt}),on=Pt({ngInjectorDef:Pt});class je{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=fn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cn(e){return e&&!!e.\u0275providers}const jn=Pt({\u0275cmp:Pt}),ae=Pt({\u0275dir:Pt}),U=Pt({\u0275pipe:Pt}),ot=Pt({\u0275mod:Pt}),Dn=Pt({\u0275fac:Pt}),Cr=Pt({__NG_ELEMENT_ID__:Pt}),Af=Pt({__NG_ENV_ID__:Pt});function wt(e){return"string"==typeof e?e:null==e?"":String(e)}function rs(e,n){throw new de(-201,!1)}var Ot=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ot||{});let Uc;function xu(){return Uc}function tr(e){const n=Uc;return Uc=e,n}function ki(e,n,i){const u=Lr(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&Ot.Optional?null:void 0!==n?n:void rs()}const bt={},$n="__NG_DI_FLAG__",Ia="ngTempTokenPath",Iu=/\n/gm,jc="__source";let ni;function wr(e){const n=ni;return ni=e,n}function Da(e,n=Ot.Default){if(void 0===ni)throw new de(-203,!1);return null===ni?ki(e,void 0,n):ni.get(e,n&Ot.Optional?null:void 0,n)}function kn(e,n=Ot.Default){return(xu()||Da)(ct(e),n)}function $e(e,n=Ot.Default){return kn(e,Vs(n))}function Vs(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function js(e){const n=[];for(let i=0;i<e.length;i++){const u=ct(e[i]);if(Array.isArray(u)){if(0===u.length)throw new de(900,!1);let h,m=Ot.Default;for(let w=0;w<u.length;w++){const b=u[w],x=Tf(b);"number"==typeof x?-1===x?h=b.token:m|=x:h=b}n.push(kn(h,m))}else n.push(kn(u))}return n}function Hs(e,n){return e[$n]=n,e.prototype[$n]=n,e}function Tf(e){return e[$n]}const Gs=Hs(Me("Optional"),8),ri=Hs(Me("SkipSelf"),4);function le(e,n){return e.hasOwnProperty(Dn)?e[Dn]:null}function Io(e,n){e.forEach(i=>Array.isArray(i)?Io(i,n):n(i))}function Sa(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Ta(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function nr(e,n,i){let u=no(e,n);return u>=0?e[1|u]=i:(u=~u,function Wn(e,n,i,u){let h=e.length;if(h==n)e.push(i,u);else if(1===h)e.push(u,e[0]),e[0]=i;else{for(h--,e.push(e[h-1],e[h]);h>n;)e[h]=e[h-2],h--;e[n]=i,e[n+1]=u}}(e,u,n,i)),u}function zs(e,n){const i=no(e,n);if(i>=0)return e[1|i]}function no(e,n){return function ft(e,n,i){let u=0,h=e.length>>i;for(;h!==u;){const m=u+(h-u>>1),w=e[m<<i];if(n===w)return m<<i;w>n?h=m:u=m+1}return~(h<<i)}(e,n,1)}const Ci={},st=[],Fi=new je(""),Hc=new je("",-1),Gc=new je("");class Na{get(n,i=bt){if(i===bt){const u=new Error(`NullInjectorError: No provider for ${ut(n)}!`);throw u.name="NullInjectorError",u}return i}}var $s=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($s||{}),ro=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(ro||{}),wi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(wi||{});function Nu(e,n,i){let u=e.length;for(;;){const h=e.indexOf(n,i);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const m=n.length;if(h+m===u||e.charCodeAt(h+m)<=32)return h}i=h+1}}function Ra(e,n,i){let u=0;for(;u<i.length;){const h=i[u];if("number"==typeof h){if(0!==h)break;u++;const m=i[u++],w=i[u++],b=i[u++];e.setAttribute(n,w,b,m)}else{const m=h,w=i[++u];is(m)?e.setProperty(n,m,w):e.setAttribute(n,m,w),u++}}return u}function Mf(e){return 3===e||4===e||6===e}function is(e){return 64===e.charCodeAt(0)}function Ao(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let u=0;u<n.length;u++){const h=n[u];"number"==typeof h?i=h:0===i||Ru(e,i,h,null,-1===i||2===i?n[++u]:null)}}return e}function Ru(e,n,i,u,h){let m=0,w=e.length;if(-1===n)w=-1;else for(;m<e.length;){const b=e[m++];if("number"==typeof b){if(b===n){w=-1;break}if(b>n){w=m-1;break}}}for(;m<e.length;){const b=e[m];if("number"==typeof b)break;if(b===i){if(null===u)return void(null!==h&&(e[m+1]=h));if(u===e[m+1])return void(e[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==w&&(e.splice(w,0,n),m=w+1),e.splice(m++,0,i),null!==u&&e.splice(m++,0,u),null!==h&&e.splice(m++,0,h)}const os="ng-template";function Ig(e,n,i,u){let h=0;if(u){for(;h<n.length&&"string"==typeof n[h];h+=2)if("class"===n[h]&&-1!==Nu(n[h+1].toLowerCase(),i,0))return!0}else if(ii(e))return!1;if(h=n.indexOf(1,h),h>-1){let m;for(;++h<n.length&&"string"==typeof(m=n[h]);)if(m.toLowerCase()===i)return!0}return!1}function ii(e){return 4===e.type&&e.value!==os}function Oa(e,n,i){return n===(4!==e.type||i?e.value:os)}function Bt(e,n,i){let u=4;const h=e.attrs,m=null!==h?function Dg(e){for(let n=0;n<e.length;n++)if(Mf(e[n]))return n;return e.length}(h):0;let w=!1;for(let b=0;b<n.length;b++){const x=n[b];if("number"!=typeof x){if(!w)if(4&u){if(u=2|1&u,""!==x&&!Oa(e,x,i)||""===x&&1===n.length){if(oi(u))return!1;w=!0}}else if(8&u){if(null===h||!Ig(e,h,x,i)){if(oi(u))return!1;w=!0}}else{const S=n[++b],N=Pi(x,h,ii(e),i);if(-1===N){if(oi(u))return!1;w=!0;continue}if(""!==S){let P;if(P=N>m?"":h[N+1].toLowerCase(),2&u&&S!==P){if(oi(u))return!1;w=!0}}}}else{if(!w&&!oi(u)&&!oi(x))return!1;if(w&&oi(x))continue;w=!1,u=x|1&u}}return oi(u)||w}function oi(e){return!(1&e)}function Pi(e,n,i,u){if(null===n)return-1;let h=0;if(u||!i){let m=!1;for(;h<n.length;){const w=n[h];if(w===e)return h;if(3===w||6===w)m=!0;else{if(1===w||2===w){let b=n[++h];for(;"string"==typeof b;)b=n[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=m?1:2}return-1}return function Rf(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const u=e[i];if("number"==typeof u)return-1;if(u===n)return i;i++}return-1}(n,e)}function Nf(e,n,i=!1){for(let u=0;u<n.length;u++)if(Bt(e,n[u],i))return!0;return!1}function ku(e,n){return e?":not("+n.trim()+")":n}function Fu(e){let n=e[0],i=1,u=2,h="",m=!1;for(;i<e.length;){let w=e[i];if("string"==typeof w)if(2&u){const b=e[++i];h+="["+w+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+w:4&u&&(h+=" "+w);else""!==h&&!oi(w)&&(n+=ku(m,h),h=""),u=w,m=m||!oi(u);i++}return""!==h&&(n+=ku(m,h)),n}function ss(e){return Ge(()=>{const n=O(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$s.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||ro.Emulated,styles:e.styles||st,_:null,schemas:e.schemas||null,tView:null,id:""};k(i);const u=e.dependencies;return i.directiveDefs=L(u,!1),i.pipeDefs=L(u,!0),i.id=function Q(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const h of i)n=Math.imul(31,n)+h.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function D(e){return v(e)||C(e)}function c(e){return null!==e}function l(e){return Ge(()=>({type:e.type,bootstrap:e.bootstrap||st,declarations:e.declarations||st,imports:e.imports||st,exports:e.exports||st,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function f(e,n){if(null==e)return Ci;const i={};for(const u in e)if(e.hasOwnProperty(u)){const h=e[u];let m,w,b=wi.None;Array.isArray(h)?(b=h[0],m=h[1],w=h[2]??m):(m=h,w=h),n?(i[m]=b!==wi.None?[u,b]:u,n[m]=w):i[m]=u}return i}function p(e){return Ge(()=>{const n=O(e);return k(n),n})}function g(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function v(e){return e[jn]||null}function C(e){return e[ae]||null}function E(e){return e[U]||null}function I(e){const n=v(e)||C(e)||E(e);return null!==n&&n.standalone}function A(e,n){const i=e[ot]||null;if(!i&&!0===n)throw new Error(`Type ${ut(e)} does not have '\u0275mod' property.`);return i}function O(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Ci,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||st,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f(e.inputs,n),outputs:f(e.outputs),debugInfo:null}}function k(e){e.features?.forEach(n=>n(e))}function L(e,n){if(!e)return null;const i=n?E:D;return()=>("function"==typeof e?e():e).map(u=>i(u)).filter(c)}function re(e){return{\u0275providers:e}}function ue(...e){return{\u0275providers:Ae(0,e),\u0275fromNgModule:!0}}function Ae(e,...n){const i=[],u=new Set;let h;const m=w=>{i.push(w)};return Io(n,w=>{const b=w;ge(b,m,[],u)&&(h||=[],h.push(b))}),void 0!==h&&He(h,m),i}function He(e,n){for(let i=0;i<e.length;i++){const{ngModule:u,providers:h}=e[i];Dt(h,m=>{n(m,u)})}}function ge(e,n,i,u){if(!(e=ct(e)))return!1;let h=null,m=In(e);const w=!m&&v(e);if(m||w){if(w&&!w.standalone)return!1;h=e}else{const x=e.ngModule;if(m=In(x),!m)return!1;h=x}const b=u.has(h);if(w){if(b)return!1;if(u.add(h),w.dependencies){const x="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const S of x)ge(S,n,i,u)}}else{if(!m)return!1;{if(null!=m.imports&&!b){let S;u.add(h);try{Io(m.imports,N=>{ge(N,n,i,u)&&(S||=[],S.push(N))})}finally{}void 0!==S&&He(S,n)}if(!b){const S=le(h)||(()=>new h);n({provide:h,useFactory:S,deps:st},h),n({provide:Gc,useValue:h,multi:!0},h),n({provide:Fi,useValue:()=>kn(h),multi:!0},h)}const x=m.providers;if(null!=x&&!b){const S=e;Dt(x,N=>{n(N,S)})}}}return h!==e&&void 0!==e.providers}function Dt(e,n){for(let i of e)cn(i)&&(i=i.\u0275providers),Array.isArray(i)?Dt(i,n):n(i)}const Br=Pt({provide:String,useValue:Pt});function Yr(e){return null!==e&&"object"==typeof e&&Br in e}function Nn(e){return"function"==typeof e}const io=new je(""),oo={},Of={};let zc;function kf(){return void 0===zc&&(zc=new Na),zc}class Bi{}class $c extends Bi{get destroyed(){return this._destroyed}constructor(n,i,u,h){super(),this.parent=i,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xc(n,w=>this.processProvider(w)),this.records.set(Hc,Wc(void 0,this)),h.has("environment")&&this.records.set(Bi,Wc(void 0,this));const m=this.records.get(io);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Gc,st,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=K(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of i)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=wr(this),u=tr(void 0);try{return n()}finally{wr(i),tr(u)}}get(n,i=bt,u=Ot.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Af))return n[Af](this);u=Vs(u);const m=wr(this),w=tr(void 0);try{if(!(u&Ot.SkipSelf)){let x=this.records.get(n);if(void 0===x){const S=function j_(e){return"function"==typeof e||"object"==typeof e&&e instanceof je}(n)&&Lr(n);x=S&&this.injectableDefInScope(S)?Wc(Ag(n),oo):null,this.records.set(n,x)}if(null!=x)return this.hydrate(n,x)}return(u&Ot.Self?kf():this.parent).get(n,i=u&Ot.Optional&&i===bt?null:i)}catch(b){if("NullInjectorError"===b.name){if((b[Ia]=b[Ia]||[]).unshift(ut(n)),m)throw b;return function Au(e,n,i,u){const h=e[Ia];throw n[jc]&&h.unshift(n[jc]),e.message=function xg(e,n,i,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let h=ut(n);if(Array.isArray(n))h=n.map(ut).join(" -> ");else if("object"==typeof n){let m=[];for(let w in n)if(n.hasOwnProperty(w)){let b=n[w];m.push(w+":"+("string"==typeof b?JSON.stringify(b):ut(b)))}h=`{${m.join(", ")}}`}return`${i}${u?"("+u+")":""}[${h}]: ${e.replace(Iu,"\n  ")}`}("\n"+e.message,h,i,u),e.ngTokenPath=h,e[Ia]=null,e}(b,n,"R3InjectorError",this.source)}throw b}finally{tr(w),wr(m)}}resolveInjectorInitializers(){const n=K(null),i=wr(this),u=tr(void 0);try{const m=this.get(Fi,st,Ot.Self);for(const w of m)w()}finally{wr(i),tr(u),K(n)}}toString(){const n=[],i=this.records;for(const u of i.keys())n.push(ut(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(n){let i=Nn(n=ct(n))?n:ct(n&&n.provide);const u=function B_(e){return Yr(e)?Wc(void 0,e.useValue):Wc(yv(e),oo)}(n);if(!Nn(n)&&!0===n.multi){let h=this.records.get(i);h||(h=Wc(void 0,oo,!0),h.factory=()=>js(h.multi),this.records.set(i,h)),i=n,h.multi.push(n)}this.records.set(i,u)}hydrate(n,i){const u=K(null);try{return i.value===oo&&(i.value=Of,i.value=i.factory()),"object"==typeof i.value&&i.value&&function V_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{K(u)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=ct(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function Ag(e){const n=Lr(e),i=null!==n?n.factory:le(e);if(null!==i)return i;if(e instanceof je)throw new de(204,!1);if(e instanceof Function)return function L_(e){if(e.length>0)throw new de(204,!1);const i=function Df(e){return e&&(e[vi]||e[Qt])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new de(204,!1)}function yv(e,n,i){let u;if(Nn(e)){const h=ct(e);return le(h)||Ag(h)}if(Yr(e))u=()=>ct(e.useValue);else if(function ln(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...js(e.deps||[]));else if(function Er(e){return!(!e||!e.useExisting)}(e))u=()=>kn(ct(e.useExisting));else{const h=ct(e&&(e.useClass||e.provide));if(!function U_(e){return!!e.deps}(e))return le(h)||Ag(h);u=()=>new h(...js(e.deps))}return u}function Wc(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function Xc(e,n){for(const i of e)Array.isArray(i)?Xc(i,n):i&&cn(i)?Xc(i.\u0275providers,n):n(i)}function H_(e,n){e instanceof $c&&e.assertNotDestroyed();const u=wr(e),h=tr(void 0);try{return n()}finally{wr(u),tr(h)}}function Ff(){return void 0!==xu()||null!=function Du(){return ni}()}const An=0,Re=1,lt=2,rr=3,Ui=4,_r=5,Ur=6,Ba=7,bn=8,Hn=9,Ei=10,Et=11,Lu=12,Bf=13,Ua=14,Sn=15,as=16,Va=17,so=18,ja=19,Mg=20,cs=21,Uf=22,Vi=23,tt=25,Ng=1,ao=7,Ws=9,Yn=10;var Uu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Uu||{});function ir(e){return Array.isArray(e)&&"object"==typeof e[Ng]}function br(e){return Array.isArray(e)&&!0===e[Ng]}function Vf(e){return!!(4&e.flags)}function Ha(e){return e.componentOffset>-1}function jf(e){return!(1&~e.flags)}function ji(e){return!!e.template}function Ga(e){return!!(512&e[lt])}class fr{constructor(n,i,u){this.previousValue=n,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function Nr(e,n,i,u){null!==n?n.applyValueToInputSignal(n,u):e[i]=u}function Gf(){return ju}function ju(e){return e.type.prototype.ngOnChanges&&(e.setInput=zf),Dv}function Dv(){const e=Fg(this),n=e?.current;if(n){const i=e.previous;if(i===Ci)e.previous=n;else for(let u in n)i[u]=n[u];e.current=null,this.ngOnChanges(n)}}function zf(e,n,i,u,h){const m=this.declaredInputs[u],w=Fg(e)||function Av(e,n){return e[kg]=n}(e,{previous:Ci,current:null}),b=w.current||(w.current={}),x=w.previous,S=x[m];b[m]=new fr(S&&S.currentValue,i,x===Ci),Nr(e,n,h,i)}Gf.ngInherit=!0;const kg="__ngSimpleChanges__";function Fg(e){return e[kg]||null}const So=function(e,n,i){};function en(e){for(;Array.isArray(e);)e=e[An];return e}function Xs(e,n){return en(n[e])}function Vr(e,n){return en(n[e.index])}function $a(e,n){return e.data[n]}function Ys(e,n){return e[n]}function si(e,n){const i=n[e];return ir(i)?i:i[An]}function co(e){return!(128&~e[lt])}function _i(e,n){return null==n?null:e[n]}function Xf(e){e[Va]=0}function Ug(e){1024&e[lt]||(e[lt]|=1024,co(e)&&Gu(e))}function Hu(e){return!!(9216&e[lt]||e[Vi]?.dirty)}function Yf(e){e[Ei].changeDetectionScheduler?.notify(8),64&e[lt]&&(e[lt]|=1024),Hu(e)&&Gu(e)}function Gu(e){e[Ei].changeDetectionScheduler?.notify(0);let n=To(e);for(;null!==n&&!(8192&n[lt])&&(n[lt]|=8192,co(n));)n=To(n)}function zu(e,n){if(!(256&~e[lt]))throw new de(911,!1);null===e[cs]&&(e[cs]=[]),e[cs].push(n)}function To(e){const n=e[rr];return br(n)?n[rr]:n}const _t={lFrame:o0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Zf=!1;function Kf(){return _t.bindingsEnabled}function he(){return _t.lFrame.lView}function Ut(){return _t.lFrame.tView}function qg(e){return _t.lFrame.contextLView=e,e[bn]}function Zg(e){return _t.lFrame.contextLView=null,e}function pn(){let e=Qf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Qf(){return _t.lFrame.currentTNode}function Hi(e,n){const i=_t.lFrame;i.currentTNode=e,i.isParent=n}function Gi(){return _t.lFrame.isParent}function Qg(){return Zf}function Jg(e){Zf=e}function jr(){const e=_t.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function lo(){return _t.lFrame.bindingIndex}function zi(){return _t.lFrame.bindingIndex++}function xn(e){const n=_t.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function t0(e,n){const i=_t.lFrame;i.bindingIndex=i.bindingRootIndex=e,n0(n)}function n0(e){_t.lFrame.currentDirectiveIndex=e}function Zr(){return _t.lFrame.currentQueryIndex}function Yu(e){_t.lFrame.currentQueryIndex=e}function Fv(e){const n=e[Re];return 2===n.type?n.declTNode:1===n.type?e[_r]:null}function r0(e,n,i){if(i&Ot.SkipSelf){let h=n,m=e;for(;!(h=h.parent,null!==h||i&Ot.Host||(h=Fv(m),null===h||(m=m[Ua],10&h.type))););if(null===h)return!1;n=h,e=m}const u=_t.lFrame=eh();return u.currentTNode=n,u.lView=e,!0}function Jf(e){const n=eh(),i=e[Re];_t.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function eh(){const e=_t.lFrame,n=null===e?null:e.child;return null===n?o0(e):n}function o0(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function ls(){const e=_t.lFrame;return _t.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const tn=ls;function th(){const e=ls();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function hr(){return _t.lFrame.selectedIndex}function us(e){_t.lFrame.selectedIndex=e}function yn(){const e=_t.lFrame;return $a(e.tView,e.selectedIndex)}let xr=!0;function Mo(){return xr}function uo(e){xr=e}function Jc(e,n){for(let i=n.directiveStart,u=n.directiveEnd;i<u;i++){const m=e.data[i].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:b,ngAfterViewInit:x,ngAfterViewChecked:S,ngOnDestroy:N}=m;w&&(e.contentHooks??=[]).push(-i,w),b&&((e.contentHooks??=[]).push(i,b),(e.contentCheckHooks??=[]).push(i,b)),x&&(e.viewHooks??=[]).push(-i,x),S&&((e.viewHooks??=[]).push(i,S),(e.viewCheckHooks??=[]).push(i,S)),null!=N&&(e.destroyHooks??=[]).push(i,N)}}function qu(e,n,i){Uv(e,n,3,i)}function No(e,n,i,u){(3&e[lt])===i&&Uv(e,n,i,u)}function bi(e,n){let i=e[lt];(3&i)===n&&(i&=16383,i+=1,e[lt]=i)}function Uv(e,n,i,u){const m=u??-1,w=n.length-1;let b=0;for(let x=void 0!==u?65535&e[Va]:0;x<w;x++)if("number"==typeof n[x+1]){if(b=n[x],null!=u&&b>=u)break}else n[x]<0&&(e[Va]+=65536),(b<m||-1==m)&&(Zu(e,i,n,x),e[Va]=(4294901760&e[Va])+x+2),x++}function c0(e,n){So(4,e,n);const i=K(null);try{n.call(e)}finally{K(i),So(5,e,n)}}function Zu(e,n,i,u){const h=i[u]<0,m=i[u+1],b=e[h?-i[u]:i[u]];h?e[lt]>>14<e[Va]>>16&&(3&e[lt])===n&&(e[lt]+=16384,c0(b,m)):c0(b,m)}const ds=-1;class Wa{constructor(n,i,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}const Oo={};class xi{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,u){u=Vs(u);const h=this.injector.get(n,Oo,u);return h!==Oo||i===Oo?h:this.parentInjector.get(n,i,u)}}function pr(e){return e!==ds}function Rr(e){return 32767&e}function el(e,n){let i=function Hv(e){return e>>16}(e),u=n;for(;i>0;)u=u[Ua],i--;return u}let ih=!0;function Qu(e){const n=ih;return ih=e,n}const l0=255,u0=5;let kt=0;const Kr={};function ko(e,n){const i=d0(e,n);if(-1!==i)return i;const u=n[Re];u.firstCreatePass&&(e.injectorIndex=n.length,oh(u.data,e),oh(n,null),oh(u.blueprint,null));const h=ai(e,n),m=e.injectorIndex;if(pr(h)){const w=Rr(h),b=el(h,n),x=b[Re].data;for(let S=0;S<8;S++)n[m+S]=b[w+S]|x[w+S]}return n[m+8]=h,m}function oh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function d0(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ai(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,u=null,h=n;for(;null!==h;){if(u=Zs(h),null===u)return ds;if(i++,h=h[Ua],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return ds}function tl(e,n,i){!function Gv(e,n,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(Cr)&&(u=i[Cr]),null==u&&(u=i[Cr]=kt++);const h=u&l0;n.data[e+(h>>u0)]|=1<<h}(e,n,i)}function sh(e,n,i){if(i&Ot.Optional||void 0!==e)return e;rs()}function Fo(e,n,i,u){if(i&Ot.Optional&&void 0===u&&(u=null),!(i&(Ot.Self|Ot.Host))){const h=e[Hn],m=tr(void 0);try{return h?h.get(n,u,i&Ot.Optional):ki(n,u,i&Ot.Optional)}finally{tr(m)}}return sh(u,0,i)}function h0(e,n,i,u=Ot.Default,h){if(null!==e){if(2048&n[lt]&&!(u&Ot.Self)){const w=function $v(e,n,i,u,h){let m=e,w=n;for(;null!==m&&null!==w&&2048&w[lt]&&!(512&w[lt]);){const b=ah(m,w,i,u|Ot.Self,Kr);if(b!==Kr)return b;let x=m.parent;if(!x){const S=w[Mg];if(S){const N=S.get(i,Kr,u);if(N!==Kr)return N}x=Zs(w),w=w[Ua]}m=x}return h}(e,n,i,u,Kr);if(w!==Kr)return w}const m=ah(e,n,i,u,Kr);if(m!==Kr)return m}return Fo(n,i,u,h)}function ah(e,n,i,u,h){const m=function zv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Cr)?e[Cr]:void 0;return"number"==typeof n?n>=0?n&l0:nl:n}(i);if("function"==typeof m){if(!r0(n,e,u))return u&Ot.Host?sh(h,0,u):Fo(n,i,u,h);try{let w;if(w=m(u),null!=w||u&Ot.Optional)return w;rs()}finally{tn()}}else if("number"==typeof m){let w=null,b=d0(e,n),x=ds,S=u&Ot.Host?n[Sn][_r]:null;for((-1===b||u&Ot.SkipSelf)&&(x=-1===b?ai(e,n):n[b+8],x!==ds&&lh(u,!1)?(w=n[Re],b=Rr(x),n=el(x,n)):b=-1);-1!==b;){const N=n[Re];if(ch(m,b,N.data)){const P=p0(b,n,i,w,u,S);if(P!==Kr)return P}x=n[b+8],x!==ds&&lh(u,n[Re].data[b+8]===S)&&ch(m,b,n)?(w=N,b=Rr(x),n=el(x,n)):b=-1}}return h}function p0(e,n,i,u,h,m){const w=n[Re],b=w.data[e+8],N=ed(b,w,i,null==u?Ha(b)&&ih:u!=w&&!!(3&b.type),h&Ot.Host&&m===b);return null!==N?hs(n,w,N,b):Kr}function ed(e,n,i,u,h){const m=e.providerIndexes,w=n.data,b=1048575&m,x=e.directiveStart,N=m>>20,H=h?b+N:e.directiveEnd;for(let q=u?b:b+N;q<H;q++){const ne=w[q];if(q<x&&i===ne||q>=x&&ne.type===i)return q}if(h){const q=w[x];if(q&&ji(q)&&q.type===i)return x}return null}function hs(e,n,i,u){let h=e[i];const m=n.data;if(function Ro(e){return e instanceof Wa}(h)){const w=h;w.resolving&&function bu(e,n){throw n&&n.join(" > "),new de(-200,e)}(function pt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():wt(e)}(m[i]));const b=Qu(w.canSeeViewProviders);w.resolving=!0;const S=w.injectImpl?tr(w.injectImpl):null;r0(e,u,Ot.Default);try{h=e[i]=w.factory(void 0,m,e,u),n.firstCreatePass&&i>=u.directiveStart&&function nh(e,n,i){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=n.type.prototype;if(u){const w=ju(n);(i.preOrderHooks??=[]).push(e,w),(i.preOrderCheckHooks??=[]).push(e,w)}h&&(i.preOrderHooks??=[]).push(0-e,h),m&&((i.preOrderHooks??=[]).push(e,m),(i.preOrderCheckHooks??=[]).push(e,m))}(i,m[i],n)}finally{null!==S&&tr(S),Qu(b),w.resolving=!1,tn()}}return h}function ch(e,n,i){return!!(i[n+(e>>u0)]&1<<e)}function lh(e,n){return!(e&Ot.Self||e&Ot.Host&&n)}class xt{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,u){return h0(this._tNode,this._lView,n,Vs(u),i)}}function nl(){return new xt(pn(),he())}function g0(e){return Ge(()=>{const n=e.prototype.constructor,i=n[Dn]||Lo(n),u=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==u;){const m=h[Dn]||Lo(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Lo(e){return gi(e)?()=>{const n=Lo(ct(e));return n&&n()}:le(e)}function Zs(e){const n=e[Re],i=n.type;return 2===i?n.declTNode:1===i?e[_r]:null}function Ks(e){return function f0(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const u=i.length;let h=0;for(;h<u;){const m=i[h];if(Mf(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof i[h];)h++;else{if(m===n)return i[h+1];h+=2}}}return null}(pn(),e)}function C0(e,n=null,i=null,u){const h=w0(e,n,i,u);return h.resolveInjectorInitializers(),h}function w0(e,n=null,i=null,u,h=new Set){const m=[i||st,ue(e)];return u=u||("object"==typeof e?void 0:ut(e)),new $c(m,n||kf(),u||null,h)}class Or{static{this.THROW_IF_NOT_FOUND=bt}static{this.NULL=new Na}static create(n,i){if(Array.isArray(n))return C0({name:""},i,n,"");{const u=n.name??"";return C0({name:u},n.parent,n.providers,u)}}static{this.\u0275prov=fn({token:Or,providedIn:"any",factory:()=>kn(Hc)})}static{this.__NG_ELEMENT_ID__=-1}}new je("").__NG_ELEMENT_ID__=e=>{const n=pn();if(null===n)throw new de(204,!1);if(2&n.type)return n.value;if(e&Ot.Optional)return null;throw new de(204,!1)};function nd(e){return e.ngOriginalError}const _0=!0;let $i=(()=>{class e{static{this.__NG_ELEMENT_ID__=b0}static{this.__NG_ENV_ID__=i=>i}}return e})();class Qv extends $i{constructor(n){super(),this._lView=n}onDestroy(n){return zu(this._lView,n),()=>function qf(e,n){if(null===e[cs])return;const i=e[cs].indexOf(n);-1!==i&&e[cs].splice(i,1)}(this._lView,n)}}function b0(){return new Qv(he())}let ps=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new an.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=fn({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Di=class sl extends $t.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Ff()&&(this.destroyRef=$e($i,{optional:!0})??void 0,this.pendingTasks=$e(ps,{optional:!0})??void 0)}emit(n){const i=K(null);try{super.next(n)}finally{K(i)}}subscribe(n,i,u){let h=n,m=i||(()=>null),w=u;if(n&&"object"==typeof n){const x=n;h=x.next?.bind(x),m=x.error?.bind(x),w=x.complete?.bind(x)}this.__isAsync&&(m=this.wrapInTimeout(m),h&&(h=this.wrapInTimeout(h)),w&&(w=this.wrapInTimeout(w)));const b=super.subscribe({next:h,error:m,complete:w});return n instanceof Wt.yU&&n.add(b),b}wrapInTimeout(n){return i=>{const u=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==u&&this.pendingTasks?.remove(u)})}}};function al(...e){}function hh(e){let n,i;function u(){e=al;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),u()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),u()})),()=>u()}function x0(e){return queueMicrotask(()=>e()),()=>{e=al}}const gh="isAngularZone",rd=gh+"_ID";let Jv=0;class Rn{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Di(!1),this.onMicrotaskEmpty=new Di(!1),this.onStable=new Di(!1),this.onError=new Di(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1,scheduleInRootZone:m=_0}=n;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!h&&u,w.shouldCoalesceRunChangeDetection=h,w.callbackScheduled=!1,w.scheduleInRootZone=m,function eC(e){const n=()=>{!function yh(e){function n(){hh(()=>{e.callbackScheduled=!1,id(e),e.isCheckStableRunning=!0,mh(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),id(e))}(e)},i=Jv++;e._inner=e._inner.fork({name:"angular",properties:{[gh]:!0,[rd]:i,[rd+i]:!0},onInvokeTask:(u,h,m,w,b,x)=>{if(function ho(e){return Wi(e,"__ignore_ng_zone__")}(x))return u.invokeTask(m,w,b,x);try{return vh(e),u.invokeTask(m,w,b,x)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||e.shouldCoalesceRunChangeDetection)&&n(),Xa(e)}},onInvoke:(u,h,m,w,b,x,S)=>{try{return vh(e),u.invoke(m,w,b,x,S)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function od(e){return Wi(e,"__scheduler_tick__")}(x)&&n(),Xa(e)}},onHasTask:(u,h,m,w)=>{u.hasTask(m,w),h===m&&("microTask"==w.change?(e._hasPendingMicrotasks=w.microTask,id(e),mh(e)):"macroTask"==w.change&&(e.hasPendingMacrotasks=w.macroTask))},onHandleError:(u,h,m,w)=>(u.handleError(m,w),e.runOutsideAngular(()=>e.onError.emit(w)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(gh)}static assertInAngularZone(){if(!Rn.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(Rn.isInAngularZone())throw new de(909,!1)}run(n,i,u){return this._inner.run(n,i,u)}runTask(n,i,u,h){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+h,n,cl,al,al);try{return m.runTask(w,i,u)}finally{m.cancelTask(w)}}runGuarded(n,i,u){return this._inner.runGuarded(n,i,u)}runOutsideAngular(n){return this._outer.run(n)}}const cl={};function mh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function id(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function vh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Xa(e){e._nesting--,mh(e)}class Gt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Di,this.onMicrotaskEmpty=new Di,this.onStable=new Di,this.onError=new Di}run(n,i,u){return n.apply(i,u)}runGuarded(n,i,u){return n.apply(i,u)}runOutsideAngular(n){return n()}runTask(n,i,u,h){return n.apply(i,u)}}function Wi(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Ai{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&nd(n);for(;i&&nd(i);)i=nd(i);return i||null}}const Js=new je("",{providedIn:"root",factory:()=>{const e=$e(Rn),n=$e(Ai);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function nC(){return Ya(pn(),he())}function Ya(e,n){return new ll(Vr(e,n))}let ll=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=nC}}return e})();function D0(e){return e instanceof ll?e.nativeElement:e}function rC(){return this._results[Symbol.iterator]()}class Ch{get changes(){return this._changes??=new Di}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Ch.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=rC)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const u=function qt(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Lt(e,n,i){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let h=e[u],m=n[u];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(this._results,u,i))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function sd(e){return!(128&~e.flags)}const S0=new Map;let J_=0;function wh(e){S0.delete(e[ja])}const ad="__ngContext__";function gr(e,n){ir(n)?(e[ad]=n[ja],function oC(e){S0.set(e[ja],e)}(n)):e[ad]=n}function ud(e){return dd(e[Lu])}function Ih(e){return dd(e[Ui])}function dd(e){for(;null!==e&&!br(e);)e=e[Ui];return e}let Qa;function pC(e){Qa=e}const Bo=new je("",{providedIn:"root",factory:()=>yl}),yl="ng",P0=new je(""),fd=new je("",{providedIn:"platform",factory:()=>"unknown"}),vl=new je(""),gC=new je("",{providedIn:"root",factory:()=>function ms(){if(void 0!==Qa)return Qa;if(typeof document<"u")return document;throw new de(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ra=()=>null;function Oh(e,n,i=!1){return ra(e,n,i)}const G0=new je("",{providedIn:"root",factory:()=>!1});let bd,xl;function X0(e){return function Il(){if(void 0===xl&&(xl=null,gt.trustedTypes))try{xl=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return xl}()?.createScriptURL(e)||e}class Y0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ar})`}}function ws(e){return e instanceof Y0?e.changingThisBreaksApplicationSecurity:e}function Dl(e,n){const i=function Q0(e){return e instanceof Y0&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${ar})`)}return i===n}const AC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(rc||{});function OC(e){const n=Sl();return n?n.sanitize(rc.URL,e)||"":Dl(e,"URL")?ws(e):function Hh(e){return(e=String(e)).match(AC)?e:"unsafe:"+e}(wt(e))}function u1(e){const n=Sl();if(n)return X0(n.sanitize(rc.RESOURCE_URL,e)||"");if(Dl(e,"ResourceURL"))return X0(ws(e));throw new de(904,!1)}function zh(e){return function xC(e){return function Bh(){if(void 0===bd&&(bd=null,gt.trustedTypes))try{bd=gt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bd}()?.createScriptURL(e)||e}(e[0])}function $h(e,n,i){return function FC(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?u1:OC}(n,i)(e)}function Sl(){const e=he();return e&&e[Ei].sanitizer}function Qr(e){return e instanceof Function?e():e}var Ad=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ad||{});let Sd;function Td(e,n){return Sd(e,n)}function sa(e,n,i,u,h){if(null!=u){let m,w=!1;br(u)?m=u:ir(u)&&(w=!0,u=u[An]);const b=en(u);0===e&&null!==i?null==h?Rd(n,i,b):aa(n,i,b,h||null,!0):1===e&&null!==i?aa(n,i,b,h||null,!0):2===e?function Od(e,n,i){e.removeChild(null,n,i)}(n,b,w):3===e&&n.destroyNode(b),null!=m&&function cc(e,n,i,u,h){const m=i[ao];m!==en(i)&&sa(n,e,u,m,h);for(let b=Yn;b<i.length;b++){const x=i[b];ua(x[Re],x,e,n,u,m)}}(n,e,m,i,h)}}function Nl(e,n,i){return e.createElement(n,i)}function np(e,n){n[Ei].changeDetectionScheduler?.notify(9),ua(e,n,n[Et],2,null,null)}function kr(e,n){const i=e[Ws],u=n[rr];(ir(u)||n[Sn]!==u[rr][Sn])&&(e[lt]|=Uu.HasTransplantedViews),null===i?e[Ws]=[n]:i.push(n)}function go(e,n){const i=e[Ws],u=i.indexOf(n);i.splice(u,1)}function oc(e,n){if(e.length<=Yn)return;const i=Yn+n,u=e[i];if(u){const h=u[as];null!==h&&h!==e&&go(h,u),n>0&&(e[i-1][Ui]=u[Ui]);const m=Ta(e,Yn+n);!function tp(e,n){np(e,n),n[An]=null,n[_r]=null}(u[Re],u);const w=m[so];null!==w&&w.detachView(m[Re]),u[rr]=null,u[Ui]=null,u[lt]&=-129}return u}function rp(e,n){if(!(256&n[lt])){const i=n[Et];i.destroyNode&&ua(e,n,i,3,null,null),function m1(e){let n=e[Lu];if(!n)return v1(e[Re],e);for(;n;){let i=null;if(ir(n))i=n[Lu];else{const u=n[Yn];u&&(i=u)}if(!i){for(;n&&!n[Ui]&&n!==e;)ir(n)&&v1(n[Re],n),n=n[rr];null===n&&(n=e),ir(n)&&v1(n[Re],n),i=n&&n[Ui]}n=i}}(n)}}function v1(e,n){if(256&n[lt])return;const i=K(null);try{n[lt]&=-129,n[lt]|=256,n[Vi]&&Ve(n[Vi]),function li(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let u=0;u<i.length;u+=2){const h=n[i[u]];if(!(h instanceof Wa)){const m=i[u+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const b=h[m[w]],x=m[w+1];So(4,b,x);try{x.call(b)}finally{So(5,b,x)}}else{So(4,h,m);try{m.call(h)}finally{So(5,h,m)}}}}}(e,n),function Fr(e,n){const i=e.cleanup,u=n[Ba];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const w=i[m+3];w>=0?u[w]():u[-w].unsubscribe(),m+=2}else i[m].call(u[i[m+1]]);null!==u&&(n[Ba]=null);const h=n[cs];if(null!==h){n[cs]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(e,n),1===n[Re].type&&n[Et].destroy();const u=n[as];if(null!==u&&br(n[rr])){u!==n[rr]&&go(u,n);const h=n[so];null!==h&&h.detachView(e)}wh(n)}finally{K(i)}}function Rl(e,n,i){return function Ol(e,n,i){let u=n;for(;null!==u&&168&u.type;)u=(n=u).parent;if(null===u)return i[An];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=e.data[u.directiveStart+h];if(m===ro.None||m===ro.Emulated)return null}return Vr(u,i)}}(e,n.parent,i)}function aa(e,n,i,u,h){e.insertBefore(n,i,u,h)}function Rd(e,n,i){e.appendChild(n,i)}function C1(e,n,i,u,h){null!==u?aa(e,n,i,u,h):Rd(e,n,i)}function w1(e,n){return e.parentNode(n)}let E1,$C=function zC(e,n,i){return 40&e.type?Vr(e,i):null};function ip(e,n,i,u){const h=Rl(e,u,n),m=n[Et],b=function GC(e,n,i){return $C(e,n,i)}(u.parent||n[_r],u,n);if(null!=h)if(Array.isArray(i))for(let x=0;x<i.length;x++)C1(m,h,i[x],b,!1);else C1(m,h,i,b,!1);void 0!==E1&&E1(m,u,n,i,h)}function ca(e,n){if(null!==n){const i=n.type;if(3&i)return Vr(n,e);if(4&i)return _1(-1,e[n.index]);if(8&i){const u=n.child;if(null!==u)return ca(e,u);{const h=e[n.index];return br(h)?_1(-1,h):en(h)}}if(128&i)return ca(e,n.next);if(32&i)return Td(n,e)()||en(e[n.index]);{const u=op(e,n);return null!==u?Array.isArray(u)?u[0]:ca(To(e[Sn]),u):ca(e,n.next)}}return null}function op(e,n){return null!==n?e[Sn][_r].projection[n.projection]:null}function _1(e,n){const i=Yn+e+1;if(i<n.length){const u=n[i],h=u[Re].firstChild;if(null!==h)return ca(u,h)}return n[ao]}function la(e,n,i,u,h,m,w){for(;null!=i;){if(128===i.type){i=i.next;continue}const b=u[i.index],x=i.type;if(w&&0===n&&(b&&gr(en(b),u),i.flags|=2),32&~i.flags)if(8&x)la(e,n,i.child,u,h,m,!1),sa(n,e,h,b,m);else if(32&x){const S=Td(i,u);let N;for(;N=S();)sa(n,e,h,N,m);sa(n,e,h,b,m)}else 16&x?ac(e,n,u,i,h,m):sa(n,e,h,b,m);i=w?i.projectionNext:i.next}}function ua(e,n,i,u,h,m){la(i,u,e.firstChild,n,h,m,!1)}function ac(e,n,i,u,h,m){const w=i[Sn],x=w[_r].projection[u.projection];if(Array.isArray(x))for(let S=0;S<x.length;S++)sa(n,e,h,x[S],m);else{let S=x;const N=w[rr];sd(u)&&(S.flags|=128),la(e,n,S,N,h,m,!0)}}function kd(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function kl(e,n,i){const{mergedAttrs:u,classes:h,styles:m}=i;null!==u&&Ra(e,n,u),null!==h&&kd(e,n,h),null!==m&&function sp(e,n,i){e.setAttribute(n,"style",i)}(e,n,m)}const At={};function x1(e=1){Fd(Ut(),he(),hr()+e,!1)}function Fd(e,n,i,u){if(!u)if(3&~n[lt]){const m=e.preOrderHooks;null!==m&&No(n,m,0,i)}else{const m=e.preOrderCheckHooks;null!==m&&qu(n,m,i)}us(i)}function lc(e,n=Ot.Default){const i=he();return null===i?kn(e,n):h0(pn(),i,ct(e),n)}function Pd(){throw new Error("invalid")}function I1(e,n,i,u,h,m){const w=K(null);try{let b=null;h&wi.SignalBased&&(b=n[u][X]),null!==b&&void 0!==b.transformFn&&(m=b.transformFn(m)),h&wi.HasDecoratorInputTransform&&(m=e.inputTransforms[u].call(n,m)),null!==e.setInput?e.setInput(n,b,m,i,u):Nr(n,b,u,m)}finally{K(w)}}function Fl(e,n,i,u,h,m,w,b,x,S,N){const P=n.blueprint.slice();return P[An]=h,P[lt]=204|u,(null!==S||e&&2048&e[lt])&&(P[lt]|=2048),Xf(P),P[rr]=P[Ua]=e,P[bn]=i,P[Ei]=w||e&&e[Ei],P[Et]=b||e&&e[Et],P[Hn]=x||e&&e[Hn]||null,P[_r]=m,P[ja]=function eb(){return J_++}(),P[Ur]=N,P[Mg]=S,P[Sn]=2==n.type?e[Sn]:P,P}function Es(e,n,i,u,h){let m=e.data[n];if(null===m)m=function uc(e,n,i,u,h){const m=Qf(),w=Gi(),x=e.data[n]=function jd(e,n,i,u,h,m){let w=n?n.injectorIndex:-1,b=0;return function qs(){return null!==_t.skipHydrationRootTNode}()&&(b|=128),{type:i,index:u,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,i,n,u,h);return null===e.firstChild&&(e.firstChild=x),null!==m&&(w?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x,x.prev=m)),x}(e,n,i,u,h),function kv(){return _t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=u,m.attrs=h;const w=function Kc(){const e=_t.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Hi(m,!0),m}function Ho(e,n,i,u){if(0===i)return-1;const h=n.length;for(let m=0;m<i;m++)n.push(u),e.blueprint.push(u),e.data.push(null);return h}function YC(e,n,i,u,h){const m=hr(),w=2&u;try{us(-1),w&&n.length>tt&&Fd(e,n,tt,!1),So(w?2:0,h),i(u,h)}finally{us(m),So(w?3:1,h)}}function D1(e,n,i){if(Vf(n)){const u=K(null);try{const m=n.directiveEnd;for(let w=n.directiveStart;w<m;w++){const b=e.data[w];b.contentQueries&&b.contentQueries(1,i[w],w)}}finally{K(u)}}}function A1(e,n,i){Kf()&&(function ew(e,n,i,u){const h=i.directiveStart,m=i.directiveEnd;Ha(i)&&function O1(e,n,i){const u=Vr(n,e),h=qC(i);let w=16;i.signals?w=4096:i.onPush&&(w=64);const b=dp(e,Fl(e,h,null,w,u,n,null,e[Ei].rendererFactory.createRenderer(u,i),null,null,null));e[n.index]=b}(n,i,e.data[h+i.componentOffset]),e.firstCreatePass||ko(i,n),gr(u,n);const w=i.initialInputs;for(let b=h;b<m;b++){const x=e.data[b],S=hs(n,e,b,i);gr(S,n),null!==w&&rw(0,b-h,S,x,0,w),ji(x)&&(si(i.index,n)[bn]=hs(n,e,b,i))}}(e,n,i,Vr(i,n)),!(64&~i.flags)&&lp(e,n,i))}function Bd(e,n,i=Vr){const u=n.localNames;if(null!==u){let h=n.index+1;for(let m=0;m<u.length;m+=2){const w=u[m+1],b=-1===w?i(n,e):e[w];e[h++]=b}}}function qC(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Go(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Go(e,n,i,u,h,m,w,b,x,S,N){const P=tt+u,H=P+h,q=function Pl(e,n){const i=[];for(let u=0;u<n;u++)i.push(u<e?null:At);return i}(P,H),ne="function"==typeof S?S():S;return q[Re]={type:e,blueprint:q,template:i,queries:null,viewQuery:b,declTNode:n,data:q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:ne,incompleteFirstPass:!1,ssrId:N}}let Bl=()=>null;function S1(e,n,i,u,h){for(let m in n){if(!n.hasOwnProperty(m))continue;const w=n[m];if(void 0===w)continue;u??={};let b,x=wi.None;Array.isArray(w)?(b=w[0],x=w[1]):b=w;let S=m;if(null!==h){if(!h.hasOwnProperty(m))continue;S=h[m]}0===e?T1(u,i,S,b,x):T1(u,i,S,b)}return u}function T1(e,n,i,u,h){let m;e.hasOwnProperty(i)?(m=e[i]).push(n,u):m=e[i]=[n,u],void 0!==h&&m.push(h)}function Gr(e,n,i,u,h,m,w,b){const x=Vr(n,i);let N,S=n.inputs;!b&&null!=S&&(N=S[u])?($r(e,i,N,u,h),Ha(n)&&function QC(e,n){const i=si(n,e);16&i[lt]||(i[lt]|=64)}(i,n.index)):3&n.type&&(u=function KC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),h=null!=w?w(h,n.value||"",u):h,m.setProperty(x,u,h))}function Ul(e,n,i,u){if(Kf()){const h=null===u?null:{"":-1},m=function tw(e,n){const i=e.directiveRegistry;let u=null,h=null;if(i)for(let m=0;m<i.length;m++){const w=i[m];if(Nf(n,w.selectors,!1))if(u||(u=[]),ji(w))if(null!==w.findHostDirectiveDefs){const b=[];h=h||new Map,w.findHostDirectiveDefs(w,b,h),u.unshift(...b,w),N1(e,n,b.length)}else u.unshift(w),N1(e,n,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,u,h),u.push(w)}return null===u?null:[u,h]}(e,i);let w,b;null===m?w=b=null:[w,b]=m,null!==w&&JC(e,n,i,w,h,b),h&&function nw(e,n,i){if(n){const u=e.localNames=[];for(let h=0;h<n.length;h+=2){const m=i[n[h+1]];if(null==m)throw new de(-301,!1);u.push(n[h],m)}}}(i,u,h)}i.mergedAttrs=Ao(i.mergedAttrs,i.attrs)}function JC(e,n,i,u,h,m){for(let S=0;S<u.length;S++)tl(ko(i,n),e,u[S].type);!function Yi(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,u.length);for(let S=0;S<u.length;S++){const N=u[S];N.providersResolver&&N.providersResolver(N)}let w=!1,b=!1,x=Ho(e,n,u.length,null);for(let S=0;S<u.length;S++){const N=u[S];i.mergedAttrs=Ao(i.mergedAttrs,N.hostAttrs),R1(e,i,n,x,N),Vl(x,N,h),null!==N.contentQueries&&(i.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(i.flags|=64);const P=N.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),w=!0),!b&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),b=!0),x++}!function M1(e,n,i){const h=n.directiveEnd,m=e.data,w=n.attrs,b=[];let x=null,S=null;for(let N=n.directiveStart;N<h;N++){const P=m[N],H=i?i.get(P):null,ne=H?H.outputs:null;x=S1(0,P.inputs,N,x,H?H.inputs:null),S=S1(1,P.outputs,N,S,ne);const ve=null===x||null===w||ii(n)?null:F1(x,N,w);b.push(ve)}null!==x&&(x.hasOwnProperty("class")&&(n.flags|=8),x.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=b,n.inputs=x,n.outputs=S}(e,i,m)}function lp(e,n,i){const u=i.directiveStart,h=i.directiveEnd,m=i.index,w=function Xu(){return _t.lFrame.currentDirectiveIndex}();try{us(m);for(let b=u;b<h;b++){const x=e.data[b],S=n[b];n0(b),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&up(x,S)}}finally{us(-1),n0(w)}}function up(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function N1(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function Vl(e,n,i){if(i){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)i[n.exportAs[u]]=e;ji(n)&&(i[""]=e)}}function R1(e,n,i,u,h){e.data[u]=h;const m=h.factory||(h.factory=le(h.type)),w=new Wa(m,ji(h),lc);e.blueprint[u]=w,i[u]=w,function kb(e,n,i,u,h){const m=h.hostBindings;if(m){let w=e.hostBindingOpCodes;null===w&&(w=e.hostBindingOpCodes=[]);const b=~n.index;(function cp(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(w)!=b&&w.push(b),w.push(i,u,m)}}(e,n,u,Ho(e,i,h.hostVars,At),h)}function ei(e,n,i,u,h,m){const w=Vr(e,n);!function k1(e,n,i,u,h,m,w){if(null==m)e.removeAttribute(n,h,i);else{const b=null==w?wt(m):w(m,u||"",h);e.setAttribute(n,h,b,i)}}(n[Et],w,m,e.value,i,u,h)}function rw(e,n,i,u,h,m){const w=m[n];if(null!==w)for(let b=0;b<w.length;)I1(u,i,w[b++],w[b++],w[b++],w[b++])}function F1(e,n,i){let u=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(e.hasOwnProperty(m)){null===u&&(u=[]);const w=e[m];for(let b=0;b<w.length;b+=3)if(w[b]===n){u.push(m,w[b+1],w[b+2],i[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function iw(e,n,i,u){return[e,!0,0,n,null,u,null,i,null,null]}function ow(e,n){const i=e.contentQueries;if(null!==i){const u=K(null);try{for(let h=0;h<i.length;h+=2){const w=i[h+1];if(-1!==w){const b=e.data[w];Yu(i[h]),b.contentQueries(2,n[w],w)}}}finally{K(u)}}}function dp(e,n){return e[Lu]?e[Bf][Ui]=n:e[Lu]=n,e[Bf]=n,n}function P1(e,n,i){Yu(0);const u=K(null);try{n(e,i)}finally{K(u)}}function fp(e){return e[Ba]??=[]}function L1(e){return e.cleanup??=[]}function zr(e,n){const i=e[Hn],u=i?i.get(Ai,null):null;u&&u.handleError(n)}function $r(e,n,i,u,h){for(let m=0;m<i.length;){const w=i[m++],b=i[m++],x=i[m++];I1(e.data[w],n[w],u,b,x,h)}}function zo(e,n,i){const u=Xs(n,e);!function ep(e,n,i){e.setValue(n,i)}(e[Et],u,i)}function dc(e,n){const i=si(n,e),u=i[Re];!function sw(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(u,i);const h=i[An];null!==h&&null===i[Ur]&&(i[Ur]=Oh(h,i[Hn])),B1(u,i,i[bn])}function B1(e,n,i){Jf(n);try{const u=e.viewQuery;null!==u&&P1(1,u,i);const h=e.template;null!==h&&YC(e,n,h,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[so]?.finishViewCreation(e),e.staticContentQueries&&ow(e,n),e.staticViewQueries&&P1(2,e.viewQuery,i);const m=e.components;null!==m&&function aw(e,n){for(let i=0;i<n.length;i++)dc(e,n[i])}(n,m)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[lt]&=-5,th()}}function bs(e,n){return!n||null===n.firstChild||sd(e)}function fc(e,n,i,u,h=!1){for(;null!==i;){if(128===i.type){i=h?i.projectionNext:i.next;continue}const m=n[i.index];null!==m&&u.push(en(m)),br(m)&&V1(m,u);const w=i.type;if(8&w)fc(e,n,i.child,u);else if(32&w){const b=Td(i,n);let x;for(;x=b();)u.push(x)}else if(16&w){const b=op(n,i);if(Array.isArray(b))u.push(...b);else{const x=To(n[Sn]);fc(x[Re],x,b,u,!0)}}i=h?i.projectionNext:i.next}return u}function V1(e,n){for(let i=Yn;i<e.length;i++){const u=e[i],h=u[Re].firstChild;null!==h&&fc(u[Re],u,h,n)}e[ao]!==e[An]&&n.push(e[ao])}let $o=[];const Hl={...pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Gu(e.lView)},consumerOnSignalRead(){this.lView[Vi]=this}},uw={...pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=To(e.lView);for(;n&&!Is(n[Re]);)n=To(n);n&&Ug(n)},consumerOnSignalRead(){this.lView[Vi]=this}};function Is(e){return 2!==e.type}const dw=100;function Gl(e,n=!0,i=0){const u=e[Ei],h=u.rendererFactory;h.begin?.();try{!function fw(e,n){const i=Qg();try{Jg(!0),zl(e,n);let u=0;for(;Hu(e);){if(u===dw)throw new de(103,!1);u++,zl(e,1)}}finally{Jg(i)}}(e,i)}catch(w){throw n&&zr(e,w),w}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function Hd(e,n,i,u){const h=n[lt];if(!(256&~h))return;n[Ei].inlineEffectRunner?.flush(),Jf(n);let b=!0,x=null,S=null;Is(e)?(S=function cw(e){return e[Vi]??function jl(e){const n=$o.pop()??Object.create(Hl);return n.lView=e,n}(e)}(n),x=be(S)):null===function oe(){return W}()?(b=!1,S=function j1(e){const n=e[Vi]??Object.create(uw);return n.lView=e,n}(n),x=be(S)):n[Vi]&&(Ve(n[Vi]),n[Vi]=null);try{Xf(n),function e0(e){return _t.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&YC(e,n,i,2,u);const N=!(3&~h);if(N){const q=e.preOrderCheckHooks;null!==q&&qu(n,q,null)}else{const q=e.preOrderHooks;null!==q&&No(n,q,0,null),bi(n,0)}if(function G1(e){for(let n=ud(e);null!==n;n=Ih(n)){if(!(n[lt]&Uu.HasTransplantedViews))continue;const i=n[Ws];for(let u=0;u<i.length;u++)Ug(i[u])}}(n),H1(n,0),null!==e.contentQueries&&ow(e,n),N){const q=e.contentCheckHooks;null!==q&&qu(n,q)}else{const q=e.contentHooks;null!==q&&No(n,q,1),bi(n,1)}!function Ld(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const h=i[u];if(h<0)us(~h);else{const m=h,w=i[++u],b=i[++u];t0(w,m),b(2,n[m])}}}finally{us(-1)}}(e,n);const P=e.components;null!==P&&$l(n,P,0);const H=e.viewQuery;if(null!==H&&P1(2,H,u),N){const q=e.viewCheckHooks;null!==q&&qu(n,q)}else{const q=e.viewHooks;null!==q&&No(n,q,2),bi(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Uf]){for(const q of n[Uf])q();n[Uf]=null}n[lt]&=-73}catch(N){throw Gu(n),N}finally{null!==S&&(Fe(S,x),b&&function lw(e){e.lView[Vi]!==e&&(e.lView=null,$o.push(e))}(S)),th()}}function H1(e,n){for(let i=ud(e);null!==i;i=Ih(i))for(let u=Yn;u<i.length;u++)pw(i[u],n)}function hw(e,n,i){pw(si(n,e),i)}function pw(e,n){co(e)&&zl(e,n)}function zl(e,n){const u=e[Re],h=e[lt],m=e[Vi];let w=!!(0===n&&16&h);if(w||=!!(64&h&&0===n),w||=!!(1024&h),w||=!(!m?.dirty||!it(m)),w||=!1,m&&(m.dirty=!1),e[lt]&=-9217,w)Hd(u,e,u.template,e[bn]);else if(8192&h){H1(e,1);const b=u.components;null!==b&&$l(e,b,1)}}function $l(e,n,i){for(let u=0;u<n.length;u++)hw(e,n[u],i)}function hc(e,n){const i=Qg()?64:1088;for(e[Ei].changeDetectionScheduler?.notify(n);e;){e[lt]|=i;const u=To(e);if(Ga(e)&&!u)return e;e=u}return null}class pc{get rootNodes(){const n=this._lView,i=n[Re];return fc(i,n,i.firstChild,[])}constructor(n,i,u=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(n){this._lView[bn]=n}get destroyed(){return!(256&~this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[rr];if(br(n)){const i=n[8],u=i?i.indexOf(this):-1;u>-1&&(oc(n,u),Ta(i,u))}this._attachedToViewContainer=!1}rp(this._lView[Re],this._lView)}onDestroy(n){zu(this._lView,n)}markForCheck(){hc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[lt]&=-129}reattach(){Yf(this._lView),this._lView[lt]|=128}detectChanges(){this._lView[lt]|=1024,Gl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Ga(this._lView),i=this._lView[as];null!==i&&!n&&go(i,this._lView),np(this._lView[Re],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=n;const i=Ga(this._lView),u=this._lView[as];null!==u&&!i&&kr(u,this._lView),Yf(this._lView)}}let qi=(()=>{class e{static{this.__NG_ELEMENT_ID__=mw}}return e})();const gw=qi,Gd=class extends gw{constructor(n,i,u){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,u){const h=function _s(e,n,i,u){const h=K(null);try{const m=n.tView,x=Fl(e,m,i,4096&e[lt]?4096:16,null,n,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);x[as]=e[n.index];const N=e[so];return null!==N&&(x[so]=N.createEmbeddedView(m)),B1(m,x,i),x}finally{K(h)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:u});return new pc(h)}};function mw(){return fa(pn(),he())}function fa(e,n){return 4&e.type?new Gd(n,e,Ya(e,n)):null}class ha{}const Ql=new je("",{providedIn:"root",factory:()=>!1}),Zo=new je(""),Ko=new je("");class zw{}class $w{}class jb{resolveComponentFactory(n){throw function ym(e){const n=Error(`No component factory found for ${ut(e)}.`);return n.ngComponent=e,n}(n)}}class bp{static{this.NULL=new jb}}class Cm{}let Hb=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Gb(){const e=he(),i=si(pn().index,e);return(ir(i)?i:e)[Et]}()}}return e})(),zb=(()=>{class e{static{this.\u0275prov=fn({token:e,providedIn:"root",factory:()=>null})}}return e})();function As(e){return!!A(e)}function Jd(e,n,i){let u=i?e.styles:null,h=i?e.classes:null,m=0;if(null!==n)for(let w=0;w<n.length;w++){const b=n[w];"number"==typeof b?m=b:1==m?h=es(h,b):2==m&&(u=es(u,b+": "+n[++w]+";"))}i?e.styles=u:e.stylesWithoutHost=u,i?e.classes=h:e.classesWithoutHost=h}class Ip extends bp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=v(n);return new ef(i,this.ngModule)}}function bm(e,n){const i=[];for(const u in e){if(!e.hasOwnProperty(u))continue;const h=e[u];if(void 0===h)continue;const m=Array.isArray(h),w=m?h[0]:h;i.push(n?{propName:w,templateName:u,isSignal:!!((m?h[1]:wi.None)&wi.SignalBased)}:{propName:w,templateName:u})}return i}class ef extends $w{get inputs(){const n=this.componentDef,i=n.inputTransforms,u=bm(n.inputs,!0);if(null!==i)for(const h of u)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return u}get outputs(){return bm(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function ka(e){return e.map(Fu).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,u,h){const m=K(null);try{let w=(h=h||this.ngModule)instanceof Bi?h:h?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const b=w?new xi(n,w):n,x=b.get(Cm,null);if(null===x)throw new de(407,!1);const P={rendererFactory:x,sanitizer:b.get(zb,null),inlineEffectRunner:null,changeDetectionScheduler:b.get(ha,null)},H=x.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",ne=u?function Ud(e,n,i,u){const m=u.get(G0,!1)||i===ro.ShadowDom,w=e.selectRootElement(n,m);return function Ll(e){Bl(e)}(w),w}(H,u,this.componentDef.encapsulation,b):Nl(H,q,function Ww(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(q));let ve=512;this.componentDef.signals?ve|=4096:this.componentDef.onPush||(ve|=16);let ke=null;null!==ne&&(ke=Oh(ne,b,!0));const Le=Go(0,null,null,1,0,null,null,null,null,null,null),me=Fl(null,Le,null,ve,null,null,P,H,b,null,ke);Jf(me);let It,rn,Mn=null;try{const dr=this.componentDef;let Oi,xf=null;dr.findHostDirectiveDefs?(Oi=[],xf=new Map,dr.findHostDirectiveDefs(dr,Oi,xf),Oi.push(dr)):Oi=[dr];const bD=function Xw(e,n){const i=e[Re],u=tt;return e[u]=n,Es(i,u,2,"#host",null)}(me,ne);Mn=function Xb(e,n,i,u,h,m,w){const b=h[Re];!function Dp(e,n,i,u){for(const h of e)n.mergedAttrs=Ao(n.mergedAttrs,h.hostAttrs);null!==n.mergedAttrs&&(Jd(n,n.mergedAttrs,!0),null!==i&&kl(u,i,n))}(u,e,n,w);let x=null;null!==n&&(x=Oh(n,h[Hn]));const S=m.rendererFactory.createRenderer(n,i);let N=16;i.signals?N=4096:i.onPush&&(N=64);const P=Fl(h,qC(i),null,N,h[e.index],e,m,S,null,null,x);return b.firstCreatePass&&N1(b,e,u.length-1),dp(h,P),h[e.index]=P}(bD,ne,dr,Oi,me,P,H),rn=$a(Le,tt),ne&&function Yb(e,n,i,u){if(u)Ra(e,i,["ng-version","18.2.9"]);else{const{attrs:h,classes:m}=function Jt(e){const n=[],i=[];let u=1,h=2;for(;u<e.length;){let m=e[u];if("string"==typeof m)2===h?""!==m&&n.push(m,e[++u]):8===h&&i.push(m);else{if(!oi(h))break;h=m}u++}return{attrs:n,classes:i}}(n.selectors[0]);h&&Ra(e,i,h),m&&m.length>0&&kd(e,i,m.join(" "))}}(H,dr,ne,u),void 0!==i&&function qb(e,n,i){const u=e.projection=[];for(let h=0;h<n.length;h++){const m=i[h];u.push(null!=m?Array.from(m):null)}}(rn,this.ngContentSelectors,i),It=function xm(e,n,i,u,h,m){const w=pn(),b=h[Re],x=Vr(w,h);JC(b,h,w,i,null,u);for(let N=0;N<i.length;N++)gr(hs(h,b,w.directiveStart+N,w),h);lp(b,h,w),x&&gr(x,h);const S=hs(h,b,w.directiveStart+w.componentOffset,w);if(e[bn]=h[bn]=S,null!==m)for(const N of m)N(S,n);return D1(b,w,h),S}(Mn,dr,Oi,xf,me,[Zb]),B1(Le,me,null)}catch(dr){throw null!==Mn&&wh(Mn),wh(me),dr}finally{th()}return new Wb(this.componentType,It,Ya(rn,me),me,rn)}finally{K(m)}}}class Wb extends zw{constructor(n,i,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new pc(h,void 0,!1),this.componentType=n}setInput(n,i){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const m=this._rootLView;$r(m[Re],m,h,n,i),this.previousInputValues.set(n,i),hc(si(this._tNode.index,m),1)}}get injector(){return new xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Zb(){const e=pn();Jc(he()[Re],e)}let lr=(()=>{class e{static{this.__NG_ELEMENT_ID__=yo}}return e})();function yo(){return Am(pn(),he())}const Yw=lr,Im=class extends Yw{constructor(n,i,u){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=u}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new xt(this._hostTNode,this._hostLView)}get parentInjector(){const n=ai(this._hostTNode,this._hostLView);if(pr(n)){const i=el(n,this._hostLView),u=Rr(n);return new xt(i[Re].data[u+8],i)}return new xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=Dm(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Yn}createEmbeddedView(n,i,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const b=n.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(b,h,bs(this._hostTNode,null)),b}createComponent(n,i,u,h,m){const w=n&&!function qc(e){return"function"==typeof e}(n);let b;if(w)b=i;else{const ne=i||{};b=ne.index,u=ne.injector,h=ne.projectableNodes,m=ne.environmentInjector||ne.ngModuleRef}const x=w?n:new ef(v(n)),S=u||this.parentInjector;if(!m&&null==x.ngModule){const ve=(w?S:this.parentInjector).get(Bi,null);ve&&(m=ve)}v(x.componentType??{});const q=x.create(S,h,null,m);return this.insertImpl(q.hostView,b,bs(this._hostTNode,null)),q}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,u){const h=n._lView;if(function Bg(e){return br(e[rr])}(h)){const b=this.indexOf(n);if(-1!==b)this.detach(b);else{const x=h[rr],S=new Im(x,x[_r],x[rr]);S.detach(S.indexOf(n))}}const m=this._adjustIndex(i),w=this._lContainer;return function xs(e,n,i,u=!0){const h=n[Re];if(function y1(e,n,i,u){const h=Yn+u,m=i.length;u>0&&(i[h-1][Ui]=n),u<m-Yn?(n[Ui]=i[h],Sa(i,Yn+u,n)):(i.push(n),n[Ui]=null),n[rr]=i;const w=n[as];null!==w&&i!==w&&kr(w,n);const b=n[so];null!==b&&b.insertView(e),Yf(n),n[lt]|=128}(h,n,e,i),u){const w=_1(i,e),b=n[Et],x=w1(b,e[ao]);null!==x&&function Nd(e,n,i,u,h,m){u[An]=h,u[_r]=n,ua(e,u,i,1,h,m)}(h,e[_r],b,n,x,w)}const m=n[Ur];null!==m&&null!==m.firstChild&&(m.firstChild=null)}(w,h,m,u),n.attachToViewContainerRef(),Sa(Ap(w),m,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=Dm(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),u=oc(this._lContainer,i);u&&(Ta(Ap(this._lContainer),i),rp(u[Re],u))}detach(n){const i=this._adjustIndex(n,-1),u=oc(this._lContainer,i);return u&&null!=Ta(Ap(this._lContainer),i)?new pc(u):null}_adjustIndex(n,i=0){return n??this.length+i}};function Dm(e){return e[8]}function Ap(e){return e[8]||(e[8]=[])}function Am(e,n){let i;const u=n[e.index];return br(u)?i=u:(i=iw(u,n,null,e),n[e.index]=i,dp(n,i)),Sm(i,n,e,u),new Im(i,e,n)}let Sm=function Mm(e,n,i,u){if(e[ao])return;let h;h=8&i.type?en(u):function qw(e,n){const i=e[Et],u=i.createComment(""),h=Vr(n,e);return aa(i,w1(i,h),u,function HC(e,n){return e.nextSibling(n)}(i,h),!1),u}(n,i),e[ao]=h},Sp=()=>!1;class Tp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Tp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mp{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const u=null!==n.contentQueries?n.contentQueries[0]:i.length,h=[];for(let m=0;m<u;m++){const w=i.getByIndex(m);h.push(this.queries[w.indexInDeclarationView].clone())}return new Mp(h)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==Lp(n,i).matches&&this.queries[i].setDirty()}}class Nm{constructor(n,i,u=null){this.flags=i,this.read=u,this.predicate="string"==typeof n?function Pm(e){return e.split(",").map(n=>n.trim())}(n):n}}class Np{constructor(n=[]){this.queries=n}elementStart(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let u=0;u<this.length;u++){const h=null!==i?i.length:0,m=this.getByIndex(u).embeddedTView(n,h);m&&(m.indexInDeclarationView=u,null!==i?i.push(m):i=[m])}return null!==i?new Np(i):null}template(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Rp{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new Rp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(n,i,Op(i,m)),this.matchTNodeWithReadOption(n,i,ed(i,n,m,!1,!1))}else u===qi?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ed(i,n,u,!1,!1))}matchTNodeWithReadOption(n,i,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===ll||h===lr||h===qi&&4&i.type)this.addMatch(i.index,-2);else{const m=ed(i,n,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,u)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function Op(e,n){const i=e.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===n)return i[u+1];return null}function kp(e,n,i,u){return-1===i?function Jw(e,n){return 11&e.type?Ya(e,n):4&e.type?fa(e,n):null}(n,e):-2===i?function eE(e,n,i){return i===ll?Ya(n,e):i===qi?fa(n,e):i===lr?Am(n,e):void 0}(e,n,u):hs(e,e[Re],i,n)}function Rm(e,n,i,u){const h=n[so].queries[u];if(null===h.matches){const m=e.data,w=i.matches,b=[];for(let x=0;null!==w&&x<w.length;x+=2){const S=w[x];b.push(S<0?null:kp(n,m[S],w[x+1],i.metadata.read))}h.matches=b}return h.matches}function Fp(e,n,i,u){const h=e.queries.getByIndex(i),m=h.matches;if(null!==m){const w=Rm(e,n,h,i);for(let b=0;b<m.length;b+=2){const x=m[b];if(x>0)u.push(w[b/2]);else{const S=m[b+1],N=n[-x];for(let P=Yn;P<N.length;P++){const H=N[P];H[as]===H[rr]&&Fp(H[Re],H,S,u)}if(null!==N[Ws]){const P=N[Ws];for(let H=0;H<P.length;H++){const q=P[H];Fp(q[Re],q,S,u)}}}}}return u}function Om(e,n,i){const u=new Ch(!(4&~i));return function ap(e,n,i,u){const h=fp(n);h.push(i),e.firstCreatePass&&L1(e).push(u,h.length-1)}(e,n,u,u.destroy),(n[so]??=new Mp).queries.push(new Tp(u))-1}function Lm(e,n,i){null===e.queries&&(e.queries=new Np),e.queries.track(new Rp(n,i))}function Lp(e,n){return e.queries.getByIndex(n)}function Bm(e,n){const i=e[Re],u=Lp(i,n);return u.crossesNgTemplate?Fp(i,e,n,[]):Rm(i,e,u,n)}const Um=new Set;function Pr(e){Um.has(e)||(Um.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function jm(e,n){Pr("NgSignals");const i=function On(e){const n=Object.create(Cn);n.value=e;const i=()=>(se(n),n.value);return i[X]=n,i}(e),u=i[X];return n?.equal&&(u.equal=n.equal),i.set=h=>Pe(u,h),i.update=h=>function Kt(e,n){We()||Xe(),Pe(e,n(e.value))}(u,h),i.asReadonly=Hm.bind(i),i}function Hm(){const e=this[X];if(void 0===e.readonlyFn){const n=()=>this();n[X]=e,e.readonlyFn=n}return e.readonlyFn}function Gm(e){return function Vm(e){return"function"==typeof e&&void 0!==e[X]}(e)&&"function"==typeof e.set}function pa(e){let n=function ty(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const u=[e];for(;n;){let h;if(ji(e))h=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new de(903,!1);h=n.\u0275dir}if(h){if(i){u.push(h);const w=e;w.inputs=tf(e.inputs),w.inputTransforms=tf(e.inputTransforms),w.declaredInputs=tf(e.declaredInputs),w.outputs=tf(e.outputs);const b=h.hostBindings;b&&uE(e,b);const x=h.viewQuery,S=h.contentQueries;if(x&&Vp(e,x),S&&lE(e,S),ny(e,h),vu(e.outputs,h.outputs),ji(h)&&h.data.animation){const N=e.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let w=0;w<m.length;w++){const b=m[w];b&&b.ngInherit&&b(e),b===pa&&(i=!1)}}n=Object.getPrototypeOf(n)}!function ry(e){let n=0,i=null;for(let u=e.length-1;u>=0;u--){const h=e[u];h.hostVars=n+=h.hostVars,h.hostAttrs=Ao(h.hostAttrs,i=Ao(i,h.hostAttrs))}}(u)}function ny(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const u=n.inputs[i];if(void 0!==u&&(e.inputs[i]=u,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!n.inputTransforms.hasOwnProperty(h))continue;e.inputTransforms??={},e.inputTransforms[h]=n.inputTransforms[h]}}}function tf(e){return e===Ci?{}:e===st?[]:e}function Vp(e,n){const i=e.viewQuery;e.viewQuery=i?(u,h)=>{n(u,h),i(u,h)}:n}function lE(e,n){const i=e.contentQueries;e.contentQueries=i?(u,h,m)=>{n(u,h,m),i(u,h,m)}:n}function uE(e,n){const i=e.hostBindings;e.hostBindings=i?(u,h)=>{n(u,h),i(u,h)}:n}function ay(e){const n=e.inputConfig,i={};for(const u in n)if(n.hasOwnProperty(u)){const h=n[u];Array.isArray(h)&&h[3]&&(i[u]=h[3])}e.inputTransforms=i}class ga{}class cy{}function mE(e,n){return new jp(e,n??null,[])}class jp extends ga{constructor(n,i,u,h=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ip(this);const m=A(n);this._bootstrapComponents=Qr(m.bootstrap),this._r3Injector=w0(n,i,[{provide:ga,useValue:this},{provide:bp,useValue:this.componentFactoryResolver},...u],ut(n),new Set(["environment"])),h&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Hp extends cy{constructor(n){super(),this.moduleType=n}create(n){return new jp(this.moduleType,n,[])}}class ly extends ga{constructor(n){super(),this.componentFactoryResolver=new Ip(this),this.instance=null;const i=new $c([...n.providers,{provide:ga,useValue:this},{provide:bp,useValue:this.componentFactoryResolver}],n.parent||kf(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Gp(e,n,i=null){return new ly({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function nf(e){return!!zp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function zp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vo(e,n,i){return e[n]=i}function Kn(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function ma(e,n,i,u){const h=Kn(e,n,i);return Kn(e,n+1,u)||h}function cu(e,n,i,u,h,m,w,b,x,S){const N=i+tt,P=n.firstCreatePass?function EE(e,n,i,u,h,m,w,b,x){const S=n.consts,N=Es(n,e,4,w||null,b||null);Ul(n,i,N,_i(S,x)),Jc(n,N);const P=N.tView=Go(2,N,u,h,m,n.directiveRegistry,n.pipeRegistry,null,n.schemas,S,null);return null!==n.queries&&(n.queries.template(n,N),P.queries=n.queries.embeddedTView(N)),N}(N,n,e,u,h,m,w,b,x):n.data[N];Hi(P,!1);const H=Ec(n,e,P,i);Mo()&&ip(n,e,H,P),gr(H,e);const q=iw(H,e,H,P);return e[N]=q,dp(e,q),function Tm(e,n,i){return Sp(e,n,i)}(q,P,e),jf(P)&&A1(n,e,P),null!=x&&Bd(e,P,S),P}function sf(e,n,i,u,h,m,w,b){const x=he(),S=Ut();return cu(x,S,e,n,i,u,h,_i(S.consts,m),w,b),sf}let Ec=function dy(e,n,i,u){return uo(!0),n[Et].createComment("")};var _c=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(_c||{});let my=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=fn({token:e,providedIn:"root",factory:()=>new e})}}return e})();class du{constructor(){this.ngZone=$e(Rn),this.scheduler=$e(ha),this.errorHandler=$e(Ai,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[_c.EarlyRead,_c.Write,_c.MixedReadWrite,_c.Read]}execute(){this.executing=!0;for(const n of du.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[n])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[n](i.pipelinedValue))}catch(u){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(u)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=fn({token:du,providedIn:"root",factory:()=>new du})}}class xE{constructor(n,i,u,h){this.impl=n,this.hooks=i,this.once=u,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function uf(e,n){!n?.injector&&function Fa(e){if(!Ff())throw new de(-203,!1)}();const i=n?.injector??$e(Or);return function Jr(e){return"browser"===(e??$e(Or)).get(fd)}(i)?(Pr("NgAfterNextRender"),function Xp(e,n,i,u){const h=n.get(my);h.impl??=n.get(du);const m=i?.phase??_c.MixedReadWrite,w=!0!==i?.manualCleanup?n.get($i):null,b=new xE(h.impl,function Ke(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,m),u,w);return h.impl.register(b),b}(e,i,n,!0)):yy}const yy={destroy(){}};function ng(e,n,i,u){const h=he();return Kn(h,zi(),n)&&(Ut(),ei(yn(),h,e,n,i,u)),ng}function Ac(e,n,i,u){return Kn(e,zi(),i)?n+wt(i)+u:At}function gu(e,n,i,u,h,m,w,b){const S=function rf(e,n,i,u,h){const m=ma(e,n,i,u);return Kn(e,n+2,h)||m}(e,lo(),i,h,w);return xn(3),S?n+wt(i)+u+wt(h)+m+wt(w)+b:At}function Cf(e,n){return e<<17|n<<2}function Ns(e){return e>>17&32767}function ig(e){return 2|e}function Ea(e){return(131068&e)>>2}function og(e,n){return-131069&e|n<<2}function Uy(e){return 1|e}function Vy(e,n,i,u){const h=e[i+1],m=null===n;let w=u?Ns(h):Ea(h),b=!1;for(;0!==w&&(!1===b||m);){const S=e[w+1];WE(e[w],n)&&(b=!0,e[w+1]=u?Uy(S):ig(S)),w=u?Ns(S):Ea(S)}b&&(e[i+1]=u?ig(h):Uy(h))}function WE(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&no(e,n)>=0}function V(e,n,i){const u=he();return Kn(u,zi(),n)&&Gr(Ut(),yn(),u,e,n,u[Et],i,!1),V}function Z(e,n,i,u,h){const w=h?"class":"style";$r(e,i,n.inputs[w],w,u)}function ye(e,n){return function zt(e,n,i,u){const h=he(),m=Ut(),w=xn(2);m.firstUpdatePass&&function er(e,n,i,u){const h=e.data;if(null===h[i+1]){const m=h[hr()],w=function vn(e,n){return n>=e.expandoStartIndex}(e,i);(function Ax(e,n){return!!(e.flags&(n?8:16))})(m,u)&&null===n&&!w&&(n=!1),n=function Wr(e,n,i,u){const h=function at(e){const n=_t.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let m=u?n.residualClasses:n.residualStyles;if(null===h)0===(u?n.classBindings:n.styleBindings)&&(i=sg(i=qE(null,e,n,i,u),n.attrs,u),m=null);else{const w=n.directiveStylingLast;if(-1===w||e[w]!==h)if(i=qE(h,e,n,i,u),null===m){let x=function _a(e,n,i){const u=i?n.classBindings:n.styleBindings;if(0!==Ea(u))return e[Ns(u)]}(e,n,u);void 0!==x&&Array.isArray(x)&&(x=qE(null,e,n,x[1],u),x=sg(x,n.attrs,u),function Gy(e,n,i,u){e[Ns(i?n.classBindings:n.styleBindings)]=u}(e,n,u,x))}else m=function UD(e,n,i){let u;const h=n.directiveEnd;for(let m=1+n.directiveStylingLast;m<h;m++)u=sg(u,e[m].hostAttrs,i);return sg(u,n.attrs,i)}(e,n,u)}return void 0!==m&&(u?n.residualClasses=m:n.residualStyles=m),i}(h,m,n,u),function zE(e,n,i,u,h,m){let w=m?n.classBindings:n.styleBindings,b=Ns(w),x=Ea(w);e[u]=i;let N,S=!1;if(Array.isArray(i)?(N=i[1],(null===N||no(i,N)>0)&&(S=!0)):N=i,h)if(0!==x){const H=Ns(e[b+1]);e[u+1]=Cf(H,b),0!==H&&(e[H+1]=og(e[H+1],u)),e[b+1]=function HE(e,n){return 131071&e|n<<17}(e[b+1],u)}else e[u+1]=Cf(b,0),0!==b&&(e[b+1]=og(e[b+1],u)),b=u;else e[u+1]=Cf(x,0),0===b?b=u:e[x+1]=og(e[x+1],u),x=u;S&&(e[u+1]=ig(e[u+1])),Vy(e,N,u,!0),Vy(e,N,u,!1),function $E(e,n,i,u,h){const m=h?e.residualClasses:e.residualStyles;null!=m&&"string"==typeof n&&no(m,n)>=0&&(i[u+1]=Uy(i[u+1]))}(n,N,e,u,m),w=Cf(b,x),m?n.classBindings=w:n.styleBindings=w}(h,m,n,i,w,u)}}(m,e,w,u),n!==At&&Kn(h,w,n)&&function Ix(e,n,i,u,h,m,w,b){if(!(3&n.type))return;const x=e.data,S=x[b+1],N=function GE(e){return!(1&~e)}(S)?Dx(x,n,i,h,Ea(S),w):void 0;zy(N)||(zy(m)||function jE(e){return!(2&~e)}(S)&&(m=Dx(x,null,i,h,b,w)),function b1(e,n,i,u,h){if(n)h?e.addClass(i,u):e.removeClass(i,u);else{let m=-1===u.indexOf("-")?void 0:Ad.DashCase;null==h?e.removeStyle(i,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ad.Important),e.setStyle(i,u,h,m))}}(u,w,Xs(hr(),i),h,m))}(m,m.data[hr()],h,h[Et],e,h[w+1]=function GD(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=ut(ws(e)))),e}(n,i),u,w)}(e,n,null,!0),ye}function qE(e,n,i,u,h){let m=null;const w=i.directiveEnd;let b=i.directiveStylingLast;for(-1===b?b=i.directiveStart:b++;b<w&&(m=n[b],u=sg(u,m.hostAttrs,h),m!==e);)b++;return null!==e&&(i.directiveStylingLast=b),u}function sg(e,n,i){const u=i?1:2;let h=-1;if(null!==n)for(let m=0;m<n.length;m++){const w=n[m];"number"==typeof w?h=w:h===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),nr(e,w,!!i||n[++m]))}return void 0===e?null:e}function Dx(e,n,i,u,h,m){const w=null===n;let b;for(;h>0;){const x=e[h],S=Array.isArray(x),N=S?x[1]:x,P=null===N;let H=i[h+1];H===At&&(H=P?st:void 0);let q=P?zs(H,u):N===u?H:void 0;if(S&&!zy(q)&&(q=zs(x,u)),zy(q)&&(b=q,w))return b;const ne=e[h+1];h=w?Ns(ne):Ea(ne)}if(null!==n){let x=m?n.residualClasses:n.residualStyles;null!=x&&(b=zs(x,u))}return b}function zy(e){return void 0!==e}function Wy(e,n,i,u){const h=he(),m=Ut(),w=tt+e,b=h[Et],x=m.firstCreatePass?function fA(e,n,i,u,h,m){const w=n.consts,x=Es(n,e,2,u,_i(w,h));return Ul(n,i,x,_i(w,m)),null!==x.attrs&&Jd(x,x.attrs,!1),null!==x.mergedAttrs&&Jd(x,x.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,x),x}(w,m,h,n,i,u):m.data[w],S=Nx(m,h,x,b,n,e);h[w]=S;const N=jf(x);return Hi(x,!0),kl(b,S,x),!function Qo(e){return!(32&~e.flags)}(x)&&Mo()&&ip(m,h,S,x),0===function Hg(){return _t.lFrame.elementDepthCount}()&&gr(S,h),function Gg(){_t.lFrame.elementDepthCount++}(),N&&(A1(m,h,x),D1(m,x,h)),null!==u&&Bd(h,x),Wy}function Xy(){let e=pn();Gi()?function qn(){_t.lFrame.isParent=!1}():(e=e.parent,Hi(e,!1));const n=e;(function $g(e){return _t.skipHydrationRootTNode===e})(n)&&function Nv(){_t.skipHydrationRootTNode=null}(),function zg(){_t.lFrame.elementDepthCount--}();const i=Ut();return i.firstCreatePass&&(Jc(i,e),Vf(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function fo(e){return!!(8&e.flags)}(n)&&Z(i,n,he(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ku(e){return!!(16&e.flags)}(n)&&Z(i,n,he(),n.stylesWithoutHost,!1),Xy}function JE(e,n,i,u){return Wy(e,n,i,u),Xy(),JE}let Nx=(e,n,i,u,h,m)=>(uo(!0),Nl(u,h,function a0(){return _t.lFrame.currentNamespace}()));function kx(){return he()}const mu=void 0;var CA=["en",[["a","p"],["AM","PM"],mu],[["AM","PM"],mu,mu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mu,"{1} 'at' {0}",mu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vA(e){const i=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let wf={};function n_(e){const n=function wA(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Bx(n);if(i)return i;const u=n.split("-")[0];if(i=Bx(u),i)return i;if("en"===u)return CA;throw new de(701,!1)}function Lx(e){return n_(e)[Ef.PluralCase]}function Bx(e){return e in wf||(wf[e]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[e]),wf[e]}var Ef=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ef||{});const Yy="en-US";let Ux=Yy,r2=(e,n,i)=>{};function o_(e,n,i,u){const h=he(),m=Ut(),w=pn();return s_(m,h,h[Et],w,e,n,u),o_}function s_(e,n,i,u,h,m,w){const b=jf(u),S=e.firstCreatePass&&L1(e),N=n[bn],P=fp(n);let H=!0;if(3&u.type||w){const ve=Vr(u,n),ke=w?w(ve):ve,Le=P.length,me=w?rn=>w(en(rn[u.index])):u.index;let It=null;if(!w&&b&&(It=function cS(e,n,i,u){const h=e.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const w=h[m];if(w===i&&h[m+1]===u){const b=n[Ba],x=h[m+2];return b.length>x?b[x]:null}"string"==typeof w&&(m+=2)}return null}(e,n,h,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=m,It.__ngLastListenerFn__=m,H=!1;else{m=a2(u,n,N,m),r2(ve,h,m);const rn=i.listen(ke,h,m);P.push(m,rn),S&&S.push(h,me,Le,Le+1)}}else m=a2(u,n,N,m);const q=u.outputs;let ne;if(H&&null!==q&&(ne=q[h])){const ve=ne.length;if(ve)for(let ke=0;ke<ve;ke+=2){const Mn=n[ne[ke]][ne[ke+1]].subscribe(m),dr=P.length;P.push(m,Mn),S&&S.push(h,u.index,dr,-(dr+1))}}}function s2(e,n,i,u){const h=K(null);try{return So(6,n,i),!1!==i(u)}catch(m){return zr(e,m),!1}finally{So(7,n,i),K(h)}}function a2(e,n,i,u){return function h(m){if(m===Function)return u;hc(e.componentOffset>-1?si(e.index,n):n,5);let b=s2(n,i,u,m),x=h.__ngNextListenerFn__;for(;x;)b=s2(n,i,x,m)&&b,x=x.__ngNextListenerFn__;return b}}function c2(e=1){return function Pv(e){return(_t.lFrame.contextLView=function Vg(e,n){for(;e>0;)n=n[Ua],e--;return n}(e,_t.lFrame.contextLView))[bn]}(e)}function Qy(e,n,i,u,h){const m=he(),w=Ac(m,n,i,u);return w!==At&&Gr(Ut(),yn(),m,e,w,m[Et],h,!1),Qy}function v2(e,n,i,u){!function Fm(e,n,i,u){const h=Ut();if(h.firstCreatePass){const m=pn();Lm(h,new Nm(n,i,u),m.index),function tE(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(h,e),!(2&~i)&&(h.staticContentQueries=!0)}return Om(h,he(),i)}(e,n,i,u)}function C2(e,n,i){!function km(e,n,i){const u=Ut();return u.firstCreatePass&&(Lm(u,new Nm(e,n,i),-1),!(2&~n)&&(u.staticViewQueries=!0)),Om(u,he(),n)}(e,n,i)}function w2(e){const n=he(),i=Ut(),u=Zr();Yu(u+1);const h=Lp(i,u);if(e.dirty&&function Tv(e){return!(4&~e[lt])}(n)===!(2&~h.metadata.flags)){if(null===h.matches)e.reset([]);else{const m=Bm(n,u);e.reset(m,D0),e.notifyOnChanges()}return!0}return!1}function E2(){return function Pp(e,n){return e[so].queries[n].queryList}(he(),Zr())}function _2(e){return Ys(function Zn(){return _t.lFrame.contextLView}(),tt+e)}function R2(e,n=""){const i=he(),u=Ut(),h=e+tt,m=u.firstCreatePass?Es(u,h,1,n,null):u.data[h],w=O2(u,i,m,n,e);i[h]=w,Mo()&&ip(u,i,w,m),Hi(m,!1)}let O2=(e,n,i,u,h)=>(uo(!0),function Ml(e,n){return e.createText(n)}(n[Et],u));function c_(e){return Jy("",e,""),c_}function Jy(e,n,i){const u=he(),h=Ac(u,e,n,i);return h!==At&&zo(u,hr(),h),Jy}function l_(e,n,i,u,h){const m=he(),w=function Sc(e,n,i,u,h,m){const b=ma(e,lo(),i,h);return xn(2),b?n+wt(i)+u+wt(h)+m:At}(m,e,n,i,u,h);return w!==At&&zo(m,hr(),w),l_}function u_(e,n,i,u,h,m,w){const b=he(),x=gu(b,e,n,i,u,h,m,w);return x!==At&&zo(b,hr(),x),u_}function d_(e,n,i){Gm(n)&&(n=n());const u=he();return Kn(u,zi(),n)&&Gr(Ut(),yn(),u,e,n,u[Et],i,!1),d_}function V2(e,n){const i=Gm(e);return i&&e.set(n),i}function f_(e,n){const i=he(),u=Ut(),h=pn();return s_(u,i,i[Et],h,e,n),f_}function h_(e,n,i,u,h){if(e=ct(e),Array.isArray(e))for(let m=0;m<e.length;m++)h_(e[m],n,i,u,h);else{const m=Ut(),w=he(),b=pn();let x=Nn(e)?e:ct(e.provide);const S=yv(e),N=1048575&b.providerIndexes,P=b.directiveStart,H=b.providerIndexes>>20;if(Nn(e)||!e.multi){const q=new Wa(S,h,lc),ne=g_(x,n,h?N:N+H,P);-1===ne?(tl(ko(b,w),m,x),p_(m,e,n.length),n.push(x),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),i.push(q),w.push(q)):(i[ne]=q,w[ne]=q)}else{const q=g_(x,n,N+H,P),ne=g_(x,n,N,N+H),ke=ne>=0&&i[ne];if(h&&!ke||!h&&!(q>=0&&i[q])){tl(ko(b,w),m,x);const Le=function RS(e,n,i,u,h){const m=new Wa(e,i,lc);return m.multi=[],m.index=n,m.componentProviders=0,G2(m,h,u&&!i),m}(h?NS:MS,i.length,h,u,S);!h&&ke&&(i[ne].providerFactory=Le),p_(m,e,n.length,0),n.push(x),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),i.push(Le),w.push(Le)}else p_(m,e,q>-1?q:ne,G2(i[h?ne:q],S,!h&&u));!h&&u&&ke&&i[ne].componentProviders++}}}function p_(e,n,i,u){const h=Nn(n),m=function qr(e){return!!e.useClass}(n);if(h||m){const x=(m?ct(n.useClass):n).prototype.ngOnDestroy;if(x){const S=e.destroyHooks||(e.destroyHooks=[]);if(!h&&n.multi){const N=S.indexOf(i);-1===N?S.push(i,[u,x]):S[N+1].push(u,x)}else S.push(i,x)}}}function G2(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function g_(e,n,i,u){for(let h=i;h<u;h++)if(n[h]===e)return h;return-1}function MS(e,n,i,u){return m_(this.multi,[])}function NS(e,n,i,u){const h=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,b=hs(i,i[Re],this.providerFactory.index,u);m=b.slice(0,w),m_(h,m);for(let x=w;x<b.length;x++)m.push(b[x])}else m=[],m_(h,m);return m}function m_(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function z2(e,n=[]){return i=>{i.providersResolver=(u,h)=>function TS(e,n,i){const u=Ut();if(u.firstCreatePass){const h=ji(e);h_(i,u.data,u.blueprint,h,!0),h_(n,u.data,u.blueprint,h,!1)}}(u,h?h(e):e,n)}}let OS=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const u=Ae(0,i.type),h=u.length>0?Gp([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=fn({token:e,providedIn:"environment",factory:()=>new e(kn(Bi))})}}return e})();function $2(e){Pr("NgStandalone"),e.getStandaloneInjector=n=>n.get(OS).getOrCreateStandaloneInjector(e)}function Y2(e,n,i){const u=jr()+e,h=he();return h[u]===At?vo(h,u,i?n.call(i):n()):function au(e,n){return e[n]}(h,u)}function fg(e,n){const i=e[n];return i===At?void 0:i}function eI(e,n){const i=Ut();let u;const h=e+tt;i.firstCreatePass?(u=function WS(e,n){if(n)for(let i=n.length-1;i>=0;i--){const u=n[i];if(e===u.name)return u}}(n,i.pipeRegistry),i.data[h]=u,u.onDestroy&&(i.destroyHooks??=[]).push(h,u.onDestroy)):u=i.data[h];const m=u.factory||(u.factory=le(u.type)),b=tr(lc);try{const x=Qu(!1),S=m();return Qu(x),function a_(e,n,i,u){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=u}(i,he(),h,S),S}finally{tr(b)}}function tI(e,n,i){const u=e+tt,h=he(),m=Ys(h,u);return hg(h,u)?function q2(e,n,i,u,h,m){const w=n+i;return Kn(e,w,h)?vo(e,w+1,m?u.call(m,h):u(h)):fg(e,w+1)}(h,jr(),n,m.transform,i,m):m.transform(i)}function nI(e,n,i,u){const h=e+tt,m=he(),w=Ys(m,h);return hg(m,h)?function Z2(e,n,i,u,h,m,w){const b=n+i;return ma(e,b,h,m)?vo(e,b+2,w?u.call(w,h,m):u(h,m)):fg(e,b+2)}(m,jr(),n,w.transform,i,u,w):w.transform(i,u)}function hg(e,n){return e[Re].data[n].pure}function rI(e,n){return fa(e,n)}class CI{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}let wI=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const II=new je(""),DI=new je("");let __,HT=(()=>{class e{constructor(i,u,h){this._ngZone=i,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,__||(function GT(e){__=e}(h),h.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),i()},u)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,h),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,h){return[]}static{this.\u0275fac=function(u){return new(u||e)(kn(Rn),kn(AI),kn(DI))}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac})}}return e})(),AI=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return __?.findTestabilityInTree(this,i,u)??null}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function b_(e){return!!e&&"function"==typeof e.then}function SI(e){return!!e&&"function"==typeof e.subscribe}const TI=new je("");let MI=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,u)=>{this.resolve=i,this.reject=u}),this.appInits=$e(TI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(b_(m))i.push(m);else if(SI(m)){const w=new Promise((b,x)=>{m.subscribe({complete:b,error:x})});i.push(w)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{u()}).catch(h=>{this.reject(h)}),0===i.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const iv=new je("");function RI(e,n){return Array.isArray(n)?n.reduce(RI,e):{...e,...n}}let Rs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(Js),this.afterRenderManager=$e(my),this.zonelessEnabled=$e(Ql),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new $t.B,this.afterTick=new $t.B,this.componentTypes=[],this.components=[],this.isStable=$e(ps).hasPendingTasks.pipe((0,Vt.T)(i=>!i)),this._injector=$e(Bi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(u=>{i=this.isStable.subscribe({next:h=>{h&&u()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,u){const h=i instanceof $w;if(!this._injector.get(MI).done)throw!h&&I(i),new de(405,!1);let w;w=h?i:this._injector.get(bp).resolveComponentFactory(i),this.componentTypes.push(w.componentType);const b=function zT(e){return e.isBoundToModule}(w)?void 0:this._injector.get(ga),S=w.create(Or.NULL,[],u||w.selector,b),N=S.location.nativeElement,P=S.injector.get(II,null);return P?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),ov(this.components,S),P?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new de(101,!1);const i=K(null);try{this._runningTick=!0,this.synchronize()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1,K(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(Cm,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let u=0;for(;0!==this.dirtyFlags&&u++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const u=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(u);for(let{_lView:h,notifyErrorHandler:m}of this._views)XT(h,m,u,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Hu(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;ov(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(iv,[]);[...this._bootstrapListeners,...u].forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ov(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new de(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ov(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function XT(e,n,i,u){(i||Hu(e))&&Gl(e,n,i&&!u?0:1)}class YT{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let qT=(()=>{class e{compileModuleSync(i){return new Hp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),m=Qr(A(i).declarations).reduce((w,b)=>{const x=v(b);return x&&w.push(new ef(x)),w},[]);return new YT(u,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QT=(()=>{class e{constructor(){this.zone=$e(Rn),this.changeDetectionScheduler=$e(ha),this.applicationRef=$e(Rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function x_({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new Rn({...I_(),scheduleInRootZone:i}),[{provide:Rn,useFactory:e},{provide:Fi,multi:!0,useFactory:()=>{const u=$e(QT,{optional:!0});return()=>u.initialize()}},{provide:Fi,multi:!0,useFactory:()=>{const u=$e(eM);return()=>{u.initialize()}}},!0===n?{provide:Zo,useValue:!0}:[],{provide:Ko,useValue:i??_0}]}function I_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let eM=(()=>{class e{constructor(){this.subscription=new Wt.yU,this.initialized=!1,this.zone=$e(Rn),this.pendingTasks=$e(ps)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Rn.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Rn.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mg=(()=>{class e{constructor(){this.appRef=$e(Rs),this.taskService=$e(ps),this.ngZone=$e(Rn),this.zonelessEnabled=$e(Ql),this.disableScheduling=$e(Zo,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Wt.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($e(Ko,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gt||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?x0:hh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>u(()=>this.tick())):this.ngZone.runOutsideAngular(()=>u(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(u){throw this.taskService.remove(i),u}finally{this.cleanup()}this.useMicrotaskScheduler=!0,x0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const A_=new je("",{providedIn:"root",factory:()=>$e(A_,Ot.Optional|Ot.SkipSelf)||function tM(){return typeof $localize<"u"&&$localize.locale||Yy}()}),nM=new je("",{providedIn:"root",factory:()=>"USD"}),av=new je("");function cv(e){return!e.moduleRef}let UI=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const h=u?.scheduleInRootZone,w=u?.ignoreChangesOutsideZone,b=[x_({ngZoneFactory:()=>function ci(e="zone.js",n){return"noop"===e?new Gt:"zone.js"===e?new Rn(n):e}(u?.ngZone,{...I_({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:w}),{provide:ha,useExisting:mg}],x=function yE(e,n,i){return new jp(e,n,i,!1)}(i.moduleType,this.injector,b);return function BI(e){const n=cv(e)?e.r3Injector:e.moduleRef.injector,i=n.get(Rn);return i.run(()=>{cv(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const u=n.get(Ai,null);let h;if(i.runOutsideAngular(()=>{h=i.onError.subscribe({next:m=>{u.handleError(m)}})}),cv(e)){const m=()=>n.destroy(),w=e.platformInjector.get(av);w.add(m),n.onDestroy(()=>{h.unsubscribe(),w.delete(m)})}else{const m=()=>e.moduleRef.destroy(),w=e.platformInjector.get(av);w.add(m),e.moduleRef.onDestroy(()=>{ov(e.allPlatformModules,e.moduleRef),h.unsubscribe(),w.delete(m)})}return function WT(e,n,i){try{const u=i();return b_(u)?u.catch(h=>{throw n.runOutsideAngular(()=>e.handleError(h)),h}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(u,i,()=>{const m=n.get(MI);return m.runInitializers(),m.donePromise.then(()=>{if(function xA(e){"string"==typeof e&&(Ux=e.toLowerCase().replace(/_/g,"-"))}(n.get(A_,Yy)||Yy),cv(e)){const b=n.get(Rs);return void 0!==e.rootComponent&&b.bootstrap(e.rootComponent),b}return function aM(e,n){const i=e.injector.get(Rs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(u=>i.bootstrap(u));else{if(!e.instance.ngDoBootstrap)throw new de(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:x,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,u=[]){const h=RI({},u);return function KT(e,n,i){const u=new Hp(i);return Promise.resolve(u)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(av,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||e)(kn(Or))}}static{this.\u0275prov=fn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),kc=null;const VI=new je("");function jI(e,n,i=[]){const u=`Platform: ${n}`,h=new je(u);return(m=[])=>{let w=S_();if(!w||w.injector.get(VI,!1)){const b=[...i,...m,{provide:h,useValue:!0}];e?e(b):function cM(e){if(kc&&!kc.get(VI,!1))throw new de(400,!1);(function NI(){!function un(e){Ft=e}(()=>{throw new de(600,!1)})})(),kc=e;const n=e.get(UI);(function GI(e){e.get(P0,null)?.forEach(i=>i())})(e)}(function HI(e=[],n){return Or.create({name:n,providers:[{provide:io,useValue:"platform"},{provide:av,useValue:new Set([()=>kc=null])},...e]})}(b,u))}return function lM(){const n=S_();if(!n)throw new de(401,!1);return n}()}}function S_(){return kc?.get(UI)??null}let $I=(()=>{class e{static{this.__NG_ELEMENT_ID__=dM}}return e})();function dM(e){return function fM(e,n,i){if(Ha(e)&&!i){const u=si(e.index,n);return new pc(u,u)}return 175&e.type?new pc(n[Sn],n):null}(pn(),he(),!(16&~e))}class qI{constructor(){}supports(n){return nf(n)}create(n){return new yM(n)}}const mM=(e,n)=>n;class yM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||mM}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,u=this._removalsHead,h=0,m=null;for(;i||u;){const w=!u||i&&i.currentIndex<KI(u,h,m)?i:u,b=KI(w,h,m),x=w.currentIndex;if(w===u)h--,u=u._nextRemoved;else if(i=i._next,null==w.previousIndex)h++;else{m||(m=[]);const S=b-h,N=x-h;if(S!=N){for(let H=0;H<S;H++){const q=H<m.length?m[H]:m[H]=0,ne=q+H;N<=ne&&ne<S&&(m[H]=q+1)}m[w.previousIndex]=N-S}}b!==x&&n(w,b,x)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!nf(n))throw new de(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let h,m,w,i=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let b=0;b<this.length;b++)m=n[b],w=this._trackByFn(b,m),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,m,w,b)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,w,b),u=!0),i=i._next}else h=0,function CE(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let u;for(;!(u=i.next()).done;)n(u.value)}}(n,b=>{w=this._trackByFn(h,b),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,b,w,h)),Object.is(i.item,b)||this._addIdentityChange(i,b)):(i=this._mismatch(i,b,w,h),u=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,u,h){let m;return null===n?m=this._itTail:(m=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,m,h)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,m,h)):n=this._addAfter(new vM(i,u),m,h),n}_verifyReinsertion(n,i,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?n=this._reinsertAfter(m,n._prev,h):n.currentIndex!=h&&(n.currentIndex=h,this._addToMoves(n,h)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const h=n._prevRemoved,m=n._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(n,i,u),this._addToMoves(n,u),n}_moveAfter(n,i,u){return this._unlink(n),this._insertAfter(n,i,u),this._addToMoves(n,u),n}_addAfter(n,i,u){return this._insertAfter(n,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,u){const h=null===i?this._itHead:i._next;return n._next=h,n._prev=i,null===h?this._itTail=n:h._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new ZI),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,u=n._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZI),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class vM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const i=n._prevDup,u=n._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class ZI{constructor(){this.map=new Map}put(n){const i=n.trackById;let u=this.map.get(i);u||(u=new CM,this.map.set(i,u)),u.add(n)}get(n,i){const h=this.map.get(n);return h?h.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KI(e,n,i){const u=e.previousIndex;if(null===u)return u;let h=0;return i&&u<i.length&&(h=i[u]),u+n+h}class QI{constructor(){}supports(n){return n instanceof Map||zp(n)}create(){return new wM}}class wM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||zp(n)))throw new de(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,u);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const u=n._prev;return i._next=n,i._prev=u,n._prev=i,u&&(u._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const h=this._records.get(n);this._maybeAddToChanges(h,i);const m=h._prev,w=h._next;return m&&(m._next=w),w&&(w._prev=m),h._next=null,h._prev=null,h}const u=new EM(n);return this._records.set(n,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(u=>i(n[u],u))}}class EM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JI(){return new O_([new qI])}let O_=(()=>{class e{static{this.\u0275prov=fn({token:e,providedIn:"root",factory:JI})}constructor(i){this.factories=i}static create(i,u){if(null!=u){const h=u.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||JI()),deps:[[e,new ri,new Gs]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(null!=u)return u;throw new de(901,!1)}}return e})();function eD(){return new k_([new QI])}let k_=(()=>{class e{static{this.\u0275prov=fn({token:e,providedIn:"root",factory:eD})}constructor(i){this.factories=i}static create(i,u){if(u){const h=u.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||eD()),deps:[[e,new ri,new Gs]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(u)return u;throw new de(901,!1)}}return e})();const xM=jI(null,"core",[]);let IM=(()=>{class e{constructor(i){}static{this.\u0275fac=function(u){return new(u||e)(kn(Rs))}}static{this.\u0275mod=l({type:e})}static{this.\u0275inj=Fs({})}}return e})();function nN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function iN(e,n){Pr("NgSignals");const i=function te(e){const n=Object.create(Ee);n.computation=e;const i=()=>{if(_e(n),se(n),n.value===De)throw n.error;return n.value};return i[X]=n,i}(e);return n?.equal&&(i[X].equal=n.equal),i}function oN(e){const n=K(null);try{return e()}finally{K(n)}}function dN(e){const n=v(e);if(!n)return null;const i=new ef(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}}},nt=>{nt(nt.s=3742)}]);