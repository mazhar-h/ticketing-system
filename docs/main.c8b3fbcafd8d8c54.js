(self.webpackChunklogin_system=self.webpackChunklogin_system||[]).push([[792],{6576:(tt,ee,F)=>{"use strict";var c=F(4438);let W=null;function G(){return W}class X{}const oe=new c.nKC("");let ce=(()=>{class r{historyGo(n){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(pe),providedIn:"platform"})}}return r})();const J=new c.nKC("");let pe=(()=>{class r extends ce{constructor(){super(),this._doc=(0,c.WQX)(oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(n){const s=G().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",n,!1),()=>s.removeEventListener("popstate",n)}onHashChange(n){const s=G().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",n,!1),()=>s.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,s,f){this._history.pushState(n,s,f)}replaceState(n,s,f){this._history.replaceState(n,s,f)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>new r,providedIn:"platform"})}}return r})();function se(r,o){if(0==r.length)return o;if(0==o.length)return r;let n=0;return r.endsWith("/")&&n++,o.startsWith("/")&&n++,2==n?r+o.substring(1):1==n?r+o:r+"/"+o}function ve(r){const o=r.match(/#|\?|$/),n=o&&o.index||r.length;return r.slice(0,n-("/"===r[n-1]?1:0))+r.slice(n)}function Ee(r){return r&&"?"!==r[0]?"?"+r:r}let Se=(()=>{class r{historyGo(n){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(mt),providedIn:"root"})}}return r})();const We=new c.nKC("");let mt=(()=>{class r extends Se{constructor(n,s){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return se(this._baseHref,n)}path(n=!1){const s=this._platformLocation.pathname+Ee(this._platformLocation.search),f=this._platformLocation.hash;return f&&n?`${s}${f}`:s}pushState(n,s,f,y){const x=this.prepareExternalUrl(f+Ee(y));this._platformLocation.pushState(n,s,x)}replaceState(n,s,f,y){const x=this.prepareExternalUrl(f+Ee(y));this._platformLocation.replaceState(n,s,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(ce),c.KVO(We,8))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),xe=(()=>{class r extends Se{constructor(n,s){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(n){const s=se(this._baseHref,n);return s.length>0?"#"+s:s}pushState(n,s,f,y){let x=this.prepareExternalUrl(f+Ee(y));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.pushState(n,s,x)}replaceState(n,s,f,y){let x=this.prepareExternalUrl(f+Ee(y));0==x.length&&(x=this._platformLocation.pathname),this._platformLocation.replaceState(n,s,x)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(ce),c.KVO(We,8))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})(),ke=(()=>{class r{constructor(n){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const s=this._locationStrategy.getBaseHref();this._basePath=function Te(r){if(new RegExp("^(https?:)?//").test(r)){const[,n]=r.split(/\/\/[^\/]+/);return n}return r}(ve(Ce(s))),this._locationStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,s=""){return this.path()==this.normalize(n+Ee(s))}normalize(n){return r.stripTrailingSlash(function Ve(r,o){if(!r||!o.startsWith(r))return o;const n=o.substring(r.length);return""===n||["/",";","?","#"].includes(n[0])?n:o}(this._basePath,Ce(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,s="",f=null){this._locationStrategy.pushState(f,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ee(s)),f)}replaceState(n,s="",f=null){this._locationStrategy.replaceState(f,"",n,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ee(s)),f)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",s){this._urlChangeListeners.forEach(f=>f(n,s))}subscribe(n,s,f){return this._subject.subscribe({next:n,error:s,complete:f})}static{this.normalizeQueryParams=Ee}static{this.joinWithSlash=se}static{this.stripTrailingSlash=ve}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Se))}}static{this.\u0275prov=c.jDH({token:r,factory:()=>function rt(){return new ke((0,c.KVO)(Se))}(),providedIn:"root"})}}return r})();function Ce(r){return r.replace(/\/index.html$/,"")}const ie={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ne=function(r){return r[r.Decimal=0]="Decimal",r[r.Percent=1]="Percent",r[r.Currency=2]="Currency",r[r.Scientific=3]="Scientific",r}(Ne||{}),B=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}(B||{}),te=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}(te||{}),fe=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}(fe||{});const j={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Nt(r,o){return Vt((0,c.H5H)(r)[c.KH2.DateFormat],o)}function qe(r,o){return Vt((0,c.H5H)(r)[c.KH2.TimeFormat],o)}function Fe(r,o){return Vt((0,c.H5H)(r)[c.KH2.DateTimeFormat],o)}function Zt(r,o){const n=(0,c.H5H)(r),s=n[c.KH2.NumberSymbols][o];if(typeof s>"u"){if(o===j.CurrencyDecimal)return n[c.KH2.NumberSymbols][j.Decimal];if(o===j.CurrencyGroup)return n[c.KH2.NumberSymbols][j.Group]}return s}function rn(r){if(!r[c.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[c.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vt(r,o){for(let n=o;n>-1;n--)if(typeof r[n]<"u")return r[n];throw new Error("Locale data API: locale data undefined")}function Je(r){const[o,n]=r.split(":");return{hours:+o,minutes:+n}}const dr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ln={},pn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Rt=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}(Rt||{}),Tt=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}(Tt||{}),Ge=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}(Ge||{});function un(r,o,n,s){let f=function cg(r){if(Fc(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[f,y=1,x=1]=r.split("-").map(M=>+M);return Un(f,y-1,x)}const n=parseFloat(r);if(!isNaN(r-n))return new Date(n);let s;if(s=r.match(dr))return function Ir(r){const o=new Date(0);let n=0,s=0;const f=r[8]?o.setUTCFullYear:o.setFullYear,y=r[8]?o.setUTCHours:o.setHours;r[9]&&(n=Number(r[9]+r[10]),s=Number(r[9]+r[11])),f.call(o,Number(r[1]),Number(r[2])-1,Number(r[3]));const x=Number(r[4]||0)-n,M=Number(r[5]||0)-s,R=Number(r[6]||0),T=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return y.call(o,x,M,R,T),o}(s)}const o=new Date(r);if(!Fc(o))throw new Error(`Unable to convert "${r}" into a date`);return o}(r);o=vn(n,o)||o;let M,x=[];for(;o;){if(M=pn.exec(o),!M){x.push(o);break}{x=x.concat(M.slice(1));const V=x.pop();if(!V)break;o=V}}let R=f.getTimezoneOffset();s&&(R=Gn(s,R),f=function fi(r,o,n){const s=n?-1:1,f=r.getTimezoneOffset();return function kc(r,o){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+o),r}(r,s*(Gn(o,f)-f))}(f,s,!0));let T="";return x.forEach(V=>{const K=function di(r){if(ct[r])return ct[r];let o;switch(r){case"G":case"GG":case"GGG":o=nt(Ge.Eras,te.Abbreviated);break;case"GGGG":o=nt(Ge.Eras,te.Wide);break;case"GGGGG":o=nt(Ge.Eras,te.Narrow);break;case"y":o=$t(Tt.FullYear,1,0,!1,!0);break;case"yy":o=$t(Tt.FullYear,2,0,!0,!0);break;case"yyy":o=$t(Tt.FullYear,3,0,!1,!0);break;case"yyyy":o=$t(Tt.FullYear,4,0,!1,!0);break;case"Y":o=sr(1);break;case"YY":o=sr(2,!0);break;case"YYY":o=sr(3);break;case"YYYY":o=sr(4);break;case"M":case"L":o=$t(Tt.Month,1,1);break;case"MM":case"LL":o=$t(Tt.Month,2,1);break;case"MMM":o=nt(Ge.Months,te.Abbreviated);break;case"MMMM":o=nt(Ge.Months,te.Wide);break;case"MMMMM":o=nt(Ge.Months,te.Narrow);break;case"LLL":o=nt(Ge.Months,te.Abbreviated,B.Standalone);break;case"LLLL":o=nt(Ge.Months,te.Wide,B.Standalone);break;case"LLLLL":o=nt(Ge.Months,te.Narrow,B.Standalone);break;case"w":o=va(1);break;case"ww":o=va(2);break;case"W":o=va(1,!0);break;case"d":o=$t(Tt.Date,1);break;case"dd":o=$t(Tt.Date,2);break;case"c":case"cc":o=$t(Tt.Day,1);break;case"ccc":o=nt(Ge.Days,te.Abbreviated,B.Standalone);break;case"cccc":o=nt(Ge.Days,te.Wide,B.Standalone);break;case"ccccc":o=nt(Ge.Days,te.Narrow,B.Standalone);break;case"cccccc":o=nt(Ge.Days,te.Short,B.Standalone);break;case"E":case"EE":case"EEE":o=nt(Ge.Days,te.Abbreviated);break;case"EEEE":o=nt(Ge.Days,te.Wide);break;case"EEEEE":o=nt(Ge.Days,te.Narrow);break;case"EEEEEE":o=nt(Ge.Days,te.Short);break;case"a":case"aa":case"aaa":o=nt(Ge.DayPeriods,te.Abbreviated);break;case"aaaa":o=nt(Ge.DayPeriods,te.Wide);break;case"aaaaa":o=nt(Ge.DayPeriods,te.Narrow);break;case"b":case"bb":case"bbb":o=nt(Ge.DayPeriods,te.Abbreviated,B.Standalone,!0);break;case"bbbb":o=nt(Ge.DayPeriods,te.Wide,B.Standalone,!0);break;case"bbbbb":o=nt(Ge.DayPeriods,te.Narrow,B.Standalone,!0);break;case"B":case"BB":case"BBB":o=nt(Ge.DayPeriods,te.Abbreviated,B.Format,!0);break;case"BBBB":o=nt(Ge.DayPeriods,te.Wide,B.Format,!0);break;case"BBBBB":o=nt(Ge.DayPeriods,te.Narrow,B.Format,!0);break;case"h":o=$t(Tt.Hours,1,-12);break;case"hh":o=$t(Tt.Hours,2,-12);break;case"H":o=$t(Tt.Hours,1);break;case"HH":o=$t(Tt.Hours,2);break;case"m":o=$t(Tt.Minutes,1);break;case"mm":o=$t(Tt.Minutes,2);break;case"s":o=$t(Tt.Seconds,1);break;case"ss":o=$t(Tt.Seconds,2);break;case"S":o=$t(Tt.FractionalSeconds,1);break;case"SS":o=$t(Tt.FractionalSeconds,2);break;case"SSS":o=$t(Tt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":o=Pt(Rt.Short);break;case"ZZZZZ":o=Pt(Rt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":o=Pt(Rt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":o=Pt(Rt.Long);break;default:return null}return ct[r]=o,o}(V);T+=K?K(f,n,R):"''"===V?"'":V.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Un(r,o,n){const s=new Date(0);return s.setFullYear(r,o,n),s.setHours(0,0,0),s}function vn(r,o){const n=function we(r){return(0,c.H5H)(r)[c.KH2.LocaleId]}(r);if(Ln[n]??={},Ln[n][o])return Ln[n][o];let s="";switch(o){case"shortDate":s=Nt(r,fe.Short);break;case"mediumDate":s=Nt(r,fe.Medium);break;case"longDate":s=Nt(r,fe.Long);break;case"fullDate":s=Nt(r,fe.Full);break;case"shortTime":s=qe(r,fe.Short);break;case"mediumTime":s=qe(r,fe.Medium);break;case"longTime":s=qe(r,fe.Long);break;case"fullTime":s=qe(r,fe.Full);break;case"short":const f=vn(r,"shortTime"),y=vn(r,"shortDate");s=br(Fe(r,fe.Short),[f,y]);break;case"medium":const x=vn(r,"mediumTime"),M=vn(r,"mediumDate");s=br(Fe(r,fe.Medium),[x,M]);break;case"long":const R=vn(r,"longTime"),T=vn(r,"longDate");s=br(Fe(r,fe.Long),[R,T]);break;case"full":const V=vn(r,"fullTime"),K=vn(r,"fullDate");s=br(Fe(r,fe.Full),[V,K])}return s&&(Ln[n][o]=s),s}function br(r,o){return o&&(r=r.replace(/\{([^}]+)}/g,function(n,s){return null!=o&&s in o?o[s]:n})),r}function Mt(r,o,n="-",s,f){let y="";(r<0||f&&r<=0)&&(f?r=1-r:(r=-r,y=n));let x=String(r);for(;x.length<o;)x="0"+x;return s&&(x=x.slice(x.length-o)),y+x}function $t(r,o,n=0,s=!1,f=!1){return function(y,x){let M=function gt(r,o){switch(r){case Tt.FullYear:return o.getFullYear();case Tt.Month:return o.getMonth();case Tt.Date:return o.getDate();case Tt.Hours:return o.getHours();case Tt.Minutes:return o.getMinutes();case Tt.Seconds:return o.getSeconds();case Tt.FractionalSeconds:return o.getMilliseconds();case Tt.Day:return o.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,y);if((n>0||M>-n)&&(M+=n),r===Tt.Hours)0===M&&-12===n&&(M=12);else if(r===Tt.FractionalSeconds)return function Me(r,o){return Mt(r,3).substring(0,o)}(M,o);const R=Zt(x,j.MinusSign);return Mt(M,o,R,s,f)}}function nt(r,o,n=B.Format,s=!1){return function(f,y){return function mo(r,o,n,s,f,y){switch(n){case Ge.Months:return function Xe(r,o,n){const s=(0,c.H5H)(r),y=Vt([s[c.KH2.MonthsFormat],s[c.KH2.MonthsStandalone]],o);return Vt(y,n)}(o,f,s)[r.getMonth()];case Ge.Days:return function Ft(r,o,n){const s=(0,c.H5H)(r),y=Vt([s[c.KH2.DaysFormat],s[c.KH2.DaysStandalone]],o);return Vt(y,n)}(o,f,s)[r.getDay()];case Ge.DayPeriods:const x=r.getHours(),M=r.getMinutes();if(y){const T=function on(r){const o=(0,c.H5H)(r);return rn(o),(o[c.KH2.ExtraData][2]||[]).map(s=>"string"==typeof s?Je(s):[Je(s[0]),Je(s[1])])}(o),V=function Gt(r,o,n){const s=(0,c.H5H)(r);rn(s);const y=Vt([s[c.KH2.ExtraData][0],s[c.KH2.ExtraData][1]],o)||[];return Vt(y,n)||[]}(o,f,s),K=T.findIndex(De=>{if(Array.isArray(De)){const[_e,Le]=De,Be=x>=_e.hours&&M>=_e.minutes,Ue=x<Le.hours||x===Le.hours&&M<Le.minutes;if(_e.hours<Le.hours){if(Be&&Ue)return!0}else if(Be||Ue)return!0}else if(De.hours===x&&De.minutes===M)return!0;return!1});if(-1!==K)return V[K]}return function qt(r,o,n){const s=(0,c.H5H)(r),y=Vt([s[c.KH2.DayPeriodsFormat],s[c.KH2.DayPeriodsStandalone]],o);return Vt(y,n)}(o,f,s)[x<12?0:1];case Ge.Eras:return function ln(r,o){return Vt((0,c.H5H)(r)[c.KH2.Eras],o)}(o,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(f,y,r,o,n,s)}}function Pt(r){return function(o,n,s){const f=-1*s,y=Zt(n,j.MinusSign),x=f>0?Math.floor(f/60):Math.ceil(f/60);switch(r){case Rt.Short:return(f>=0?"+":"")+Mt(x,2,y)+Mt(Math.abs(f%60),2,y);case Rt.ShortGMT:return"GMT"+(f>=0?"+":"")+Mt(x,1,y);case Rt.Long:return"GMT"+(f>=0?"+":"")+Mt(x,2,y)+":"+Mt(Math.abs(f%60),2,y);case Rt.Extended:return 0===s?"Z":(f>=0?"+":"")+Mt(x,2,y)+":"+Mt(Math.abs(f%60),2,y);default:throw new Error(`Unknown zone width "${r}"`)}}}const hu=0,ut=4;function pu(r){const o=r.getDay(),n=0===o?-3:ut-o;return Un(r.getFullYear(),r.getMonth(),r.getDate()+n)}function va(r,o=!1){return function(n,s){let f;if(o){const y=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,x=n.getDate();f=1+Math.floor((x+y)/7)}else{const y=pu(n),x=function Jo(r){const o=Un(r,hu,1).getDay();return Un(r,0,1+(o<=ut?ut:ut+7)-o)}(y.getFullYear()),M=y.getTime()-x.getTime();f=1+Math.round(M/6048e5)}return Mt(f,r,Zt(s,j.MinusSign))}}function sr(r,o=!1){return function(n,s){return Mt(pu(n).getFullYear(),r,Zt(s,j.MinusSign),o)}}const ct={};function Gn(r,o){r=r.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(n)?o:n}function Fc(r){return r instanceof Date&&!isNaN(r.valueOf())}const hi=/^(\d+)?\.((\d+)(-(\d+))?)?$/,yo=22,Ki=".",ze="0",ks=";",Pc=",",Vr="#";function vf(r,o,n,s,f){const x=function gu(r,o="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=r.split(ks),f=s[0],y=s[1],x=-1!==f.indexOf(Ki)?f.split(Ki):[f.substring(0,f.lastIndexOf(ze)+1),f.substring(f.lastIndexOf(ze)+1)],M=x[0],R=x[1]||"";n.posPre=M.substring(0,M.indexOf(Vr));for(let V=0;V<R.length;V++){const K=R.charAt(V);K===ze?n.minFrac=n.maxFrac=V+1:K===Vr?n.maxFrac=V+1:n.posSuf+=K}const T=M.split(Pc);if(n.gSize=T[1]?T[1].length:0,n.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,y){const V=f.length-n.posPre.length-n.posSuf.length,K=y.indexOf(Vr);n.negPre=y.substring(0,K).replace(/'/g,""),n.negSuf=y.slice(K+V).replace(/'/g,"")}else n.negPre=o+n.posPre,n.negSuf=n.posSuf;return n}(function Ct(r,o){return(0,c.H5H)(r)[c.KH2.NumberFormats][o]}(o,Ne.Currency),Zt(o,j.MinusSign));return x.minFrac=function Pn(r){let o;const n=ie[r];return n&&(o=n[2]),"number"==typeof o?o:2}(s),x.maxFrac=x.minFrac,function Fs(r,o,n,s,f,y,x=!1){let M="",R=!1;if(isFinite(r)){let T=function vo(r){let s,f,y,x,M,o=Math.abs(r)+"",n=0;for((f=o.indexOf(Ki))>-1&&(o=o.replace(Ki,"")),(y=o.search(/e/i))>0?(f<0&&(f=y),f+=+o.slice(y+1),o=o.substring(0,y)):f<0&&(f=o.length),y=0;o.charAt(y)===ze;y++);if(y===(M=o.length))s=[0],f=1;else{for(M--;o.charAt(M)===ze;)M--;for(f-=y,s=[],x=0;y<=M;y++,x++)s[x]=Number(o.charAt(y))}return f>yo&&(s=s.splice(0,yo-1),n=f-1,f=1),{digits:s,exponent:n,integerLen:f}}(r);x&&(T=function dn(r){if(0===r.digits[0])return r;const o=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(0===o?r.digits.push(0,0):1===o&&r.digits.push(0),r.integerLen+=2),r}(T));let V=o.minInt,K=o.minFrac,De=o.maxFrac;if(y){const _n=y.match(hi);if(null===_n)throw new Error(`${y} is not a valid digit info`);const at=_n[1],mn=_n[3],ir=_n[5];null!=at&&(V=Nr(at)),null!=mn&&(K=Nr(mn)),null!=ir?De=Nr(ir):null!=mn&&K>De&&(De=K)}!function Ps(r,o,n){if(o>n)throw new Error(`The minimum number of digits after fraction (${o}) is higher than the maximum (${n}).`);let s=r.digits,f=s.length-r.integerLen;const y=Math.min(Math.max(o,f),n);let x=y+r.integerLen,M=s[x];if(x>0){s.splice(Math.max(r.integerLen,x));for(let K=x;K<s.length;K++)s[K]=0}else{f=Math.max(0,f),r.integerLen=1,s.length=Math.max(1,x=y+1),s[0]=0;for(let K=1;K<x;K++)s[K]=0}if(M>=5)if(x-1<0){for(let K=0;K>x;K--)s.unshift(0),r.integerLen++;s.unshift(1),r.integerLen++}else s[x-1]++;for(;f<Math.max(0,y);f++)s.push(0);let R=0!==y;const T=o+r.integerLen,V=s.reduceRight(function(K,De,_e,Le){return Le[_e]=(De+=K)<10?De:De-10,R&&(0===Le[_e]&&_e>=T?Le.pop():R=!1),De>=10?1:0},0);V&&(s.unshift(V),r.integerLen++)}(T,K,De);let _e=T.digits,Le=T.integerLen;const Be=T.exponent;let Ue=[];for(R=_e.every(_n=>!_n);Le<V;Le++)_e.unshift(0);for(;Le<0;Le++)_e.unshift(0);Le>0?Ue=_e.splice(Le,_e.length):(Ue=_e,_e=[0]);const st=[];for(_e.length>=o.lgSize&&st.unshift(_e.splice(-o.lgSize,_e.length).join(""));_e.length>o.gSize;)st.unshift(_e.splice(-o.gSize,_e.length).join(""));_e.length&&st.unshift(_e.join("")),M=st.join(Zt(n,s)),Ue.length&&(M+=Zt(n,f)+Ue.join("")),Be&&(M+=Zt(n,j.Exponential)+"+"+Be)}else M=Zt(n,j.Infinity);return M=r<0&&!R?o.negPre+M+o.negSuf:o.posPre+M+o.posSuf,M}(r,x,o,j.CurrencyGroup,j.CurrencyDecimal,f).replace("\xa4",n).replace("\xa4","").trim()}function Nr(r){const o=parseInt(r);if(isNaN(o))throw new Error("Invalid integer literal when parsing "+r);return o}function pi(r,o){o=encodeURIComponent(o);for(const n of r.split(";")){const s=n.indexOf("="),[f,y]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(f.trim()===o)return decodeURIComponent(y)}return null}class Us{constructor(o,n,s,f){this.$implicit=o,this.ngForOf=n,this.index=s,this.count=f}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fr=(()=>{class r{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,s,f){this._viewContainer=n,this._template=s,this._differs=f,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=this._viewContainer;n.forEachOperation((f,y,x)=>{if(null==f.previousIndex)s.createEmbeddedView(this._template,new Us(f.item,this._ngForOf,-1,-1),null===x?void 0:x);else if(null==x)s.remove(null===y?void 0:y);else if(null!==y){const M=s.get(y);s.move(M,x),Bn(M,f)}});for(let f=0,y=s.length;f<y;f++){const M=s.get(f).context;M.index=f,M.count=y,M.ngForOf=this._ngForOf}n.forEachIdentityChange(f=>{Bn(s.get(f.currentIndex),f)})}static ngTemplateContextGuard(n,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return r})();function Bn(r,o){r.context.$implicit=o.item}let Tn=(()=>{class r{constructor(n,s){this._viewContainer=n,this._context=new Vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ca("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ca("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return r})();class Vn{constructor(){this.$implicit=null,this.ngIf=null}}function Ca(r,o){if(o&&!o.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,c.Tbb)(o)}'.`)}function pt(r,o){return new c.wOt(2100,!1)}const Ri=new c.nKC(""),vt=new c.nKC("");let Vs=(()=>{class r{constructor(n,s,f){this.locale=n,this.defaultTimezone=s,this.defaultOptions=f}transform(n,s,f,y){if(null==n||""===n||n!=n)return null;try{return un(n,s??this.defaultOptions?.dateFormat??"mediumDate",y||this.locale,f??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(x){throw pt()}}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.xe9,16),c.rXU(Ri,24),c.rXU(vt,24))}}static{this.\u0275pipe=c.EJ8({name:"date",type:r,pure:!0,standalone:!0})}}return r})(),pr=(()=>{class r{constructor(n,s="USD"){this._locale=n,this._defaultCurrencyCode=s}transform(n,s=this._defaultCurrencyCode,f="symbol",y,x){if(!function Ea(r){return!(null==r||""===r||r!=r)}(n))return null;x||=this._locale,"boolean"==typeof f&&(f=f?"symbol":"code");let M=s||this._defaultCurrencyCode;"code"!==f&&(M="symbol"===f||"symbol-narrow"===f?function or(r,o,n="en"){const s=function Qe(r){return(0,c.H5H)(r)[c.KH2.Currencies]}(n)[r]||ie[r]||[],f=s[1];return"narrow"===o&&"string"==typeof f?f:s[0]||r}(M,"symbol"===f?"wide":"narrow",x):f);try{return vf(function On(r){if("string"==typeof r&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if("number"!=typeof r)throw new Error(`${r} is not a number`);return r}(n),x,M,s,y)}catch(R){throw pt()}}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.xe9,16),c.rXU(c.Ocv,16))}}static{this.\u0275pipe=c.EJ8({name:"currency",type:r,pure:!0,standalone:!0})}}return r})();let js=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({})}}return r})();const Hs="browser";function _u(r){return"server"===r}let fn=(()=>{class r{static{this.\u0275prov=(0,c.jDH)({token:r,providedIn:"root",factory:()=>function _f(r){return r===Hs}((0,c.WQX)(c.Agw))?new zs((0,c.WQX)(oe),window):new Zr})}}return r})();class zs{constructor(o,n){this.document=o,this.window=n,this.offset=()=>[0,0]}setOffset(o){this.offset=Array.isArray(o)?()=>o:o}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(o){this.window.scrollTo(o[0],o[1])}scrollToAnchor(o){const n=function _a(r,o){const n=r.getElementById(o)||r.getElementsByName(o)[0];if(n)return n;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let f=s.currentNode;for(;f;){const y=f.shadowRoot;if(y){const x=y.getElementById(o)||y.querySelector(`[name="${o}"]`);if(x)return x}f=s.nextNode()}}return null}(this.document,o);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(o){this.window.history.scrollRestoration=o}scrollToElement(o){const n=o.getBoundingClientRect(),s=n.left+this.window.pageXOffset,f=n.top+this.window.pageYOffset,y=this.offset();this.window.scrollTo(s-y[0],f-y[1])}}class Zr{setOffset(o){}getScrollPosition(){return[0,0]}scrollToPosition(o){}scrollToAnchor(o){}setHistoryScrollRestoration(o){}}class xu{}class rv extends X{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wn extends rv{static makeCurrent(){!function $(r){W??=r}(new Wn)}onAndCancel(o,n,s){return o.addEventListener(n,s),()=>{o.removeEventListener(n,s)}}dispatchEvent(o,n){o.dispatchEvent(n)}remove(o){o.remove()}createElement(o,n){return(n=n||this.getDefaultDocument()).createElement(o)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(o){return o.nodeType===Node.ELEMENT_NODE}isShadowRoot(o){return o instanceof DocumentFragment}getGlobalEventTarget(o,n){return"window"===n?window:"document"===n?o:"body"===n?o.body:null}getBaseHref(o){const n=function iv(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}();return null==n?null:function Yc(r){return new URL(r,document.baseURI).pathname}(n)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(o){return pi(document.cookie,o)}}let Na=null,sv=(()=>{class r{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const Tf=new c.nKC("");let mg=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(f=>{f.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,f){return this._findPluginFor(s).addEventListener(n,s,f)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(y=>y.supports(n)),!s)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(n,s),s}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Tf),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();class yg{constructor(o){this._doc=o}}const Mf="ng-app-id";let Nu=(()=>{class r{constructor(n,s,f,y={}){this.doc=n,this.appId=s,this.nonce=f,this.platformId=y,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_u(y),this.resetHostNodes()}addStyles(n){for(const s of n)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(n){for(const s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){const s=this.styleRef;s.get(n)?.elements?.forEach(f=>f.remove()),s.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Mf}="${this.appId}"]`);if(n?.length){const s=new Map;return n.forEach(f=>{null!=f.textContent&&s.set(f.textContent,f)}),s}return null}changeUsageCount(n,s){const f=this.styleRef;if(f.has(n)){const y=f.get(n);return y.usage+=s,y.usage}return f.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){const f=this.styleNodesInDOM,y=f?.get(s);if(y?.parentNode===n)return f.delete(s),y.removeAttribute(Mf),y;{const x=this.doc.createElement("style");return this.nonce&&x.setAttribute("nonce",this.nonce),x.textContent=s,this.platformIsServer&&x.setAttribute(Mf,this.appId),n.appendChild(x),x}}addStyleToHost(n,s){const f=this.getStyleElement(n,s),y=this.styleRef,x=y.get(s)?.elements;x?x.push(f):y.set(s,{elements:[f],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(oe),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const Ra={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},In=/%COMP%/g,mr=new c.nKC("",{providedIn:"root",factory:()=>!0});function wn(r,o){return o.map(n=>n.replace(In,r))}let Hn=(()=>{class r{constructor(n,s,f,y,x,M,R,T=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=f,this.removeStylesOnCompDestroy=y,this.doc=x,this.platformId=M,this.ngZone=R,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=_u(M),this.defaultRenderer=new vi(n,x,R,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===c.gXe.ShadowDom&&(s={...s,encapsulation:c.gXe.Emulated});const f=this.getOrCreateRenderer(n,s);return f instanceof ss?f.applyToHost(n):f instanceof Dn&&f.applyStyles(),f}getOrCreateRenderer(n,s){const f=this.rendererByCompId;let y=f.get(s.id);if(!y){const x=this.doc,M=this.ngZone,R=this.eventManager,T=this.sharedStylesHost,V=this.removeStylesOnCompDestroy,K=this.platformIsServer;switch(s.encapsulation){case c.gXe.Emulated:y=new ss(R,T,s,this.appId,V,x,M,K);break;case c.gXe.ShadowDom:return new ka(R,T,n,s,x,M,this.nonce,K);default:y=new Dn(R,T,s,V,x,M,K)}f.set(s.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(mg),c.KVO(Nu),c.KVO(c.sZ2),c.KVO(mr),c.KVO(oe),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();class vi{constructor(o,n,s,f){this.eventManager=o,this.doc=n,this.ngZone=s,this.platformIsServer=f,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(o,n){return n?this.doc.createElementNS(Ra[n]||n,o):this.doc.createElement(o)}createComment(o){return this.doc.createComment(o)}createText(o){return this.doc.createTextNode(o)}appendChild(o,n){(Nf(o)?o.content:o).appendChild(n)}insertBefore(o,n,s){o&&(Nf(o)?o.content:o).insertBefore(n,s)}removeChild(o,n){n.remove()}selectRootElement(o,n){let s="string"==typeof o?this.doc.querySelector(o):o;if(!s)throw new c.wOt(-5104,!1);return n||(s.textContent=""),s}parentNode(o){return o.parentNode}nextSibling(o){return o.nextSibling}setAttribute(o,n,s,f){if(f){n=f+":"+n;const y=Ra[f];y?o.setAttributeNS(y,n,s):o.setAttribute(n,s)}else o.setAttribute(n,s)}removeAttribute(o,n,s){if(s){const f=Ra[s];f?o.removeAttributeNS(f,n):o.removeAttribute(`${s}:${n}`)}else o.removeAttribute(n)}addClass(o,n){o.classList.add(n)}removeClass(o,n){o.classList.remove(n)}setStyle(o,n,s,f){f&(c.czy.DashCase|c.czy.Important)?o.style.setProperty(n,s,f&c.czy.Important?"important":""):o.style[n]=s}removeStyle(o,n,s){s&c.czy.DashCase?o.style.removeProperty(n):o.style[n]=""}setProperty(o,n,s){null!=o&&(o[n]=s)}setValue(o,n){o.nodeValue=n}listen(o,n,s){if("string"==typeof o&&!(o=G().getGlobalEventTarget(this.doc,o)))throw new Error(`Unsupported event target ${o} for event ${n}`);return this.eventManager.addEventListener(o,n,this.decoratePreventDefault(s))}decoratePreventDefault(o){return n=>{if("__ngUnwrap__"===n)return o;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>o(n)):o(n))&&n.preventDefault()}}}function Nf(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class ka extends vi{constructor(o,n,s,f,y,x,M,R){super(o,y,x,R),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=wn(f.id,f.styles);for(const V of T){const K=document.createElement("style");M&&K.setAttribute("nonce",M),K.textContent=V,this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(o){return o===this.hostEl?this.shadowRoot:o}appendChild(o,n){return super.appendChild(this.nodeOrShadowRoot(o),n)}insertBefore(o,n,s){return super.insertBefore(this.nodeOrShadowRoot(o),n,s)}removeChild(o,n){return super.removeChild(null,n)}parentNode(o){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(o)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dn extends vi{constructor(o,n,s,f,y,x,M,R){super(o,y,x,M),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=f,this.styles=R?wn(R,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ss extends Dn{constructor(o,n,s,f,y,x,M,R){const T=f+"-"+s.id;super(o,n,s,y,x,M,R,T),this.contentAttr=function Or(r){return"_ngcontent-%COMP%".replace(In,r)}(T),this.hostAttr=function Oa(r){return"_nghost-%COMP%".replace(In,r)}(T)}applyToHost(o){this.applyStyles(),this.setAttribute(o,this.hostAttr,"")}createElement(o,n){const s=super.createElement(o,n);return super.setAttribute(s,this.contentAttr,""),s}}let Fa=(()=>{class r extends yg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,f){return n.addEventListener(s,f,!1),()=>this.removeEventListener(n,s,f)}removeEventListener(n,s,f){return n.removeEventListener(s,f)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(oe))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const no=["alt","control","meta","shift"],Pa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vg={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let as=(()=>{class r extends yg{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,f){const y=r.parseEventName(s),x=r.eventCallback(y.fullKey,f,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(n,y.domEventName,x))}static parseEventName(n){const s=n.toLowerCase().split("."),f=s.shift();if(0===s.length||"keydown"!==f&&"keyup"!==f)return null;const y=r._normalizeKey(s.pop());let x="",M=s.indexOf("code");if(M>-1&&(s.splice(M,1),x="code."),no.forEach(T=>{const V=s.indexOf(T);V>-1&&(s.splice(V,1),x+=T+".")}),x+=y,0!=s.length||0===y.length)return null;const R={};return R.domEventName=f,R.fullKey=x,R}static matchEventFullKeyCode(n,s){let f=Pa[n.key]||n.key,y="";return s.indexOf("code.")>-1&&(f=n.code,y="code."),!(null==f||!f)&&(f=f.toLowerCase()," "===f?f="space":"."===f&&(f="dot"),no.forEach(x=>{x!==f&&(0,vg[x])(n)&&(y+=x+".")}),y+=f,y===s)}static eventCallback(n,s,f){return y=>{r.matchEventFullKeyCode(y,n)&&f.runGuarded(()=>s(y))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(oe))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const Xn=(0,c.oH4)(c.fpN,"browser",[{provide:c.Agw,useValue:Hs},{provide:c.PLl,useValue:function qc(){Wn.makeCurrent()},multi:!0},{provide:oe,useFactory:function Ou(){return(0,c.TL$)(document),document},deps:[]}]),ku=new c.nKC(""),rr=[{provide:c.e01,useClass:class ov{addToWindow(o){c.JZv.getAngularTestability=(s,f=!0)=>{const y=o.findTestabilityInTree(s,f);if(null==y)throw new c.wOt(5103,!1);return y},c.JZv.getAllAngularTestabilities=()=>o.getAllTestabilities(),c.JZv.getAllAngularRootElements=()=>o.getAllRootElements(),c.JZv.frameworkStabilizers||(c.JZv.frameworkStabilizers=[]),c.JZv.frameworkStabilizers.push(s=>{const f=c.JZv.getAllAngularTestabilities();let y=f.length;const x=function(){y--,0==y&&s()};f.forEach(M=>{M.whenStable(x)})})}findTestabilityInTree(o,n,s){return null==n?null:o.getTestability(n)??(s?G().isShadowRoot(n)?this.findTestabilityInTree(o,n.host,!0):this.findTestabilityInTree(o,n.parentElement,!0):null)}},deps:[]},{provide:c.WHO,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]},{provide:c.NYb,useClass:c.NYb,deps:[c.SKi,c.giA,c.e01]}],yr=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function ro(){return new c.zcH},deps:[]},{provide:Tf,useClass:Fa,multi:!0,deps:[oe,c.SKi,c.Agw]},{provide:Tf,useClass:as,multi:!0,deps:[oe]},Hn,Nu,mg,{provide:c._9s,useExisting:Hn},{provide:xu,useClass:sv,deps:[]},[]];let Of=(()=>{class r{constructor(n){}static withServerTransition(n){return{ngModule:r,providers:[{provide:c.sZ2,useValue:n.appId}]}}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(ku,12))}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({providers:[...yr,...rr],imports:[js,c.Hbi]})}}return r})(),Ui=(()=>{class r{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(oe))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var cr=F(1985),Ar=F(8071);function io(r){return this instanceof io?(this.v=r,this):new io(r)}function Vf(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r[Symbol.asyncIterator];return o?o.call(r):(r=function Uf(r){var o="function"==typeof Symbol&&Symbol.iterator,n=o&&r[o],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(y){n[y]=r[y]&&function(x){return new Promise(function(M,R){!function f(y,x,M,R){Promise.resolve(R).then(function(T){y({value:T,done:M})},x)}(M,R,(x=r[y](x)).done,x.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Gf=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function gv(r){return(0,Ar.T)(r?.then)}var Mg=F(3494);function Ng(r){return(0,Ar.T)(r[Mg.s])}function Rg(r){return Symbol.asyncIterator&&(0,Ar.T)(r?.[Symbol.asyncIterator])}function zf(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Og=function Zs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kg(r){return(0,Ar.T)(r?.[Og])}function Fg(r){return function Dg(r,o,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,s=n.apply(r,o||[]),y=[];return f=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),M("next"),M("throw"),M("return",function x(_e){return function(Le){return Promise.resolve(Le).then(_e,K)}}),f[Symbol.asyncIterator]=function(){return this},f;function M(_e,Le){s[_e]&&(f[_e]=function(Be){return new Promise(function(Ue,st){y.push([_e,Be,Ue,st])>1||R(_e,Be)})},Le&&(f[_e]=Le(f[_e])))}function R(_e,Le){try{!function T(_e){_e.value instanceof io?Promise.resolve(_e.value.v).then(V,K):De(y[0][2],_e)}(s[_e](Le))}catch(Be){De(y[0][3],Be)}}function V(_e){R("next",_e)}function K(_e){R("throw",_e)}function De(_e,Le){_e(Le),y.shift(),y.length&&R(y[0][0],y[0][1])}}(this,arguments,function*(){const n=r.getReader();try{for(;;){const{value:s,done:f}=yield io(n.read());if(f)return yield io(void 0);yield yield io(s)}}finally{n.releaseLock()}})}function Pg(r){return(0,Ar.T)(r?.getReader)}var mv=F(5334);function he(r){if(r instanceof cr.c)return r;if(null!=r){if(Ng(r))return function Ut(r){return new cr.c(o=>{const n=r[Mg.s]();if((0,Ar.T)(n.subscribe))return n.subscribe(o);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Gf(r))return function Lg(r){return new cr.c(o=>{for(let n=0;n<r.length&&!o.closed;n++)o.next(r[n]);o.complete()})}(r);if(gv(r))return function Bg(r){return new cr.c(o=>{r.then(n=>{o.closed||(o.next(n),o.complete())},n=>o.error(n)).then(null,mv.m)})}(r);if(Rg(r))return $f(r);if(kg(r))return function hn(r){return new cr.c(o=>{for(const n of r)if(o.next(n),o.closed)return;o.complete()})}(r);if(Pg(r))return function Zc(r){return $f(Fg(r))}(r)}throw zf(r)}function $f(r){return new cr.c(o=>{(function Vi(r,o){var n,s,f,y;return function Jt(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Vf(r);!(s=yield n.next()).done;)if(o.next(s.value),o.closed)return}catch(x){f={error:x}}finally{try{s&&!s.done&&(y=n.return)&&(yield y.call(n))}finally{if(f)throw f.error}}o.complete()})})(r,o).catch(n=>o.error(n))})}function ji(r,o,n,s=0,f=!1){const y=o.schedule(function(){n(),f?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(y),!f)return y}var Yn=F(9974),qn=F(4360);function yv(r,o=0){return(0,Yn.N)((n,s)=>{n.subscribe((0,qn._)(s,f=>ji(s,r,()=>s.next(f),o),()=>ji(s,r,()=>s.complete(),o),f=>ji(s,r,()=>s.error(f),o)))})}function vv(r,o=0){return(0,Yn.N)((n,s)=>{s.add(r.schedule(()=>n.subscribe(s),o))})}function oo(r,o){if(!r)throw new Error("Iterable cannot be null");return new cr.c(n=>{ji(n,o,()=>{const s=r[Symbol.asyncIterator]();ji(n,o,()=>{s.next().then(f=>{f.done?n.complete():n.next(f.value)})},0,!0)})})}function En(r,o){return o?function Hi(r,o){if(null!=r){if(Ng(r))return function Ug(r,o){return he(r).pipe(vv(o),yv(o))}(r,o);if(Gf(r))return function jg(r,o){return new cr.c(n=>{let s=0;return o.schedule(function(){s===r.length?n.complete():(n.next(r[s++]),n.closed||this.schedule())})})}(r,o);if(gv(r))return function Vg(r,o){return he(r).pipe(vv(o),yv(o))}(r,o);if(Rg(r))return oo(r,o);if(kg(r))return function Fr(r,o){return new cr.c(n=>{let s;return ji(n,o,()=>{s=r[Og](),ji(n,o,()=>{let f,y;try{({value:f,done:y}=s.next())}catch(x){return void n.error(x)}y?n.complete():n.next(f)},0,!0)}),()=>(0,Ar.T)(s?.return)&&s.return()})}(r,o);if(Pg(r))return function Hg(r,o){return oo(Fg(r),o)}(r,o)}throw zf(r)}(r,o):he(r)}function ju(r){return r[r.length-1]}function Gg(r){return(0,Ar.T)(ju(r))?r.pop():void 0}function Hu(r){return function Cv(r){return r&&(0,Ar.T)(r.schedule)}(ju(r))?r.pop():void 0}function yt(...r){return En(r,Hu(r))}var Gr=F(4412);const{isArray:Gu}=Array,{getPrototypeOf:wv,prototype:$g,keys:Wf}=Object;function Xf(r){if(1===r.length){const o=r[0];if(Gu(o))return{args:o,keys:null};if(function Wg(r){return r&&"object"==typeof r&&wv(r)===$g}(o)){const n=Wf(o);return{args:n.map(s=>o[s]),keys:n}}}return{args:r,keys:null}}var cs=F(3669),en=F(6354);const{isArray:Yf}=Array;function lr(r){return(0,en.T)(o=>function Ev(r,o){return Yf(o)?r(...o):r(o)}(r,o))}function ls(r,o){return r.reduce((n,s,f)=>(n[s]=o[f],n),{})}function gn(...r){const o=Hu(r),n=Gg(r),{args:s,keys:f}=Xf(r);if(0===s.length)return En([],o);const y=new cr.c(function _v(r,o,n=cs.D){return s=>{Xg(o,()=>{const{length:f}=r,y=new Array(f);let x=f,M=f;for(let R=0;R<f;R++)Xg(o,()=>{const T=En(r[R],o);let V=!1;T.subscribe((0,qn._)(s,K=>{y[R]=K,V||(V=!0,M--),M||s.next(n(y.slice()))},()=>{--x||s.complete()}))},s)},s)}}(s,o,f?x=>ls(f,x):cs.D));return n?y.pipe(lr(n)):y}function Xg(r,o,n){r?ji(n,r,o):o()}const zu=(0,F(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function vr(r,o,n=1/0){return(0,Ar.T)(o)?vr((s,f)=>(0,en.T)((y,x)=>o(s,y,f,x))(he(r(s,f))),n):("number"==typeof o&&(n=o),(0,Yn.N)((s,f)=>function Yg(r,o,n,s,f,y,x,M){const R=[];let T=0,V=0,K=!1;const De=()=>{K&&!R.length&&!T&&o.complete()},_e=Be=>T<s?Le(Be):R.push(Be),Le=Be=>{y&&o.next(Be),T++;let Ue=!1;he(n(Be,V++)).subscribe((0,qn._)(o,st=>{f?.(st),y?_e(st):o.next(st)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(T--;R.length&&T<s;){const st=R.shift();x?ji(o,x,()=>Le(st)):Le(st)}De()}catch(st){o.error(st)}}))};return r.subscribe((0,qn._)(o,_e,()=>{K=!0,De()})),()=>{M?.()}}(s,f,r,n)))}function Do(r=1/0){return vr(cs.D,r)}function qf(...r){return function so(){return Do(1)}()(En(r,Hu(r)))}function Kc(r){return new cr.c(o=>{he(r()).subscribe(o)})}var $u=F(1203);function Ao(r,o){const n=(0,Ar.T)(r)?r:()=>r,s=f=>f.error(n());return new cr.c(o?f=>o.schedule(s,0,f):s)}const wi=new cr.c(r=>r.complete());var Wu=F(8359);function us(){return(0,Yn.N)((r,o)=>{let n=null;r._refCount++;const s=(0,qn._)(o,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(n=null);const f=r._connection,y=n;n=null,f&&(!y||f===y)&&f.unsubscribe(),o.unsubscribe()});r.subscribe(s),s.closed||(n=r.connect())})}class ja extends cr.c{constructor(o,n){super(),this.source=o,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.S)(o)&&(this.lift=o.lift)}_subscribe(o){return this.getSubject().subscribe(o)}getSubject(){const o=this._subject;return(!o||o.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:o}=this;this._subject=this._connection=null,o?.unsubscribe()}connect(){let o=this._connection;if(!o){o=this._connection=new Wu.yU;const n=this.getSubject();o.add(this.source.subscribe((0,qn._)(n,void 0,()=>{this._teardown(),n.complete()},s=>{this._teardown(),n.error(s)},()=>this._teardown()))),o.closed&&(this._connection=null,o=Wu.yU.EMPTY)}return o}refCount(){return us()(this)}}var So=F(1413);function Cr(r,o){return(0,Yn.N)((n,s)=>{let f=null,y=0,x=!1;const M=()=>x&&!f&&s.complete();n.subscribe((0,qn._)(s,R=>{f?.unsubscribe();let T=0;const V=y++;he(r(R,V)).subscribe(f=(0,qn._)(s,K=>s.next(o?o(R,K,V,T++):K),()=>{f=null,M()}))},()=>{x=!0,M()}))})}function ds(r){return r<=0?()=>wi:(0,Yn.N)((o,n)=>{let s=0;o.subscribe((0,qn._)(n,f=>{++s<=r&&(n.next(f),r<=s&&n.complete())}))})}function ao(r,o){return(0,Yn.N)((n,s)=>{let f=0;n.subscribe((0,qn._)(s,y=>r.call(o,y,f++)&&s.next(y)))})}function Xu(r){return(0,Yn.N)((o,n)=>{let s=!1;o.subscribe((0,qn._)(n,f=>{s=!0,n.next(f)},()=>{s||n.next(r),n.complete()}))})}function Dv(r=F_){return(0,Yn.N)((o,n)=>{let s=!1;o.subscribe((0,qn._)(n,f=>{s=!0,n.next(f)},()=>s?n.complete():n.error(r())))})}function F_(){return new zu}function To(r,o){const n=arguments.length>=2;return s=>s.pipe(r?ao((f,y)=>r(f,y,s)):cs.D,ds(1),n?Xu(o):Dv(()=>new zu))}function Ei(r,o){return(0,Ar.T)(o)?vr(r,o,1):vr(r,1)}function wr(r,o,n){const s=(0,Ar.T)(r)||o||n?{next:r,error:o,complete:n}:r;return s?(0,Yn.N)((f,y)=>{var x;null===(x=s.subscribe)||void 0===x||x.call(s);let M=!0;f.subscribe((0,qn._)(y,R=>{var T;null===(T=s.next)||void 0===T||T.call(s,R),y.next(R)},()=>{var R;M=!1,null===(R=s.complete)||void 0===R||R.call(s),y.complete()},R=>{var T;M=!1,null===(T=s.error)||void 0===T||T.call(s,R),y.error(R)},()=>{var R,T;M&&(null===(R=s.unsubscribe)||void 0===R||R.call(s)),null===(T=s.finalize)||void 0===T||T.call(s)}))}):cs.D}function _i(r){return(0,Yn.N)((o,n)=>{let y,s=null,f=!1;s=o.subscribe((0,qn._)(n,void 0,void 0,x=>{y=he(r(x,_i(r)(o))),s?(s.unsubscribe(),s=null,y.subscribe(n)):f=!0})),f&&(s.unsubscribe(),s=null,y.subscribe(n))})}function Zf(r){return r<=0?()=>wi:(0,Yn.N)((o,n)=>{let s=[];o.subscribe((0,qn._)(n,f=>{s.push(f),r<s.length&&s.shift()},()=>{for(const f of s)n.next(f);n.complete()},void 0,()=>{s=null}))})}function qu(r){return(0,Yn.N)((o,n)=>{try{o.subscribe(n)}finally{n.add(r)}})}var Zg=F(5343);const kt="primary",zr=Symbol("RouteTitle");class Sv{constructor(o){this.params=o||{}}has(o){return Object.prototype.hasOwnProperty.call(this.params,o)}get(o){if(this.has(o)){const n=this.params[o];return Array.isArray(n)?n[0]:n}return null}getAll(o){if(this.has(o)){const n=this.params[o];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Mo(r){return new Sv(r)}function Qf(r,o,n){const s=n.path.split("/");if(s.length>r.length||"full"===n.pathMatch&&(o.hasChildren()||s.length<r.length))return null;const f={};for(let y=0;y<s.length;y++){const x=s[y],M=r[y];if(":"===x[0])f[x.substring(1)]=M;else if(x!==M.path)return null}return{consumed:r.slice(0,s.length),posParams:f}}function ei(r,o){const n=r?Jc(r):void 0,s=o?Jc(o):void 0;if(!n||!s||n.length!=s.length)return!1;let f;for(let y=0;y<n.length;y++)if(f=n[y],!Jg(r[f],o[f]))return!1;return!0}function Jc(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Jg(r,o){if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;const n=[...r].sort(),s=[...o].sort();return n.every((f,y)=>s[y]===f)}return r===o}function Jf(r){return r.length>0?r[r.length-1]:null}function No(r){return function Pf(r){return!!r&&(r instanceof cr.c||(0,Ar.T)(r.lift)&&(0,Ar.T)(r.subscribe))}(r)?r:(0,c.jNT)(r)?En(Promise.resolve(r)):yt(r)}const e0={exact:function fs(r,o,n){if(!Oo(r.segments,o.segments)||!Ro(r.segments,o.segments,n)||r.numberOfChildren!==o.numberOfChildren)return!1;for(const s in o.children)if(!r.children[s]||!fs(r.children[s],o.children[s],n))return!1;return!0},subset:th},eh={exact:function Zu(r,o){return ei(r,o)},subset:function Tv(r,o){return Object.keys(o).length<=Object.keys(r).length&&Object.keys(o).every(n=>Jg(r[n],o[n]))},ignored:()=>!0};function t0(r,o,n){return e0[n.paths](r.root,o.root,n.matrixParams)&&eh[n.queryParams](r.queryParams,o.queryParams)&&!("exact"===n.fragment&&r.fragment!==o.fragment)}function th(r,o,n){return nh(r,o,o.segments,n)}function nh(r,o,n,s){if(r.segments.length>n.length){const f=r.segments.slice(0,n.length);return!(!Oo(f,n)||o.hasChildren()||!Ro(f,n,s))}if(r.segments.length===n.length){if(!Oo(r.segments,n)||!Ro(r.segments,n,s))return!1;for(const f in o.children)if(!r.children[f]||!th(r.children[f],o.children[f],s))return!1;return!0}{const f=n.slice(0,r.segments.length),y=n.slice(r.segments.length);return!!(Oo(r.segments,f)&&Ro(r.segments,f,s)&&r.children[kt])&&nh(r.children[kt],o,y,s)}}function Ro(r,o,n){return o.every((s,f)=>eh[n](r[f].parameters,s.parameters))}class xi{constructor(o=new bt([],{}),n={},s=null){this.root=o,this.queryParams=n,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){return Nv.serialize(this)}}class bt{constructor(o,n){this.segments=o,this.children=n,this.parent=null,Object.values(n).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}}class el{constructor(o,n){this.path=o,this.parameters=n}get parameterMap(){return this._parameterMap??=Mo(this.parameters),this._parameterMap}toString(){return r0(this)}}function Oo(r,o){return r.length===o.length&&r.every((n,s)=>n.path===o[s].path)}let Ks=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>new Qs,providedIn:"root"})}}return r})();class Qs{parse(o){const n=new l0(o);return new xi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(o){const n=`/${Js(o.root,!0)}`,s=function Ov(r){const o=Object.entries(r).map(([n,s])=>Array.isArray(s)?s.map(f=>`${rl(n)}=${rl(f)}`).join("&"):`${rl(n)}=${rl(s)}`).filter(n=>n);return o.length?`?${o.join("&")}`:""}(o.queryParams);return`${n}${s}${"string"==typeof o.fragment?`#${function Rv(r){return encodeURI(r)}(o.fragment)}`:""}`}}const Nv=new Qs;function tl(r){return r.segments.map(o=>r0(o)).join("/")}function Js(r,o){if(!r.hasChildren())return tl(r);if(o){const n=r.children[kt]?Js(r.children[kt],!1):"",s=[];return Object.entries(r.children).forEach(([f,y])=>{f!==kt&&s.push(`${f}:${Js(y,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=function Mv(r,o){let n=[];return Object.entries(r.children).forEach(([s,f])=>{s===kt&&(n=n.concat(o(f,s)))}),Object.entries(r.children).forEach(([s,f])=>{s!==kt&&(n=n.concat(o(f,s)))}),n}(r,(s,f)=>f===kt?[Js(r.children[kt],!1)]:[`${f}:${Js(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[kt]?`${tl(r)}/${n[0]}`:`${tl(r)}/(${n.join("//")})`}}function nl(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rl(r){return nl(r).replace(/%3B/gi,";")}function rh(r){return nl(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ku(r){return decodeURIComponent(r)}function ih(r){return Ku(r.replace(/\+/g,"%20"))}function r0(r){return`${rh(r.path)}${function o0(r){return Object.entries(r).map(([o,n])=>`;${rh(o)}=${rh(n)}`).join("")}(r.parameters)}`}const kv=/^[^\/()?;#]+/;function s0(r){const o=r.match(kv);return o?o[0]:""}const a0=/^[^\/()?;=#]+/,Sr=/^[^=?&#]+/,Fv=/^[^&#]+/;class l0{constructor(o){this.url=o,this.remaining=o}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bt([],{}):new bt([],this.parseChildren())}parseQueryParams(){const o={};if(this.consumeOptional("?"))do{this.parseQueryParam(o)}while(this.consumeOptional("&"));return o}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const o=[];for(this.peekStartsWith("(")||o.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),o.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(o.length>0||Object.keys(n).length>0)&&(s[kt]=new bt(o,n)),s}parseSegment(){const o=s0(this.remaining);if(""===o&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(o),new el(Ku(o),this.parseMatrixParams())}parseMatrixParams(){const o={};for(;this.consumeOptional(";");)this.parseParam(o);return o}parseParam(o){const n=function c0(r){const o=r.match(a0);return o?o[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const f=s0(this.remaining);f&&(s=f,this.capture(s))}o[Ku(n)]=Ku(s)}parseQueryParam(o){const n=function P_(r){const o=r.match(Sr);return o?o[0]:""}(this.remaining);if(!n)return;this.capture(n);let s="";if(this.consumeOptional("=")){const x=function L_(r){const o=r.match(Fv);return o?o[0]:""}(this.remaining);x&&(s=x,this.capture(s))}const f=ih(n),y=ih(s);if(o.hasOwnProperty(f)){let x=o[f];Array.isArray(x)||(x=[x],o[f]=x),x.push(y)}else o[f]=y}parseParens(o){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=s0(this.remaining),f=this.remaining[s.length];if("/"!==f&&")"!==f&&";"!==f)throw new c.wOt(4010,!1);let y;s.indexOf(":")>-1?(y=s.slice(0,s.indexOf(":")),this.capture(y),this.capture(":")):o&&(y=kt);const x=this.parseChildren();n[y]=1===Object.keys(x).length?x[kt]:new bt([],x),this.consumeOptional("//")}return n}peekStartsWith(o){return this.remaining.startsWith(o)}consumeOptional(o){return!!this.peekStartsWith(o)&&(this.remaining=this.remaining.substring(o.length),!0)}capture(o){if(!this.consumeOptional(o))throw new c.wOt(4011,!1)}}function Pv(r){return r.segments.length>0?new bt([],{[kt]:r}):r}function Qu(r){const o={};for(const[s,f]of Object.entries(r.children)){const y=Qu(f);if(s===kt&&0===y.segments.length&&y.hasChildren())for(const[x,M]of Object.entries(y.children))o[x]=M;else(y.segments.length>0||y.hasChildren())&&(o[s]=y)}return function u0(r){if(1===r.numberOfChildren&&r.children[kt]){const o=r.children[kt];return new bt(r.segments.concat(o.segments),o.children)}return r}(new bt(r.segments,o))}function Gi(r){return r instanceof xi}function d0(r){let o;const f=Pv(function n(y){const x={};for(const R of y.children){const T=n(R);x[R.outlet]=T}const M=new bt(y.url,x);return y===r&&(o=M),M}(r.root));return o??f}function hs(r,o,n,s){let f=r;for(;f.parent;)f=f.parent;if(0===o.length)return bi(f,f,f,n,s);const y=function f0(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new sh(!0,0,r);let o=0,n=!1;const s=r.reduce((f,y,x)=>{if("object"==typeof y&&null!=y){if(y.outlets){const M={};return Object.entries(y.outlets).forEach(([R,T])=>{M[R]="string"==typeof T?T.split("/"):T}),[...f,{outlets:M}]}if(y.segmentPath)return[...f,y.segmentPath]}return"string"!=typeof y?[...f,y]:0===x?(y.split("/").forEach((M,R)=>{0==R&&"."===M||(0==R&&""===M?n=!0:".."===M?o++:""!=M&&f.push(M))}),f):[...f,y]},[]);return new sh(n,o,s)}(o);if(y.toRoot())return bi(f,f,new bt([],{}),n,s);const x=function ch(r,o,n){if(r.isAbsolute)return new ah(o,!0,0);if(!n)return new ah(o,!1,NaN);if(null===n.parent)return new ah(n,!0,0);const s=oh(r.commands[0])?0:1;return function Ju(r,o,n){let s=r,f=o,y=n;for(;y>f;){if(y-=f,s=s.parent,!s)throw new c.wOt(4005,!1);f=s.segments.length}return new ah(s,!1,f-y)}(n,n.segments.length-1+s,r.numberOfDoubleDots)}(y,f,r),M=x.processChildren?sl(x.segmentGroup,x.index,y.commands):Nn(x.segmentGroup,x.index,y.commands);return bi(f,x.segmentGroup,M,n,s)}function oh(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function il(r){return"object"==typeof r&&null!=r&&r.outlets}function bi(r,o,n,s,f){let x,y={};s&&Object.entries(s).forEach(([R,T])=>{y[R]=Array.isArray(T)?T.map(V=>`${V}`):`${T}`}),x=r===o?n:ol(r,o,n);const M=Pv(Qu(x));return new xi(M,y,f)}function ol(r,o,n){const s={};return Object.entries(r.children).forEach(([f,y])=>{s[f]=y===o?n:ol(y,o,n)}),new bt(r.segments,s)}class sh{constructor(o,n,s){if(this.isAbsolute=o,this.numberOfDoubleDots=n,this.commands=s,o&&s.length>0&&oh(s[0]))throw new c.wOt(4003,!1);const f=s.find(il);if(f&&f!==Jf(s))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ah{constructor(o,n,s){this.segmentGroup=o,this.processChildren=n,this.index=s}}function Nn(r,o,n){if(r??=new bt([],{}),0===r.segments.length&&r.hasChildren())return sl(r,o,n);const s=function lh(r,o,n){let s=0,f=o;const y={match:!1,pathIndex:0,commandIndex:0};for(;f<r.segments.length;){if(s>=n.length)return y;const x=r.segments[f],M=n[s];if(il(M))break;const R=`${M}`,T=s<n.length-1?n[s+1]:null;if(f>0&&void 0===R)break;if(R&&T&&"object"==typeof T&&void 0===T.outlets){if(!dh(R,T,x))return y;s+=2}else{if(!dh(R,{},x))return y;s++}f++}return{match:!0,pathIndex:f,commandIndex:s}}(r,o,n),f=n.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const y=new bt(r.segments.slice(0,s.pathIndex),{});return y.children[kt]=new bt(r.segments.slice(s.pathIndex),r.children),sl(y,0,f)}return s.match&&0===f.length?new bt(r.segments,{}):s.match&&!r.hasChildren()?uh(r,o,n):s.match?sl(r,0,f):uh(r,o,n)}function sl(r,o,n){if(0===n.length)return new bt(r.segments,{});{const s=function Bv(r){return il(r[0])?r[0].outlets:{[kt]:r}}(n),f={};if(Object.keys(s).some(y=>y!==kt)&&r.children[kt]&&1===r.numberOfChildren&&0===r.children[kt].segments.length){const y=sl(r.children[kt],o,n);return new bt(r.segments,y.children)}return Object.entries(s).forEach(([y,x])=>{"string"==typeof x&&(x=[x]),null!==x&&(f[y]=Nn(r.children[y],o,x))}),Object.entries(r.children).forEach(([y,x])=>{void 0===s[y]&&(f[y]=x)}),new bt(r.segments,f)}}function uh(r,o,n){const s=r.segments.slice(0,o);let f=0;for(;f<n.length;){const y=n[f];if(il(y)){const R=Uv(y.outlets);return new bt(s,R)}if(0===f&&oh(n[0])){s.push(new el(r.segments[o].path,ed(n[0]))),f++;continue}const x=il(y)?y.outlets[kt]:`${y}`,M=f<n.length-1?n[f+1]:null;x&&M&&oh(M)?(s.push(new el(x,ed(M))),f+=2):(s.push(new el(x,{})),f++)}return new bt(s,{})}function Uv(r){const o={};return Object.entries(r).forEach(([n,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[n]=uh(new bt([],{}),0,s))}),o}function ed(r){const o={};return Object.entries(r).forEach(([n,s])=>o[n]=`${s}`),o}function dh(r,o,n){return r==n.path&&ei(o,n.parameters)}const Ha="imperative";var Ht=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Ht||{});class co{constructor(o,n){this.id=o,this.url=n}}class td extends co{constructor(o,n,s="imperative",f=null){super(o,n),this.type=Ht.NavigationStart,this.navigationTrigger=s,this.restoredState=f}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lo extends co{constructor(o,n,s){super(o,n),this.urlAfterRedirects=s,this.type=Ht.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ti=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(ti||{}),Ii=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Ii||{});class ea extends co{constructor(o,n,s,f){super(o,n),this.reason=s,this.code=f,this.type=Ht.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ta extends co{constructor(o,n,s,f){super(o,n),this.reason=s,this.code=f,this.type=Ht.NavigationSkipped}}class h0 extends co{constructor(o,n,s,f){super(o,n),this.error=s,this.target=f,this.type=Ht.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vv extends co{constructor(o,n,s,f){super(o,n),this.urlAfterRedirects=s,this.state=f,this.type=Ht.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B_ extends co{constructor(o,n,s,f){super(o,n),this.urlAfterRedirects=s,this.state=f,this.type=Ht.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U_ extends co{constructor(o,n,s,f,y){super(o,n),this.urlAfterRedirects=s,this.state=f,this.shouldActivate=y,this.type=Ht.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class V_ extends co{constructor(o,n,s,f){super(o,n),this.urlAfterRedirects=s,this.state=f,this.type=Ht.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jv extends co{constructor(o,n,s,f){super(o,n),this.urlAfterRedirects=s,this.state=f,this.type=Ht.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ga{constructor(o){this.route=o,this.type=Ht.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class al{constructor(o){this.route=o,this.type=Ht.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p0{constructor(o){this.snapshot=o,this.type=Ht.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hv{constructor(o){this.snapshot=o,this.type=Ht.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fh{constructor(o){this.snapshot=o,this.type=Ht.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cl{constructor(o){this.snapshot=o,this.type=Ht.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g0{constructor(o,n,s){this.routerEvent=o,this.position=n,this.anchor=s,this.type=Ht.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ll{}class ul{constructor(o,n){this.url=o,this.navigationBehaviorOptions=n}}function kn(r){return r.outlet||kt}function za(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let o=r.parent;o;o=o.parent){const n=o.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class rd{get injector(){return za(this.route?.snapshot)??this.rootInjector}set injector(o){}constructor(o){this.rootInjector=o,this.outlet=null,this.route=null,this.children=new id(this.rootInjector),this.attachRef=null}}let id=(()=>{class r{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,s){const f=this.getOrCreateContext(n);f.outlet=s,this.contexts.set(n,f)}onChildOutletDestroyed(n){const s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new rd(this.rootInjector),this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class Xv{constructor(o){this._root=o}get root(){return this._root.value}parent(o){const n=this.pathFromRoot(o);return n.length>1?n[n.length-2]:null}children(o){const n=ur(o,this._root);return n?n.children.map(s=>s.value):[]}firstChild(o){const n=ur(o,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(o){const n=ps(o,this._root);return n.length<2?[]:n[n.length-2].children.map(f=>f.value).filter(f=>f!==o)}pathFromRoot(o){return ps(o,this._root).map(n=>n.value)}}function ur(r,o){if(r===o.value)return o;for(const n of o.children){const s=ur(r,n);if(s)return s}return null}function ps(r,o){if(r===o.value)return[o];for(const n of o.children){const s=ps(r,n);if(s.length)return s.unshift(o),s}return[]}class Di{constructor(o,n){this.value=o,this.children=n}toString(){return`TreeNode(${this.value})`}}function na(r){const o={};return r&&r.children.forEach(n=>o[n.value.outlet]=n),o}class y0 extends Xv{constructor(o,n){super(o),this.snapshot=n,mh(this,o)}toString(){return this.snapshot.toString()}}function gh(r){const o=function Yv(r){const y=new fl([],{},{},"",{},kt,r,null,{});return new v0("",new Di(y,[]))}(r),n=new Gr.t([new el("",{})]),s=new Gr.t({}),f=new Gr.t({}),y=new Gr.t({}),x=new Gr.t(""),M=new Pr(n,s,y,x,f,kt,r,o.root);return M.snapshot=o.root,new y0(new Di(M,[]),o)}class Pr{constructor(o,n,s,f,y,x,M,R){this.urlSubject=o,this.paramsSubject=n,this.queryParamsSubject=s,this.fragmentSubject=f,this.dataSubject=y,this.outlet=x,this.component=M,this._futureSnapshot=R,this.title=this.dataSubject?.pipe((0,en.T)(T=>T[zr]))??yt(void 0),this.url=o,this.params=n,this.queryParams=s,this.fragment=f,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,en.T)(o=>Mo(o))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,en.T)(o=>Mo(o))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function od(r,o,n="emptyOnly"){let s;const{routeConfig:f}=r;return s=null===o||"always"!==n&&""!==f?.path&&(o.component||o.routeConfig?.loadComponent)?{params:{...r.params},data:{...r.data},resolve:{...r.data,...r._resolvedData??{}}}:{params:{...o.params,...r.params},data:{...o.data,...r.data},resolve:{...r.data,...o.data,...f?.data,...r._resolvedData}},f&&vh(f)&&(s.resolve[zr]=f.title),s}class fl{get title(){return this.data?.[zr]}constructor(o,n,s,f,y,x,M,R,T){this.url=o,this.params=n,this.queryParams=s,this.fragment=f,this.data=y,this.outlet=x,this.component=M,this.routeConfig=R,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mo(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class v0 extends Xv{constructor(o,n){super(n),this.url=o,mh(this,n)}toString(){return C0(this._root)}}function mh(r,o){o.value._routerState=r,o.children.forEach(n=>mh(r,n))}function C0(r){const o=r.children.length>0?` { ${r.children.map(C0).join(", ")} } `:"";return`${r.value}${o}`}function yh(r){if(r.snapshot){const o=r.snapshot,n=r._futureSnapshot;r.snapshot=n,ei(o.queryParams,n.queryParams)||r.queryParamsSubject.next(n.queryParams),o.fragment!==n.fragment&&r.fragmentSubject.next(n.fragment),ei(o.params,n.params)||r.paramsSubject.next(n.params),function Qg(r,o){if(r.length!==o.length)return!1;for(let n=0;n<r.length;++n)if(!ei(r[n],o[n]))return!1;return!0}(o.url,n.url)||r.urlSubject.next(n.url),ei(o.data,n.data)||r.dataSubject.next(n.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function sd(r,o){const n=ei(r.params,o.params)&&function n0(r,o){return Oo(r,o)&&r.every((n,s)=>ei(n.parameters,o[s].parameters))}(r.url,o.url);return n&&!(!r.parent!=!o.parent)&&(!r.parent||sd(r.parent,o.parent))}function vh(r){return"string"==typeof r.title||null===r.title}let ad=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(id),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(hl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:s,previousValue:f}=n.name;if(s)return;this.isTrackedInParentContexts(f)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(f)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=n;const f=this.location,x=n.snapshot.component,M=this.parentContexts.getOrCreateContext(this.name).children,R=new $a(n,M,f.injector);this.activated=f.createComponent(x,{index:f.length,injector:R,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=c.FsC({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return r})();class $a{__ngOutletInjector(o){return new $a(this.route,this.childContexts,o)}constructor(o,n,s){this.route=o,this.childContexts=n,this.parent=s}get(o,n){return o===Pr?this.route:o===id?this.childContexts:this.parent.get(o,n)}}const hl=new c.nKC("");let Ch=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:s}=n,f=gn([s.queryParams,s.params,s.data]).pipe(Cr(([y,x,M],R)=>(M={...y,...x,...M},0===R?yt(M):Promise.resolve(M)))).subscribe(y=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(n);const x=(0,c.HJs)(s.component);if(x)for(const{templateName:M}of x.inputs)n.activatedComponentRef.setInput(M,y[M]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,f)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();function Wa(r,o,n){if(n&&r.shouldReuseRoute(o.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=o.value;const f=function qv(r,o,n){return o.children.map(s=>{for(const f of n.children)if(r.shouldReuseRoute(s.value,f.value.snapshot))return Wa(r,s,f);return Wa(r,s)})}(r,o,n);return new Di(s,f)}{if(r.shouldAttach(o.value)){const y=r.retrieve(o.value);if(null!==y){const x=y.route;return x.value._futureSnapshot=o.value,x.children=o.children.map(M=>Wa(r,M)),x}}const s=function Zv(r){return new Pr(new Gr.t(r.url),new Gr.t(r.params),new Gr.t(r.queryParams),new Gr.t(r.fragment),new Gr.t(r.data),r.outlet,r.component,r)}(o.value),f=o.children.map(y=>Wa(r,y));return new Di(s,f)}}class wh{constructor(o,n){this.redirectTo=o,this.navigationBehaviorOptions=n}}const E0="ngNavigationCancelingError";function pl(r,o){const{redirectTo:n,navigationBehaviorOptions:s}=Gi(o)?{redirectTo:o,navigationBehaviorOptions:void 0}:o,f=Kv(!1,ti.Redirect);return f.url=n,f.navigationBehaviorOptions=s,f}function Kv(r,o){const n=new Error(`NavigationCancelingError: ${r||""}`);return n[E0]=!0,n.cancellationCode=o,n}function x0(r){return!!r&&r[E0]}class Qv{constructor(o,n,s,f,y){this.routeReuseStrategy=o,this.futureState=n,this.currState=s,this.forwardEvent=f,this.inputBindingEnabled=y}activate(o){const n=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,s,o),yh(this.futureState.root),this.activateChildRoutes(n,s,o)}deactivateChildRoutes(o,n,s){const f=na(n);o.children.forEach(y=>{const x=y.value.outlet;this.deactivateRoutes(y,f[x],s),delete f[x]}),Object.values(f).forEach(y=>{this.deactivateRouteAndItsChildren(y,s)})}deactivateRoutes(o,n,s){const f=o.value,y=n?n.value:null;if(f===y)if(f.component){const x=s.getContext(f.outlet);x&&this.deactivateChildRoutes(o,n,x.children)}else this.deactivateChildRoutes(o,n,s);else y&&this.deactivateRouteAndItsChildren(n,s)}deactivateRouteAndItsChildren(o,n){o.value.component&&this.routeReuseStrategy.shouldDetach(o.value.snapshot)?this.detachAndStoreRouteSubtree(o,n):this.deactivateRouteAndOutlet(o,n)}detachAndStoreRouteSubtree(o,n){const s=n.getContext(o.value.outlet),f=s&&o.value.component?s.children:n,y=na(o);for(const x of Object.values(y))this.deactivateRouteAndItsChildren(x,f);if(s&&s.outlet){const x=s.outlet.detach(),M=s.children.onOutletDeactivated();this.routeReuseStrategy.store(o.value.snapshot,{componentRef:x,route:o,contexts:M})}}deactivateRouteAndOutlet(o,n){const s=n.getContext(o.value.outlet),f=s&&o.value.component?s.children:n,y=na(o);for(const x of Object.values(y))this.deactivateRouteAndItsChildren(x,f);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(o,n,s){const f=na(n);o.children.forEach(y=>{this.activateRoutes(y,f[y.value.outlet],s),this.forwardEvent(new cl(y.value.snapshot))}),o.children.length&&this.forwardEvent(new Hv(o.value.snapshot))}activateRoutes(o,n,s){const f=o.value,y=n?n.value:null;if(yh(f),f===y)if(f.component){const x=s.getOrCreateContext(f.outlet);this.activateChildRoutes(o,n,x.children)}else this.activateChildRoutes(o,n,s);else if(f.component){const x=s.getOrCreateContext(f.outlet);if(this.routeReuseStrategy.shouldAttach(f.snapshot)){const M=this.routeReuseStrategy.retrieve(f.snapshot);this.routeReuseStrategy.store(f.snapshot,null),x.children.onOutletReAttached(M.contexts),x.attachRef=M.componentRef,x.route=M.route.value,x.outlet&&x.outlet.attach(M.componentRef,M.route.value),yh(M.route.value),this.activateChildRoutes(o,null,x.children)}else x.attachRef=null,x.route=f,x.outlet&&x.outlet.activateWith(f,x.injector),this.activateChildRoutes(o,null,x.children)}else this.activateChildRoutes(o,null,s)}}class Eh{constructor(o){this.path=o,this.route=this.path[this.path.length-1]}}class Xa{constructor(o,n){this.component=o,this.route=n}}function Jv(r,o,n){const s=r._root;return gl(s,o?o._root:null,n,[s.value])}function ko(r,o){const n=Symbol(),s=o.get(r,n);return s===n?"function"!=typeof r||(0,c.LfX)(r)?o.get(r):r:s}function gl(r,o,n,s,f={canDeactivateChecks:[],canActivateChecks:[]}){const y=na(o);return r.children.forEach(x=>{(function b0(r,o,n,s,f={canDeactivateChecks:[],canActivateChecks:[]}){const y=r.value,x=o?o.value:null,M=n?n.getContext(r.value.outlet):null;if(x&&y.routeConfig===x.routeConfig){const R=function cd(r,o,n){if("function"==typeof n)return n(r,o);switch(n){case"pathParamsChange":return!Oo(r.url,o.url);case"pathParamsOrQueryParamsChange":return!Oo(r.url,o.url)||!ei(r.queryParams,o.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sd(r,o)||!ei(r.queryParams,o.queryParams);default:return!sd(r,o)}}(x,y,y.routeConfig.runGuardsAndResolvers);R?f.canActivateChecks.push(new Eh(s)):(y.data=x.data,y._resolvedData=x._resolvedData),gl(r,o,y.component?M?M.children:null:n,s,f),R&&M&&M.outlet&&M.outlet.isActivated&&f.canDeactivateChecks.push(new Xa(M.outlet.component,x))}else x&&ld(o,M,f),f.canActivateChecks.push(new Eh(s)),gl(r,null,y.component?M?M.children:null:n,s,f)})(x,y[x.value.outlet],n,s.concat([x.value]),f),delete y[x.value.outlet]}),Object.entries(y).forEach(([x,M])=>ld(M,n.getContext(x),f)),f}function ld(r,o,n){const s=na(r),f=r.value;Object.entries(s).forEach(([y,x])=>{ld(x,f.component?o?o.children.getContext(y):null:o,n)}),n.canDeactivateChecks.push(new Xa(f.component&&o&&o.outlet&&o.outlet.isActivated?o.outlet.component:null,f))}function ml(r){return"function"==typeof r}function I0(r){return r instanceof zu||"EmptyError"===r?.name}const Ya=Symbol("INITIAL_VALUE");function ms(){return Cr(r=>gn(r.map(o=>o.pipe(ds(1),function Iv(...r){const o=Hu(r);return(0,Yn.N)((n,s)=>{(o?qf(r,n,o):qf(r,n)).subscribe(s)})}(Ya)))).pipe((0,en.T)(o=>{for(const n of o)if(!0!==n){if(n===Ya)return Ya;if(!1===n||qa(n))return n}return!0}),ao(o=>o!==Ya),ds(1)))}function qa(r){return Gi(r)||r instanceof wh}function rC(r){return(0,$u.F)(wr(o=>{if("boolean"!=typeof o)throw pl(0,o)}),(0,en.T)(o=>!0===o))}class ra{constructor(o){this.segmentGroup=o||null}}class pd extends Error{constructor(o){super(),this.urlTree=o}}function ia(r){return Ao(new ra(r))}class D0{constructor(o,n){this.urlSerializer=o,this.urlTree=n}lineralizeSegments(o,n){let s=[],f=n.root;for(;;){if(s=s.concat(f.segments),0===f.numberOfChildren)return yt(s);if(f.numberOfChildren>1||!f.children[kt])return Ao(new c.wOt(4e3,!1));f=f.children[kt]}}applyRedirectCommands(o,n,s,f,y){if("string"!=typeof n){const M=n,{queryParams:R,fragment:T,routeConfig:V,url:K,outlet:De,params:_e,data:Le,title:Be}=f,Ue=(0,c.N4e)(y,()=>M({params:_e,data:Le,queryParams:R,fragment:T,routeConfig:V,url:K,outlet:De,title:Be}));if(Ue instanceof xi)throw new pd(Ue);n=Ue}const x=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),o,s);if("/"===n[0])throw new pd(x);return x}applyRedirectCreateUrlTree(o,n,s,f){const y=this.createSegmentGroup(o,n.root,s,f);return new xi(y,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(o,n){const s={};return Object.entries(o).forEach(([f,y])=>{if("string"==typeof y&&":"===y[0]){const M=y.substring(1);s[f]=n[M]}else s[f]=y}),s}createSegmentGroup(o,n,s,f){const y=this.createSegments(o,n.segments,s,f);let x={};return Object.entries(n.children).forEach(([M,R])=>{x[M]=this.createSegmentGroup(o,R,s,f)}),new bt(y,x)}createSegments(o,n,s,f){return n.map(y=>":"===y.path[0]?this.findPosParam(o,y,f):this.findOrReturn(y,s))}findPosParam(o,n,s){const f=s[n.path.substring(1)];if(!f)throw new c.wOt(4001,!1);return f}findOrReturn(o,n){let s=0;for(const f of n){if(f.path===o.path)return n.splice(s),f;s++}return o}}const Ah={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oC(r,o,n,s,f){const y=Ka(r,o,n);return y.matched?(s=function dl(r,o){return r.providers&&!r._injector&&(r._injector=(0,c.Ol2)(r.providers,o,`Route: ${r.path}`)),r._injector??o}(o,s),function Ih(r,o,n,s){const f=o.canMatch;return f&&0!==f.length?yt(f.map(x=>{const M=ko(x,r);return No(function ud(r){return r&&ml(r.canMatch)}(M)?M.canMatch(o,n):(0,c.N4e)(r,()=>M(o,n)))})).pipe(ms(),rC()):yt(!0)}(s,o,n).pipe((0,en.T)(x=>!0===x?y:{...Ah}))):yt(y)}function Ka(r,o,n){if("**"===o.path)return function A0(r){return{matched:!0,parameters:r.length>0?Jf(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===o.path)return"full"===o.pathMatch&&(r.hasChildren()||n.length>0)?{...Ah}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const f=(o.matcher||Qf)(n,r,o);if(!f)return{...Ah};const y={};Object.entries(f.posParams??{}).forEach(([M,R])=>{y[M]=R.path});const x=f.consumed.length>0?{...y,...f.consumed[f.consumed.length-1].parameters}:y;return{matched:!0,consumedSegments:f.consumed,remainingSegments:n.slice(f.consumed.length),parameters:x,positionalParamSegments:f.posParams??{}}}function gd(r,o,n,s){return n.length>0&&function q_(r,o,n){return n.some(s=>md(r,o,s)&&kn(s)!==kt)}(r,n,s)?{segmentGroup:new bt(o,Y_(s,new bt(n,r.children))),slicedSegments:[]}:0===n.length&&function Cl(r,o,n){return n.some(s=>md(r,o,s))}(r,n,s)?{segmentGroup:new bt(r.segments,sC(r,n,s,r.children)),slicedSegments:n}:{segmentGroup:new bt(r.segments,r.children),slicedSegments:n}}function sC(r,o,n,s){const f={};for(const y of n)if(md(r,o,y)&&!s[kn(y)]){const x=new bt([],{});f[kn(y)]=x}return{...s,...f}}function Y_(r,o){const n={};n[kt]=o;for(const s of r)if(""===s.path&&kn(s)!==kt){const f=new bt([],{});n[kn(s)]=f}return n}function md(r,o,n){return(!(r.hasChildren()||o.length>0)||"full"!==n.pathMatch)&&""===n.path}class Sh{}class T0{constructor(o,n,s,f,y,x,M){this.injector=o,this.configLoader=n,this.rootComponentType=s,this.config=f,this.urlTree=y,this.paramsInheritanceStrategy=x,this.urlSerializer=M,this.applyRedirects=new D0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(o){return new c.wOt(4002,`'${o.segmentGroup}'`)}recognize(){const o=gd(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(o).pipe((0,en.T)(({children:n,rootSnapshot:s})=>{const f=new Di(s,n),y=new v0("",f),x=function Lv(r,o,n=null,s=null){return hs(d0(r),o,n,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return x.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(x),{state:y,tree:x}}))}match(o){const n=new fl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),kt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,o,kt,n).pipe((0,en.T)(s=>({children:s,rootSnapshot:n})),_i(s=>{if(s instanceof pd)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof ra?this.noMatchError(s):s}))}processSegmentGroup(o,n,s,f,y){return 0===s.segments.length&&s.hasChildren()?this.processChildren(o,n,s,y):this.processSegment(o,n,s,s.segments,f,!0,y).pipe((0,en.T)(x=>x instanceof Di?[x]:[]))}processChildren(o,n,s,f){const y=[];for(const x of Object.keys(s.children))"primary"===x?y.unshift(x):y.push(x);return En(y).pipe(Ei(x=>{const M=s.children[x],R=function ph(r,o){const n=r.filter(s=>kn(s)===o);return n.push(...r.filter(s=>kn(s)!==o)),n}(n,x);return this.processSegmentGroup(o,R,M,x,f)}),function Qc(r,o){return(0,Yn.N)(function Av(r,o,n,s,f){return(y,x)=>{let M=n,R=o,T=0;y.subscribe((0,qn._)(x,V=>{const K=T++;R=M?r(R,V,K):(M=!0,V),s&&x.next(R)},f&&(()=>{M&&x.next(R),x.complete()})))}}(r,o,arguments.length>=2,!0))}((x,M)=>(x.push(...M),x)),Xu(null),function Kf(r,o){const n=arguments.length>=2;return s=>s.pipe(r?ao((f,y)=>r(f,y,s)):cs.D,Zf(1),n?Xu(o):Dv(()=>new zu))}(),vr(x=>{if(null===x)return ia(s);const M=ys(x);return function Th(r){r.sort((o,n)=>o.value.outlet===kt?-1:n.value.outlet===kt?1:o.value.outlet.localeCompare(n.value.outlet))}(M),yt(M)}))}processSegment(o,n,s,f,y,x,M){return En(n).pipe(Ei(R=>this.processSegmentAgainstRoute(R._injector??o,n,R,s,f,y,x,M).pipe(_i(T=>{if(T instanceof ra)return yt(null);throw T}))),To(R=>!!R),_i(R=>{if(I0(R))return function yd(r,o,n){return 0===o.length&&!r.children[n]}(s,f,y)?yt(new Sh):ia(s);throw R}))}processSegmentAgainstRoute(o,n,s,f,y,x,M,R){return kn(s)===x||x!==kt&&md(f,y,s)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(o,f,s,y,x,R):this.allowRedirects&&M?this.expandSegmentAgainstRouteUsingRedirect(o,f,n,s,y,x,R):ia(f):ia(f)}expandSegmentAgainstRouteUsingRedirect(o,n,s,f,y,x,M){const{matched:R,parameters:T,consumedSegments:V,positionalParamSegments:K,remainingSegments:De}=Ka(n,f,y);if(!R)return ia(n);"string"==typeof f.redirectTo&&"/"===f.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const _e=new fl(y,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wl(f),kn(f),f.component??f._loadedComponent??null,f,Mh(f)),Le=od(_e,M,this.paramsInheritanceStrategy);_e.params=Object.freeze(Le.params),_e.data=Object.freeze(Le.data);const Be=this.applyRedirects.applyRedirectCommands(V,f.redirectTo,K,_e,o);return this.applyRedirects.lineralizeSegments(f,Be).pipe(vr(Ue=>this.processSegment(o,s,n,Ue.concat(De),x,!1,M)))}matchSegmentAgainstRoute(o,n,s,f,y,x){const M=oC(n,s,f,o);return"**"===s.path&&(n.children={}),M.pipe(Cr(R=>R.matched?this.getChildConfig(o=s._injector??o,s,f).pipe(Cr(({routes:T})=>{const V=s._loadedInjector??o,{parameters:K,consumedSegments:De,remainingSegments:_e}=R,Le=new fl(De,K,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wl(s),kn(s),s.component??s._loadedComponent??null,s,Mh(s)),Be=od(Le,x,this.paramsInheritanceStrategy);Le.params=Object.freeze(Be.params),Le.data=Object.freeze(Be.data);const{segmentGroup:Ue,slicedSegments:st}=gd(n,De,_e,T);if(0===st.length&&Ue.hasChildren())return this.processChildren(V,T,Ue,Le).pipe((0,en.T)(at=>new Di(Le,at)));if(0===T.length&&0===st.length)return yt(new Di(Le,[]));const _n=kn(s)===y;return this.processSegment(V,T,Ue,st,_n?kt:y,!0,Le).pipe((0,en.T)(at=>new Di(Le,at instanceof Di?[at]:[])))})):ia(n)))}getChildConfig(o,n,s){return n.children?yt({routes:n.children,injector:o}):n.loadChildren?void 0!==n._loadedRoutes?yt({routes:n._loadedRoutes,injector:n._loadedInjector}):function bh(r,o,n,s){const f=o.canLoad;return void 0===f||0===f.length?yt(!0):yt(f.map(x=>{const M=ko(x,r);return No(function tC(r){return r&&ml(r.canLoad)}(M)?M.canLoad(o,n):(0,c.N4e)(r,()=>M(o,n)))})).pipe(ms(),rC())}(o,n,s).pipe(vr(f=>f?this.configLoader.loadChildren(o,n).pipe(wr(y=>{n._loadedRoutes=y.routes,n._loadedInjector=y.injector})):function Dh(){return Ao(Kv(!1,ti.GuardRejected))}())):yt({routes:[],injector:o})}}function M0(r){const o=r.value.routeConfig;return o&&""===o.path}function ys(r){const o=[],n=new Set;for(const s of r){if(!M0(s)){o.push(s);continue}const f=o.find(y=>s.value.routeConfig===y.value.routeConfig);void 0!==f?(f.children.push(...s.children),n.add(f)):o.push(s)}for(const s of n){const f=ys(s.children);o.push(new Di(s.value,f))}return o.filter(s=>!n.has(s))}function wl(r){return r.data||{}}function Mh(r){return r.resolve||{}}function vd(r){const o=r.children.map(n=>vd(n)).flat();return[r,...o]}function vs(r){return Cr(o=>{const n=r(o);return n?En(n).pipe((0,en.T)(()=>o)):yt(o)})}let k0=(()=>{class r{buildTitle(n){let s,f=n.root;for(;void 0!==f;)s=this.getResolvedTitleForRoute(f)??s,f=f.children.find(y=>y.outlet===kt);return s}getResolvedTitleForRoute(n){return n.data[zr]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(lC),providedIn:"root"})}}return r})(),lC=(()=>{class r extends k0{constructor(n){super(),this.title=n}updateTitle(n){const s=this.buildTitle(n);void 0!==s&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Ui))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const El=new c.nKC("",{providedIn:"root",factory:()=>({})});let _l=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(s,f){1&s&&c.nrm(0,"router-outlet")},dependencies:[ad],encapsulation:2})}}return r})();function xl(r){const o=r.children&&r.children.map(xl),n=o?{...r,children:o}:{...r};return!n.component&&!n.loadComponent&&(o||n.loadChildren)&&n.outlet&&n.outlet!==kt&&(n.component=_l),n}const oa=new c.nKC("");let wd=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return yt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const s=No(n.loadComponent()).pipe((0,en.T)(L0),wr(y=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=y}),qu(()=>{this.componentLoaders.delete(n)})),f=new ja(s,()=>new So.B).pipe(us());return this.componentLoaders.set(n,f),f}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return yt({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const y=function F0(r,o,n,s){return No(r.loadChildren()).pipe((0,en.T)(L0),vr(f=>f instanceof c.Co$||Array.isArray(f)?yt(f):En(o.compileModuleAsync(f))),(0,en.T)(f=>{s&&s(r);let y,x,M=!1;return Array.isArray(f)?(x=f,!0):(y=f.create(n).injector,x=y.get(oa,[],{optional:!0,self:!0}).flat()),{routes:x.map(xl),injector:y}}))}(s,this.compiler,n,this.onLoadEndListener).pipe(qu(()=>{this.childrenLoaders.delete(s)})),x=new ja(y,()=>new So.B).pipe(us());return this.childrenLoaders.set(s,x),x}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function L0(r){return function P0(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let Rh=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(uC),providedIn:"root"})}}return r})(),uC=(()=>{class r{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const B0=new c.nKC(""),U0=new c.nKC("");function Cs(r,o,n){const s=r.get(U0),f=r.get(oe);return r.get(c.SKi).runOutsideAngular(()=>{if(!f.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(T=>setTimeout(T));let y;const x=new Promise(T=>{y=T}),M=f.startViewTransition(()=>(y(),function bl(r){return new Promise(o=>{(0,c.mal)({read:()=>setTimeout(o)},{injector:r})})}(r))),{onViewTransitionCreated:R}=s;return R&&(0,c.N4e)(r,()=>R({transition:M,from:o,to:n})),x})}const V0=new c.nKC("");let Oh=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new So.B,this.transitionAbortSubject=new So.B,this.configLoader=(0,c.WQX)(wd),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Ks),this.rootContexts=(0,c.WQX)(id),this.location=(0,c.WQX)(ke),this.inputBindingEnabled=null!==(0,c.WQX)(hl,{optional:!0}),this.titleStrategy=(0,c.WQX)(k0),this.options=(0,c.WQX)(El,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Rh),this.createViewTransition=(0,c.WQX)(B0,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(V0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>yt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=f=>this.events.next(new al(f)),this.configLoader.onLoadStartListener=f=>this.events.next(new Ga(f))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:s})}setupNavigations(n,s,f){return this.transitions=new Gr.t({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ha,restoredState:null,currentSnapshot:f.snapshot,targetSnapshot:null,currentRouterState:f,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ao(y=>0!==y.id),(0,en.T)(y=>({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),Cr(y=>{let x=!1,M=!1;return yt(y).pipe(Cr(R=>{if(this.navigationId>y.id)return this.cancelNavigationTransition(y,"",ti.SupersededByNewNavigation),wi;this.currentTransition=y,this.currentNavigation={id:R.id,initialUrl:R.rawUrl,extractedUrl:R.extractedUrl,targetBrowserUrl:"string"==typeof R.extras.browserUrl?this.urlSerializer.parse(R.extras.browserUrl):R.extras.browserUrl,trigger:R.source,extras:R.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const T=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!T&&"reload"!==(R.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const K="";return this.events.next(new ta(R.id,this.urlSerializer.serialize(R.rawUrl),K,Ii.IgnoredSameUrlNavigation)),R.resolve(!1),wi}if(this.urlHandlingStrategy.shouldProcessUrl(R.rawUrl))return yt(R).pipe(Cr(K=>{const De=this.transitions?.getValue();return this.events.next(new td(K.id,this.urlSerializer.serialize(K.extractedUrl),K.source,K.restoredState)),De!==this.transitions?.getValue()?wi:Promise.resolve(K)}),function N0(r,o,n,s,f,y){return vr(x=>function S0(r,o,n,s,f,y,x="emptyOnly"){return new T0(r,o,n,s,f,x,y).recognize()}(r,o,n,s,x.extractedUrl,f,y).pipe((0,en.T)(({state:M,tree:R})=>({...x,targetSnapshot:M,urlAfterRedirects:R}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),wr(K=>{y.targetSnapshot=K.targetSnapshot,y.urlAfterRedirects=K.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:K.urlAfterRedirects};const De=new Vv(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(De)}));if(T&&this.urlHandlingStrategy.shouldProcessUrl(R.currentRawUrl)){const{id:K,extractedUrl:De,source:_e,restoredState:Le,extras:Be}=R,Ue=new td(K,this.urlSerializer.serialize(De),_e,Le);this.events.next(Ue);const st=gh(this.rootComponentType).snapshot;return this.currentTransition=y={...R,targetSnapshot:st,urlAfterRedirects:De,extras:{...Be,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=De,yt(y)}{const K="";return this.events.next(new ta(R.id,this.urlSerializer.serialize(R.extractedUrl),K,Ii.IgnoredByUrlHandlingStrategy)),R.resolve(!1),wi}}),wr(R=>{const T=new B_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(T)}),(0,en.T)(R=>(this.currentTransition=y={...R,guards:Jv(R.targetSnapshot,R.currentSnapshot,this.rootContexts)},y)),function dd(r,o){return vr(n=>{const{targetSnapshot:s,currentSnapshot:f,guards:{canActivateChecks:y,canDeactivateChecks:x}}=n;return 0===x.length&&0===y.length?yt({...n,guardsResult:!0}):function _h(r,o,n,s){return En(r).pipe(vr(f=>function vl(r,o,n,s,f){const y=o&&o.routeConfig?o.routeConfig.canDeactivate:null;return y&&0!==y.length?yt(y.map(M=>{const R=za(o)??f,T=ko(M,R);return No(function W_(r){return r&&ml(r.canDeactivate)}(T)?T.canDeactivate(r,o,n,s):(0,c.N4e)(R,()=>T(r,o,n,s))).pipe(To())})).pipe(ms()):yt(!0)}(f.component,f.route,n,o,s)),To(f=>!0!==f,!0))}(x,s,f,r).pipe(vr(M=>M&&function eC(r){return"boolean"==typeof r}(M)?function yl(r,o,n,s){return En(o).pipe(Ei(f=>qf(function Za(r,o){return null!==r&&o&&o(new p0(r)),yt(!0)}(f.route.parent,s),function fd(r,o){return null!==r&&o&&o(new fh(r)),yt(!0)}(f.route,s),function hd(r,o,n){const s=o[o.length-1],y=o.slice(0,o.length-1).reverse().map(x=>function gs(r){const o=r.routeConfig?r.routeConfig.canActivateChild:null;return o&&0!==o.length?{node:r,guards:o}:null}(x)).filter(x=>null!==x).map(x=>Kc(()=>yt(x.guards.map(R=>{const T=za(x.node)??n,V=ko(R,T);return No(function $_(r){return r&&ml(r.canActivateChild)}(V)?V.canActivateChild(s,r):(0,c.N4e)(T,()=>V(s,r))).pipe(To())})).pipe(ms())));return yt(y).pipe(ms())}(r,f.path,n),function xh(r,o,n){const s=o.routeConfig?o.routeConfig.canActivate:null;if(!s||0===s.length)return yt(!0);const f=s.map(y=>Kc(()=>{const x=za(o)??n,M=ko(y,x);return No(function nC(r){return r&&ml(r.canActivate)}(M)?M.canActivate(o,r):(0,c.N4e)(x,()=>M(o,r))).pipe(To())}));return yt(f).pipe(ms())}(r,f.route,n))),To(f=>!0!==f,!0))}(s,y,r,o):yt(M)),(0,en.T)(M=>({...n,guardsResult:M})))})}(this.environmentInjector,R=>this.events.next(R)),wr(R=>{if(y.guardsResult=R.guardsResult,R.guardsResult&&"boolean"!=typeof R.guardsResult)throw pl(0,R.guardsResult);const T=new U_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot,!!R.guardsResult);this.events.next(T)}),ao(R=>!!R.guardsResult||(this.cancelNavigationTransition(R,"",ti.GuardRejected),!1)),vs(R=>{if(R.guards.canActivateChecks.length)return yt(R).pipe(wr(T=>{const V=new V_(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(V)}),Cr(T=>{let V=!1;return yt(T).pipe(function R0(r,o){return vr(n=>{const{targetSnapshot:s,guards:{canActivateChecks:f}}=n;if(!f.length)return yt(n);const y=new Set(f.map(R=>R.route)),x=new Set;for(const R of y)if(!x.has(R))for(const T of vd(R))x.add(T);let M=0;return En(x).pipe(Ei(R=>y.has(R)?function O0(r,o,n,s){const f=r.routeConfig,y=r._resolve;return void 0!==f?.title&&!vh(f)&&(y[zr]=f.title),function Cd(r,o,n,s){const f=Jc(r);if(0===f.length)return yt({});const y={};return En(f).pipe(vr(x=>function Nh(r,o,n,s){const f=za(o)??s,y=ko(r,f);return No(y.resolve?y.resolve(o,n):(0,c.N4e)(f,()=>y(o,n)))}(r[x],o,n,s).pipe(To(),wr(M=>{if(M instanceof wh)throw pl(new Qs,M);y[x]=M}))),Zf(1),function Yu(r){return(0,en.T)(()=>r)}(y),_i(x=>I0(x)?wi:Ao(x)))}(y,r,o,s).pipe((0,en.T)(x=>(r._resolvedData=x,r.data=od(r,r.parent,n).resolve,null)))}(R,s,r,o):(R.data=od(R,R.parent,r).resolve,yt(void 0))),wr(()=>M++),Zf(1),vr(R=>M===x.size?yt(n):wi))})}(this.paramsInheritanceStrategy,this.environmentInjector),wr({next:()=>V=!0,complete:()=>{V||this.cancelNavigationTransition(T,"",ti.NoDataFromResolver)}}))}),wr(T=>{const V=new jv(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(V)}))}),vs(R=>{const T=V=>{const K=[];V.routeConfig?.loadComponent&&!V.routeConfig._loadedComponent&&K.push(this.configLoader.loadComponent(V.routeConfig).pipe(wr(De=>{V.component=De}),(0,en.T)(()=>{})));for(const De of V.children)K.push(...T(De));return K};return gn(T(R.targetSnapshot.root)).pipe(Xu(null),ds(1))}),vs(()=>this.afterPreactivation()),Cr(()=>{const{currentSnapshot:R,targetSnapshot:T}=y,V=this.createViewTransition?.(this.environmentInjector,R.root,T.root);return V?En(V).pipe((0,en.T)(()=>y)):yt(y)}),(0,en.T)(R=>{const T=function w0(r,o,n){const s=Wa(r,o._root,n?n._root:void 0);return new y0(s,o)}(n.routeReuseStrategy,R.targetSnapshot,R.currentRouterState);return this.currentTransition=y={...R,targetRouterState:T},this.currentNavigation.targetRouterState=T,y}),wr(()=>{this.events.next(new ll)}),((r,o,n,s)=>(0,en.T)(f=>(new Qv(o,f.targetRouterState,f.currentRouterState,n,s).activate(r),f)))(this.rootContexts,n.routeReuseStrategy,R=>this.events.next(R),this.inputBindingEnabled),ds(1),wr({next:R=>{x=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new lo(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects))),this.titleStrategy?.updateTitle(R.targetRouterState.snapshot),R.resolve(!0)},complete:()=>{x=!0}}),function Kg(r){return(0,Yn.N)((o,n)=>{he(r).subscribe((0,qn._)(n,()=>n.complete(),Zg.l)),!n.closed&&o.subscribe(n)})}(this.transitionAbortSubject.pipe(wr(R=>{throw R}))),qu(()=>{!x&&!M&&this.cancelNavigationTransition(y,"",ti.SupersededByNewNavigation),this.currentTransition?.id===y.id&&(this.currentNavigation=null,this.currentTransition=null)}),_i(R=>{if(M=!0,x0(R))this.events.next(new ea(y.id,this.urlSerializer.serialize(y.extractedUrl),R.message,R.cancellationCode)),function _0(r){return x0(r)&&Gi(r.url)}(R)?this.events.next(new ul(R.url,R.navigationBehaviorOptions)):y.resolve(!1);else{const T=new h0(y.id,this.urlSerializer.serialize(y.extractedUrl),R,y.targetSnapshot??void 0);try{const V=(0,c.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(T));if(V instanceof wh){const{message:K,cancellationCode:De}=pl(0,V);this.events.next(new ea(y.id,this.urlSerializer.serialize(y.extractedUrl),K,De)),this.events.next(new ul(V.redirectTo,V.navigationBehaviorOptions))}else{this.events.next(T);const K=n.errorHandler(R);y.resolve(!!K)}}catch(V){this.options.resolveNavigationPromiseOnError?y.resolve(!1):y.reject(V)}}return wi}))}))}cancelNavigationTransition(n,s,f){const y=new ea(n.id,this.urlSerializer.serialize(n.extractedUrl),s,f);this.events.next(y),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Z_(r){return r!==Ha}let K_=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(J_),providedIn:"root"})}}return r})();class Q_{shouldDetach(o){return!1}store(o,n){}shouldAttach(o){return!1}retrieve(o){return null}shouldReuseRoute(o,n){return o.routeConfig===n.routeConfig}}let J_=(()=>{class r extends Q_{static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),kh=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:()=>(0,c.WQX)(dC),providedIn:"root"})}}return r})(),dC=(()=>{class r extends kh{constructor(){super(...arguments),this.location=(0,c.WQX)(ke),this.urlSerializer=(0,c.WQX)(Ks),this.options=(0,c.WQX)(El,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Rh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{"popstate"===s.type&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof td)this.stateMemento=this.createStateMemento();else if(n instanceof ta)this.rawUrlTree=s.initialUrl;else if(n instanceof Vv){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??f,s)}}else n instanceof ll?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):n instanceof ea&&(n.code===ti.GuardRejected||n.code===ti.NoDataFromResolver)?this.restoreHistory(s):n instanceof h0?this.restoreHistory(s,!0):n instanceof lo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){const f=n instanceof xi?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(f)||s.extras.replaceUrl){const x={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(f,"",x)}else{const y={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(f,"",y)}}restoreHistory(n,s=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-this.browserPageId;0!==y?this.location.historyGo(y):this.currentUrlTree===n.finalUrl&&0===y&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Il=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Il||{});function j0(r,o){r.events.pipe(ao(n=>n instanceof lo||n instanceof ea||n instanceof h0||n instanceof ta),(0,en.T)(n=>n instanceof lo||n instanceof ta?Il.COMPLETE:n instanceof ea&&(n.code===ti.Redirect||n.code===ti.SupersededByNewNavigation)?Il.REDIRECTING:Il.FAILED),ao(n=>n!==Il.REDIRECTING),ds(1)).subscribe(()=>{o()})}function fC(r){throw r}const Fh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(kh),this.options=(0,c.WQX)(El,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(Oh),this.urlSerializer=(0,c.WQX)(Ks),this.location=(0,c.WQX)(ke),this.urlHandlingStrategy=(0,c.WQX)(Rh),this._events=new So.B,this.errorHandler=this.options.errorHandler||fC,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(K_),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,c.WQX)(oa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,c.WQX)(hl,{optional:!0}),this.eventsSubscription=new Wu.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(s=>{try{const f=this.navigationTransitions.currentTransition,y=this.navigationTransitions.currentNavigation;if(null!==f&&null!==y)if(this.stateManager.handleRouterEvent(s,y),s instanceof ea&&s.code!==ti.Redirect&&s.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof lo)this.navigated=!0;else if(s instanceof ul){const x=s.navigationBehaviorOptions,M=this.urlHandlingStrategy.merge(s.url,f.currentRawUrl),R={browserUrl:f.extras.browserUrl,info:f.extras.info,skipLocationChange:f.extras.skipLocationChange,replaceUrl:f.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Z_(f.source),...x};this.scheduleNavigation(M,Ha,null,R,{resolve:f.resolve,reject:f.reject,promise:f.promise})}(function G0(r){return!(r instanceof ll||r instanceof ul)})(s)&&this._events.next(s)}catch(f){this.navigationTransitions.transitionAbortSubject.next(f)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ha,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,f){const y={replaceUrl:!0},x=f?.navigationId?f:null;if(f){const R={...f};delete R.navigationId,delete R.\u0275routerPageId,0!==Object.keys(R).length&&(y.state=R)}const M=this.parseUrl(n);this.scheduleNavigation(M,s,x,y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(xl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){const{relativeTo:f,queryParams:y,fragment:x,queryParamsHandling:M,preserveFragment:R}=s,T=R?this.currentUrlTree.fragment:x;let K,V=null;switch(M??this.options.defaultQueryParamsHandling){case"merge":V={...this.currentUrlTree.queryParams,...y};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=y||null}null!==V&&(V=this.removeEmptyProps(V));try{K=d0(f?f.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),K=this.currentUrlTree.root}return hs(K,n,V,T??null)}navigateByUrl(n,s={skipLocationChange:!1}){const f=Gi(n)?n:this.parseUrl(n),y=this.urlHandlingStrategy.merge(f,this.rawUrlTree);return this.scheduleNavigation(y,Ha,null,s)}navigate(n,s={skipLocationChange:!1}){return function H0(r){for(let o=0;o<r.length;o++)if(null==r[o])throw new c.wOt(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let f;if(f=!0===s?{...Fh}:!1===s?{...Fo}:s,Gi(n))return t0(this.currentUrlTree,n,f);const y=this.parseUrl(n);return t0(this.currentUrlTree,y,f)}removeEmptyProps(n){return Object.entries(n).reduce((s,[f,y])=>(null!=y&&(s[f]=y),s),{})}scheduleNavigation(n,s,f,y,x){if(this.disposed)return Promise.resolve(!1);let M,R,T;x?(M=x.resolve,R=x.reject,T=x.promise):T=new Promise((K,De)=>{M=K,R=De});const V=this.pendingTasks.add();return j0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(V))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:f,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:y,resolve:M,reject:R,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(K=>Promise.reject(K))}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),uo=(()=>{class r{constructor(n,s,f,y,x,M){this.router=n,this.route=s,this.tabIndexAttribute=f,this.renderer=y,this.el=x,this.locationStrategy=M,this.href=null,this.onChanges=new So.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const R=x.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===R||"area"===R,this.isAnchorElement?this.subscription=n.events.subscribe(T=>{T instanceof lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Gi(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,s,f,y,x){const M=this.urlTree;return!!(null===M||this.isAnchorElement&&(0!==n||s||f||y||x||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(M,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const s=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){const f=this.renderer,y=this.el.nativeElement;null!==s?f.setAttribute(y,n,s):f.removeAttribute(y,n)}get urlTree(){return null===this.routerLinkInput?null:Gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(cn),c.rXU(Pr),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Se))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,f){1&s&&c.bIt("click",function(x){return f.onClick(x.button,x.ctrlKey,x.shiftKey,x.altKey,x.metaKey)}),2&s&&c.BMQ("target",f.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return r})();class hC{}let nx=(()=>{class r{constructor(n,s,f,y,x){this.router=n,this.injector=f,this.preloadingStrategy=y,this.loader=x}setUpPreloading(){this.subscription=this.router.events.pipe(ao(n=>n instanceof lo),Ei(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){const f=[];for(const y of s){y.providers&&!y._injector&&(y._injector=(0,c.Ol2)(y.providers,n,`Route: ${y.path}`));const x=y._injector??n,M=y._loadedInjector??x;(y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent)&&f.push(this.preloadConfig(x,y)),(y.children||y._loadedRoutes)&&f.push(this.processRoutes(M,y.children??y._loadedRoutes))}return En(f).pipe(Do())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let f;f=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(n,s):yt(null);const y=f.pipe(vr(x=>null===x?yt(void 0):(s._loadedRoutes=x.routes,s._loadedInjector=x.injector,this.processRoutes(x.injector??n,x.routes))));return s.loadComponent&&!s._loadedComponent?En([y,this.loader.loadComponent(s)]).pipe(Do()):y})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(cn),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(hC),c.KVO(wd))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const W0=new c.nKC("");let Ph=(()=>{class r{constructor(n,s,f,y,x={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=f,this.zone=y,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration||="disabled",x.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof td?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof lo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ta&&n.code===Ii.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof g0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new g0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(s){c.QTQ()}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();function fo(r,o){return{\u0275kind:r,\u0275providers:o}}function Y0(){const r=(0,c.WQX)(c.zZn);return o=>{const n=r.get(c.o8S);if(o!==n.components[0])return;const s=r.get(cn),f=r.get(q0);1===r.get(Ed)&&s.initialNavigation(),r.get(K0,null,c.$GK.Optional)?.setUpPreloading(),r.get(W0,null,c.$GK.Optional)?.init(),s.resetRootComponentType(n.componentTypes[0]),f.closed||(f.next(),f.complete(),f.unsubscribe())}}const q0=new c.nKC("",{factory:()=>new So.B}),Ed=new c.nKC("",{providedIn:"root",factory:()=>1}),K0=new c.nKC("");function Qa(r){return fo(0,[{provide:K0,useExisting:nx},{provide:hC,useExisting:r}])}function CC(r){return fo(9,[{provide:B0,useValue:Cs},{provide:U0,useValue:{skipNextTransition:!!r?.skipInitialTransition,...r}}])}const Lh=new c.nKC("ROUTER_FORROOT_GUARD"),wC=[ke,{provide:Ks,useClass:Qs},cn,id,{provide:Pr,useFactory:function X0(r){return r.routerState.root},deps:[cn]},wd,[]];let Bh=(()=>{class r{constructor(n){}static forRoot(n,s){return{ngModule:r,providers:[wC,[],{provide:oa,multi:!0,useValue:n},{provide:Lh,useFactory:EC,deps:[[cn,new c.Xx1,new c.kdw]]},{provide:El,useValue:s||{}},s?.useHash?{provide:Se,useClass:xe}:{provide:Se,useClass:mt},{provide:W0,useFactory:()=>{const r=(0,c.WQX)(fn),o=(0,c.WQX)(c.SKi),n=(0,c.WQX)(El),s=(0,c.WQX)(Oh),f=(0,c.WQX)(Ks);return n.scrollOffset&&r.setOffset(n.scrollOffset),new Ph(f,s,r,o,n)}},s?.preloadingStrategy?Qa(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?_C(s):[],s?.bindToComponentInputs?fo(8,[Ch,{provide:hl,useExisting:Ch}]).\u0275providers:[],s?.enableViewTransitions?CC().\u0275providers:[],[{provide:J0,useFactory:Y0},{provide:c.iLQ,multi:!0,useExisting:J0}]]}}static forChild(n){return{ngModule:r,providers:[{provide:oa,multi:!0,useValue:n}]}}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Lh,8))}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({})}}return r})();function EC(r){return"guarded"}function _C(r){return["disabled"===r.initialNavigation?fo(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const o=(0,c.WQX)(cn);return()=>{o.setUpLocationChangeListener()}}},{provide:Ed,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?fo(2,[{provide:Ed,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:o=>{const n=o.get(J,Promise.resolve());return()=>n.then(()=>new Promise(s=>{const f=o.get(cn),y=o.get(q0);j0(f,()=>{s(!0)}),o.get(Oh).afterPreactivation=()=>(s(!0),y.closed?yt(void 0):y),f.initialNavigation()}))}}]).\u0275providers:[]]}const J0=new c.nKC("");let xC=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=f=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:r})}}return r})(),Ja=(()=>{class r extends xC{static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,features:[c.Vt3]})}}return r})();const Ai=new c.nKC(""),yx={provide:Ai,useExisting:(0,c.Rfq)(()=>Lr),multi:!0},Cx=new c.nKC("");let Lr=(()=>{class r extends xC{constructor(n,s,f){super(n,s),this._compositionMode=f,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vx(){const r=G()?G().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Cx,8))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,f){1&s&&c.bIt("input",function(x){return f._handleInput(x.target.value)})("blur",function(){return f.onTouched()})("compositionstart",function(){return f._compositionStart()})("compositionend",function(x){return f._compositionEnd(x.target.value)})},features:[c.Jv_([yx]),c.Vt3]})}}return r})();function zi(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Al(r){return null!=r&&"number"==typeof r.length}const Er=new c.nKC(""),Po=new c.nKC(""),t1=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class An{static min(o){return function n1(r){return o=>{if(zi(o.value)||zi(r))return null;const n=parseFloat(o.value);return!isNaN(n)&&n<r?{min:{min:r,actual:o.value}}:null}}(o)}static max(o){return function Vh(r){return o=>{if(zi(o.value)||zi(r))return null;const n=parseFloat(o.value);return!isNaN(n)&&n>r?{max:{max:r,actual:o.value}}:null}}(o)}static required(o){return sa(o)}static requiredTrue(o){return function $r(r){return!0===r.value?null:{required:!0}}(o)}static email(o){return function Wr(r){return zi(r.value)||t1.test(r.value)?null:{email:!0}}(o)}static minLength(o){return function jh(r){return o=>zi(o.value)||!Al(o.value)?null:o.value.length<r?{minlength:{requiredLength:r,actualLength:o.value.length}}:null}(o)}static maxLength(o){return function IC(r){return o=>Al(o.value)&&o.value.length>r?{maxlength:{requiredLength:r,actualLength:o.value.length}}:null}(o)}static pattern(o){return function r1(r){if(!r)return Hh;let o,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),o=new RegExp(n)):(n=r.toString(),o=r),s=>{if(zi(s.value))return null;const f=s.value;return o.test(f)?null:{pattern:{requiredPattern:n,actualValue:f}}}}(o)}static nullValidator(o){return null}static compose(o){return Id(o)}static composeAsync(o){return aa(o)}}function sa(r){return zi(r.value)?{required:!0}:null}function Hh(r){return null}function DC(r){return null!=r}function Gh(r){return(0,c.jNT)(r)?En(r):r}function zh(r){let o={};return r.forEach(n=>{o=null!=n?{...o,...n}:o}),0===Object.keys(o).length?null:o}function AC(r,o){return o.map(n=>n(r))}function bd(r){return r.map(o=>function xd(r){return!r.validate}(o)?o:n=>o.validate(n))}function Id(r){if(!r)return null;const o=r.filter(DC);return 0==o.length?null:function(n){return zh(AC(n,o))}}function $h(r){return null!=r?Id(bd(r)):null}function aa(r){if(!r)return null;const o=r.filter(DC);return 0==o.length?null:function(n){return function Uh(...r){const o=Gg(r),{args:n,keys:s}=Xf(r),f=new cr.c(y=>{const{length:x}=n;if(!x)return void y.complete();const M=new Array(x);let R=x,T=x;for(let V=0;V<x;V++){let K=!1;he(n[V]).subscribe((0,qn._)(y,De=>{K||(K=!0,T--),M[V]=De},()=>R--,void 0,()=>{(!R||!K)&&(T||y.next(s?ls(s,M):M),y.complete())}))}});return o?f.pipe(lr(o)):f}(AC(n,o).map(Gh)).pipe((0,en.T)(zh))}}function Sl(r){return null!=r?aa(bd(r)):null}function Wh(r,o){return null===r?[o]:Array.isArray(r)?[...r,o]:[r,o]}function Dd(r){return r._rawValidators}function Tl(r){return r._rawAsyncValidators}function Xh(r){return r?Array.isArray(r)?r:[r]:[]}function Ad(r,o){return Array.isArray(r)?r.includes(o):r===o}function Yh(r,o){const n=Xh(o);return Xh(r).forEach(f=>{Ad(n,f)||n.push(f)}),n}function i1(r,o){return Xh(o).filter(n=>!Ad(r,n))}class o1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(o){this._rawValidators=o||[],this._composedValidatorFn=$h(this._rawValidators)}_setAsyncValidators(o){this._rawAsyncValidators=o||[],this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(o){this._onDestroyCallbacks.push(o)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(o=>o()),this._onDestroyCallbacks=[]}reset(o=void 0){this.control&&this.control.reset(o)}hasError(o,n){return!!this.control&&this.control.hasError(o,n)}getError(o,n){return this.control?this.control.getError(o,n):null}}class Tr extends o1{get formDirective(){return null}get path(){return null}}class ho extends o1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ec{constructor(o){this._cd=o}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ni=(()=>{class r extends ec{constructor(n){super(n)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(ho,2))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,f){2&s&&c.AVh("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)},features:[c.Vt3]})}}return r})(),$i=(()=>{class r extends ec{constructor(n){super(n)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Tr,10))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,f){2&s&&c.AVh("ng-untouched",f.isUntouched)("ng-touched",f.isTouched)("ng-pristine",f.isPristine)("ng-dirty",f.isDirty)("ng-valid",f.isValid)("ng-invalid",f.isInvalid)("ng-pending",f.isPending)("ng-submitted",f.isSubmitted)},features:[c.Vt3]})}}return r})();const ua="VALID",da="INVALID",tc="PENDING",nc="DISABLED";class rc{}class d1 extends rc{constructor(o,n){super(),this.value=o,this.source=n}}class Qh extends rc{constructor(o,n){super(),this.pristine=o,this.source=n}}class Md extends rc{constructor(o,n){super(),this.touched=o,this.source=n}}class Rl extends rc{constructor(o,n){super(),this.status=o,this.source=n}}class At extends rc{constructor(o){super(),this.source=o}}class f1 extends rc{constructor(o){super(),this.source=o}}function Nd(r){return(Od(r)?r.validators:r)||null}function Rd(r,o){return(Od(o)?o.asyncValidators:r)||null}function Od(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function Ol(r,o,n){const s=r.controls;if(!(o?Object.keys(s):s).length)throw new c.wOt(1e3,"");if(!s[n])throw new c.wOt(1001,"")}function ws(r,o,n){r._forEachChild((s,f)=>{if(void 0===n[f])throw new c.wOt(1002,"")})}class oc{constructor(o,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new So.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(o),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(o){this._rawValidators=this._composedValidatorFn=o}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(o){this._rawAsyncValidators=this._composedAsyncValidatorFn=o}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(o){(0,c.O8t)(()=>this.statusReactive.set(o))}get valid(){return this.status===ua}get invalid(){return this.status===da}get pending(){return this.status==tc}get disabled(){return this.status===nc}get enabled(){return this.status!==nc}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(o){(0,c.O8t)(()=>this.pristineReactive.set(o))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(o){(0,c.O8t)(()=>this.touchedReactive.set(o))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(o){this._assignValidators(o)}setAsyncValidators(o){this._assignAsyncValidators(o)}addValidators(o){this.setValidators(Yh(o,this._rawValidators))}addAsyncValidators(o){this.setAsyncValidators(Yh(o,this._rawAsyncValidators))}removeValidators(o){this.setValidators(i1(o,this._rawValidators))}removeAsyncValidators(o){this.setAsyncValidators(i1(o,this._rawAsyncValidators))}hasValidator(o){return Ad(this._rawValidators,o)}hasAsyncValidator(o){return Ad(this._rawAsyncValidators,o)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(o={}){const n=!1===this.touched;this.touched=!0;const s=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsTouched({...o,sourceControl:s}),n&&!1!==o.emitEvent&&this._events.next(new Md(!0,s))}markAllAsTouched(o={}){this.markAsTouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(o))}markAsUntouched(o={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=o.sourceControl??this;this._forEachChild(f=>{f.markAsUntouched({onlySelf:!0,emitEvent:o.emitEvent,sourceControl:s})}),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,s),n&&!1!==o.emitEvent&&this._events.next(new Md(!1,s))}markAsDirty(o={}){const n=!0===this.pristine;this.pristine=!1;const s=o.sourceControl??this;this._parent&&!o.onlySelf&&this._parent.markAsDirty({...o,sourceControl:s}),n&&!1!==o.emitEvent&&this._events.next(new Qh(!1,s))}markAsPristine(o={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=o.sourceControl??this;this._forEachChild(f=>{f.markAsPristine({onlySelf:!0,emitEvent:o.emitEvent})}),this._parent&&!o.onlySelf&&this._parent._updatePristine(o,s),n&&!1!==o.emitEvent&&this._events.next(new Qh(!0,s))}markAsPending(o={}){this.status=tc;const n=o.sourceControl??this;!1!==o.emitEvent&&(this._events.next(new Rl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.markAsPending({...o,sourceControl:n})}disable(o={}){const n=this._parentMarkedDirty(o.onlySelf);this.status=nc,this.errors=null,this._forEachChild(f=>{f.disable({...o,onlySelf:!0})}),this._updateValue();const s=o.sourceControl??this;!1!==o.emitEvent&&(this._events.next(new d1(this.value,s)),this._events.next(new Rl(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...o,skipPristineCheck:n},this),this._onDisabledChange.forEach(f=>f(!0))}enable(o={}){const n=this._parentMarkedDirty(o.onlySelf);this.status=ua,this._forEachChild(s=>{s.enable({...o,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent}),this._updateAncestors({...o,skipPristineCheck:n},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(o,n){this._parent&&!o.onlySelf&&(this._parent.updateValueAndValidity(o),o.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(o){this._parent=o}getRawValue(){return this.value}updateValueAndValidity(o={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ua||this.status===tc)&&this._runAsyncValidator(s,o.emitEvent)}const n=o.sourceControl??this;!1!==o.emitEvent&&(this._events.next(new d1(this.value,n)),this._events.next(new Rl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!o.onlySelf&&this._parent.updateValueAndValidity({...o,sourceControl:n})}_updateTreeValidity(o={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(o)),this.updateValueAndValidity({onlySelf:!0,emitEvent:o.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nc:ua}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(o,n){if(this.asyncValidator){this.status=tc,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const s=Gh(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(f=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(f,{emitEvent:n,shouldHaveEmitted:o})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const o=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,o}return!1}setErrors(o,n={}){this.errors=o,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(o){let n=o;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((s,f)=>s&&s._find(f),this)}getError(o,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[o]:null}hasError(o,n){return!!this.getError(o,n)}get root(){let o=this;for(;o._parent;)o=o._parent;return o}_updateControlsErrors(o,n,s){this.status=this._calculateStatus(),o&&this.statusChanges.emit(this.status),(o||s)&&this._events.next(new Rl(this.status,n)),this._parent&&this._parent._updateControlsErrors(o,n,s)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?nc:this.errors?da:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tc)?tc:this._anyControlsHaveStatus(da)?da:ua}_anyControlsHaveStatus(o){return this._anyControls(n=>n.status===o)}_anyControlsDirty(){return this._anyControls(o=>o.dirty)}_anyControlsTouched(){return this._anyControls(o=>o.touched)}_updatePristine(o,n){const s=!this._anyControlsDirty(),f=this.pristine!==s;this.pristine=s,this._parent&&!o.onlySelf&&this._parent._updatePristine(o,n),f&&this._events.next(new Qh(this.pristine,n))}_updateTouched(o={},n){this.touched=this._anyControlsTouched(),this._events.next(new Md(this.touched,n)),this._parent&&!o.onlySelf&&this._parent._updateTouched(o,n)}_registerOnCollectionChange(o){this._onCollectionChange=o}_setUpdateStrategy(o){Od(o)&&null!=o.updateOn&&(this._updateOn=o.updateOn)}_parentMarkedDirty(o){return!o&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(o){return null}_assignValidators(o){this._rawValidators=Array.isArray(o)?o.slice():o,this._composedValidatorFn=function ic(r){return Array.isArray(r)?$h(r):r||null}(this._rawValidators)}_assignAsyncValidators(o){this._rawAsyncValidators=Array.isArray(o)?o.slice():o,this._composedAsyncValidatorFn=function h1(r){return Array.isArray(r)?Sl(r):r||null}(this._rawAsyncValidators)}}class Lo extends oc{constructor(o,n,s){super(Nd(n),Rd(s,n)),this.controls=o,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(o,n){return this.controls[o]?this.controls[o]:(this.controls[o]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(o,n,s={}){this.registerControl(o,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(o,n={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(o,n,s={}){this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),delete this.controls[o],n&&this.registerControl(o,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(o){return this.controls.hasOwnProperty(o)&&this.controls[o].enabled}setValue(o,n={}){ws(this,0,o),Object.keys(o).forEach(s=>{Ol(this,!0,s),this.controls[s].setValue(o[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(o,n={}){null!=o&&(Object.keys(o).forEach(s=>{const f=this.controls[s];f&&f.patchValue(o[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(o={},n={}){this._forEachChild((s,f)=>{s.reset(o?o[f]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(o,n,s)=>(o[s]=n.getRawValue(),o))}_syncPendingControls(){let o=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&o(s,n)})}_setUpControls(){this._forEachChild(o=>{o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(o){for(const[n,s]of Object.entries(this.controls))if(this.contains(n)&&o(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,s,f)=>((s.enabled||this.disabled)&&(n[f]=s.value),n))}_reduceChildren(o,n){let s=o;return this._forEachChild((f,y)=>{s=n(s,f,y)}),s}_allControlsDisabled(){for(const o of Object.keys(this.controls))if(this.controls[o].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(o){return this.controls.hasOwnProperty(o)?this.controls[o]:null}}class kd extends Lo{}const Bo=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>kl}),kl="always";function Fd(r,o){return[...o.path,r]}function Fl(r,o,n=kl){Jh(r,o),o.valueAccessor.writeValue(r.value),(r.disabled||"always"===n)&&o.valueAccessor.setDisabledState?.(r.disabled),function m1(r,o){o.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&v1(r,o)})}(r,o),function LC(r,o){const n=(s,f)=>{o.valueAccessor.writeValue(s),f&&o.viewToModelUpdate(s)};r.registerOnChange(n),o._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,o),function y1(r,o){o.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&v1(r,o),"submit"!==r.updateOn&&r.markAsTouched()})}(r,o),function PC(r,o){if(o.valueAccessor.setDisabledState){const n=s=>{o.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),o._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,o)}function Pl(r,o,n=!0){const s=()=>{};o.valueAccessor&&(o.valueAccessor.registerOnChange(s),o.valueAccessor.registerOnTouched(s)),Ld(r,o),r&&(o._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Pd(r,o){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(o)})}function Jh(r,o){const n=Dd(r);null!==o.validator?r.setValidators(Wh(n,o.validator)):"function"==typeof n&&r.setValidators([n]);const s=Tl(r);null!==o.asyncValidator?r.setAsyncValidators(Wh(s,o.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const f=()=>r.updateValueAndValidity();Pd(o._rawValidators,f),Pd(o._rawAsyncValidators,f)}function Ld(r,o){let n=!1;if(null!==r){if(null!==o.validator){const f=Dd(r);if(Array.isArray(f)&&f.length>0){const y=f.filter(x=>x!==o.validator);y.length!==f.length&&(n=!0,r.setValidators(y))}}if(null!==o.asyncValidator){const f=Tl(r);if(Array.isArray(f)&&f.length>0){const y=f.filter(x=>x!==o.asyncValidator);y.length!==f.length&&(n=!0,r.setAsyncValidators(y))}}}const s=()=>{};return Pd(o._rawValidators,s),Pd(o._rawAsyncValidators,s),n}function v1(r,o){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),o.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Br(r,o){Jh(r,o)}function ep(r,o){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(o,n.currentValue)}function tp(r,o){r._syncPendingControls(),o.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function np(r,o){if(!o)return null;let n,s,f;return Array.isArray(o),o.forEach(y=>{y.constructor===Lr?n=y:function VC(r){return Object.getPrototypeOf(r.constructor)===Ja}(y)?s=y:f=y}),f||s||n||null}const HC={provide:Tr,useExisting:(0,c.Rfq)(()=>Uo)},Bl=Promise.resolve();let Uo=(()=>{class r extends Tr{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(n,s,f){super(),this.callSetDisabledState=f,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Lo({},$h(n),Sl(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Bl.then(()=>{const s=this._findContainer(n.path);n.control=s.registerControl(n.name,n.control),Fl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Bl.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Bl.then(()=>{const s=this._findContainer(n.path),f=new Lo({});Br(f,n),s.registerControl(n.name,f),f.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Bl.then(()=>{const s=this._findContainer(n.path);s&&s.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,s){Bl.then(()=>{this.form.get(n.path).setValue(s)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),tp(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Er,10),c.rXU(Po,10),c.rXU(Bo,8))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,f){1&s&&c.bIt("submit",function(x){return f.onSubmit(x)})("reset",function(){return f.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([HC]),c.Vt3]})}}return r})();function w1(r,o){const n=r.indexOf(o);n>-1&&r.splice(n,1)}function E1(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Xr=class extends oc{constructor(o=null,n,s){super(Nd(n),Rd(s,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(o),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Od(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=E1(o)?o.value:o)}setValue(o,n={}){this.value=this._pendingValue=o,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(o,n={}){this.setValue(o,n)}reset(o=this.defaultValue,n={}){this._applyFormState(o),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(o){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(o){this._onChange.push(o)}_unregisterOnChange(o){w1(this._onChange,o)}registerOnDisabledChange(o){this._onDisabledChange.push(o)}_unregisterOnDisabledChange(o){w1(this._onDisabledChange,o)}_forEachChild(o){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(o){E1(o)?(this.value=this._pendingValue=o.value,o.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=o}};let x1=(()=>{class r extends Tr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,features:[c.Vt3]})}}return r})();const I1={provide:ho,useExisting:(0,c.Rfq)(()=>ri)},op=Promise.resolve();let ri=(()=>{class r extends ho{constructor(n,s,f,y,x,M){super(),this._changeDetectorRef=x,this.callSetDisabledState=M,this.control=new Xr,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=n,this._setValidators(s),this._setAsyncValidators(f),this.valueAccessor=np(0,y)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const s=n.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),ep(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){op.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const s=n.isDisabled.currentValue,f=0!==s&&(0,c.L39)(s);op.then(()=>{f&&!this.control.disabled?this.control.disable():!f&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Fd(n,this._parent):[n]}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Tr,9),c.rXU(Er,10),c.rXU(Po,10),c.rXU(Ai,10),c.rXU(c.gRc,8),c.rXU(Bo,8))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([I1]),c.Vt3,c.OA$]})}}return r})(),ii=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=c.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();const Vo={provide:Ai,useExisting:(0,c.Rfq)(()=>Bd),multi:!0};let Bd=(()=>{class r extends Ja{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=s=>{n(""==s?null:parseFloat(s))}}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(s,f){1&s&&c.bIt("input",function(x){return f.onChange(x.target.value)})("blur",function(){return f.onTouched()})},features:[c.Jv_([Vo]),c.Vt3]})}}return r})();const _s=new c.nKC(""),S1={provide:Tr,useExisting:(0,c.Rfq)(()=>xs)};let xs=(()=>{class r extends Tr{get submitted(){return(0,c.O8t)(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,s,f){super(),this.callSetDisabledState=f,this._submitted=(0,c.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,c.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.bkB,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ld(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return Fl(s,n,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){Pl(n.control||null,n,!1),function jC(r,o){const n=r.indexOf(o);n>-1&&r.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this._submittedReactive.set(!0),tp(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new At(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new f1(this.form))}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,f=this.form.get(n.path);s!==f&&(Pl(s||null,n),(r=>r instanceof Xr)(f)&&(Fl(f,n,this.callSetDisabledState),n.control=f))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);Br(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function BC(r,o){return Ld(r,o)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jh(this.form,this),this._oldForm&&Ld(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Er,10),c.rXU(Po,10),c.rXU(Bo,8))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formGroup",""]],hostBindings:function(s,f){1&s&&c.bIt("submit",function(x){return f.onSubmit(x)})("reset",function(){return f.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([S1]),c.Vt3,c.OA$]})}}return r})();const YC={provide:Tr,useExisting:(0,c.Rfq)(()=>Ul)};let Ul=(()=>{class r extends x1{constructor(n,s,f){super(),this.name=null,this._parent=n,this._setValidators(s),this._setAsyncValidators(f)}_checkParentType(){T1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Tr,13),c.rXU(Er,10),c.rXU(Po,10))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[c.Jv_([YC]),c.Vt3]})}}return r})();const qC={provide:Tr,useExisting:(0,c.Rfq)(()=>Vl)};let Vl=(()=>{class r extends Tr{constructor(n,s,f){super(),this.name=null,this._parent=n,this._setValidators(s),this._setAsyncValidators(f)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fd(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){T1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Tr,13),c.rXU(Er,10),c.rXU(Po,10))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[c.Jv_([qC]),c.Vt3]})}}return r})();function T1(r){return!(r instanceof Ul||r instanceof xs||r instanceof Vl)}const ZC={provide:ho,useExisting:(0,c.Rfq)(()=>ha)};let ha=(()=>{class r extends ho{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,s,f,y,x){super(),this._ngModelWarningConfig=x,this._added=!1,this.name=null,this.update=new c.bkB,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(f),this.valueAccessor=np(0,y)}ngOnChanges(n){this._added||this._setUpControl(),ep(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Fd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Tr,13),c.rXU(Er,10),c.rXU(Po,10),c.rXU(Ai,10),c.rXU(_s,8))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[c.Jv_([ZC]),c.Vt3,c.OA$]})}}return r})();const KC={provide:Ai,useExisting:(0,c.Rfq)(()=>ac),multi:!0};function jl(r,o){return null==r?`${o}`:(o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let ac=(()=>{class r extends Ja{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const f=jl(this._getOptionId(n),n);this.setProperty("value",f)}registerOnChange(n){this.onChange=s=>{this.value=this._getOptionValue(s),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),n))return s;return null}_getOptionValue(n){const s=function QC(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s):n}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,f){1&s&&c.bIt("change",function(x){return f.onChange(x.target.value)})("blur",function(){return f.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([KC]),c.Vt3]})}}return r})(),ap=(()=>{class r{constructor(n,s,f){this._element=n,this._renderer=s,this._select=f,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(jl(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(ac,9))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();const M1={provide:Ai,useExisting:(0,c.Rfq)(()=>Hl),multi:!0};function N1(r,o){return null==r?`${o}`:("string"==typeof o&&(o=`'${o}'`),o&&"object"==typeof o&&(o="Object"),`${r}: ${o}`.slice(0,50))}let Hl=(()=>{class r extends Ja{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let s;if(this.value=n,Array.isArray(n)){const f=n.map(y=>this._getOptionId(y));s=(y,x)=>{y._setSelected(f.indexOf(x.toString())>-1)}}else s=(f,y)=>{f._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(n){this.onChange=s=>{const f=[],y=s.selectedOptions;if(void 0!==y){const x=y;for(let M=0;M<x.length;M++){const T=this._getOptionValue(x[M].value);f.push(T)}}else{const x=s.options;for(let M=0;M<x.length;M++){const R=x[M];if(R.selected){const T=this._getOptionValue(R.value);f.push(T)}}}this.value=f,n(f)}}_registerOption(n){const s=(this._idCounter++).toString();return this._optionMap.set(s,n),s}_getOptionId(n){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,n))return s;return null}_getOptionValue(n){const s=function JC(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s)._value:n}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,f){1&s&&c.bIt("change",function(x){return f.onChange(x.target)})("blur",function(){return f.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([M1]),c.Vt3]})}}return r})(),Ud=(()=>{class r{constructor(n,s,f){this._element=n,this._renderer=s,this._select=f,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(N1(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(N1(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(Hl,9))}}static{this.\u0275dir=c.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})(),Wi=(()=>{class r{constructor(){this._validator=Hh}ngOnChanges(n){if(this.inputName in n){const s=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):Hh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=c.FsC({type:r,features:[c.OA$]})}}return r})();const cp={provide:Er,useExisting:(0,c.Rfq)(()=>jo),multi:!0};let jo=(()=>{class r extends Wi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=n=>sa}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(f){return(n||(n=c.xGo(r)))(f||r)}})()}static{this.\u0275dir=c.FsC({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,f){2&s&&c.BMQ("required",f._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([cp]),c.Vt3]})}}return r})(),zl=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({})}}return r})();class lp extends oc{constructor(o,n,s){super(Nd(n),Rd(s,n)),this.controls=o,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(o){return this.controls[this._adjustIndex(o)]}push(o,n={}){this.controls.push(o),this._registerControl(o),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(o,n,s={}){this.controls.splice(o,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(o,n={}){let s=this._adjustIndex(o);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(o,n,s={}){let f=this._adjustIndex(o);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),n&&(this.controls.splice(f,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(o,n={}){ws(this,0,o),o.forEach((s,f)=>{Ol(this,!1,f),this.at(f).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(o,n={}){null!=o&&(o.forEach((s,f)=>{this.at(f)&&this.at(f).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(o=[],n={}){this._forEachChild((s,f)=>{s.reset(o[f],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(o=>o.getRawValue())}clear(o={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:o.emitEvent}))}_adjustIndex(o){return o<0?o+this.length:o}_syncPendingControls(){let o=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return o&&this.updateValueAndValidity({onlySelf:!0}),o}_forEachChild(o){this.controls.forEach((n,s)=>{o(n,s)})}_updateValue(){this.value=this.controls.filter(o=>o.enabled||this.disabled).map(o=>o.value)}_anyControls(o){return this.controls.some(n=>n.enabled&&o(n))}_setUpControls(){this._forEachChild(o=>this._registerControl(o))}_allControlsDisabled(){for(const o of this.controls)if(o.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(o){o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange)}_find(o){return this.at(o)??null}}function U1(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let bs=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new r;return n.useNonNullable=!0,n}group(n,s=null){const f=this._reduceControls(n);let y={};return U1(s)?y=s:null!==s&&(y.validators=s.validator,y.asyncValidators=s.asyncValidator),new Lo(f,y)}record(n,s=null){const f=this._reduceControls(n);return new kd(f,s)}control(n,s,f){let y={};return this.useNonNullable?(U1(s)?y=s:(y.validators=s,y.asyncValidators=f),new Xr(n,{...y,nonNullable:!0})):new Xr(n,s,f)}array(n,s,f){const y=n.map(x=>this._createControl(x));return new lp(y,s,f)}_reduceControls(n){const s={};return Object.keys(n).forEach(f=>{s[f]=this._createControl(n[f])}),s}_createControl(n){return n instanceof Xr||n instanceof oc?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),V1=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:Bo,useValue:n.callSetDisabledState??kl}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({imports:[zl]})}}return r})(),dw=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:_s,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bo,useValue:n.callSetDisabledState??kl}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({imports:[zl]})}}return r})();const Xi_apiUrl="https://mazharhossain.com/api/v1";function j1(r,o,n,s,f,y,x){try{var M=r[y](x),R=M.value}catch(T){return void n(T)}M.done?o(R):Promise.resolve(R).then(s,f)}function Ho(r){return function(){var o=this,n=arguments;return new Promise(function(s,f){var y=r.apply(o,n);function x(R){j1(y,s,f,x,M,"next",R)}function M(R){j1(y,s,f,x,M,"throw",R)}x(void 0)})}}class Hd{}class Gd{}class oi{constructor(o){this.normalizedNames=new Map,this.lazyUpdate=null,o?"string"==typeof o?this.lazyInit=()=>{this.headers=new Map,o.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const f=n.slice(0,s),y=f.toLowerCase(),x=n.slice(s+1).trim();this.maybeSetNormalizedName(f,y),this.headers.has(y)?this.headers.get(y).push(x):this.headers.set(y,[x])}})}:typeof Headers<"u"&&o instanceof Headers?(this.headers=new Map,o.forEach((n,s)=>{this.setHeaderEntries(s,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(o).forEach(([n,s])=>{this.setHeaderEntries(n,s)})}:this.headers=new Map}has(o){return this.init(),this.headers.has(o.toLowerCase())}get(o){this.init();const n=this.headers.get(o.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(o){return this.init(),this.headers.get(o.toLowerCase())||null}append(o,n){return this.clone({name:o,value:n,op:"a"})}set(o,n){return this.clone({name:o,value:n,op:"s"})}delete(o,n){return this.clone({name:o,value:n,op:"d"})}maybeSetNormalizedName(o,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,o)}init(){this.lazyInit&&(this.lazyInit instanceof oi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(o=>this.applyUpdate(o)),this.lazyUpdate=null))}copyFrom(o){o.init(),Array.from(o.headers.keys()).forEach(n=>{this.headers.set(n,o.headers.get(n)),this.normalizedNames.set(n,o.normalizedNames.get(n))})}clone(o){const n=new oi;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof oi?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([o]),n}applyUpdate(o){const n=o.name.toLowerCase();switch(o.op){case"a":case"s":let s=o.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(o.name,n);const f=("a"===o.op?this.headers.get(n):void 0)||[];f.push(...s),this.headers.set(n,f);break;case"d":const y=o.value;if(y){let x=this.headers.get(n);if(!x)return;x=x.filter(M=>-1===y.indexOf(M)),0===x.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,x)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(o,n){const s=(Array.isArray(n)?n:[n]).map(y=>y.toString()),f=o.toLowerCase();this.headers.set(f,s),this.maybeSetNormalizedName(o,f)}forEach(o){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>o(this.normalizedNames.get(n),this.headers.get(n)))}}class H1{encodeKey(o){return dp(o)}encodeValue(o){return dp(o)}decodeKey(o){return decodeURIComponent(o)}decodeValue(o){return decodeURIComponent(o)}}const z1=/%(\d[a-f0-9])/gi,fw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dp(r){return encodeURIComponent(r).replace(z1,(o,n)=>fw[n]??o)}function uc(r){return`${r}`}class Yi{constructor(o={}){if(this.updates=null,this.cloneFrom=null,this.encoder=o.encoder||new H1,o.fromString){if(o.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G1(r,o){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(f=>{const y=f.indexOf("="),[x,M]=-1==y?[o.decodeKey(f),""]:[o.decodeKey(f.slice(0,y)),o.decodeValue(f.slice(y+1))],R=n.get(x)||[];R.push(M),n.set(x,R)}),n}(o.fromString,this.encoder)}else o.fromObject?(this.map=new Map,Object.keys(o.fromObject).forEach(n=>{const s=o.fromObject[n],f=Array.isArray(s)?s.map(uc):[uc(s)];this.map.set(n,f)})):this.map=null}has(o){return this.init(),this.map.has(o)}get(o){this.init();const n=this.map.get(o);return n?n[0]:null}getAll(o){return this.init(),this.map.get(o)||null}keys(){return this.init(),Array.from(this.map.keys())}append(o,n){return this.clone({param:o,value:n,op:"a"})}appendAll(o){const n=[];return Object.keys(o).forEach(s=>{const f=o[s];Array.isArray(f)?f.forEach(y=>{n.push({param:s,value:y,op:"a"})}):n.push({param:s,value:f,op:"a"})}),this.clone(n)}set(o,n){return this.clone({param:o,value:n,op:"s"})}delete(o,n){return this.clone({param:o,value:n,op:"d"})}toString(){return this.init(),this.keys().map(o=>{const n=this.encoder.encodeKey(o);return this.map.get(o).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(o=>""!==o).join("&")}clone(o){const n=new Yi({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(o),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(o=>this.map.set(o,this.cloneFrom.map.get(o))),this.updates.forEach(o=>{switch(o.op){case"a":case"s":const n=("a"===o.op?this.map.get(o.param):void 0)||[];n.push(uc(o.value)),this.map.set(o.param,n);break;case"d":if(void 0===o.value){this.map.delete(o.param);break}{let s=this.map.get(o.param)||[];const f=s.indexOf(uc(o.value));-1!==f&&s.splice(f,1),s.length>0?this.map.set(o.param,s):this.map.delete(o.param)}}}),this.cloneFrom=this.updates=null)}}class hw{constructor(){this.map=new Map}set(o,n){return this.map.set(o,n),this}get(o){return this.map.has(o)||this.map.set(o,o.defaultValue()),this.map.get(o)}delete(o){return this.map.delete(o),this}has(o){return this.map.has(o)}keys(){return this.map.keys()}}function $1(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function W1(r){return typeof Blob<"u"&&r instanceof Blob}function X1(r){return typeof FormData<"u"&&r instanceof FormData}class Go{constructor(o,n,s,f){let y;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=o.toUpperCase(),function pw(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||f?(this.body=void 0!==s?s:null,y=f):y=s,y&&(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),this.transferCache=y.transferCache),this.headers??=new oi,this.context??=new hw,this.params){const x=this.params.toString();if(0===x.length)this.urlWithParams=n;else{const M=n.indexOf("?");this.urlWithParams=n+(-1===M?"?":M<n.length-1?"&":"")+x}}else this.params=new Yi,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||$1(this.body)||W1(this.body)||X1(this.body)||function fp(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X1(this.body)?null:W1(this.body)?this.body.type||null:$1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(o={}){const n=o.method||this.method,s=o.url||this.url,f=o.responseType||this.responseType,y=o.transferCache??this.transferCache,x=void 0!==o.body?o.body:this.body,M=o.withCredentials??this.withCredentials,R=o.reportProgress??this.reportProgress;let T=o.headers||this.headers,V=o.params||this.params;const K=o.context??this.context;return void 0!==o.setHeaders&&(T=Object.keys(o.setHeaders).reduce((De,_e)=>De.set(_e,o.setHeaders[_e]),T)),o.setParams&&(V=Object.keys(o.setParams).reduce((De,_e)=>De.set(_e,o.setParams[_e]),V)),new Go(n,s,x,{params:V,headers:T,context:K,reportProgress:R,responseType:f,withCredentials:M,transferCache:y})}}var zo=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(zo||{});class zd{constructor(o,n=200,s="OK"){this.headers=o.headers||new oi,this.status=void 0!==o.status?o.status:n,this.statusText=o.statusText||s,this.url=o.url||null,this.ok=this.status>=200&&this.status<300}}class $d extends zd{constructor(o={}){super(o),this.type=zo.ResponseHeader}clone(o={}){return new $d({headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class qi extends zd{constructor(o={}){super(o),this.type=zo.Response,this.body=void 0!==o.body?o.body:null}clone(o={}){return new qi({body:void 0!==o.body?o.body:this.body,headers:o.headers||this.headers,status:void 0!==o.status?o.status:this.status,statusText:o.statusText||this.statusText,url:o.url||this.url||void 0})}}class $o extends zd{constructor(o){super(o,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${o.url||"(unknown url)"}`:`Http failure response for ${o.url||"(unknown url)"}: ${o.status} ${o.statusText}`,this.error=o.error||null}}function $l(r,o){return{body:o,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}let po=(()=>{class r{constructor(n){this.handler=n}request(n,s,f={}){let y;if(n instanceof Go)y=n;else{let R,T;R=f.headers instanceof oi?f.headers:new oi(f.headers),f.params&&(T=f.params instanceof Yi?f.params:new Yi({fromObject:f.params})),y=new Go(n,s,void 0!==f.body?f.body:null,{headers:R,context:f.context,params:T,reportProgress:f.reportProgress,responseType:f.responseType||"json",withCredentials:f.withCredentials,transferCache:f.transferCache})}const x=yt(y).pipe(Ei(R=>this.handler.handle(R)));if(n instanceof Go||"events"===f.observe)return x;const M=x.pipe(ao(R=>R instanceof qi));switch(f.observe||"body"){case"body":switch(y.responseType){case"arraybuffer":return M.pipe((0,en.T)(R=>{if(null!==R.body&&!(R.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return R.body}));case"blob":return M.pipe((0,en.T)(R=>{if(null!==R.body&&!(R.body instanceof Blob))throw new Error("Response is not a Blob.");return R.body}));case"text":return M.pipe((0,en.T)(R=>{if(null!==R.body&&"string"!=typeof R.body)throw new Error("Response is not a string.");return R.body}));default:return M.pipe((0,en.T)(R=>R.body))}case"response":return M;default:throw new Error(`Unreachable: unhandled observe type ${f.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Yi).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,f={}){return this.request("PATCH",n,$l(f,s))}post(n,s,f={}){return this.request("POST",n,$l(f,s))}put(n,s,f={}){return this.request("PUT",n,$l(f,s))}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Hd))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const q1=/^\)\]\}',?\n/;function hp(r){if(r.url)return r.url;const o="X-Request-URL".toLocaleLowerCase();return r.headers.get(o)}let Wd=(()=>{class r{constructor(){this.fetchImpl=(0,c.WQX)(Z1,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=(0,c.WQX)(c.SKi)}handle(n){return new cr.c(s=>{const f=new AbortController;return this.doRequest(n,f.signal,s).then(Wl,y=>s.error(new $o({error:y}))),()=>f.abort()})}doRequest(n,s,f){var y=this;return Ho(function*(){const x=y.createRequestInit(n);let M;try{const Le=y.ngZone.runOutsideAngular(()=>y.fetchImpl(n.urlWithParams,{signal:s,...x}));(function vw(r){r.then(Wl,Wl)})(Le),f.next({type:zo.Sent}),M=yield Le}catch(Le){return void f.error(new $o({error:Le,status:Le.status??0,statusText:Le.statusText,url:n.urlWithParams,headers:Le.headers}))}const R=new oi(M.headers),T=M.statusText,V=hp(M)??n.urlWithParams;let K=M.status,De=null;if(n.reportProgress&&f.next(new $d({headers:R,status:K,statusText:T,url:V})),M.body){const Le=M.headers.get("content-length"),Be=[],Ue=M.body.getReader();let _n,at,st=0;const mn=typeof Zone<"u"&&Zone.current;yield y.ngZone.runOutsideAngular(Ho(function*(){for(;;){const{done:Ur,value:Ms}=yield Ue.read();if(Ur)break;if(Be.push(Ms),st+=Ms.length,n.reportProgress){at="text"===n.responseType?(at??"")+(_n??=new TextDecoder).decode(Ms,{stream:!0}):void 0;const Sy=()=>f.next({type:zo.DownloadProgress,total:Le?+Le:void 0,loaded:st,partialText:at});mn?mn.run(Sy):Sy()}}}));const ir=y.concatChunks(Be,st);try{const Ur=M.headers.get("Content-Type")??"";De=y.parseBody(n,ir,Ur)}catch(Ur){return void f.error(new $o({error:Ur,headers:new oi(M.headers),status:M.status,statusText:M.statusText,url:hp(M)??n.urlWithParams}))}}0===K&&(K=De?200:0),K>=200&&K<300?(f.next(new qi({body:De,headers:R,status:K,statusText:T,url:V})),f.complete()):f.error(new $o({error:De,headers:R,status:K,statusText:T,url:V}))})()}parseBody(n,s,f){switch(n.responseType){case"json":const y=(new TextDecoder).decode(s).replace(q1,"");return""===y?null:JSON.parse(y);case"text":return(new TextDecoder).decode(s);case"blob":return new Blob([s],{type:f});case"arraybuffer":return s.buffer}}createRequestInit(n){const s={},f=n.withCredentials?"include":void 0;if(n.headers.forEach((y,x)=>s[y]=x.join(",")),n.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){const y=n.detectContentTypeHeader();null!==y&&(s["Content-Type"]=y)}return{body:n.serializeBody(),method:n.method,headers:s,credentials:f}}concatChunks(n,s){const f=new Uint8Array(s);let y=0;for(const x of n)f.set(x,y),y+=x.length;return f}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();class Z1{}function Wl(){}function K1(r,o){return o(r)}function Cw(r,o){return(n,s)=>o.intercept(n,{handle:f=>r(f,s)})}const Q1=new c.nKC(""),Xl=new c.nKC(""),Xd=new c.nKC(""),J1=new c.nKC("",{providedIn:"root",factory:()=>!0});function Ew(){let r=null;return(o,n)=>{null===r&&(r=((0,c.WQX)(Q1,{optional:!0})??[]).reduceRight(Cw,K1));const s=(0,c.WQX)(c.TgB);if((0,c.WQX)(J1)){const y=s.add();return r(o,n).pipe(qu(()=>s.remove(y)))}return r(o,n)}}let fc=(()=>{class r extends Hd{constructor(n,s){super(),this.backend=n,this.injector=s,this.chain=null,this.pendingTasks=(0,c.WQX)(c.TgB),this.contributeToStability=(0,c.WQX)(J1)}handle(n){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Xl),...this.injector.get(Xd,[])]));this.chain=s.reduceRight((f,y)=>function ww(r,o,n){return(s,f)=>(0,c.N4e)(n,()=>o(s,y=>r(y,f)))}(f,y,this.injector),K1)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(n,f=>this.backend.handle(f)).pipe(qu(()=>this.pendingTasks.remove(s)))}return this.chain(n,s=>this.backend.handle(s))}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(Gd),c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const Sw=/^\)\]\}',?\n/;let ql=(()=>{class r{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new c.wOt(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?En(s.\u0275loadImpl()):yt(null)).pipe(Cr(()=>new cr.c(y=>{const x=s.build();if(x.open(n.method,n.urlWithParams),n.withCredentials&&(x.withCredentials=!0),n.headers.forEach((Be,Ue)=>x.setRequestHeader(Be,Ue.join(","))),n.headers.has("Accept")||x.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const Be=n.detectContentTypeHeader();null!==Be&&x.setRequestHeader("Content-Type",Be)}if(n.responseType){const Be=n.responseType.toLowerCase();x.responseType="json"!==Be?Be:"text"}const M=n.serializeBody();let R=null;const T=()=>{if(null!==R)return R;const Be=x.statusText||"OK",Ue=new oi(x.getAllResponseHeaders()),st=function rm(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(x)||n.url;return R=new $d({headers:Ue,status:x.status,statusText:Be,url:st}),R},V=()=>{let{headers:Be,status:Ue,statusText:st,url:_n}=T(),at=null;204!==Ue&&(at=typeof x.response>"u"?x.responseText:x.response),0===Ue&&(Ue=at?200:0);let mn=Ue>=200&&Ue<300;if("json"===n.responseType&&"string"==typeof at){const ir=at;at=at.replace(Sw,"");try{at=""!==at?JSON.parse(at):null}catch(Ur){at=ir,mn&&(mn=!1,at={error:Ur,text:at})}}mn?(y.next(new qi({body:at,headers:Be,status:Ue,statusText:st,url:_n||void 0})),y.complete()):y.error(new $o({error:at,headers:Be,status:Ue,statusText:st,url:_n||void 0}))},K=Be=>{const{url:Ue}=T(),st=new $o({error:Be,status:x.status||0,statusText:x.statusText||"Unknown Error",url:Ue||void 0});y.error(st)};let De=!1;const _e=Be=>{De||(y.next(T()),De=!0);let Ue={type:zo.DownloadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ue.total=Be.total),"text"===n.responseType&&x.responseText&&(Ue.partialText=x.responseText),y.next(Ue)},Le=Be=>{let Ue={type:zo.UploadProgress,loaded:Be.loaded};Be.lengthComputable&&(Ue.total=Be.total),y.next(Ue)};return x.addEventListener("load",V),x.addEventListener("error",K),x.addEventListener("timeout",K),x.addEventListener("abort",K),n.reportProgress&&(x.addEventListener("progress",_e),null!==M&&x.upload&&x.upload.addEventListener("progress",Le)),x.send(M),y.next({type:zo.Sent}),()=>{x.removeEventListener("error",K),x.removeEventListener("abort",K),x.removeEventListener("load",V),x.removeEventListener("timeout",K),n.reportProgress&&(x.removeEventListener("progress",_e),null!==M&&x.upload&&x.upload.removeEventListener("progress",Le)),x.readyState!==x.DONE&&x.abort()}})))}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(xu))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();const pp=new c.nKC(""),gp=new c.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),im=new c.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Is{}let pa=(()=>{class r{constructor(n,s,f){this.doc=n,this.platform=s,this.cookieName=f,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=pi(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(oe),c.KVO(c.Agw),c.KVO(gp))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();function Zl(r,o){const n=r.url.toLowerCase();if(!(0,c.WQX)(pp)||"GET"===r.method||"HEAD"===r.method||n.startsWith("http://")||n.startsWith("https://"))return o(r);const s=(0,c.WQX)(Is).getToken(),f=(0,c.WQX)(im);return null!=s&&!r.headers.has(f)&&(r=r.clone({headers:r.headers.set(f,s)})),o(r)}var Wo=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(Wo||{});function Xo(r,o){return{\u0275kind:r,\u0275providers:o}}function Nw(...r){const o=[po,ql,fc,{provide:Hd,useExisting:fc},{provide:Gd,useFactory:()=>(0,c.WQX)(Wd,{optional:!0})??(0,c.WQX)(ql)},{provide:Xl,useValue:Zl,multi:!0},{provide:pp,useValue:!0},{provide:Is,useClass:pa}];for(const n of r)o.push(...n.\u0275providers);return(0,c.EmA)(o)}const om=new c.nKC(""),Cp=new c.nKC("JWT_OPTIONS");let fm=(()=>{class r{constructor(n=null){this.tokenGetter=n&&n.tokenGetter||function(){}}urlBase64Decode(n){let s=n.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(s)}b64decode(n){let f="";if((n=String(n).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let x,M,y=0,R=0;M=n.charAt(R++);~M&&(x=y%4?64*x+M:M,y++%4)?f+=String.fromCharCode(255&x>>(-2*y&6)):0)M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(M);return f}b64DecodeUnicode(n){return decodeURIComponent(Array.prototype.map.call(this.b64decode(n),s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(n=this.tokenGetter()){return n instanceof Promise?n.then(s=>this._decodeToken(s)):this._decodeToken(n)}_decodeToken(n){if(!n||""===n)return null;const s=n.split(".");if(3!==s.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const f=this.urlBase64Decode(s[1]);if(!f)throw new Error("Cannot decode the token.");return JSON.parse(f)}getTokenExpirationDate(n=this.tokenGetter()){return n instanceof Promise?n.then(s=>this._getTokenExpirationDate(s)):this._getTokenExpirationDate(n)}_getTokenExpirationDate(n){let s;if(s=this.decodeToken(n),!s||!s.hasOwnProperty("exp"))return null;const f=new Date(0);return f.setUTCSeconds(s.exp),f}isTokenExpired(n=this.tokenGetter(),s){return n instanceof Promise?n.then(f=>this._isTokenExpired(f,s)):this._isTokenExpired(n,s)}_isTokenExpired(n,s){if(!n||""===n)return!0;const f=this.getTokenExpirationDate(n);return s=s||0,null!==f&&!(f.valueOf()>(new Date).valueOf()+1e3*s)}getAuthScheme(n,s){return"function"==typeof n?n(s):n}}return r.\u0275fac=function(n){return new(n||r)(c.KVO(Cp))},r.\u0275prov=c.jDH({token:r,factory:r.\u0275fac}),r})(),_r=(()=>{class r{constructor(n,s){this.http=n,this.jwtHelper=s,this.baseUrl=Xi_apiUrl}loginWithGoogle(n){return this.http.post(`${this.baseUrl}/auth/google`,n,{withCredentials:!0})}registerWithGoogle(n,s){return this.http.post(`${this.baseUrl}/auth/google/register`,s,{headers:{Authorization:"Bearer "+n},withCredentials:!0})}getGoogleExistingUser(n){return this.http.get(`${this.baseUrl}/auth/google/user`,{headers:{Authorization:"Bearer "+n}})}linkGoogleAccount(n,s){return this.http.post(`${this.baseUrl}/auth/google/link`,s,{headers:{Authorization:"Bearer "+n},withCredentials:!0})}loginWithFacebook(n){return this.http.post(`${this.baseUrl}/auth/facebook`,n,{withCredentials:!0})}registerWithFacebook(n,s){return this.http.post(`${this.baseUrl}/auth/facebook/register`,s,{headers:{Authorization:"Bearer "+n},withCredentials:!0})}getFacebookExistingUser(n){return this.http.get(`${this.baseUrl}/auth/facebook/user`,{headers:{Authorization:"Bearer "+n}})}linkFacebookAccount(n,s){return this.http.post(`${this.baseUrl}/auth/facebook/link`,s,{headers:{Authorization:"Bearer "+n},withCredentials:!0})}login(n,s){return this.http.post(`${this.baseUrl}/login`,{username:n,password:s},{withCredentials:!0})}refreshToken(){return this.http.post(`${this.baseUrl}/refresh-token`,{},{withCredentials:!0})}processLogout(){return this.http.post(`${this.baseUrl}/logout`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")},withCredentials:!0})}isAuthenticated(){const n=localStorage.getItem("token");return!(!n||this.jwtHelper.isTokenExpired(n))}saveRoles(n){localStorage.setItem("roles",JSON.stringify(n))}saveAccessToken(n){localStorage.setItem("token",n)}getToken(){return localStorage.getItem("token")}getRoles(){let n=localStorage.getItem("roles");return JSON.parse(n)}logout(){this.processLogout().subscribe({}),localStorage.removeItem("token")}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(fm))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),go=(()=>{class r{constructor(n){this.http=n,this.baseUrl=Xi_apiUrl}login(){return this.http.get(`${this.baseUrl}/hello`,this.getOptions())}register(n){return this.http.post(`${this.baseUrl}/users/register`,n,{responseType:"text"})}getUsers(){return this.http.get(`${this.baseUrl}/admin/users`)}getUser(){return this.http.get(`${this.baseUrl}/users`)}getUserEmail(){return this.http.get(`${this.baseUrl}/users/email`)}createUser(n){return this.http.post(`${this.baseUrl}/admin/users`,n,{responseType:"text"})}updateUser(n){return this.http.put(`${this.baseUrl}/admin/users`,n,{responseType:"text"})}confirmEmail(n){return this.http.post(`${this.baseUrl}/users/confirm-email`,{token:n},{responseType:"text"})}updateUserEmail(n){return this.http.put(`${this.baseUrl}/users/update-email`,n,{responseType:"text"})}updateUserPassword(n){return this.http.put(`${this.baseUrl}/users/password`,n,{responseType:"text"})}deleteUser(n){return this.http.delete(`${this.baseUrl}/admin/users/${n}`,this.getOptions())}deleteUser2(){return this.http.delete(`${this.baseUrl}/users`,this.getOptions())}processForgotPassword(n){return this.http.post(`${this.baseUrl}/users/forgot-password`,{email:n},{responseType:"text"})}processResetPassword(n,s){return this.http.post(`${this.baseUrl}/users/reset-password`,{token:n,newPassword:s},{responseType:"text"})}processForgotUsername(n){return this.http.post(`${this.baseUrl}/users/forgot-username`,{email:n},{responseType:"text"})}resendVerificationLink(n){return this.http.post(`${this.baseUrl}/users/resend-verification`,{username:n},{responseType:"text"})}verifyEmail(n){return this.http.get(`${this.baseUrl}/users/verify-email?token=${n}`,{responseType:"text"})}getOptions(){return{headers:new oi({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}),responseType:"text"}}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Fw(r,o){1&r&&(c.j41(0,"div",7),c.EFF(1," Error creating username! "),c.k0s())}function hm(r,o){1&r&&(c.j41(0,"div")(1,"div",5),c.EFF(2,"Create a username for your Google login."),c.k0s()())}function pm(r,o){1&r&&(c.j41(0,"div")(1,"div",5),c.EFF(2,"Create a username for your Facebook login."),c.k0s()())}function wp(r,o){if(1&r){const n=c.RV6();c.j41(0,"div")(1,"button",8),c.bIt("click",function(){c.eBV(n);const f=c.XpG(2);return c.Njj(f.submitGoogleUsername())}),c.EFF(2,"Submit"),c.k0s()()}}function gm(r,o){if(1&r){const n=c.RV6();c.j41(0,"div")(1,"button",8),c.bIt("click",function(){c.eBV(n);const f=c.XpG(2);return c.Njj(f.submitFacebookUsername())}),c.EFF(2,"Submit"),c.k0s()()}}function Pw(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",1)(1,"div",2),c.DNE(2,Fw,2,0,"div",3),c.j41(3,"h2"),c.EFF(4,"Add username"),c.k0s(),c.DNE(5,hm,3,0,"div",4)(6,pm,3,0,"div",4),c.j41(7,"div",5)(8,"input",6),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.username,f)||(y.username=f),c.Njj(f)}),c.k0s()(),c.j41(9,"div",5),c.DNE(10,wp,3,0,"div",4)(11,gm,3,0,"div",4),c.k0s()()()}if(2&r){const n=c.XpG();c.R7$(2),c.Y8G("ngIf",n.googleUsernameCreatedError||n.facebookUsernameCreatedError),c.R7$(3),c.Y8G("ngIf","google"===n.socialType),c.R7$(),c.Y8G("ngIf","facebook"===n.socialType),c.R7$(2),c.R50("ngModel",n.username),c.R7$(2),c.Y8G("ngIf","google"===n.socialType),c.R7$(),c.Y8G("ngIf","facebook"===n.socialType)}}let mm=(()=>{class r{constructor(){this.username="",this.showModal=!0,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.socialType="",this.googleUsernameCreated=new c.bkB,this.facebookUsernameCreated=new c.bkB}submitGoogleUsername(){this.username&&this.googleUsernameCreated.emit(this.username)}submitFacebookUsername(){this.username&&this.facebookUsernameCreated.emit(this.username)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-username-modal"]],inputs:{googleUsernameCreatedError:"googleUsernameCreatedError",facebookUsernameCreatedError:"facebookUsernameCreatedError",socialType:"socialType"},outputs:{googleUsernameCreated:"googleUsernameCreated",facebookUsernameCreated:"facebookUsernameCreated"},decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-container"],["class","usernameCreatedError form-group",4,"ngIf"],[4,"ngIf"],[1,"form-group"],["type","text","placeholder","Enter your username",1,"form-control",3,"ngModelChange","ngModel"],[1,"usernameCreatedError","form-group"],[1,"btn",3,"click"]],template:function(s,f){1&s&&c.DNE(0,Pw,12,6,"div",0),2&s&&c.Y8G("ngIf",f.showModal)},dependencies:[Tn,Lr,ni,ri],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:999}.modal-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;width:400px;max-width:90vw}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:375px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.usernameCreatedError[_ngcontent-%COMP%]{color:red}"]})}}return r})();function Ep(r,o){1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2," This account already exists. To link it with your Google account, please enter your password. "),c.k0s()())}function ym(r,o){1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2," This account already exists. To link it with your Facebook account, please enter your password. "),c.k0s()())}function vm(r,o){if(1&r&&(c.j41(0,"p",12),c.EFF(1),c.k0s()),2&r){const n=c.XpG(2);c.R7$(),c.JRh(n.errorMessage)}}function Lw(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",1)(1,"div",2)(2,"h2"),c.EFF(3,"Link your account"),c.k0s(),c.j41(4,"p"),c.EFF(5," Username: "),c.j41(6,"strong"),c.EFF(7),c.k0s()(),c.DNE(8,Ep,3,0,"div",3)(9,ym,3,0,"div",3),c.j41(10,"form",4),c.bIt("ngSubmit",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.linkAccount())}),c.j41(11,"div",5)(12,"label",6),c.EFF(13,"Password:"),c.k0s(),c.j41(14,"input",7),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.password,f)||(y.password=f),c.Njj(f)}),c.k0s()(),c.j41(15,"div",8)(16,"button",9),c.EFF(17,"Link Account"),c.k0s(),c.j41(18,"button",10),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.closeModal())}),c.EFF(19," Cancel "),c.k0s()()(),c.DNE(20,vm,2,1,"p",11),c.k0s()()}if(2&r){const n=c.XpG();c.R7$(7),c.JRh(n.username),c.R7$(),c.Y8G("ngIf","google"===n.socialType),c.R7$(),c.Y8G("ngIf","facebook"===n.socialType),c.R7$(5),c.R50("ngModel",n.password),c.R7$(6),c.Y8G("ngIf",n.errorMessage)}}let Bw=(()=>{class r{constructor(n,s,f){this.authService=n,this.cdr=s,this.router=f,this.showModal=!1,this.username="",this.idToken="",this.socialType="",this.modalClosed=new c.bkB,this.password="",this.errorMessage=""}linkAccount(){console.log(this.socialType),"google"===this.socialType&&this.authService.linkGoogleAccount(this.idToken,{password:this.password}).subscribe({next:n=>{this.closeModal(),localStorage.setItem("token",n.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:n=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}}),"facebook"===this.socialType&&this.authService.linkFacebookAccount(this.idToken,{password:this.password}).subscribe({next:n=>{this.closeModal(),localStorage.setItem("token",n.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:n=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}})}closeModal(){this.password="",this.errorMessage="",this.showModal=!1,this.modalClosed.emit(),this.cdr.detectChanges()}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(_r),c.rXU(c.gRc),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-user-link-modal"]],inputs:{showModal:"showModal",username:"username",idToken:"idToken",socialType:"socialType"},outputs:{modalClosed:"modalClosed"},decls:1,vars:1,consts:[["class","modal-container",4,"ngIf"],[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-buttons"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(s,f){1&s&&c.DNE(0,Lw,21,5,"div",0),2&s&&c.Y8G("ngIf",f.showModal)},dependencies:[Tn,ii,Lr,ni,$i,jo,ri,Uo],styles:[".modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;width:300px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;text-align:center}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}"]})}}return r})();function Uw(r,o){if(1&r){const n=c.RV6();c.j41(0,"app-username-modal",19),c.bIt("googleUsernameCreated",function(f){c.eBV(n);const y=c.XpG();return c.Njj(y.handleGoogleUsernameCreated(f))})("facebookUsernameCreated",function(f){c.eBV(n);const y=c.XpG();return c.Njj(y.handleFacebookUsernameCreated(f))}),c.k0s()}if(2&r){const n=c.XpG();c.Y8G("googleUsernameCreatedError",n.googleUsernameCreatedError)("facebookUsernameCreatedError",n.facebookUsernameCreatedError)("socialType",n.socialType)}}function _p(r,o){if(1&r){const n=c.RV6();c.j41(0,"div")(1,"button",22),c.bIt("click",function(){c.eBV(n);const f=c.XpG(2);return c.Njj(f.resendVerification())}),c.EFF(2," Resend verification link "),c.k0s()()}}function xp(r,o){if(1&r&&(c.j41(0,"div",20),c.EFF(1),c.DNE(2,_p,3,0,"div",21),c.k0s()),2&r){const n=c.XpG();c.R7$(),c.SpI(" ",n.errorMessage," "),c.R7$(),c.Y8G("ngIf",n.userDisabled)}}function Cm(r,o){1&r&&(c.j41(0,"div",23),c.EFF(1," Username is required. "),c.k0s())}function bp(r,o){1&r&&(c.j41(0,"div",23),c.EFF(1," Password is required. "),c.k0s())}let Ip=(()=>{class r{constructor(n,s,f,y,x){this.formBuilder=n,this.authService=s,this.userService=f,this.router=y,this.cdr=x,this.errorMessage="",this.userDisabled=!1,this.username="",this.showUsernameModal=!1,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.idToken="",this.existingUsername="",this.showUserLinkModal=!1,this.socialType=""}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",An.required],password:["",An.required]}),this.redirectDashboard(),typeof google<"u"?(google.accounts.id.initialize({client_id:"906845008131-5ikdeenbsvm8250aebuhpbm7657eol49.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),use_fedcm_for_prompt:!0}),google.accounts.id.renderButton(document.getElementById("gooogle-signin-btn"),{theme:"outline",size:"large",width:"300"})):console.error("Google API is not available.")}handleCredentialResponse(n){this.idToken=n.credential,this.authService.loginWithGoogle(this.idToken).subscribe({next:s=>{s.accessToken?(localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="google",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getGoogleExistingUser(this.idToken).subscribe({next:f=>{this.existingUsername=f.username,this.idToken=n.credential,this.socialType="google",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}onModalClosed(){this.showUserLinkModal=!1}redirectDashboard(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onLogin(){if(this.loginForm.valid){const{username:n,password:s}=this.loginForm.value;this.authService.login(n,s).subscribe({next:f=>{localStorage.setItem("token",f.accessToken),this.router.navigate(["/dashboard"])},error:f=>{403===f.status&&"User is not verified"===f.error?(this.errorMessage="Your account is not verified. Please check your email to verify your account.",this.userDisabled=!0,this.username=n):this.errorMessage="Invalid credentials or login failed."}})}}resendVerification(){this.userService.resendVerificationLink(this.username).subscribe({next:()=>{alert("Verification link has been resent to your email.")},error:()=>{alert("Failed to resend the verification link.")}})}openUsernameModal(){this.showUsernameModal=!0,this.cdr.detectChanges()}handleGoogleUsernameCreated(n){this.authService.registerWithGoogle(this.idToken,{username:n}).subscribe({next:s=>{localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}handleFacebookUsernameCreated(n){this.authService.registerWithFacebook(this.idToken,{username:n}).subscribe({next:s=>{localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}facebookLogin(){FB.login(n=>{n.authResponse?this.sendFacebookTokenToBackend(n.authResponse.accessToken):console.log("User canceled login or did not fully authorize.")},{scope:"email"})}sendFacebookTokenToBackend(n){this.idToken=n,this.authService.loginWithFacebook(n).subscribe({next:s=>{s.accessToken?(localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="facebook",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getFacebookExistingUser(this.idToken).subscribe({next:f=>{this.existingUsername=f.username,this.idToken=n,this.socialType="facebook",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(bs),c.rXU(_r),c.rXU(go),c.rXU(cn),c.rXU(c.gRc))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-login"]],decls:34,vars:10,consts:[[3,"googleUsernameCreatedError","facebookUsernameCreatedError","socialType","googleUsernameCreated","facebookUsernameCreated",4,"ngIf"],[3,"modalClosed","showModal","username","idToken","socialType"],[1,"login-container"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required","",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","gooogle-signin-btn"],[1,"loginBtn","loginBtn--facebook",3,"click"],[1,"links"],[1,"no-bullets"],["routerLink","/register"],["routerLink","/forgot-username"],["routerLink","/forgot-password"],[3,"googleUsernameCreated","facebookUsernameCreated","googleUsernameCreatedError","facebookUsernameCreatedError","socialType"],[1,"error-message"],[4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"error"]],template:function(s,f){if(1&s&&(c.DNE(0,Uw,1,3,"app-username-modal",0),c.j41(1,"app-user-link-modal",1),c.bIt("modalClosed",function(){return f.onModalClosed()}),c.k0s(),c.j41(2,"div",2)(3,"h2"),c.EFF(4,"Login"),c.k0s(),c.DNE(5,xp,3,2,"div",3),c.j41(6,"form",4),c.bIt("ngSubmit",function(){return f.onLogin()}),c.j41(7,"div",5)(8,"label",6),c.EFF(9,"Username"),c.k0s(),c.nrm(10,"input",7),c.DNE(11,Cm,2,0,"div",8),c.k0s(),c.j41(12,"div",5)(13,"label",9),c.EFF(14,"Password"),c.k0s(),c.nrm(15,"input",10),c.DNE(16,bp,2,0,"div",8),c.k0s(),c.j41(17,"div",5)(18,"button",11),c.EFF(19," Login "),c.k0s()()(),c.nrm(20,"div",12),c.j41(21,"button",13),c.bIt("click",function(){return f.facebookLogin()}),c.EFF(22,"Sign in with Facebook"),c.k0s(),c.j41(23,"div",14)(24,"ul",15)(25,"li")(26,"a",16),c.EFF(27,"Don't have an account? Register"),c.k0s()(),c.j41(28,"li")(29,"a",17),c.EFF(30,"Forgot your username?"),c.k0s()(),c.j41(31,"li")(32,"a",18),c.EFF(33,"Forgot your password?"),c.k0s()()()()()),2&s){let y,x;c.Y8G("ngIf",f.showUsernameModal),c.R7$(),c.Y8G("showModal",f.showUserLinkModal)("username",f.existingUsername)("idToken",f.idToken)("socialType",f.socialType),c.R7$(4),c.Y8G("ngIf",f.errorMessage),c.R7$(),c.Y8G("formGroup",f.loginForm),c.R7$(5),c.Y8G("ngIf",(null==(y=f.loginForm.get("username"))?null:y.invalid)&&(null==(y=f.loginForm.get("username"))?null:y.touched)),c.R7$(5),c.Y8G("ngIf",(null==(x=f.loginForm.get("password"))?null:x.invalid)&&(null==(x=f.loginForm.get("password"))?null:x.touched)),c.R7$(2),c.Y8G("disabled",f.loginForm.invalid)}},dependencies:[Tn,uo,ii,Lr,ni,$i,jo,xs,ha,mm,Bw],styles:['.login-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:.9em}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:15px;text-align:center}.links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px;text-decoration:none;color:#007bff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}ul.no-bullets[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;width:295px;margin:.2em;padding:0 15px 0 46px;border:none;text-align:center;line-height:34px;white-space:nowrap;border-radius:.2em;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:none}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px #0000001a}.loginBtn--facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354C8C}.loginBtn--facebook[_ngcontent-%COMP%]:before{border-right:#364e92 1px solid;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.loginBtn--facebook[_ngcontent-%COMP%]:hover, .loginBtn--facebook[_ngcontent-%COMP%]:focus{cursor:pointer;background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}']})}}return r})(),Vw=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.venueUrl=Xi_apiUrl+"/ticketing/venues"}register(n){return this.http.post(`${this.venueUrl}/register`,n,{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Dp=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.performerUrl=Xi_apiUrl+"/ticketing/performers"}searchPerformers(n){return this.http.get(`${this.performerUrl}/search?keyword=${n}`)}register(n){return this.http.post(`${this.performerUrl}/register`,n,{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function jw(r,o){1&r&&(c.j41(0,"div",2)(1,"label",20),c.EFF(2,"Display Name "),c.j41(3,"span",9),c.EFF(4,"*"),c.k0s()(),c.nrm(5,"input",21),c.k0s())}function Hw(r,o){1&r&&(c.j41(0,"div",22),c.EFF(1," Your passwords are not matching. "),c.k0s())}function wm(r,o){1&r&&(c.j41(0,"div")(1,"div",2)(2,"label",23),c.EFF(3,"Address"),c.k0s(),c.nrm(4,"input",24),c.k0s(),c.j41(5,"div",2)(6,"label",25),c.EFF(7,"State"),c.k0s(),c.nrm(8,"input",26),c.k0s(),c.j41(9,"div",2)(10,"label",27),c.EFF(11,"Zip Code"),c.k0s(),c.nrm(12,"input",28),c.k0s()())}let Ap=(()=>{class r{constructor(n,s,f,y,x){this.fb=n,this.userService=s,this.venueService=f,this.performerService=y,this.router=x,this.registrationType="User",this.passwordMatchError=!1,this.registerForm=this.fb.group({registrationType:["User",An.required],username:["",An.required],email:["",[An.required,An.email]],password:["",An.required],retypePassword:["",An.required],displayName:[""],address:[""],state:[""],zipCode:[""]})}onRegistrationTypeChange(n){const f=n.target.value;this.registrationType=f,this.registerForm.patchValue({displayName:"",address:"",state:"",zipCode:""}),this.registerForm.get("displayName")?.clearValidators(),this.registerForm.get("address")?.clearValidators(),this.registerForm.get("state")?.clearValidators(),this.registerForm.get("zipCode")?.clearValidators(),("Performer"===f||"Venue"===f)&&this.registerForm.get("displayName")?.setValidators([An.required]),"Venue"===f&&(this.registerForm.get("address")?.setValidators([]),this.registerForm.get("state")?.setValidators([]),this.registerForm.get("zipCode")?.setValidators([])),this.registerForm.get("displayName")?.updateValueAndValidity(),this.registerForm.get("address")?.updateValueAndValidity(),this.registerForm.get("state")?.updateValueAndValidity(),this.registerForm.get("zipCode")?.updateValueAndValidity()}onSubmit(n){if(n.preventDefault(),this.registerForm.value.password!==this.registerForm.value.retypePassword)return void(this.passwordMatchError=!0);this.passwordMatchError=!1,console.log("Registration form submitted:",this.registerForm.value);let s=this.registerForm.value.username,f=this.registerForm.value.displayName,y=this.registerForm.value.email,x=this.registerForm.value.password,M=this.registerForm.value.address,R=this.registerForm.value.state,T=this.registerForm.value.zipCode;switch(this.registrationType){case"User":this.userService.register({username:s,email:y,password:x}).subscribe({next:V=>{this.router.navigate(["/"])},error:V=>{console.error("Registration failed:",V)}});break;case"Performer":this.performerService.register({name:f,username:s,email:y,password:x}).subscribe({next:V=>{this.router.navigate(["/"])},error:V=>{console.error("Registration failed:",V)}});break;case"Venue":this.venueService.register({name:f,username:s,email:y,password:x,address:M,state:R,zipcode:T}).subscribe({next:V=>{this.router.navigate(["/"])},error:V=>{console.error("Registration failed:",V)}})}}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(bs),c.rXU(go),c.rXU(Vw),c.rXU(Dp),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-register"]],decls:38,vars:4,consts:[[1,"register-container"],[3,"submit","formGroup"],[1,"form-group"],["for","registrationType"],["id","registrationType","formControlName","registrationType",3,"change"],["value","User"],["value","Performer"],["value","Venue"],["for","username"],[1,"required"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required",""],["class","form-group",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email","required",""],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required","",1,"password"],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Re-type your password","required","",1,"password"],["class","password-match-error",4,"ngIf"],[4,"ngIf"],["type","submit"],["for","displayName"],["type","text","id","displayName","formControlName","displayName","placeholder","Enter your display name","required",""],[1,"password-match-error"],["for","address"],["type","text","id","address","formControlName","address","placeholder","Enter your address"],["for","state"],["type","text","id","state","formControlName","state","placeholder","Enter your state"],["for","zipCode"],["type","text","id","zipCode","formControlName","zipCode","placeholder","Enter your zip code"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Register"),c.k0s(),c.j41(3,"form",1),c.bIt("submit",function(x){return f.onSubmit(x)}),c.j41(4,"div",2)(5,"label",3),c.EFF(6,"Register as"),c.k0s(),c.j41(7,"select",4),c.bIt("change",function(x){return f.onRegistrationTypeChange(x)}),c.j41(8,"option",5),c.EFF(9,"User"),c.k0s(),c.j41(10,"option",6),c.EFF(11,"Performer"),c.k0s(),c.j41(12,"option",7),c.EFF(13,"Venue"),c.k0s()()(),c.j41(14,"div",2)(15,"label",8),c.EFF(16,"Username "),c.j41(17,"span",9),c.EFF(18,"*"),c.k0s()(),c.nrm(19,"input",10),c.k0s(),c.DNE(20,jw,6,0,"div",11),c.j41(21,"div",2)(22,"label",12),c.EFF(23,"Email "),c.j41(24,"span",9),c.EFF(25,"*"),c.k0s()(),c.nrm(26,"input",13),c.k0s(),c.j41(27,"div",2)(28,"label",14),c.EFF(29,"Password "),c.j41(30,"span",9),c.EFF(31,"*"),c.k0s()(),c.nrm(32,"input",15)(33,"input",16),c.DNE(34,Hw,2,0,"div",17),c.k0s(),c.DNE(35,wm,13,0,"div",18),c.j41(36,"button",19),c.EFF(37,"Register"),c.k0s()()()),2&s&&(c.R7$(3),c.Y8G("formGroup",f.registerForm),c.R7$(17),c.Y8G("ngIf","Performer"===f.registrationType||"Venue"===f.registrationType),c.R7$(14),c.Y8G("ngIf",f.passwordMatchError),c.R7$(),c.Y8G("ngIf","Venue"===f.registrationType))},dependencies:[Tn,ii,ap,Ud,Lr,ac,ni,$i,jo,xs,ha],styles:[".register-container[_ngcontent-%COMP%]{max-width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.required[_ngcontent-%COMP%]{color:red;margin-left:2px;font-weight:700}.password[_ngcontent-%COMP%]{margin-bottom:10px}.password-match-error[_ngcontent-%COMP%]{color:#dc3545}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Kd=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.weatherUrl=Xi_apiUrl+"/weather"}getWeather(){return this.http.get(`${this.weatherUrl}`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Em(r,o){1&r&&(c.j41(0,"div")(1,"button",13),c.EFF(2,"Bookings"),c.k0s()())}function _m(r,o){1&r&&(c.j41(0,"div")(1,"button",14),c.EFF(2," Venue Events "),c.k0s(),c.j41(3,"button",15),c.EFF(4," Create Event "),c.k0s(),c.j41(5,"button",16),c.EFF(6,"Scanner"),c.k0s()())}function xm(r,o){if(1&r&&(c.j41(0,"div")(1,"h3"),c.EFF(2),c.k0s(),c.j41(3,"p"),c.EFF(4),c.k0s(),c.j41(5,"p"),c.EFF(6),c.k0s(),c.j41(7,"p"),c.EFF(8),c.k0s(),c.j41(9,"p"),c.EFF(10),c.k0s()()),2&r){const n=c.XpG();c.R7$(2),c.JRh(n.weatherData.name),c.R7$(2),c.SpI("Temperature: ",n.weatherData.main.temp,"\xb0F"),c.R7$(2),c.SpI("Weather: ",n.weatherData.weather[0].description,""),c.R7$(2),c.SpI("Humidity: ",n.weatherData.main.humidity,"%"),c.R7$(2),c.SpI("Wind Speed: ",n.weatherData.wind.speed," mph")}}function Gw(r,o){if(1&r&&(c.j41(0,"div",17),c.EFF(1),c.k0s()),2&r){const n=c.XpG();c.R7$(),c.SpI(" ",n.errorMessage," ")}}function bm(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",18)(1,"h3"),c.EFF(2,"Create New User"),c.k0s(),c.j41(3,"form",19),c.bIt("ngSubmit",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.createUser())}),c.j41(4,"div",20)(5,"label",21),c.EFF(6,"Username:"),c.k0s(),c.j41(7,"input",22),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.newUser.username,f)||(y.newUser.username=f),c.Njj(f)}),c.k0s()(),c.j41(8,"div",20)(9,"label",23),c.EFF(10,"Email:"),c.k0s(),c.j41(11,"input",24),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.newUser.email,f)||(y.newUser.email=f),c.Njj(f)}),c.k0s()(),c.j41(12,"div",20)(13,"label",25),c.EFF(14,"Role:"),c.k0s(),c.j41(15,"input",26),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.newUser.role,f)||(y.newUser.role=f),c.Njj(f)}),c.k0s()(),c.j41(16,"button",27),c.EFF(17,"Create User"),c.k0s()()()}if(2&r){const n=c.XpG();c.R7$(7),c.R50("ngModel",n.newUser.username),c.R7$(4),c.R50("ngModel",n.newUser.email),c.R7$(4),c.R50("ngModel",n.newUser.role)}}function zw(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",28)(1,"h3"),c.EFF(2,"Update User"),c.k0s(),c.j41(3,"form",19),c.bIt("ngSubmit",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.updateUser())}),c.j41(4,"div",20)(5,"label",29),c.EFF(6,"Current Username:"),c.k0s(),c.j41(7,"input",30),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.updateUserModel.currentUsername,f)||(y.updateUserModel.currentUsername=f),c.Njj(f)}),c.k0s()(),c.j41(8,"div",20)(9,"label",31),c.EFF(10,"New Username:"),c.k0s(),c.j41(11,"input",32),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.updateUserModel.newUsername,f)||(y.updateUserModel.newUsername=f),c.Njj(f)}),c.k0s()(),c.j41(12,"div",20)(13,"label",33),c.EFF(14,"New Email:"),c.k0s(),c.j41(15,"input",34),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.updateUserModel.newEmail,f)||(y.updateUserModel.newEmail=f),c.Njj(f)}),c.k0s()(),c.j41(16,"div",20)(17,"label",35),c.EFF(18,"New Role:"),c.k0s(),c.j41(19,"input",36),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.updateUserModel.newRole,f)||(y.updateUserModel.newRole=f),c.Njj(f)}),c.k0s()(),c.j41(20,"button",27),c.EFF(21,"Update User"),c.k0s()()()}if(2&r){const n=c.XpG();c.R7$(7),c.R50("ngModel",n.updateUserModel.currentUsername),c.R7$(4),c.R50("ngModel",n.updateUserModel.newUsername),c.R7$(4),c.R50("ngModel",n.updateUserModel.newEmail),c.R7$(4),c.R50("ngModel",n.updateUserModel.newRole)}}function Sp(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",37)(1,"div")(2,"h3"),c.EFF(3,"Delete a User"),c.k0s(),c.j41(4,"form",19),c.bIt("ngSubmit",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.onDeleteUser())}),c.j41(5,"div")(6,"label",21),c.EFF(7,"Username:"),c.k0s(),c.j41(8,"input",38),c.mxI("ngModelChange",function(f){c.eBV(n);const y=c.XpG();return c.DH7(y.deleteUsername,f)||(y.deleteUsername=f),c.Njj(f)}),c.k0s()(),c.j41(9,"button",27),c.EFF(10,"Delete User"),c.k0s()()()()}if(2&r){const n=c.XpG();c.R7$(8),c.R50("ngModel",n.deleteUsername)}}function Im(r,o){if(1&r&&(c.j41(0,"tr")(1,"td"),c.EFF(2),c.k0s(),c.j41(3,"td"),c.EFF(4),c.k0s()()),2&r){const n=o.$implicit;c.R7$(2),c.JRh(n.username),c.R7$(2),c.JRh(n.email)}}function Dm(r,o){if(1&r&&(c.j41(0,"table")(1,"thead")(2,"tr")(3,"th"),c.EFF(4,"Username"),c.k0s(),c.j41(5,"th"),c.EFF(6,"Email"),c.k0s()()(),c.j41(7,"tbody"),c.DNE(8,Im,5,2,"tr",41),c.k0s()()),2&r){const n=c.XpG(2);c.R7$(8),c.Y8G("ngForOf",n.users)}}function Mr(r,o){1&r&&(c.j41(0,"p"),c.EFF(1,"No users to display."),c.k0s())}function Am(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",39)(1,"div")(2,"button",40),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.toggleUsers())}),c.EFF(3),c.k0s(),c.DNE(4,Dm,9,1,"table",3)(5,Mr,2,0,"p",3),c.k0s()()}if(2&r){const n=c.XpG();c.R7$(3),c.SpI(" ",n.isTableVisible?"Hide Users":"Show Users"," "),c.R7$(),c.Y8G("ngIf",n.isTableVisible&&n.users.length>0),c.R7$(),c.Y8G("ngIf",n.isTableVisible&&0===n.users.length)}}let Ux=(()=>{class r{constructor(n,s,f,y){this.userService=n,this.authService=s,this.weatherService=f,this.router=y,this.message="Loading...",this.users=[],this.isTableVisible=!1,this.deleteUsername="",this.roles=[],this.searchText="",this.errorMessage=null,this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}ngOnInit(){this.getHelloMessage(),this.checkUserRoles(),this.getWeather()}getHelloMessage(){this.userService.login().subscribe({next:n=>{this.message=n},error:n=>{console.error("Error fetching hello message:",n)}})}toggleUsers(){this.isTableVisible?this.isTableVisible=!1:this.userService.getUsers().subscribe({next:n=>{this.users=n,this.isTableVisible=!0},error:n=>{console.error("Error fetching users:",n)}})}createUser(){this.userService.createUser(this.newUser).subscribe({next:n=>{console.log("User created successfully:",n),alert("User created successfully!"),this.clearForm(),this.toggleUsers()},error:n=>{console.error("Error creating user:",n)}})}updateUser(){this.userService.updateUser(this.updateUserModel).subscribe({next:n=>{console.log("User updated successfully:",n),alert("User updated successfully!"),this.clearForm(),this.toggleUsers()},error:n=>{console.error("Error updating user:",n)}})}onDeleteUser(){this.deleteUsername&&this.userService.deleteUser(this.deleteUsername).subscribe({next:n=>{console.log("User deleted successfully:",n),alert("User deleted successfully"),this.deleteUsername=""},error:n=>{console.error("Error deleting user:",n),alert("Failed to delete user")}})}logout(){this.authService.logout(),this.router.navigate(["/"])}checkUserRoles(){this.userService.getUser().subscribe({next:n=>{n.roles.forEach(s=>{this.roles.push(s.name)}),this.authService.saveRoles(this.roles)}})}getWeather(){this.weatherService.getWeather().subscribe({next:n=>{this.weatherData=n,this.errorMessage=null},error:()=>{this.errorMessage="Could not fetch weather data. Please try again later.",this.weatherData=null}})}clearForm(){this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}onSearchChange(){console.log(this.searchText)}searchEvents(){this.router.navigate(["/search-results"],{queryParams:{query:this.searchText}}),console.log("Searching events for:",this.searchText)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(go),c.rXU(_r),c.rXU(Kd),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-dashboard"]],decls:22,vars:10,consts:[[1,"dashboard-container"],[1,"btn","btn-danger",3,"click"],["routerLink","/settings",1,"btn","btn-danger"],[4,"ngIf"],[1,"weather-dashboard"],["class","error-message",4,"ngIf"],[1,"search-container"],["type","text","placeholder","Search for events...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-button",3,"click"],["class","create-container",4,"ngIf"],["class","update-container",4,"ngIf"],["class","delete-container",4,"ngIf"],["class","get-container",4,"ngIf"],["routerLink","/bookings",1,"btn","btn-danger"],["routerLink","/venue/events",1,"btn","btn-danger"],["routerLink","/venue/events/create",1,"btn","btn-danger"],["routerLink","/scanner",1,"btn","btn-danger"],[1,"error-message"],[1,"create-container"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","role"],["type","text","id","role","name","role","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"update-container"],["for","currentUsername"],["type","text","id","currentUsername","name","currentUsername","required","",3,"ngModelChange","ngModel"],["for","newUsername"],["type","text","id","newUsername","name","newUsername","required","",3,"ngModelChange","ngModel"],["for","newEmail"],["type","email","id","newEmail","name","newEmail","required","",3,"ngModelChange","ngModel"],["for","newRole"],["type","text","id","newRole","name","newRole","required","",3,"ngModelChange","ngModel"],[1,"delete-container"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],[1,"get-container"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Welcome to Your Dashboard"),c.k0s(),c.j41(3,"p"),c.EFF(4),c.k0s(),c.j41(5,"button",1),c.bIt("click",function(){return f.logout()}),c.EFF(6,"Logout"),c.k0s(),c.j41(7,"button",2),c.EFF(8,"Settings"),c.k0s(),c.DNE(9,Em,3,0,"div",3)(10,_m,7,0,"div",3),c.j41(11,"div",4),c.DNE(12,xm,11,5,"div",3)(13,Gw,2,1,"div",5),c.k0s(),c.j41(14,"div",6)(15,"input",7),c.mxI("ngModelChange",function(x){return c.DH7(f.searchText,x)||(f.searchText=x),x}),c.bIt("ngModelChange",function(){return f.onSearchChange()}),c.k0s(),c.j41(16,"button",8),c.bIt("click",function(){return f.searchEvents()}),c.EFF(17,"Search"),c.k0s()(),c.DNE(18,bm,18,3,"div",9)(19,zw,22,4,"div",10)(20,Sp,11,1,"div",11)(21,Am,6,3,"div",12),c.k0s()),2&s&&(c.R7$(4),c.JRh(f.message),c.R7$(5),c.Y8G("ngIf",!f.roles.includes("ROLE_VENUE")&&!f.roles.includes("ROLE_PERFORMER")),c.R7$(),c.Y8G("ngIf",f.roles.includes("ROLE_VENUE")),c.R7$(2),c.Y8G("ngIf",f.weatherData),c.R7$(),c.Y8G("ngIf",f.errorMessage),c.R7$(2),c.R50("ngModel",f.searchText),c.R7$(3),c.Y8G("ngIf",f.roles.includes("ROLE_ADMIN")),c.R7$(),c.Y8G("ngIf",f.roles.includes("ROLE_ADMIN")),c.R7$(),c.Y8G("ngIf",f.roles.includes("ROLE_ADMIN")),c.R7$(),c.Y8G("ngIf",f.roles.includes("ROLE_ADMIN")))},dependencies:[fr,Tn,uo,ii,Lr,ni,$i,jo,ri,Uo],styles:[".search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;flex-direction:column;align-items:center}.create-container[_ngcontent-%COMP%], .update-container[_ngcontent-%COMP%], .delete-container[_ngcontent-%COMP%], .get-container[_ngcontent-%COMP%]{max-width:300px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.weather-dashboard[_ngcontent-%COMP%]{text-align:center;margin:20px}.error-message[_ngcontent-%COMP%]{color:red}"]})}}return r})(),Vx=(()=>{class r{constructor(n){this.userService=n,this.email=""}onSubmit(){this.email&&this.userService.processForgotPassword(this.email).subscribe({next:n=>{console.log("Reset link sent:",n),alert("Reset link sent to your email."),this.email=""},error:n=>{console.error("Error sending reset link:",n),alert("Failed to send reset link. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(go))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-forgot-password"]],decls:11,vars:1,consts:[[1,"forgot-password-container"],[1,"forgot-password"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"h2"),c.EFF(3,"Forgot Password"),c.k0s(),c.j41(4,"form",2),c.bIt("ngSubmit",function(){return f.onSubmit()}),c.j41(5,"div",3)(6,"label",4),c.EFF(7,"Email"),c.k0s(),c.j41(8,"input",5),c.mxI("ngModelChange",function(x){return c.DH7(f.email,x)||(f.email=x),x}),c.k0s()(),c.j41(9,"button",6),c.EFF(10,"Send Reset Link"),c.k0s()()()()),2&s&&(c.R7$(8),c.R50("ngModel",f.email))},dependencies:[ii,Lr,ni,$i,jo,ri,Uo],styles:[".forgot-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();function Sm(r,o){1&r&&(c.j41(0,"div")(1,"label",8),c.EFF(2,"Your passwords are not matching."),c.k0s()())}let Tm=(()=>{class r{constructor(n,s,f){this.route=n,this.userService=s,this.router=f,this.newPassword="",this.retypePassword="",this.token=null,this.passwordMatchError=!1}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}onSubmit(){this.token&&this.newPassword===this.retypePassword&&this.userService.processResetPassword(this.token,this.newPassword).subscribe({next:n=>{console.log("Password reset successfully:",n),alert("Password has been reset successfully."),this.router.navigate(["/"])},error:n=>{console.error("Error resetting password:",n),alert("Failed to reset password. Please try again.")}}),this.newPassword!==this.retypePassword&&(this.passwordMatchError=!0)}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(go),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-reset-password"]],decls:11,vars:3,consts:[[1,"reset-password-container"],[1,"reset-password"],[3,"ngSubmit"],[1,"form-group"],[4,"ngIf"],["type","password","name","newPassword","placeholder","Enter your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","retypePassword","placeholder","Re-type your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],[1,"password-match-error"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"h2"),c.EFF(3,"Reset Password"),c.k0s(),c.j41(4,"form",2),c.bIt("ngSubmit",function(){return f.onSubmit()}),c.j41(5,"div",3),c.DNE(6,Sm,3,0,"div",4),c.j41(7,"input",5),c.mxI("ngModelChange",function(x){return c.DH7(f.newPassword,x)||(f.newPassword=x),x}),c.k0s(),c.j41(8,"input",6),c.mxI("ngModelChange",function(x){return c.DH7(f.retypePassword,x)||(f.retypePassword=x),x}),c.k0s()(),c.j41(9,"button",7),c.EFF(10,"Reset Password"),c.k0s()()()()),2&s&&(c.R7$(6),c.Y8G("ngIf",f.passwordMatchError),c.R7$(),c.R50("ngModel",f.newPassword),c.R7$(),c.R50("ngModel",f.retypePassword))},dependencies:[Tn,ii,Lr,ni,$i,jo,ri,Uo],styles:[".reset-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.password-match-error[_ngcontent-%COMP%]{color:#dc3545}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Mm=(()=>{class r{constructor(n,s){this.userService=n,this.router=s,this.email=""}onSubmit(){this.email&&this.userService.processForgotUsername(this.email).subscribe({next:n=>{console.log("Username sent to email:",n),alert("Your username has been sent to your email address."),this.email=""},error:n=>{console.error("Error sending username:",n),alert("Failed to send username. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(go),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-forgot-username"]],decls:11,vars:1,consts:[[1,"forgot-username-container"],[1,"forgot-username"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"h2"),c.EFF(3,"Forgot Username"),c.k0s(),c.j41(4,"form",2),c.bIt("ngSubmit",function(){return f.onSubmit()}),c.j41(5,"div",3)(6,"label",4),c.EFF(7,"Email"),c.k0s(),c.j41(8,"input",5),c.mxI("ngModelChange",function(x){return c.DH7(f.email,x)||(f.email=x),x}),c.k0s()(),c.j41(9,"button",6),c.EFF(10,"Send Username"),c.k0s()()()()),2&s&&(c.R7$(8),c.R50("ngModel",f.email))},dependencies:[ii,Lr,ni,$i,jo,ri,Uo],styles:[".forgot-username-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();const Tp=()=>["/"];function Nm(r,o){if(1&r&&(c.j41(0,"div",3)(1,"p"),c.EFF(2),c.k0s()()),2&r){const n=c.XpG();c.R7$(2),c.JRh(n.verificationStatus)}}function Rm(r,o){if(1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2),c.k0s()()),2&r){const n=c.XpG();c.R7$(2),c.JRh(n.errorMessage)}}function Om(r,o){1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2,"Your account is now verified! You can "),c.j41(3,"a",4),c.EFF(4,"login"),c.k0s(),c.EFF(5," now."),c.k0s()()),2&r&&(c.R7$(3),c.Y8G("routerLink",c.lJ4(1,Tp)))}let km=(()=>{class r{constructor(n,s){this.route=n,this.userService=s,this.verificationStatus="",this.errorMessage="",this.token=""}ngOnInit(){this.token=this.route.snapshot.params.token,this.verifyEmail()}verifyEmail(){this.userService.verifyEmail(this.token).subscribe({next:()=>{this.verificationStatus="Your email has been successfully verified!"},error:n=>{this.verificationStatus="Verification failed. Your email could not be verified.",this.errorMessage=n.error?.message||"An error occurred during verification."}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(go))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-verify-email"]],decls:6,vars:3,consts:[[1,"verification-container"],["class","verification-status",4,"ngIf"],[4,"ngIf"],[1,"verification-status"],[3,"routerLink"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Email Verification"),c.k0s(),c.DNE(3,Nm,3,1,"div",1)(4,Rm,3,1,"div",2)(5,Om,6,2,"div",2),c.k0s()),2&s&&(c.R7$(3),c.Y8G("ngIf",f.verificationStatus),c.R7$(),c.Y8G("ngIf",f.errorMessage),c.R7$(),c.Y8G("ngIf",f.verificationStatus&&!f.errorMessage))},dependencies:[Tn,uo],styles:[".verification-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;text-align:center}.verification-status[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{margin-top:10px}"]})}}return r})(),$w=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-cookie-policy"]],decls:1,vars:0,consts:[["src",c.wXG`/policy/cookie-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,f){1&s&&c.nrm(0,"iframe",0)}})}}return r})(),jx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-privacy-policy"]],decls:1,vars:0,consts:[["src",c.wXG`/policy/privacy-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,f){1&s&&c.nrm(0,"iframe",0)}})}}return r})();function Hx(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",1)(1,"div",2)(2,"h2"),c.EFF(3,"Delete Account"),c.k0s(),c.j41(4,"p"),c.EFF(5," Are you sure you want to delete your account? This action cannot be undone. "),c.k0s(),c.j41(6,"div",3)(7,"button",4),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.onConfirm())}),c.EFF(8,"Yes"),c.k0s(),c.j41(9,"button",5),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.onCancel())}),c.EFF(10,"Cancel"),c.k0s()()()()}}let Ww=(()=>{class r{constructor(){this.showModal=!1,this.confirmDelete=new c.bkB,this.cancelDelete=new c.bkB}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onConfirm(){this.confirmDelete.emit(),this.closeModal()}onCancel(){this.cancelDelete.emit(),this.closeModal()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-delete-account-modal"]],outputs:{confirmDelete:"confirmDelete",cancelDelete:"cancelDelete"},decls:1,vars:1,consts:[["class","modal-backdrop",4,"ngIf"],[1,"modal-backdrop"],[1,"modal-content"],[1,"modal-buttons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(s,f){1&s&&c.DNE(0,Hx,11,0,"div",0),2&s&&c.Y8G("ngIf",f.showModal)},dependencies:[Tn],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;text-align:center;width:300px;box-shadow:0 5px 15px #0000004d}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}}return r})();function Gx(r,o){1&r&&(c.j41(0,"div")(1,"label",12),c.EFF(2,"Please check your new email to confirm your updated email."),c.k0s()())}function zx(r,o){1&r&&(c.j41(0,"div")(1,"label",13),c.EFF(2,"Your password was changed!"),c.k0s()())}function $x(r,o){1&r&&(c.j41(0,"div")(1,"label",13),c.EFF(2,"Error updating your password."),c.k0s()())}function Wx(r,o){1&r&&(c.j41(0,"div")(1,"label",13),c.EFF(2,"Your passwords are not matching."),c.k0s()())}let Xx=(()=>{class r{constructor(n){this.userService=n,this.email="",this.currentEmail="",this.password="",this.currentPassword="",this.retypePassword="",this.initiatedUpdateEmail=!1,this.changedPassword=!1,this.errorPassword=!1,this.passwordMatchError=!1}ngOnInit(){this.getEmail()}getEmail(){this.userService.getUserEmail().subscribe({next:n=>{this.currentEmail=n.email}})}updateEmail(){this.userService.updateUserEmail({email:this.email}).subscribe({next:s=>{this.initiatedUpdateEmail=!0}})}updatePassword(){this.password===this.retypePassword?this.userService.updateUserPassword({currentPassword:this.currentPassword,newPassword:this.password}).subscribe({next:s=>{this.password="",this.currentPassword="",this.retypePassword="",this.errorPassword=!1,this.passwordMatchError=!1,this.changedPassword=!0},error:s=>{this.changedPassword=!1,this.passwordMatchError=!1,this.errorPassword=!0}}):(this.errorPassword=!1,this.changedPassword=!1,this.passwordMatchError=!0)}openDeleteModal(){this.deleteAccountModal.openModal()}handleDelete(){this.userService.deleteUser2().subscribe(n=>{alert("Account deleted successfully.")})}handleCancel(){}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(go))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-settings"]],viewQuery:function(s,f){if(1&s&&c.GBs(Ww,5),2&s){let y;c.mGM(y=c.lsd())&&(f.deleteAccountModal=y.first)}},decls:25,vars:9,consts:[[3,"confirmDelete","cancelDelete"],[1,"settings-container"],[1,"setting-item"],["for","email"],[4,"ngIf"],["type","email","id","email","placeholder","New email",3,"ngModelChange","ngModel"],[3,"click"],[1,"setting-item-pass"],["type","password","id","currentPassword","placeholder","Current password",3,"ngModelChange","ngModel"],["type","password","id","password","placeholder","New password",3,"ngModelChange","ngModel"],["type","password","id","retypePassword","placeholder","Re-type password",3,"ngModelChange","ngModel"],[1,"delete-account",3,"click"],["for","email",1,"label-email-msg"],[1,"label-password-msg"]],template:function(s,f){1&s&&(c.j41(0,"app-delete-account-modal",0),c.bIt("confirmDelete",function(){return f.handleDelete()})("cancelDelete",function(){return f.handleCancel()}),c.k0s(),c.j41(1,"div",1)(2,"h2"),c.EFF(3,"Settings"),c.k0s(),c.j41(4,"div",2)(5,"label",3),c.EFF(6),c.k0s(),c.DNE(7,Gx,3,0,"div",4),c.j41(8,"input",5),c.mxI("ngModelChange",function(x){return c.DH7(f.email,x)||(f.email=x),x}),c.k0s(),c.j41(9,"button",6),c.bIt("click",function(){return f.updateEmail()}),c.EFF(10,"Update Email"),c.k0s()(),c.DNE(11,zx,3,0,"div",4)(12,$x,3,0,"div",4)(13,Wx,3,0,"div",4),c.j41(14,"div",7)(15,"input",8),c.mxI("ngModelChange",function(x){return c.DH7(f.currentPassword,x)||(f.currentPassword=x),x}),c.k0s()(),c.j41(16,"div",7)(17,"input",9),c.mxI("ngModelChange",function(x){return c.DH7(f.password,x)||(f.password=x),x}),c.k0s()(),c.j41(18,"div",7)(19,"input",10),c.mxI("ngModelChange",function(x){return c.DH7(f.retypePassword,x)||(f.retypePassword=x),x}),c.k0s(),c.j41(20,"button",6),c.bIt("click",function(){return f.updatePassword()}),c.EFF(21,"Update Password"),c.k0s()(),c.j41(22,"div",2)(23,"button",11),c.bIt("click",function(){return f.openDeleteModal()}),c.EFF(24," Delete Account "),c.k0s()()()),2&s&&(c.R7$(6),c.SpI("Current email: ",f.currentEmail,""),c.R7$(),c.Y8G("ngIf",f.initiatedUpdateEmail),c.R7$(),c.R50("ngModel",f.email),c.R7$(3),c.Y8G("ngIf",f.changedPassword),c.R7$(),c.Y8G("ngIf",f.errorPassword),c.R7$(),c.Y8G("ngIf",f.passwordMatchError),c.R7$(2),c.R50("ngModel",f.currentPassword),c.R7$(2),c.R50("ngModel",f.password),c.R7$(2),c.R50("ngModel",f.retypePassword))},dependencies:[Tn,Lr,ni,ri,Ww],styles:[".settings-container[_ngcontent-%COMP%]{max-width:300px;margin:0 auto 15px;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}.setting-item[_ngcontent-%COMP%]{margin-bottom:10px}.setting-item-pass[_ngcontent-%COMP%]{margin-bottom:5px}.label-email-msg[_ngcontent-%COMP%], .label-password-msg[_ngcontent-%COMP%]{color:#dc3545}input[_ngcontent-%COMP%]{width:275px;padding:10px;margin-top:8px}button[_ngcontent-%COMP%]{padding:10px;margin-top:10px;width:100%;background-color:#3c6bec;color:#fff;border:none;cursor:pointer}button.delete-account[_ngcontent-%COMP%]{background-color:#dc3545}"]})}}return r})();function Fm(r,o){1&r&&(c.j41(0,"div",3)(1,"p"),c.EFF(2,"Confirming your email, please wait..."),c.k0s()())}function Pm(r,o){1&r&&(c.j41(0,"div")(1,"h2"),c.EFF(2,"Email Confirmation Successful"),c.k0s(),c.j41(3,"p"),c.EFF(4,"Your email has been updated successfully."),c.k0s(),c.j41(5,"button",4),c.EFF(6,"Go to Login"),c.k0s()())}function Yx(r,o){1&r&&(c.j41(0,"div")(1,"h2"),c.EFF(2,"Email Confirmation Failed"),c.k0s(),c.j41(3,"p"),c.EFF(4,"Invalid or expired token. Please try again or contact support."),c.k0s(),c.j41(5,"button",5),c.EFF(6,"Go to Home"),c.k0s()())}let qx=(()=>{class r{constructor(n,s){this.route=n,this.userService=s,this.isLoading=!0,this.isConfirmed=!1}ngOnInit(){const n=this.route.snapshot.params.token;n&&this.confirmEmail(n)}confirmEmail(n){this.userService.confirmEmail(n).subscribe({next:s=>{this.isLoading=!1,this.isConfirmed=!0},error:s=>{this.isLoading=!1,this.isConfirmed=!1}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(go))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-email-confirmation"]],decls:4,vars:3,consts:[[1,"email-confirmation-container"],["class","loading-message",4,"ngIf"],[4,"ngIf"],[1,"loading-message"],["routerLink","/login",1,"btn"],["routerLink","/",1,"btn"]],template:function(s,f){1&s&&(c.j41(0,"div",0),c.DNE(1,Fm,3,0,"div",1)(2,Pm,7,0,"div",2)(3,Yx,7,0,"div",2),c.k0s()),2&s&&(c.R7$(),c.Y8G("ngIf",f.isLoading),c.R7$(),c.Y8G("ngIf",!f.isLoading&&f.isConfirmed),c.R7$(),c.Y8G("ngIf",!f.isLoading&&!f.isConfirmed))},dependencies:[Tn,uo],styles:[".email-confirmation-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.loading-message[_ngcontent-%COMP%]{color:#333}h2[_ngcontent-%COMP%]{color:#3c6bec}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px;color:#fff;background-color:#3c6bec;border:none;border-radius:5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#3c6bec}"]})}}return r})(),Zx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-data-deletion-policy"]],decls:2,vars:0,template:function(s,f){1&s&&(c.j41(0,"p"),c.EFF(1,"If you want to delete your user data, write to mh.testdev@gmail.com"),c.k0s())}})}}return r})(),Kx=(()=>{class r{constructor(n){this.router=n,this.searchText=""}onSearchChange(){console.log(this.searchText)}searchEvents(){this.router.navigate(["/search-results"],{queryParams:{query:this.searchText}}),console.log("Searching events for:",this.searchText)}goToLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-homepage"]],decls:10,vars:1,consts:[[1,"homepage-container"],[1,"title"],[1,"search-container"],["type","text","placeholder","Search for events...",1,"search-input",3,"ngModelChange","ngModel"],[1,"search-button",3,"click"],[1,"login-container"],[1,"login-button",3,"click"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h1",1),c.EFF(2,"TicketingSystem"),c.k0s(),c.j41(3,"div",2)(4,"input",3),c.mxI("ngModelChange",function(x){return c.DH7(f.searchText,x)||(f.searchText=x),x}),c.bIt("ngModelChange",function(){return f.onSearchChange()}),c.k0s(),c.j41(5,"button",4),c.bIt("click",function(){return f.searchEvents()}),c.EFF(6,"Search"),c.k0s()(),c.j41(7,"div",5)(8,"button",6),c.bIt("click",function(){return f.goToLogin()}),c.EFF(9,"Login"),c.k0s()()()),2&s&&(c.R7$(4),c.R50("ngModel",f.searchText))},dependencies:[Lr,ni,ri],styles:[".homepage-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:50px}.title[_ngcontent-%COMP%]{font-size:3em;margin-bottom:20px}.search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.search-input[_ngcontent-%COMP%]{padding:10px;font-size:1.2em;width:300px;margin-right:10px}.search-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#007bff;color:#fff;border:none;cursor:pointer}.search-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]{margin-top:20px}.login-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#28a745;color:#fff;border:none;cursor:pointer}.login-button[_ngcontent-%COMP%]:hover{background-color:#218838}"]})}}return r})(),eu=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.eventUrl=Xi_apiUrl+"/ticketing/events"}getEventsByVenue(){return this.http.get(`${this.eventUrl}/venue`)}createEvent(n){return this.http.post(`${this.eventUrl}`,n)}getEvent(n){return this.http.get(`${this.eventUrl}/${n}`)}updateEvent(n,s){return this.http.post(`${this.eventUrl}/${n}`,s)}getAllEvents(){return this.http.get(`${this.eventUrl}`)}searchEvents(n){return this.http.get(`${this.eventUrl}?keyword=${n}`)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Qx(r,o){1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2,"No events found."),c.k0s()())}function Jx(r,o){if(1&r&&(c.j41(0,"div")(1,"p")(2,"strong"),c.EFF(3,"Performer:"),c.k0s(),c.EFF(4),c.k0s()()),2&r){const n=o.$implicit;c.R7$(4),c.SpI(" ",n.name,"")}}function eb(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",5),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2);return c.Njj(y.goToEventDetails(f.id))}),c.j41(1,"h3"),c.EFF(2),c.k0s(),c.j41(3,"p"),c.EFF(4),c.k0s(),c.j41(5,"p")(6,"strong"),c.EFF(7,"Venue:"),c.k0s(),c.EFF(8),c.k0s(),c.DNE(9,Jx,5,1,"div",6),c.j41(10,"p")(11,"strong"),c.EFF(12,"Date:"),c.k0s(),c.EFF(13),c.nI1(14,"date"),c.k0s()()}if(2&r){const n=o.$implicit;c.R7$(2),c.JRh(n.name),c.R7$(2),c.JRh(n.description),c.R7$(4),c.SpI(" ",n.venue.name,""),c.R7$(),c.Y8G("ngForOf",n.performers),c.R7$(4),c.SpI(" ",c.i5U(14,5,n.date,"medium"),"")}}function tb(r,o){if(1&r&&(c.j41(0,"div",3),c.DNE(1,eb,15,8,"div",4),c.k0s()),2&r){const n=c.XpG();c.R7$(),c.Y8G("ngForOf",n.events)}}let Xw=(()=>{class r{constructor(n,s,f){this.route=n,this.router=s,this.eventService=f,this.events=[],this.searchText=""}ngOnInit(){this.route.queryParams.subscribe(n=>{this.searchText=n.query||"",this.searchText?this.eventService.searchEvents(this.searchText).subscribe({next:s=>{this.events=s.filter(f=>"OPEN"===f.status)},error:s=>{console.error("Error fetching events:",s)}}):this.eventService.getAllEvents().subscribe({next:s=>{this.events=s.filter(f=>"OPEN"===f.status)},error:s=>{console.error("Error fetching events:",s)}})})}goToEventDetails(n){this.router.navigate(["/event",n])}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(cn),c.rXU(eu))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-search-results"]],decls:5,vars:2,consts:[[1,"search-results-container"],[4,"ngIf"],["class","event-list",4,"ngIf"],[1,"event-list"],["class","event-item",3,"click",4,"ngFor","ngForOf"],[1,"event-item",3,"click"],[4,"ngFor","ngForOf"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Search Results"),c.k0s(),c.DNE(3,Qx,3,0,"div",1)(4,tb,2,1,"div",2),c.k0s()),2&s&&(c.R7$(3),c.Y8G("ngIf",0===f.events.length),c.R7$(),c.Y8G("ngIf",f.events.length>0))},dependencies:[fr,Tn,Vs],styles:[".search-results-container[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.event-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.event-item[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;margin:10px;width:60%;background-color:#f9f9f9;cursor:pointer}.event-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.event-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}"]})}}return r})(),ga=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.bookingUrl=Xi_apiUrl+"/ticketing/bookings"}getBookingsForUser(){return this.http.get(`${this.bookingUrl}/user`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}createReservation(n){return this.http.post(`${this.bookingUrl}/reserve`,{ticketIds:n},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}confirmReservation(n,s){return this.http.post(`${this.bookingUrl}/confirm`,{id:n,paymentIntentId:s},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}releaseReservation(n){return this.http.post(`${this.bookingUrl}/release`,{id:n},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var tf,pc="https://js.stripe.com/v3",Yw=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,qw="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Bm=function(o){var n=o&&!o.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(pc).concat(n);var f=document.head||document.body;if(!f)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return f.appendChild(s),s},tu=null,Qd=null,Jd=null,Mp=!1,Kw=function(){return tf||(tf=(o=null,null!==tu?tu:(tu=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u")n(null);else if(window.Stripe&&o&&console.warn(qw),window.Stripe)n(window.Stripe);else try{var f=function(){for(var o=document.querySelectorAll('script[src^="'.concat(pc,'"]')),n=0;n<o.length;n++){var s=o[n];if(Yw.test(s.src))return s}return null}();if(f&&o)console.warn(qw);else if(f){if(f&&null!==Jd&&null!==Qd){var y;f.removeEventListener("load",Jd),f.removeEventListener("error",Qd),null===(y=f.parentNode)||void 0===y||y.removeChild(f),f=Bm(o)}}else f=Bm(o);Jd=function(o,n){return function(){window.Stripe?o(window.Stripe):n(new Error("Stripe.js not available"))}}(n,s),Qd=function(o){return function(){o(new Error("Failed to load Stripe.js"))}}(s),f.addEventListener("load",Jd),f.addEventListener("error",Qd)}catch(x){return void s(x)}})).catch(function(n){return tu=null,Promise.reject(n)})).catch(function(o){return tf=null,Promise.reject(o)}));var o};Promise.resolve().then(function(){return Kw()}).catch(function(r){Mp||console.warn(r)});let jm=(()=>{class r{constructor(n,s){this.http=n,this.authService=s,this.paymentUrl=Xi_apiUrl+"/payments",this.stripe=null,this.elements=null}initializeStripe(){var n=this;return Ho(function*(){n.stripe=yield function(){for(var o=arguments.length,n=new Array(o),s=0;s<o;s++)n[s]=arguments[s];Mp=!0;var f=Date.now();return Kw().then(function(y){return function(o,n,s){if(null===o)return null;var f=o.apply(void 0,n);return function(o,n){!o||!o._registerWrapper||o._registerWrapper({name:"stripe-js",version:"4.7.0",startTime:n})}(f,s),f}(y,n,f)})}("pk_test_51QCCOIKH1UdL2G8klFomufbtt6Bb2wTBji1M7qML3lJ1afTtKYHDNXOxpHmeRm0CtNcnKuIOEtmSgJpob4T9FKXd00zL0H71ce"),n.elements=n.stripe?.elements()??null})()}getElements(){return this.elements}createPaymentIntent(n){return this.http.post(`${this.paymentUrl}/create-payment-intent`,{ticketIds:n},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}confirmPayment(n,s){return this.stripe?.confirmCardPayment(n,{payment_method:{card:s}})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po),c.KVO(_r))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Np(r,o){if(1&r&&(c.j41(0,"li"),c.EFF(1),c.k0s()),2&r){const n=o.$implicit;c.R7$(),c.Lme(" 1 x ",n.name," - Price: $",n.price," ")}}let Jw=(()=>{class r{constructor(){this.modalClosed=new c.bkB}closeModal(){this.modalClosed.emit()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-booking-confirmation-modal"]],inputs:{bookingId:"bookingId",tickets:"tickets",totalAmount:"totalAmount"},outputs:{modalClosed:"modalClosed"},decls:22,vars:3,consts:[[1,"modal-backdrop"],[1,"modal-container"],[1,"booking-details"],[1,"tickets"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"h2"),c.EFF(3,"Booking Confirmation"),c.k0s(),c.j41(4,"p"),c.EFF(5,"Your booking was successful! Here are the details:"),c.k0s(),c.j41(6,"div",2)(7,"p")(8,"strong"),c.EFF(9,"Confirmation Number:"),c.k0s(),c.EFF(10),c.k0s(),c.j41(11,"p")(12,"strong"),c.EFF(13,"Total Amount:"),c.k0s(),c.EFF(14),c.k0s(),c.j41(15,"div",3)(16,"h3"),c.EFF(17,"Tickets:"),c.k0s(),c.j41(18,"ul"),c.DNE(19,Np,2,2,"li",4),c.k0s()()(),c.j41(20,"button",5),c.bIt("click",function(){return f.closeModal()}),c.EFF(21,"Close"),c.k0s()()()),2&s&&(c.R7$(10),c.SpI(" ",f.bookingId,""),c.R7$(4),c.SpI(" $",f.totalAmount.toFixed(2),""),c.R7$(5),c.Y8G("ngForOf",f.tickets))},dependencies:[fr],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;width:400px;text-align:center}.booking-details[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{margin-top:20px;padding:10px 20px;border:none;background-color:#5cb85c;color:#fff;cursor:pointer;border-radius:5px}button[_ngcontent-%COMP%]:hover{background-color:#4cae4c}"]})}}return r})();function eE(r,o){if(1&r){const n=c.RV6();c.j41(0,"app-booking-confirmation-modal",3),c.bIt("modalClosed",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.closeReserveModalAfterBooking())}),c.k0s()}if(2&r){const n=c.XpG();c.Y8G("bookingId",n.bookingId)("tickets",n.tickets)("totalAmount",n.totalAmount)}}function nf(r,o){if(1&r&&(c.j41(0,"li"),c.EFF(1),c.k0s()),2&r){const n=o.$implicit;c.R7$(),c.Lme("",n.id," ",n.name,"")}}function tE(r,o){1&r&&(c.j41(0,"div")(1,"form",12)(2,"label",13),c.EFF(3,"Card Number"),c.k0s(),c.nrm(4,"div",14),c.j41(5,"label",15),c.EFF(6,"Expiration Date"),c.k0s(),c.nrm(7,"div",16),c.j41(8,"label",17),c.EFF(9,"Security Code"),c.k0s(),c.nrm(10,"div",18),c.k0s()())}function nE(r,o){if(1&r){const n=c.RV6();c.j41(0,"div")(1,"h2"),c.EFF(2,"Time Remaining"),c.k0s(),c.j41(3,"h3"),c.EFF(4),c.k0s(),c.j41(5,"h2"),c.EFF(6,"Reservation Details"),c.k0s(),c.j41(7,"p"),c.EFF(8," Your reservation is on hold. Please complete your purchase before the time runs out. "),c.k0s(),c.j41(9,"p"),c.EFF(10,"You have reserved the following tickets:"),c.k0s(),c.j41(11,"ul"),c.DNE(12,nf,2,2,"li",9),c.k0s(),c.j41(13,"p"),c.EFF(14),c.nI1(15,"currency"),c.k0s(),c.DNE(16,tE,11,0,"div",10),c.j41(17,"button",11),c.bIt("click",function(){c.eBV(n);const f=c.XpG(3);return c.Njj(f.pay())}),c.EFF(18,"Pay"),c.k0s()()}if(2&r){const n=c.XpG(3);c.R7$(4),c.JRh(n.getFormattedTime()),c.R7$(8),c.Y8G("ngForOf",n.getSelectedTickets()),c.R7$(2),c.SpI("Total: ",c.bMT(15,4,n.totalAmount),""),c.R7$(2),c.Y8G("ngIf",0!==n.totalAmount)}}function rE(r,o){1&r&&(c.j41(0,"p"),c.EFF(1,"Please "),c.j41(2,"a",19),c.EFF(3,"login"),c.k0s(),c.EFF(4," to reserve tickets."),c.k0s())}function iE(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",6)(1,"span",7),c.bIt("click",function(){c.eBV(n);const f=c.XpG(2);return c.Njj(f.close())}),c.EFF(2,"\xd7"),c.k0s(),c.DNE(3,nE,19,6,"div",8)(4,rE,5,0,"ng-template",null,0,c.C5r),c.k0s()}if(2&r){const n=c.sdS(5),s=c.XpG(2);c.R7$(3),c.Y8G("ngIf",s.isLoggedIn)("ngIfElse",n)}}function oE(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",6)(1,"span",7),c.bIt("click",function(){c.eBV(n);const f=c.XpG(2);return c.Njj(f.close())}),c.EFF(2,"\xd7"),c.k0s(),c.j41(3,"p"),c.EFF(4,"Sorry! An error occured."),c.k0s()()}}function sE(r,o){if(1&r&&(c.j41(0,"div",4),c.DNE(1,iE,6,2,"div",5)(2,oE,5,0,"div",5),c.k0s()),2&r){const n=c.XpG();c.R7$(),c.Y8G("ngIf",n.isTicketsAvailable),c.R7$(),c.Y8G("ngIf",!n.isTicketsAvailable)}}let aE=(()=>{class r{constructor(n,s){this.bookingService=n,this.paymentService=s,this.ticketIds=[],this.tickets=[],this.totalAmount=0,this.closeModal=new c.bkB,this.closeModalAfterBooking=new c.bkB,this.isLoggedIn=!1,this.timer=300,this.isTicketsAvailable=!0,this.showConfirmation=!1,this.showReserveModal=!0}ngOnInit(){var n=this;return Ho(function*(){n.checkLoginStatus(),0!==n.totalAmount&&(yield n.paymentService.initializeStripe(),n.setupCardElements()),n.createReservation()})()}setupCardElements(){if(this.isLoggedIn&&this.isTicketsAvailable){const n=this.paymentService.getElements();this.cardNumberElement=n?.create("cardNumber"),this.cardNumberElement?.mount("#card-number-element"),this.cardExpiryElement=n?.create("cardExpiry"),this.cardExpiryElement?.mount("#card-expiry-element"),this.cardCvcElement=n?.create("cardCvc"),this.cardCvcElement?.mount("#card-cvc-element")}}pay(){0!==this.totalAmount?this.paymentService.createPaymentIntent(this.ticketIds).subscribe(n=>{console.log(n),this.clientSecret=n.clientSecret,this.paymentService.confirmPayment(this.clientSecret,this.cardNumberElement)?.then(s=>{if(s.error)switch(s.error.code){case"expired_card":console.log("your card is expired");break;case"incorrect_cvc":console.log("incorrect cvc");break;case"processing_error":console.log("there was an error processing your card");break;case"incorrect_number":console.log("your card number is incorrect");break;default:console.log("your card was declined")}else this.confirmPurchase(n.paymentIntentId),console.log("Payment successful! ",s)})}):this.confirmPurchase(null)}checkLoginStatus(){const n=localStorage.getItem("token");this.isLoggedIn=!!n}createReservation(){if(this.isLoggedIn){this.startTimer();const n=[];for(let s=0;s<this.ticketIds.length;s++)n.push(Number(this.ticketIds[s]));this.bookingService.createReservation(n).subscribe({next:s=>{this.bookingId=s.id,console.log("Reservation created:",s)},error:s=>{this.isTicketsAvailable=!1,console.error("Error creating reservation:",s)}})}}confirmPurchase(n){this.bookingService.confirmReservation(this.bookingId,n).subscribe({next:s=>{console.log("Tickets purchased:",s),this.openBookingConfirmationModal()},error:s=>{this.isTicketsAvailable=!1,console.error("Error confirming purchase:",s)}})}cancelReservation(){this.bookingService.releaseReservation(this.bookingId).subscribe({next:n=>{console.log("Reservation released:",n)},error:n=>{console.error("Error releasing reservation:",n)}})}getSelectedTickets(){return this.tickets.filter(s=>this.ticketIds.includes(s.id))}startTimer(){this.interval=setInterval(()=>{this.timer>0?this.timer--:(clearInterval(this.interval),this.cancelReservation())},1e3)}close(){this.isLoggedIn&&!this.showConfirmation&&this.isTicketsAvailable&&this.cancelReservation(),clearInterval(this.interval),this.closeModal.emit()}closeReserveModalAfterBooking(){clearInterval(this.interval),this.closeModalAfterBooking.emit()}openBookingConfirmationModal(){clearInterval(this.interval),this.tickets=this.getSelectedTickets(),this.showReserveModal=!1,this.showConfirmation=!0}getFormattedTime(){return`${Math.floor(this.timer/60)}:${this.padZero(this.timer%60)}`}padZero(n){return n<10?"0"+n:n.toString()}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(ga),c.rXU(jm))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-reserve-ticket-modal"]],inputs:{ticketIds:"ticketIds",tickets:"tickets",totalAmount:"totalAmount"},outputs:{closeModal:"closeModal",closeModalAfterBooking:"closeModalAfterBooking"},decls:2,vars:2,consts:[["loginPrompt",""],[3,"bookingId","tickets","totalAmount","modalClosed",4,"ngIf"],["class","custom-modal-backdrop",4,"ngIf"],[3,"modalClosed","bookingId","tickets","totalAmount"],[1,"custom-modal-backdrop"],["class","custom-modal",4,"ngIf"],[1,"custom-modal"],[1,"close",3,"click"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",3,"click"],["id","payment-form"],["for","card-number-element"],["id","card-number-element",1,"stripe-input"],["for","card-expiry-element"],["id","card-expiry-element",1,"stripe-input"],["for","card-cvc-element"],["id","card-cvc-element",1,"stripe-input"],["routerLink","/login"]],template:function(s,f){1&s&&c.DNE(0,eE,1,3,"app-booking-confirmation-modal",1)(1,sE,3,2,"div",2),2&s&&(c.Y8G("ngIf",f.showConfirmation),c.R7$(),c.Y8G("ngIf",f.showReserveModal))},dependencies:[fr,Tn,uo,ii,$i,Uo,Jw,pr],styles:[".custom-modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center}.custom-modal[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000004d;width:400px;max-width:90%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}button[_ngcontent-%COMP%]{margin-right:10px}.stripe-input[_ngcontent-%COMP%]{border:1px solid #ccc;padding:12px;margin-bottom:10px;border-radius:4px}"]})}}return r})();function Hm(r,o){if(1&r){const n=c.RV6();c.j41(0,"app-reserve-ticket-modal",2),c.bIt("closeModal",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.closeReserveModal())})("closeModalAfterBooking",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.closeReserveModalAfterBooking())}),c.k0s()}if(2&r){const n=c.XpG();c.Y8G("ticketIds",n.selectedTicketIds)("tickets",n.rawTickets)("totalAmount",n.totalAmount)}}function Gm(r,o){if(1&r){const n=c.RV6();c.j41(0,"div")(1,"div")(2,"span"),c.EFF(3),c.nI1(4,"currency"),c.k0s(),c.j41(5,"span"),c.EFF(6),c.k0s(),c.j41(7,"span"),c.EFF(8),c.k0s()(),c.j41(9,"div")(10,"button",8),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2);return c.Njj(y.decrementTicket(f.price))}),c.EFF(11,"-"),c.k0s(),c.j41(12,"span"),c.EFF(13),c.k0s(),c.j41(14,"button",8),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2);return c.Njj(y.incrementTicket(f.price))}),c.EFF(15,"+"),c.k0s()()()}if(2&r){const n=o.$implicit;c.R7$(3),c.SpI("Price: ",c.bMT(4,6,n.price),""),c.R7$(3),c.SpI(" Total Available: ",n.totalAvailable,""),c.R7$(2),c.SpI(" Selected: ",n.selectedCount,""),c.R7$(2),c.Y8G("disabled",0===n.selectedCount),c.R7$(3),c.JRh(n.selectedCount),c.R7$(),c.Y8G("disabled",n.selectedCount>=n.totalAvailable)}}function cE(r,o){if(1&r&&(c.j41(0,"li"),c.EFF(1),c.k0s()),2&r){const n=o.$implicit;c.R7$(),c.Lme(" Ticket ID: ",n.id," ",n.name," ")}}function rb(r,o){1&r&&(c.j41(0,"div"),c.EFF(1,"Sold Out"),c.k0s())}function zm(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",3)(1,"div",4)(2,"span",5),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.close())}),c.EFF(3,"\xd7"),c.k0s(),c.j41(4,"h2"),c.EFF(5,"Select Tickets for Purchase"),c.k0s(),c.DNE(6,Gm,16,8,"div",6),c.j41(7,"h3"),c.EFF(8,"Selected Tickets:"),c.k0s(),c.j41(9,"ul"),c.DNE(10,cE,2,2,"li",6),c.k0s(),c.DNE(11,rb,2,0,"div",7),c.j41(12,"button",8),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.openReserveModal())}),c.EFF(13,"Reserve Tickets"),c.k0s()()()}if(2&r){const n=c.XpG();c.R7$(6),c.Y8G("ngForOf",n.ticketsByPrice),c.R7$(4),c.Y8G("ngForOf",n.getSelectedTickets()),c.R7$(),c.Y8G("ngIf",0===n.ticketsByPrice.length),c.R7$(),c.Y8G("disabled",0===n.selectedTicketIds.length)}}let Rp=(()=>{class r{constructor(n,s){this.eventService=n,this.route=s,this.modalClosed=new c.bkB,this.ticketsByPrice=[],this.selectedTicketIds=[],this.rawTickets=[],this.showReserveModal=!1,this.showSelectionModal=!1,this.totalAmount=0}ngOnInit(){this.eventId=Number(this.route.snapshot.paramMap.get("id")),this.fetchTickets()}getSelectedTickets(){return this.rawTickets.filter(s=>this.selectedTicketIds.includes(s.id))}calculateTotalAmount(){this.totalAmount=this.ticketsByPrice.reduce((n,s)=>n+s.price*s.selectedCount,0),console.log("Total amount for selected tickets:",this.totalAmount)}fetchTickets(){this.eventService.getEvent(this.eventId).subscribe(n=>{this.rawTickets=n?.tickets,this.aggregateTicketsByPrice()})}aggregateTicketsByPrice(){const n=this.rawTickets.filter(f=>"AVAILABLE"===f.status),s={};n.forEach(f=>{s[f.price]||(s[f.price]={price:f.price,totalAvailable:0,tickets:[],selectedCount:0}),s[f.price].totalAvailable++,s[f.price].tickets.push(f)}),this.ticketsByPrice=Object.values(s)}incrementTicket(n){const s=this.ticketsByPrice.find(f=>f.price===n);if(s&&s.selectedCount<s.totalAvailable){const f=s.tickets[Math.floor(Math.random()*s.tickets.length)];this.selectedTicketIds.push(f.id),s.tickets=s.tickets.filter(y=>y.id!==f.id),s.selectedCount++,this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}decrementTicket(n){const s=this.ticketsByPrice.find(f=>f.price===n);if(s&&s.selectedCount>0){const f=this.selectedTicketIds.pop();s.selectedCount--;const y=this.rawTickets.find(x=>x.id===f);y&&s.tickets.push(y),this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}removeTicket(n){this.selectedTicketIds=this.selectedTicketIds.filter(s=>s!==n),console.log("Updated selected ticket IDs:",this.selectedTicketIds)}close(){this.selectedTicketIds=[],this.modalClosed.emit()}openReserveModal(){this.showReserveModal=!0,this.showSelectionModal=!1}closeReserveModal(){var n=this;return Ho(function*(){yield new Promise(s=>setTimeout(s,100)),n.selectedTicketIds=[],n.fetchTickets(),n.showReserveModal=!1,n.showSelectionModal=!0})()}closeReserveModalAfterBooking(){this.selectedTicketIds=[],this.showReserveModal=!1,this.showSelectionModal=!1,this.close()}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(eu),c.rXU(Pr))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-ticket-selection-modal"]],inputs:{showSelectionModal:"showSelectionModal"},outputs:{modalClosed:"modalClosed"},decls:2,vars:2,consts:[[3,"ticketIds","tickets","totalAmount","closeModal","closeModalAfterBooking",4,"ngIf"],["class","modal",4,"ngIf"],[3,"closeModal","closeModalAfterBooking","ticketIds","tickets","totalAmount"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click","disabled"]],template:function(s,f){1&s&&c.DNE(0,Hm,1,3,"app-reserve-ticket-modal",0)(1,zm,14,4,"div",1),2&s&&(c.Y8G("ngIf",f.showReserveModal),c.R7$(),c.Y8G("ngIf",f.showSelectionModal))},dependencies:[fr,Tn,aE,pr],styles:[".modal[_ngcontent-%COMP%]{display:block;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:40%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function ma(r,o){if(1&r&&(c.j41(0,"div")(1,"p")(2,"strong"),c.EFF(3,"Performer:"),c.k0s(),c.EFF(4),c.k0s()()),2&r){const n=o.$implicit;c.R7$(4),c.SpI(" ",n.name,"")}}function $m(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",2)(1,"h2"),c.EFF(2),c.k0s(),c.j41(3,"p")(4,"strong"),c.EFF(5,"Description:"),c.k0s(),c.EFF(6),c.k0s(),c.j41(7,"p")(8,"strong"),c.EFF(9,"Venue:"),c.k0s(),c.EFF(10),c.k0s(),c.DNE(11,ma,5,1,"div",3),c.j41(12,"p")(13,"strong"),c.EFF(14,"Date:"),c.k0s(),c.EFF(15),c.nI1(16,"date"),c.k0s(),c.j41(17,"button",4),c.bIt("click",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.openTicketSelectionModal())}),c.EFF(18,"Purchase Tickets"),c.k0s()()}if(2&r){const n=c.XpG();c.R7$(2),c.JRh(n.eventDetails.name),c.R7$(4),c.SpI(" ",n.eventDetails.description,""),c.R7$(4),c.SpI(" ",n.eventDetails.venue.name,""),c.R7$(),c.Y8G("ngForOf",n.eventDetails.performers),c.R7$(4),c.SpI(" ",c.i5U(16,5,n.eventDetails.date,"medium"),"")}}let lE=(()=>{class r{constructor(n,s,f){this.route=n,this.router=s,this.eventService=f,this.showTicketSelectionModal=!1}ngOnInit(){this.eventId=+this.route.snapshot.paramMap.get("id"),this.fetchEventDetails()}fetchEventDetails(){this.eventService.getEvent(this.eventId).subscribe(n=>{this.eventDetails=n},n=>{console.error("Error fetching event details:",n)})}openTicketSelectionModal(){this.showTicketSelectionModal=!0,setTimeout(()=>{this.ticketPurchaseModal.fetchTickets()})}onModalClosed(){this.showTicketSelectionModal=!1}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(cn),c.rXU(eu))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-event-details"]],viewQuery:function(s,f){if(1&s&&c.GBs(Rp,5),2&s){let y;c.mGM(y=c.lsd())&&(f.ticketPurchaseModal=y.first)}},decls:2,vars:2,consts:[[3,"modalClosed","showSelectionModal"],["class","event-details-container",4,"ngIf"],[1,"event-details-container"],[4,"ngFor","ngForOf"],[1,"purchase-button",3,"click"]],template:function(s,f){1&s&&(c.j41(0,"app-ticket-selection-modal",0),c.bIt("modalClosed",function(){return f.onModalClosed()}),c.k0s(),c.DNE(1,$m,19,8,"div",1)),2&s&&(c.Y8G("showSelectionModal",f.showTicketSelectionModal),c.R7$(),c.Y8G("ngIf",f.eventDetails))},dependencies:[fr,Tn,Rp,Vs],styles:[".event-details-container[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;background-color:#f9f9f9}.purchase-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#007bff;color:#fff;border:none;cursor:pointer}.purchase-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();var ib=F(8314);function Op(r,o){if(1&r&&(c.j41(0,"span"),c.EFF(1),c.k0s()),2&r){const n=c.XpG().$implicit;c.R7$(),c.SpI(" ",n.status,"")}}function kp(r,o){if(1&r&&(c.j41(0,"li"),c.EFF(1),c.nI1(2,"currency"),c.DNE(3,Op,2,1,"span",8),c.nrm(4,"canvas",9),c.k0s()),2&r){const n=o.$implicit;c.R7$(),c.E5c(" Ticket ID: ",n.id,", ",n.name," , Price: ",c.bMT(2,6,n.price)," "),c.R7$(2),c.Y8G("ngIf","REFUNDED"===n.status),c.R7$(),c.Mz_("id","ticket-",n.id,"")}}function uE(r,o){if(1&r&&(c.j41(0,"div",6)(1,"p")(2,"strong"),c.EFF(3,"Booking ID:"),c.k0s(),c.EFF(4),c.k0s(),c.j41(5,"p")(6,"strong"),c.EFF(7,"Booking Date:"),c.k0s(),c.EFF(8),c.nI1(9,"date"),c.k0s(),c.j41(10,"p")(11,"strong"),c.EFF(12,"Event:"),c.k0s(),c.EFF(13),c.k0s(),c.j41(14,"p")(15,"strong"),c.EFF(16,"Event Status:"),c.k0s(),c.EFF(17),c.k0s(),c.j41(18,"p")(19,"strong"),c.EFF(20,"Event Date:"),c.k0s(),c.EFF(21),c.nI1(22,"date"),c.k0s(),c.j41(23,"p")(24,"strong"),c.EFF(25,"Show Time:"),c.k0s(),c.EFF(26),c.k0s(),c.j41(27,"p")(28,"strong"),c.EFF(29,"Venue:"),c.k0s(),c.EFF(30),c.k0s(),c.j41(31,"p")(32,"strong"),c.EFF(33,"Total Amount:"),c.k0s(),c.EFF(34),c.nI1(35,"currency"),c.k0s(),c.j41(36,"h5"),c.EFF(37,"Tickets"),c.k0s(),c.j41(38,"ul"),c.DNE(39,kp,5,8,"li",7),c.k0s()()),2&r){const n=c.XpG();c.R7$(4),c.SpI(" ",n.bookingDetails.id,""),c.R7$(4),c.SpI(" ",c.i5U(9,9,n.bookingDetails.date,"shortDate"),""),c.R7$(5),c.SpI(" ",n.bookingDetails.event.name,""),c.R7$(4),c.SpI(" ",n.bookingDetails.event.status,""),c.R7$(4),c.SpI(" ",c.i5U(22,12,n.bookingDetails.event.date,"shortDate"),""),c.R7$(5),c.SpI(" ",n.getTimeFromDate(n.bookingDetails.event.date),""),c.R7$(4),c.SpI(" ",n.bookingDetails.venue.name,""),c.R7$(4),c.SpI(" ",c.bMT(35,15,n.bookingDetails.totalPrice),""),c.R7$(5),c.Y8G("ngForOf",n.bookingDetails.tickets)}}let Wm=(()=>{class r{constructor(){this.bookings=[],this.close=new c.bkB}ngOnInit(){this.loadBookingDetails()}ngAfterViewInit(){this.generateQRCode(this.bookingDetails.tickets)}generateQRCode(n){n.forEach(s=>{const f=document.getElementById("ticket-"+s.id);ib.mo(f,s.token,{width:200},y=>{y&&console.error(y),console.log("QR code generated successfully")})})}getTimeFromDate(n){return new Date(n).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}loadBookingDetails(){this.bookingDetails=this.bookings.find(n=>n.id===this.bookingId)}closeModal(){this.close.emit()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-booking-details-modal"]],inputs:{bookingId:"bookingId",bookings:"bookings"},outputs:{close:"close"},decls:8,vars:1,consts:[[1,"modal-overlay"],[1,"modal-container"],[1,"modal-header"],[1,"modal-title"],[1,"close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),c.EFF(4,"Booking Details"),c.k0s(),c.j41(5,"span",4),c.bIt("click",function(){return f.closeModal()}),c.EFF(6,"\xd7"),c.k0s()(),c.DNE(7,uE,40,17,"div",5),c.k0s()()),2&s&&(c.R7$(7),c.Y8G("ngIf",f.bookingDetails))},dependencies:[fr,Tn,pr,Vs],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:20px;width:80%;max-width:500px;border-radius:10px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-body[_ngcontent-%COMP%]{margin-top:20px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function Fp(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",3)(1,"span"),c.EFF(2),c.k0s(),c.j41(3,"span"),c.EFF(4),c.nI1(5,"date"),c.k0s(),c.j41(6,"button",4),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG();return c.Njj(y.openBookingDetails(f.id))}),c.EFF(7,"View Details"),c.k0s()()}if(2&r){const n=o.$implicit;c.R7$(2),c.SpI("Booking ID: ",n.id,""),c.R7$(2),c.SpI("Booking Date: ",c.i5U(5,2,n.date,"shortDate"),"")}}function dE(r,o){if(1&r){const n=c.RV6();c.j41(0,"app-booking-details-modal",5),c.bIt("close",function(){c.eBV(n);const f=c.XpG();return c.Njj(f.closeModal())}),c.k0s()}if(2&r){const n=c.XpG();c.Y8G("bookingId",n.selectedBookingId)("bookings",n.bookings)}}let ob=(()=>{class r{constructor(n){this.bookingsService=n,this.bookings=[],this.selectedBookingId=null,this.isModalOpen=!1}ngOnInit(){this.loadBookings()}loadBookings(){this.bookingsService.getBookingsForUser().subscribe(n=>{this.bookings=n})}openBookingDetails(n){this.selectedBookingId=n,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(ga))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-bookings"]],decls:5,vars:2,consts:[[1,"booking-list"],["class","booking-item",4,"ngFor","ngForOf"],[3,"bookingId","bookings","close",4,"ngIf"],[1,"booking-item"],[3,"click"],[3,"close","bookingId","bookings"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Your Bookings"),c.k0s(),c.DNE(3,Fp,8,5,"div",1),c.k0s(),c.DNE(4,dE,1,2,"app-booking-details-modal",2)),2&s&&(c.R7$(3),c.Y8G("ngForOf",f.bookings),c.R7$(),c.Y8G("ngIf",f.isModalOpen))},dependencies:[fr,Tn,Wm,Vs],styles:[".booking-list[_ngcontent-%COMP%]{margin:20px}.booking-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc;display:flex;justify-content:space-between}.booking-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}"]})}}return r})();class rf extends Wu.yU{constructor(o,n){super()}schedule(o,n=0){return this}}const sf={setInterval(r,o,...n){const{delegate:s}=sf;return s?.setInterval?s.setInterval(r,o,...n):setInterval(r,o,...n)},clearInterval(r){const{delegate:o}=sf;return(o?.clearInterval||clearInterval)(r)},delegate:void 0};var fE=F(7908);const Xm={now:()=>(Xm.delegate||Date).now(),delegate:void 0};class Yr{constructor(o,n=Yr.now){this.schedulerActionCtor=o,this.now=n}schedule(o,n=0,s){return new this.schedulerActionCtor(this,o).schedule(s,n)}}Yr.now=Xm.now;const Zn=new class nu extends Yr{constructor(o,n=Yr.now){super(o,n),this.actions=[],this._active=!1}flush(o){const{actions:n}=this;if(this._active)return void n.push(o);let s;this._active=!0;do{if(s=o.execute(o.state,o.delay))break}while(o=n.shift());if(this._active=!1,s){for(;o=n.shift();)o.unsubscribe();throw s}}}(class Pp extends rf{constructor(o,n){super(o,n),this.scheduler=o,this.work=n,this.pending=!1}schedule(o,n=0){var s;if(this.closed)return this;this.state=o;const f=this.id,y=this.scheduler;return null!=f&&(this.id=this.recycleAsyncId(y,f,n)),this.pending=!0,this.delay=n,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(y,this.id,n),this}requestAsyncId(o,n,s=0){return sf.setInterval(o.flush.bind(o,this),s)}recycleAsyncId(o,n,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return n;null!=n&&sf.clearInterval(n)}execute(o,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(o,n);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,n){let f,s=!1;try{this.work(o)}catch(y){s=!0,f=y||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),f}unsubscribe(){if(!this.closed){const{id:o,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fE.o)(s,this),null!=o&&(this.id=this.recycleAsyncId(n,o,null)),this.delay=null,super.unsubscribe()}}});function ru(r,o=Zn){return(0,Yn.N)((n,s)=>{let f=null,y=null,x=null;const M=()=>{if(f){f.unsubscribe(),f=null;const T=y;y=null,s.next(T)}};function R(){const T=x+r,V=o.now();if(V<T)return f=this.schedule(void 0,T-V),void s.add(f);M()}n.subscribe((0,qn._)(s,T=>{y=T,x=o.now(),f||(f=o.schedule(R,r),s.add(f))},()=>{M(),s.complete()},void 0,()=>{y=f=null}))})}function si(r,o=cs.D){return r=r??mc,(0,Yn.N)((n,s)=>{let f,y=!0;n.subscribe((0,qn._)(s,x=>{const M=o(x);(y||!r(f,M))&&(y=!1,f=M,s.next(x))}))})}function mc(r,o){return r===o}var hE=F(262),iu=F.t(hE,2);let af=(()=>{class r{constructor(){this._papa=iu}parse(n,s){return this._papa.parse(n,s)}unparse(n,s){return this._papa.unparse(n,s)}setLocalChunkSize(n){this._papa.LocalChunkSize=n}setRemoteChunkSize(n){this._papa.RemoteChunkSize=n}setDefaultDelimiter(n){this._papa.DefaultDelimiter=n}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ym(r,o){if(1&r){const n=c.RV6();c.j41(0,"li",20),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2).index,x=c.XpG();return c.Njj(x.selectPerformer(y,f))}),c.EFF(1),c.k0s()}if(2&r){const n=o.$implicit;c.R7$(),c.SpI(" ",n.name," ")}}function qm(r,o){if(1&r&&(c.j41(0,"ul",18),c.DNE(1,Ym,2,1,"li",19),c.k0s()),2&r){const n=c.XpG().index,s=c.XpG();c.R7$(),c.Y8G("ngForOf",s.performerSearchResults[n])}}function pE(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",15)(1,"input",16),c.bIt("input",function(){let f;const y=c.eBV(n),x=y.$implicit,M=y.index,R=c.XpG();return c.Njj(R.onSearchPerformer(M,null==(f=x.get("name"))?null:f.value))}),c.k0s(),c.DNE(2,qm,2,1,"ul",17),c.j41(3,"button",11),c.bIt("click",function(){const f=c.eBV(n).index,y=c.XpG();return c.Njj(y.removePerformer(f))}),c.EFF(4," Remove Performer "),c.k0s()()}if(2&r){const n=o.index,s=c.XpG();c.Y8G("formGroupName",n),c.R7$(2),c.Y8G("ngIf",null==s.performerSearchResults[n]?null:s.performerSearchResults[n].length)}}function gE(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",15)(1,"div",2)(2,"label",21),c.EFF(3,"Ticket Name: "),c.k0s(),c.nrm(4,"input",22),c.k0s(),c.j41(5,"div",2)(6,"label",21),c.EFF(7,"Ticket Price: "),c.k0s(),c.nrm(8,"input",23),c.k0s(),c.j41(9,"div",2)(10,"label",21),c.EFF(11,"Ticket Quantity: "),c.k0s(),c.nrm(12,"input",24),c.k0s(),c.j41(13,"button",11),c.bIt("click",function(){const f=c.eBV(n).index,y=c.XpG();return c.Njj(y.removeTicket(f))}),c.EFF(14,"Remove Ticket"),c.k0s()()}if(2&r){const n=o.index;c.Y8G("formGroupName",n),c.R7$(2),c.Mz_("for","ticketName-",n,""),c.R7$(2),c.Mz_("id","ticketName-",n,""),c.R7$(2),c.Mz_("for","ticketPrice-",n,""),c.R7$(2),c.Mz_("id","ticketPrice-",n,""),c.R7$(2),c.Mz_("for","ticketQuantity-",n,""),c.R7$(2),c.Mz_("id","ticketQuantity-",n,"")}}let Kn=(()=>{class r{constructor(n,s,f,y,x){this.papa=n,this.fb=s,this.performerService=f,this.userService=y,this.eventService=x,this.performerSearchResults=[],this.selectedPerformerIds=[],this.searchTerms=new So.B,this.currentIndex=0,this.eventForm=this.fb.group({name:["",An.required],eventDate:[null,An.required],ticketExpirationDate:[null,An.required],performers:this.fb.array([]),tickets:this.fb.array([])}),this.performers.valueChanges.subscribe(()=>{this.performerSearchResults=this.performers.controls.map(()=>[])})}ngOnInit(){this.searchTerms.pipe(ru(300),si(),Cr(n=>{const s=this.currentIndex;return n.length>1?this.performerService.searchPerformers(n):(this.performerSearchResults[s]=[],[])})).subscribe(n=>{this.performerSearchResults[this.currentIndex]=n})}onFileSelected(n){const s=n.target.files?.[0];if(s){const f=new FileReader;f.onload=y=>{const x=y.target?.result;this.papa.parse(x,{header:!0,complete:M=>{M.data.splice(M.data.length-1,1),this.addTickets(M.data)}})},f.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},f.readAsText(s)}}get performers(){return this.eventForm.get("performers")}get tickets(){return this.eventForm.get("tickets")}addPerformer(){const n=this.fb.group({name:["",An.required]});this.performers.push(n),this.performerSearchResults.push([])}onSearchPerformer(n,s){this.currentIndex=n,this.searchTerms.next(s)}selectPerformer(n,s){this.selectedPerformerIds.push(s.id);const f=this.performers.at(n).get("name");f&&f.setValue(s.name),this.performerSearchResults[n]=[]}removePerformer(n){this.performers.removeAt(n),this.selectedPerformerIds.splice(n,1)}addTicket(){const n=this.fb.group({name:["",An.required],price:[0,[An.required,An.min(0)]],quantity:[0,[An.required,An.min(1)]]});this.eventForm.get("tickets").push(n)}addTickets(n){n.forEach(s=>{const f=this.fb.group({name:[s.name,An.required],price:[s.price,An.required],quantity:[s.quantity,An.required]});this.eventForm.get("tickets").push(f)})}removeTicket(n){this.eventForm.get("tickets").removeAt(n)}formTicketsToRequestTickets(){if(this.eventForm.valid){let s=[];return this.eventForm.value.tickets.forEach(f=>{for(let y=0;y<f.quantity;y++)s.push({name:f.name,price:f.price})}),s}return[]}onSubmit(){if(this.eventForm.valid){const n=this.eventForm.value;this.userService.getUser().subscribe({next:s=>{let f={name:n.name,venueId:s.id,date:n.eventDate,ticketExpiry:n.ticketExpirationDate,tickets:this.formTicketsToRequestTickets(),performerIds:this.selectedPerformerIds};this.eventService.createEvent(f).subscribe({next:()=>{this.eventForm.reset(),alert("Event created!")}})}})}else console.log("Form is not valid")}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(af),c.rXU(bs),c.rXU(Dp),c.rXU(go),c.rXU(eu))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-create-event"]],decls:31,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","placeholder","Enter event name",1,"form-control"],["for","eventDate"],["id","eventDate","formControlName","eventDate","type","datetime-local"],["for","ticketExpirationDate"],["id","ticketExpirationDate","formControlName","ticketExpirationDate","type","datetime-local"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","tickets"],["type","submit",3,"disabled"],["type","file",3,"change"],[3,"formGroupName"],["type","text","formControlName","name","placeholder","Search Performer",3,"input"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],["class","performer-list-item",3,"click",4,"ngFor","ngForOf"],[1,"performer-list-item",3,"click"],[3,"for"],["formControlName","name","placeholder","Enter ticket name",1,"form-control",3,"id"],["formControlName","price","placeholder","Enter ticket price","type","number",1,"form-control",3,"id"],["formControlName","quantity","placeholder","Enter ticket quantity","type","number",1,"form-control",3,"id"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"h2"),c.EFF(2,"Create Event"),c.k0s(),c.j41(3,"form",1),c.bIt("ngSubmit",function(){return f.onSubmit()}),c.j41(4,"div",2)(5,"label",3),c.EFF(6,"Event Name: "),c.k0s(),c.nrm(7,"input",4),c.k0s(),c.j41(8,"div")(9,"label",5),c.EFF(10,"Event Date: "),c.k0s(),c.nrm(11,"input",6),c.k0s(),c.j41(12,"div")(13,"label",7),c.EFF(14,"Ticket Expiration Date: "),c.k0s(),c.nrm(15,"input",8),c.k0s(),c.j41(16,"h3"),c.EFF(17,"Performers"),c.k0s(),c.j41(18,"div",9),c.DNE(19,pE,5,2,"div",10),c.k0s(),c.j41(20,"button",11),c.bIt("click",function(){return f.addPerformer()}),c.EFF(21,"Add Performer"),c.k0s(),c.j41(22,"h3"),c.EFF(23,"Tickets"),c.k0s(),c.j41(24,"div",12),c.DNE(25,gE,15,13,"div",10),c.k0s(),c.j41(26,"button",11),c.bIt("click",function(){return f.addTicket()}),c.EFF(27,"Add Ticket"),c.k0s(),c.j41(28,"button",13),c.EFF(29,"Submit Event"),c.k0s()()(),c.j41(30,"input",14),c.bIt("change",function(x){return f.onFileSelected(x)}),c.k0s()),2&s&&(c.R7$(3),c.Y8G("formGroup",f.eventForm),c.R7$(16),c.Y8G("ngForOf",f.performers.controls),c.R7$(6),c.Y8G("ngForOf",f.tickets.controls),c.R7$(3),c.Y8G("disabled",!f.eventForm.valid))},dependencies:[fr,Tn,ii,Lr,Bd,ni,$i,xs,ha,Ul,Vl],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:5px 0}.performer-list-item[_ngcontent-%COMP%]{cursor:pointer}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();function Zm(r,o){1&r&&(c.j41(0,"div")(1,"p"),c.EFF(2,"No events found for this venue."),c.k0s()())}function mE(r,o){if(1&r){const n=c.RV6();c.j41(0,"li")(1,"span"),c.EFF(2),c.nI1(3,"date"),c.k0s(),c.j41(4,"button",2),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2);return c.Njj(y.editEvent(f.id))}),c.EFF(5,"Edit"),c.k0s()()}if(2&r){const n=o.$implicit;c.R7$(2),c.E5c("",n.name," - ",c.i5U(3,3,n.date,"shortDate")," - ",n.status,"")}}function Qn(r,o){if(1&r&&(c.j41(0,"ul")(1,"h2"),c.EFF(2),c.k0s(),c.DNE(3,mE,6,6,"li",1),c.k0s()),2&r){const n=c.XpG();c.R7$(2),c.SpI("Events for ",null==n.events[0]?null:n.events[0].venue.name,""),c.R7$(),c.Y8G("ngForOf",n.events)}}let ou=(()=>{class r{constructor(n,s,f){this.route=n,this.eventService=s,this.router=f,this.events=[]}ngOnInit(){this.venueId=this.route.snapshot.paramMap.get("venueId")||"",this.fetchEvents()}fetchEvents(){this.eventService.getEventsByVenue().subscribe(n=>{this.events=n},n=>{console.error("Error fetching events: ",n)})}editEvent(n){this.router.navigate(["/venue","events",n,"edit"])}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(Pr),c.rXU(eu),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-venue-event-list"]],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(s,f){1&s&&c.DNE(0,Zm,3,0,"div",0)(1,Qn,4,2,"ul",0),2&s&&(c.Y8G("ngIf",0===f.events.length),c.R7$(),c.Y8G("ngIf",f.events.length>0))},dependencies:[fr,Tn,Vs],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-left:15px}"]})}}return r})();function yc(r,o){if(1&r){const n=c.RV6();c.j41(0,"li",21),c.bIt("click",function(){const f=c.eBV(n).$implicit,y=c.XpG(2).index,x=c.XpG();return c.Njj(x.selectPerformer(y,f))}),c.EFF(1),c.k0s()}if(2&r){const n=o.$implicit;c.R7$(),c.SpI(" ",n.name," ")}}function cf(r,o){if(1&r&&(c.j41(0,"ul",19),c.DNE(1,yc,2,1,"li",20),c.k0s()),2&r){const n=c.XpG().index,s=c.XpG();c.R7$(),c.Y8G("ngForOf",s.performerSuggestions[n])}}function su(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",16),c.nrm(1,"input",17),c.j41(2,"button",5),c.bIt("click",function(){const f=c.eBV(n).index,y=c.XpG();return c.Njj(y.removePerformer(f))}),c.EFF(3,"Remove"),c.k0s(),c.DNE(4,cf,2,1,"ul",18),c.k0s()}if(2&r){const n=o.index,s=c.XpG();c.Y8G("formGroupName",n),c.R7$(4),c.Y8G("ngIf",s.performerSuggestions[n].length>0)}}function lf(r,o){if(1&r&&(c.j41(0,"option",22),c.EFF(1),c.k0s()),2&r){const n=o.$implicit;c.Y8G("value",n),c.R7$(),c.SpI(" ",n," ")}}function Km(r,o){if(1&r&&(c.j41(0,"option",22),c.EFF(1),c.k0s()),2&r){const n=o.$implicit;c.Y8G("value",n),c.R7$(),c.SpI(" ",n," ")}}function Qm(r,o){if(1&r){const n=c.RV6();c.j41(0,"div",16),c.nrm(1,"input",23)(2,"input",24)(3,"input",25),c.j41(4,"select",26),c.DNE(5,Km,2,2,"option",10),c.k0s(),c.j41(6,"button",27),c.bIt("click",function(){const f=c.eBV(n).index,y=c.XpG();return c.Njj(y.removeTicket(f))}),c.EFF(7," Remove Ticket "),c.k0s()()}if(2&r){let n;const s=o.$implicit,f=o.index,y=c.XpG();c.Y8G("formGroupName",f),c.R7$(5),c.Y8G("ngForOf",y.ticketStatuses),c.R7$(),c.Y8G("hidden",null==(n=s.get("id"))?null:n.value)}}let Jm=(()=>{class r{constructor(n,s,f,y,x,M){this.papa=n,this.route=s,this.fb=f,this.eventService=y,this.performerService=x,this.router=M,this.performerSuggestions=[],this.statusOptions=["OPEN","CANCELED","CLOSED"],this.ticketStatuses=["AVAILABLE","UNAVAILABLE"],this.eventForm=this.fb.group({name:["",An.required],performers:this.fb.array([]),date:["",An.required],ticketExpirationDate:["",An.required],status:["",An.required],tickets:this.fb.array([])}),this.performersArray=this.eventForm.get("performers")}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("eventId")||"",this.loadEventDetails()}onFileSelected(n){const s=n.target.files?.[0];if(s){const f=new FileReader;f.onload=y=>{const x=y.target?.result;this.papa.parse(x,{header:!0,complete:M=>{M.data.splice(M.data.length-1,1),this.addTickets(M.data)}})},f.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},f.readAsText(s)}}get tickets(){return this.eventForm.get("tickets")}loadEventDetails(){this.eventService.getEvent(Number(this.eventId)).subscribe(n=>{this.eventForm.patchValue({name:n.name,date:n.date,ticketExpirationDate:n.ticketExpiry,status:n.status||"OPEN"}),n.performers.forEach(s=>{this.addPerformer(s)}),this.tickets.clear(),n.tickets.forEach(s=>{if("UNAVAILABLE"===s.status){const f=this.createTicketForm(s);this.tickets.push(f)}})},n=>{console.error("Error loading event details: ",n)})}createTicketForm(n){return this.fb.group({id:[{value:n.id,disabled:!0}],name:[n.name],price:[n.price],status:[n.status]})}addPerformer(n={id:"",name:""}){const s=this.fb.group({id:[n.id],name:[n.name,An.required]});this.performersArray.push(s),this.performerSuggestions.push([]),this.setupPerformerAutoComplete(this.performersArray.length-1)}addTicket(n){const s=this.createTicketForm(n||{id:null,name:"",price:"",status:"AVAILABLE"});this.tickets.push(s)}addTickets(n){n.forEach(s=>{for(let f=0;f<s.quantity;f++){const y=this.fb.group({id:null,name:[s.name],price:[s.price],status:s.status||"AVAILABLE"});this.eventForm.get("tickets").push(y)}})}removeTicket(n){this.tickets.removeAt(n)}removePerformer(n){this.performersArray.removeAt(n),this.performerSuggestions.splice(n,1)}setupPerformerAutoComplete(n){this.performersArray.at(n).get("name").valueChanges.pipe(ru(300),si(),Cr(s=>s?this.performerService.searchPerformers(s):yt([]))).subscribe({next:s=>{this.performerSuggestions[n]=s},error:s=>{console.error("Error fetching performer suggestions: ",s)}})}selectPerformer(n,s){this.performersArray.at(n).patchValue({id:s.id,name:s.name}),this.performerSuggestions[n]=[]}onSubmit(){if(this.eventForm.valid){let n=[];this.eventForm.value.performers.map(f=>{n.push(f.id)});const s={name:this.eventForm.value.name,performerIds:n,date:this.eventForm.value.date,ticketExpiry:this.eventForm.value.ticketExpirationDate,status:this.eventForm.value.status,tickets:this.eventForm.getRawValue().tickets};this.eventService.updateEvent(this.eventId,s).subscribe({next:()=>{console.log("Event updated successfully"),this.router.navigate(["/venue","events"])},error:f=>{console.error("Error updating event: ",f)}})}}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(af),c.rXU(Pr),c.rXU(bs),c.rXU(eu),c.rXU(Dp),c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-venue-event-edit"]],decls:37,vars:5,consts:[[3,"ngSubmit","formGroup"],["for","name"],["id","name","formControlName","name"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["for","date"],["type","datetime-local","id","date","formControlName","date"],["for","status"],["id","status","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["for","ticketExpirationDate"],["type","datetime-local","id","ticketExpirationDate","formControlName","ticketExpirationDate"],["formArrayName","tickets"],["type","file",3,"change"],["type","submit",3,"disabled"],[3,"formGroupName"],["formControlName","name","placeholder","Performer Name"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["type","text","formControlName","id","placeholder","Ticket ID","readonly",""],["type","text","formControlName","name","placeholder","Ticket Name"],["type","number","formControlName","price","placeholder","Price"],["formControlName","status"],["type","button",3,"click","hidden"]],template:function(s,f){1&s&&(c.j41(0,"h2"),c.EFF(1,"Edit Event"),c.k0s(),c.j41(2,"form",0),c.bIt("ngSubmit",function(){return f.onSubmit()}),c.j41(3,"div")(4,"label",1),c.EFF(5,"Event Name:"),c.k0s(),c.nrm(6,"input",2),c.k0s(),c.j41(7,"div")(8,"label"),c.EFF(9,"Performers:"),c.k0s(),c.j41(10,"div",3),c.DNE(11,su,5,2,"div",4),c.k0s(),c.j41(12,"button",5),c.bIt("click",function(){return f.addPerformer()}),c.EFF(13,"Add Performer"),c.k0s()(),c.j41(14,"div")(15,"label",6),c.EFF(16,"Event Date & Time:"),c.k0s(),c.nrm(17,"input",7),c.k0s(),c.j41(18,"div")(19,"label",8),c.EFF(20,"Event Status:"),c.k0s(),c.j41(21,"select",9),c.DNE(22,lf,2,2,"option",10),c.k0s()(),c.j41(23,"div")(24,"label",11),c.EFF(25,"Ticket Expiration Date: "),c.k0s(),c.nrm(26,"input",12),c.k0s(),c.j41(27,"div",13)(28,"label"),c.EFF(29,"Tickets:"),c.k0s(),c.DNE(30,Qm,8,3,"div",4),c.j41(31,"button",5),c.bIt("click",function(){return f.addTicket()}),c.EFF(32,"Add Ticket"),c.k0s()(),c.j41(33,"div")(34,"input",14),c.bIt("change",function(x){return f.onFileSelected(x)}),c.k0s()(),c.j41(35,"button",15),c.EFF(36,"Save Changes"),c.k0s()()),2&s&&(c.R7$(2),c.Y8G("formGroup",f.eventForm),c.R7$(9),c.Y8G("ngForOf",f.performersArray.controls),c.R7$(11),c.Y8G("ngForOf",f.statusOptions),c.R7$(8),c.Y8G("ngForOf",f.tickets.controls),c.R7$(5),c.Y8G("disabled",f.eventForm.invalid))},dependencies:[fr,Tn,ii,ap,Ud,Lr,Bd,ac,ni,$i,xs,ha,Ul,Vl],styles:["form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%]{margin-top:15px}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();var Ze=function(r){return r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",r}(Ze||{}),uf=new Map([[Ze.QR_CODE,"QR_CODE"],[Ze.AZTEC,"AZTEC"],[Ze.CODABAR,"CODABAR"],[Ze.CODE_39,"CODE_39"],[Ze.CODE_93,"CODE_93"],[Ze.CODE_128,"CODE_128"],[Ze.DATA_MATRIX,"DATA_MATRIX"],[Ze.MAXICODE,"MAXICODE"],[Ze.ITF,"ITF"],[Ze.EAN_13,"EAN_13"],[Ze.EAN_8,"EAN_8"],[Ze.PDF_417,"PDF_417"],[Ze.RSS_14,"RSS_14"],[Ze.RSS_EXPANDED,"RSS_EXPANDED"],[Ze.UPC_A,"UPC_A"],[Ze.UPC_E,"UPC_E"],[Ze.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function sb(r){return Object.values(Ze).includes(r)}var Si=function(r){return r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",r}(Si||{}),Ti=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Si.SCAN_TYPE_CAMERA,Si.SCAN_TYPE_FILE],r}(),vc=function(){function r(o,n){this.format=o,this.formatName=n}return r.prototype.toString=function(){return this.formatName},r.create=function(o){if(!uf.has(o))throw"".concat(o," not in html5QrcodeSupportedFormatsTextMap");return new r(o,uf.get(o))},r}(),ty=function(){function r(){}return r.createFromText=function(o){return{decodedText:o,result:{text:o}}},r.createFromQrcodeResult=function(o){return{decodedText:o.text,result:o}},r}(),ny=function(r){return r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",r}(ny||{}),au=function(){function r(){}return r.createFrom=function(o){return{errorMessage:o,type:ny.UNKWOWN_ERROR}},r}(),ry=function(){function r(o){this.verbose=o}return r.prototype.log=function(o){this.verbose&&console.log(o)},r.prototype.warn=function(o){this.verbose&&console.warn(o)},r.prototype.logError=function(o,n){(this.verbose||!0===n)&&console.error(o)},r.prototype.logErrors=function(o){if(0===o.length)throw"Logger#logError called without arguments";this.verbose&&console.error(o)},r}();function Zi(r){return typeof r>"u"||null===r}var Yo=function(){function r(){}return r.codeParseError=function(o){return"QR code parse error, error = ".concat(o)},r.errorGettingUserMedia=function(o){return"Error getting userMedia, error = ".concat(o)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),Yt=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(o){return"Last Match: ".concat(o)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),oy=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),qr=function(){function r(){}return r.isMediaStreamConstraintsValid=function(o,n){if("object"!=typeof o)return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof o,"."),!0),!1;for(var y=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),M=0,R=Object.keys(o);M<R.length;M++){var T=R[M];if(y.has(T))return n.logError("".concat(T," is not supported videoConstaints."),!0),!1}return!0},r}(),Fn=F(5496),sy=function(){function r(o,n,s){if(this.formatMap=new Map([[Ze.QR_CODE,Fn.BarcodeFormat.QR_CODE],[Ze.AZTEC,Fn.BarcodeFormat.AZTEC],[Ze.CODABAR,Fn.BarcodeFormat.CODABAR],[Ze.CODE_39,Fn.BarcodeFormat.CODE_39],[Ze.CODE_93,Fn.BarcodeFormat.CODE_93],[Ze.CODE_128,Fn.BarcodeFormat.CODE_128],[Ze.DATA_MATRIX,Fn.BarcodeFormat.DATA_MATRIX],[Ze.MAXICODE,Fn.BarcodeFormat.MAXICODE],[Ze.ITF,Fn.BarcodeFormat.ITF],[Ze.EAN_13,Fn.BarcodeFormat.EAN_13],[Ze.EAN_8,Fn.BarcodeFormat.EAN_8],[Ze.PDF_417,Fn.BarcodeFormat.PDF_417],[Ze.RSS_14,Fn.BarcodeFormat.RSS_14],[Ze.RSS_EXPANDED,Fn.BarcodeFormat.RSS_EXPANDED],[Ze.UPC_A,Fn.BarcodeFormat.UPC_A],[Ze.UPC_E,Fn.BarcodeFormat.UPC_E],[Ze.UPC_EAN_EXTENSION,Fn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Fn)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var f=this.createZXingFormats(o),y=new Map;y.set(Fn.DecodeHintType.POSSIBLE_FORMATS,f),y.set(Fn.DecodeHintType.TRY_HARDER,!1),this.hints=y}return r.prototype.decodeAsync=function(o){var n=this;return new Promise(function(s,f){try{s(n.decode(o))}catch(y){f(y)}})},r.prototype.decode=function(o){var n=new Fn.MultiFormatReader(this.verbose,this.hints),s=new Fn.HTMLCanvasElementLuminanceSource(o),f=new Fn.BinaryBitmap(new Fn.HybridBinarizer(s)),y=n.decode(f);return{text:y.text,format:vc.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(n,s,f){o.set(n,s)}),o},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createZXingFormats=function(o){for(var n=[],s=0,f=o;s<f.length;s++){var y=f[s];this.formatMap.has(y)?n.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return n},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),Bp=function(){function r(o,n,s){if(this.formatMap=new Map([[Ze.QR_CODE,"qr_code"],[Ze.AZTEC,"aztec"],[Ze.CODABAR,"codabar"],[Ze.CODE_39,"code_39"],[Ze.CODE_93,"code_93"],[Ze.CODE_128,"code_128"],[Ze.DATA_MATRIX,"data_matrix"],[Ze.ITF,"itf"],[Ze.EAN_13,"ean_13"],[Ze.EAN_8,"ean_8"],[Ze.PDF_417,"pdf417"],[Ze.UPC_A,"upc_a"],[Ze.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var f=this.createBarcodeDetectorFormats(o);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},r.prototype.decodeAsync=function(o){return function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})}(this,void 0,void 0,function(){var n,s;return function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(o)];case 1:if(!(n=f.sent())||0===n.length)throw"No barcode or QR code detected.";return[2,{text:(s=this.selectLargestBarcode(n)).rawValue,format:vc.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(o){for(var n=null,s=0,f=0,y=o;f<y.length;f++){var x=y[f],M=x.boundingBox.width*x.boundingBox.height;M>s&&(s=M,n=x)}if(!n)throw"No largest barcode found";return n},r.prototype.createBarcodeDetectorFormats=function(o){for(var n=[],s=0,f=o;s<f.length;s++){var y=f[s];this.formatMap.has(y)?n.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},r.prototype.toHtml5QrcodeSupportedFormats=function(o){if(!this.reverseFormatMap.has(o))throw"reverseFormatMap doesn't have ".concat(o);return this.reverseFormatMap.get(o)},r.prototype.createReverseFormatMap=function(){var o=new Map;return this.formatMap.forEach(function(n,s,f){o.set(n,s)}),o},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),cy=function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})},yE=function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},vE=function(){function r(o,n,s,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&Bp.isSupported()?(this.primaryDecoder=new Bp(o,s,f),this.secondaryDecoder=new sy(o,s,f)):this.primaryDecoder=new sy(o,s,f)}return r.prototype.decodeAsync=function(o){return cy(this,void 0,void 0,function(){var n;return yE(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(o)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(o){return cy(this,void 0,void 0,function(){var n,s;return yE(this,function(f){switch(f.label){case 0:n=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(o)];case 2:return[2,f.sent()];case 3:if(s=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(o)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(o){if(this.verbose){var n=performance.now()-o;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var o=0,n=0,s=this.executionResults;n<s.length;n++)o+=s[n];console.log("".concat(o/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),Cc=function(){var r=function(o,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,f){s.__proto__=f}||function(s,f){for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(s[y]=f[y])})(o,n)};return function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=o}r(o,n),o.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),wc=function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})},Ec=function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},ya=function(){function r(o,n){this.name=o,this.track=n}return r.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},r.prototype.apply=function(o){var n={};return n[this.name]=o,this.track.applyConstraints({advanced:[n]})},r.prototype.value=function(){var o=this.track.getSettings();return this.name in o?o[this.name]:null},r}(),uy=function(r){function o(n){return r.call(this,"zoom",n)||this}return Cc(o,r),o}(function(r){function o(n,s){return r.call(this,n,s)||this}return Cc(o,r),o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(n){var s={};return s[this.name]=n,this.track.applyConstraints({advanced:[s]})},o.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities()[this.name];return{min:s.min,max:s.max,step:s.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(ya)),_c=function(r){function o(n){return r.call(this,"torch",n)||this}return Cc(o,r),o}(ya),Up=function(){function r(o){this.track=o}return r.prototype.zoomFeature=function(){return new uy(this.track)},r.prototype.torchFeature=function(){return new _c(this.track)},r}(),Vp=function(){function r(o,n,s){this.isClosed=!1,this.parentElement=o,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),o.append(this.surface)}return r.prototype.createVideoElement=function(o){var n=document.createElement("video");return n.style.width="".concat(o,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},r.prototype.setupSurface=function(){var o=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){o.callbacks.onRenderSurfaceReady(o.surface.clientWidth,o.surface.clientHeight),o.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(o,n,s,f){return wc(this,void 0,void 0,function(){var y,x;return Ec(this,function(M){switch(M.label){case 0:return y=new r(o,n,f),s.aspectRatio?(x={aspectRatio:s.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:M.sent(),M.label=2;case 2:return y.setupSurface(),[2,y]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(o){this.failIfClosed();var n=this,s=function(){setTimeout(o,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(o){return wc(this,void 0,void 0,function(){return Ec(this,function(n){if("aspectRatio"in o)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(o)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var o=this;return new Promise(function(n,s){var y=o.mediaStream.getVideoTracks().length,x=0;o.mediaStream.getVideoTracks().forEach(function(M){o.mediaStream.removeTrack(M),M.stop(),++x>=y&&(o.isClosed=!0,o.parentElement.removeChild(o.surface),n())})})},r.prototype.getCapabilities=function(){return new Up(this.getFirstTrackOrFail())},r}(),dy=function(){function r(o){this.mediaStream=o}return r.prototype.render=function(o,n,s){return wc(this,void 0,void 0,function(){return Ec(this,function(f){return[2,Vp.create(o,this.mediaStream,n,s)]})})},r.create=function(o){return wc(this,void 0,void 0,function(){return Ec(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:o})];case 1:return[2,new r(f.sent())]}})})},r}(),jp=function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})},Hp=function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},CE=function(){function r(){}return r.failIfNotSupported=function(){return jp(this,void 0,void 0,function(){return Hp(this,function(o){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(o){return jp(this,void 0,void 0,function(){return Hp(this,function(n){return[2,dy.create(o)]})})},r}(),fy=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var o=MediaStreamTrack;return MediaStreamTrack&&o.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var o=Yo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(o=Yo.insecureContextCameraQueryError()),Promise.reject(o)},r.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var o=location.host.split(":")[0];return"127.0.0.1"===o||"localhost"===o},r.getCamerasFromMediaDevices=function(){return function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})}(this,void 0,void 0,function(){var o,n,s,f,y,x,M;return function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(R){switch(R.label){case 0:return o=function(T){for(var K=0,De=T.getVideoTracks();K<De.length;K++){var _e=De[K];_e.enabled=!1,_e.stop(),T.removeTrack(_e)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=R.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=R.sent(),f=[],y=0,x=s;y<x.length;y++)"videoinput"===(M=x[y]).kind&&f.push({id:M.deviceId,label:M.label});return o(n),[2,f]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(o,n){MediaStreamTrack.getSources(function(y){for(var x=[],M=0,R=y;M<R.length;M++){var T=R[M];"video"===T.kind&&x.push({id:T.id,label:T.label})}o(x)})})},r}(),Jn=function(r){return r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED",r}(Jn||{}),EE=function(){function r(){this.state=Jn.NOT_STARTED,this.onGoingTransactionNewState=Jn.UNKNOWN}return r.prototype.directTransition=function(o){this.failIfTransitionOngoing(),this.validateTransition(o),this.state=o},r.prototype.startTransition=function(o){return this.failIfTransitionOngoing(),this.validateTransition(o),this.onGoingTransactionNewState=o,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var o=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Jn.UNKNOWN,this.directTransition(o)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===Jn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Jn.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Jn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(o){switch(this.state){case Jn.UNKNOWN:throw"Transition from unknown is not allowed";case Jn.NOT_STARTED:this.failIfNewStateIs(o,[Jn.PAUSED])}},r.prototype.failIfNewStateIs=function(o,n){for(var s=0,f=n;s<f.length;s++)if(o===f[s])throw"Cannot transition from ".concat(this.state," to ").concat(o)},r}(),_E=function(){function r(o){this.stateManager=o}return r.prototype.startTransition=function(o){return this.stateManager.startTransition(o)},r.prototype.directTransition=function(o){this.stateManager.directTransition(o)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===Jn.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==Jn.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Jn.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===Jn.PAUSED},r}(),hy=function(){function r(){}return r.create=function(){return new _E(new EE)},r}(),py=function(){var r=function(o,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,f){s.__proto__=f}||function(s,f){for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(s[y]=f[y])})(o,n)};return function(o,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=o}r(o,n),o.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),ai=function(r){function o(){return null!==r&&r.apply(this,arguments)||this}return py(o,r),o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o}(Ti),ab=function(){function r(o,n){this.logger=n,this.fps=ai.SCAN_DEFAULT_FPS,o?(o.fps&&(this.fps=o.fps),this.disableFlip=!0===o.disableFlip,this.qrbox=o.qrbox,this.aspectRatio=o.aspectRatio,this.videoConstraints=o.videoConstraints):this.disableFlip=ai.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?qr.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!Zi(this.qrbox)},r.create=function(o,n){return new r(o,n)},r}(),Gp=function(){function r(o,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");var f;this.elementId=o,this.verbose=!1,"boolean"==typeof n?this.verbose=!0===n:n&&(this.verbose=!0===(f=n).verbose),this.logger=new ry(this.verbose),this.qrcode=new vE(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(f),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=hy.create()}return r.prototype.start=function(o,n,s,f){var x,y=this;if(!o)throw"cameraIdOrConfig is required";if(!s||"function"!=typeof s)throw"qrCodeSuccessCallback is required and should be a function.";x=f||(this.verbose?this.logger.log:function(){});var M=ab.create(n,this.logger);this.clearElement();var R=!1;M.videoConstraints&&(M.isMediaStreamConstraintsValid()?R=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var T=R,V=document.getElementById(this.elementId);V.style.position="relative",this.shouldScan=!0,this.element=V;var De=this,_e=this.stateManagerProxy.startTransition(Jn.SCANNING);return new Promise(function(Le,Be){var Ue=T?M.videoConstraints:De.createVideoConstraints(o);if(!Ue)return _e.cancel(),void Be("videoConstraints should be defined");var st={};(!T||M.aspectRatio)&&(st.aspectRatio=M.aspectRatio);var _n={onRenderSurfaceReady:function(at,mn){De.setupUi(at,mn,M),De.isScanning=!0,De.foreverScan(M,s,x)}};CE.failIfNotSupported().then(function(at){at.create(Ue).then(function(mn){return mn.render(y.element,st,_n).then(function(ir){De.renderedCamera=ir,_e.execute(),Le(null)}).catch(function(ir){_e.cancel(),Be(ir)})}).catch(function(mn){_e.cancel(),Be(Yo.errorGettingUserMedia(mn))})}).catch(function(at){_e.cancel(),Be(Yo.cameraStreamingNotSupported())})})},r.prototype.pause=function(o){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Jn.PAUSED),this.showPausedState(),(Zi(o)||!0!==o)&&(o=!1),o&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var o=this,n=function(){o.stateManagerProxy.directTransition(Jn.SCANNING),o.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){n()}):n()},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var o=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Jn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),function(){if(o.element){var y=document.getElementById(ai.SHADED_REGION_ELEMENT_ID);y&&o.element.removeChild(y)}}(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),n.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(o,n){return this.scanFileV2(o,n).then(function(s){return s.decodedText})},r.prototype.scanFileV2=function(o,n){var s=this;if(!(o&&o instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Zi(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,y){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(o);var x=new Image;x.onload=function(){var M=x.width,R=x.height,T=document.getElementById(s.elementId),V=T.clientWidth?T.clientWidth:ai.DEFAULT_WIDTH,K=Math.max(T.clientHeight?T.clientHeight:R,ai.FILE_SCAN_MIN_HEIGHT),De=s.computeCanvasDrawConfig(M,R,V,K);if(n){var _e=s.createCanvasElement(V,K,"qr-canvas-visible");_e.style.display="inline-block",T.appendChild(_e);var Le=_e.getContext("2d");if(!Le)throw"Unable to get 2d context from canvas";Le.canvas.width=V,Le.canvas.height=K,Le.drawImage(x,0,0,M,R,De.x,De.y,De.width,De.height)}var Be=ai.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ue=Math.max(x.width,De.width),st=Math.max(x.height,De.height),_n=Ue+2*Be,at=st+2*Be,mn=s.createCanvasElement(_n,at);T.appendChild(mn);var ir=mn.getContext("2d");if(!ir)throw"Unable to get 2d context from canvas";ir.canvas.width=_n,ir.canvas.height=at,ir.drawImage(x,0,0,M,R,Be,Be,Ue,st);try{s.qrcode.decodeRobustlyAsync(mn).then(function(Ur){f(ty.createFromQrcodeResult(Ur))}).catch(y)}catch(Ur){y("QR code parse error, error = ".concat(Ur))}},x.onerror=y,x.onabort=y,x.onstalled=y,x.onsuspend=y,x.src=URL.createObjectURL(o)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return fy.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(o){if(!o)throw"videoConstaints is required argument.";if(!qr.isMediaStreamConstraintsValid(o,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(o)},r.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(o){if(!o||"boolean"==typeof o||!o.formatsToSupport)return[Ze.QR_CODE,Ze.AZTEC,Ze.CODABAR,Ze.CODE_39,Ze.CODE_93,Ze.CODE_128,Ze.DATA_MATRIX,Ze.MAXICODE,Ze.ITF,Ze.EAN_13,Ze.EAN_8,Ze.PDF_417,Ze.RSS_14,Ze.RSS_EXPANDED,Ze.UPC_A,Ze.UPC_E,Ze.UPC_EAN_EXTENSION];if(!Array.isArray(o.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===o.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],f=0,y=o.formatsToSupport;f<y.length;f++){var x=y[f];sb(x)?s.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(0===s.length)throw"None of formatsToSupport match supported values.";return s},r.prototype.getUseBarCodeDetectorIfSupported=function(o){if(Zi(o))return!0;if(!Zi(o.useBarCodeDetectorIfSupported))return!1!==o.useBarCodeDetectorIfSupported;if(Zi(o.experimentalFeatures))return!0;var n=o.experimentalFeatures;return!!Zi(n.useBarCodeDetectorIfSupported)||!1!==n.useBarCodeDetectorIfSupported},r.prototype.validateQrboxSize=function(o,n,s){var y=s.qrbox;this.validateQrboxConfig(y);var T,x=this.toQrdimensions(o,n,y),M=function(T){if(T<ai.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ai.MIN_QR_BOX_SIZE,"px.")};M(x.width),M(x.height),x.width=((T=x.width)>o&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),T=o),T)},r.prototype.validateQrboxConfig=function(o){if("number"!=typeof o&&"function"!=typeof o&&(void 0===o.width||void 0===o.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(o,n,s){if("number"==typeof s)return{width:s,height:s};if("function"==typeof s)try{return s(o,n)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return s},r.prototype.setupUi=function(o,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(o,n,s);var f=Zi(s.qrbox)?{width:o,height:n}:s.qrbox;this.validateQrboxConfig(f);var y=this.toQrdimensions(o,n,f);y.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=s.isShadedBoxEnabled()&&y.height<=n,M={x:0,y:0,width:o,height:n},R=x?this.getShadedRegionBounds(o,n,y):M,T=this.createCanvasElement(R.width,R.height),K=T.getContext("2d",{willReadFrequently:!0});K.canvas.width=R.width,K.canvas.height=R.height,this.element.append(T),x&&this.possiblyInsertShadingElement(this.element,o,n,y),this.createScannerPausedUiElement(this.element),this.qrRegion=R,this.context=K,this.canvasElement=T},r.prototype.createScannerPausedUiElement=function(o){var n=document.createElement("div");n.innerText=Yo.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",o.appendChild(n),this.scannerPausedUiElement=n},r.prototype.scanContext=function(o,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return o(f.text,ty.createFromQrcodeResult(f)),s.possiblyUpdateShaders(!0),!0}).catch(function(f){s.possiblyUpdateShaders(!1);var y=Yo.codeParseError(f);return n(y,au.createFrom(y)),!1})},r.prototype.foreverScan=function(o,n,s){var f=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),x=y.videoWidth/y.clientWidth,M=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(y,this.qrRegion.x*x,this.qrRegion.y*M,this.qrRegion.width*x,this.qrRegion.height*M,0,0,this.qrRegion.width,this.qrRegion.height);var De=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(o,n,s)},f.getTimeoutFps(o.fps))};this.scanContext(n,s).then(function(_e){_e||!0===o.disableFlip?De():(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(n,s).finally(function(){De()}))}).catch(function(_e){f.logger.logError("Error happend while scanning context",_e),De()})}},r.prototype.createVideoConstraints=function(o){if("string"==typeof o)return{deviceId:{exact:o}};if("object"==typeof o){var n="facingMode",s="deviceId",f={user:!0,environment:!0},y="exact",x=function(Le){if(Le in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(Le,"'")},M=Object.keys(o);if(1!==M.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(M.length," keys");var R=Object.keys(o)[0];if(R!==n&&R!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(R!==n){var K=o.deviceId;if("string"==typeof K)return{deviceId:K};if("object"==typeof K){if(y in K)return{deviceId:{exact:K["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof K)}var T=o.facingMode;if("string"==typeof T){if(x(T))return{facingMode:T}}else{if("object"!=typeof T)throw"Invalid type of 'facingMode' = ".concat(typeof T);if(!(y in T))throw"'facingMode' should be string or object with"+" ".concat(y," as key.");if(x(T["".concat(y)]))return{facingMode:{exact:T["".concat(y)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof o)},r.prototype.computeCanvasDrawConfig=function(o,n,s,f){if(o<=s&&n<=f)return{x:(s-o)/2,y:(f-n)/2,width:o,height:n};var M=o,R=n;return o>s&&(n*=s/o,o=s),n>f&&(o*=f/n,n=f),this.logger.log("Image downsampled from "+"".concat(M,"X").concat(R)+" to ".concat(o,"X").concat(n,".")),this.computeCanvasDrawConfig(o,n,s,f)},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var o=document.getElementById(this.elementId);o&&(o.innerHTML="")},r.prototype.possiblyUpdateShaders=function(o){this.qrMatch!==o&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=o?ai.BORDER_SHADER_MATCH_COLOR:ai.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=o)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(o,n,s){var f=o,y=n,x=document.createElement("canvas");return x.style.width="".concat(f,"px"),x.style.height="".concat(y,"px"),x.style.display="none",x.id=Zi(s)?"qr-canvas":s,x},r.prototype.getShadedRegionBounds=function(o,n,s){if(s.width>o||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(o-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},r.prototype.possiblyInsertShadingElement=function(o,n,s,f){if(!(n-f.width<1||s-f.height<1)){var y=document.createElement("div");y.style.position="absolute";var x=(n-f.width)/2,M=(s-f.height)/2;if(y.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(ai.SHADED_REGION_ELEMENT_ID),n-f.width<11||s-f.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(y,40,5,-5,null,0,!0),this.insertShaderBorders(y,40,5,-5,null,0,!1),this.insertShaderBorders(y,40,5,null,-5,0,!0),this.insertShaderBorders(y,40,5,null,-5,0,!1),this.insertShaderBorders(y,5,45,-5,null,-5,!0),this.insertShaderBorders(y,5,45,null,-5,-5,!0),this.insertShaderBorders(y,5,45,-5,null,-5,!1),this.insertShaderBorders(y,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}o.append(y)}},r.prototype.insertShaderBorders=function(o,n,s,f,y,x,M){var R=document.createElement("div");R.style.position="absolute",R.style.backgroundColor=ai.BORDER_SHADER_DEFAULT_COLOR,R.style.width="".concat(n,"px"),R.style.height="".concat(s,"px"),null!==f&&(R.style.top="".concat(f,"px")),null!==y&&(R.style.bottom="".concat(y,"px")),M?R.style.left="".concat(x,"px"):R.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(R),o.appendChild(R)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(o){return 1e3/o},r}(),cu="data:image/svg+xml;base64,",zp=cu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",xE=cu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",gy=cu+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",my=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),IE=function(){function r(){this.data=my.createDefault();var o=localStorage.getItem(r.LOCAL_STORAGE_KEY);o?this.data=JSON.parse(o):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(o){this.data.hasPermission=o,this.flush()},r.prototype.setLastUsedCameraId=function(o){this.data.lastUsedCameraId=o,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=my.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),DE=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(o){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=oy.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var s=document.createElement("br"),f=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(f);var y=document.createElement("a");y.innerText=oy.reportIssues(),y.href="https://github.com/mebjas/html5-qrcode/issues",y.target="new",y.style.color="white",this.infoDiv.appendChild(y),o.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),AE=function(){function r(o,n){this.isShowingInfoIcon=!0,this.onTapIn=o,this.onTapOut=n,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(o){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=gy,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return n.onHoverIn()},this.infoIcon.onmouseout=function(s){return n.onHoverOut()},this.infoIcon.onclick=function(s){return n.onClick()},o.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=gy,this.infoIcon.style.opacity="0.6")},r}(),SE=function(){function r(){var o=this;this.infoDiv=new DE,this.infoIcon=new AE(function(){o.infoDiv.show()},function(){o.infoDiv.hide()})}return r.prototype.renderInto=function(o){this.infoDiv.renderInto(o),this.infoIcon.renderInto(o)},r}(),yy=function(){function r(){}return r.hasPermissions=function(){return function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})}(this,void 0,void 0,function(){var o,n,s,f;return function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}}(this,function(y){switch(y.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(o=y.sent(),n=0,s=o;n<s.length;n++)if("videoinput"===(f=s[n]).kind&&f.label)return[2,!0];return[2,!1]}})})},r}(),Ss=function(){function r(o){this.supportedScanTypes=this.validateAndReturnScanTypes(o)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var o=0,n=this.supportedScanTypes;o<n.length;o++)if(r.isCameraScanType(n[o]))return!0;return!1},r.isCameraScanType=function(o){return o===Si.SCAN_TYPE_CAMERA},r.isFileScanType=function(o){return o===Si.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(o){if(!o||0===o.length)return Ti.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(o.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var s=0,f=o;s<f.length;s++){var y=f[s];if(!Ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(y))throw"Unsupported scan type ".concat(y)}return o},r}(),ci=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),qo=function(){function r(){}return r.createElement=function(o,n){var s=document.createElement(o);return s.id=n,s.classList.add(ci.ALL_ELEMENT_CLASS),"button"===o&&s.setAttribute("type","button"),s},r}(),vy=function(r,o,n,s){return new(n||(n=Promise))(function(y,x){function M(V){try{T(s.next(V))}catch(K){x(K)}}function R(V){try{T(s.throw(V))}catch(K){x(K)}}function T(V){V.done?y(V.value):function f(y){return y instanceof n?y:new n(function(x){x(y)})}(V.value).then(M,R)}T((s=s.apply(r,o||[])).next())})},Cy=function(r,o){var s,f,y,x,n={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return x={next:M(0),throw:M(1),return:M(2)},"function"==typeof Symbol&&(x[Symbol.iterator]=function(){return this}),x;function M(T){return function(V){return function R(T){if(s)throw new TypeError("Generator is already executing.");for(;x&&(x=0,T[0]&&(n=0)),n;)try{if(s=1,f&&(y=2&T[0]?f.return:T[0]?f.throw||((y=f.return)&&y.call(f),0):f.next)&&!(y=y.call(f,T[1])).done)return y;switch(f=0,y&&(T=[2&T[0],y.value]),T[0]){case 0:case 1:y=T;break;case 4:return n.label++,{value:T[1],done:!1};case 5:n.label++,f=T[1],T=[0];continue;case 7:T=n.ops.pop(),n.trys.pop();continue;default:if(!(y=(y=n.trys).length>0&&y[y.length-1])&&(6===T[0]||2===T[0])){n=0;continue}if(3===T[0]&&(!y||T[1]>y[0]&&T[1]<y[3])){n.label=T[1];break}if(6===T[0]&&n.label<y[1]){n.label=y[1],y=T;break}if(y&&n.label<y[2]){n.label=y[2],n.ops.push(T);break}y[2]&&n.ops.pop(),n.trys.pop();continue}T=o.call(r,n)}catch(V){T=[6,V],f=0}finally{s=y=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,V])}}},$p=function(){function r(o,n,s){this.isTorchOn=!1,this.torchCapability=o,this.buttonController=n,this.onTorchActionFailureCallback=s}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return vy(this,void 0,void 0,function(){var o,n;return Cy(this,function(s){switch(s.label){case 0:this.buttonController.disable(),o=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(o)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),o),[3,4];case 3:return n=s.sent(),this.propagateFailure(o,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(o,n){o===n?(this.buttonController.setText(n?Yt.torchOffButton():Yt.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},r.prototype.propagateFailure=function(o,n){var s=o?Yt.torchOnFailedMessage():Yt.torchOffFailedMessage();n&&(s+="; Error = "+n),this.onTorchActionFailureCallback(s)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),wy=function(){function r(o,n){this.onTorchActionFailureCallback=n,this.torchButton=qo.createElement("button",ci.TORCH_BUTTON_ID),this.torchController=new $p(o,this,n)}return r.prototype.render=function(o,n){var s=this;this.torchButton.innerText=Yt.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var f=this;this.torchButton.addEventListener("click",function(y){return vy(s,void 0,void 0,function(){return Cy(this,function(x){switch(x.label){case 0:return[4,f.torchController.flipState()];case 1:return x.sent(),f.torchController.isTorchEnabled()?(f.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_OFF),f.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_ON)):(f.torchButton.classList.remove(ci.TORCH_BUTTON_CLASS_TORCH_ON),f.torchButton.classList.add(ci.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),o.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(o){this.torchController=new $p(o,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(o){this.torchButton.innerText=o},r.prototype.reset=function(){this.torchButton.innerText=Yt.torchOnButton(),this.torchController.reset()},r.create=function(o,n,s,f){var y=new r(n,f);return y.render(o,s),y},r}(),Ts=function(){function r(o,n,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",o.appendChild(this.fileBasedScanRegion);var f=document.createElement("label");f.setAttribute("for",this.getFileScanInputId()),f.style.display="inline-block",this.fileBasedScanRegion.appendChild(f),this.fileSelectionButton=qo.createElement("button",ci.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(M){f.click()}),f.append(this.fileSelectionButton),this.fileScanInput=qo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",f.appendChild(this.fileScanInput);var y=this;this.fileScanInput.addEventListener("change",function(M){if(null!=M&&null!=M.target){var R=M.target;if(!R.files||0!==R.files.length){var V=R.files[0];y.setImageNameToButton(V.name),s(V)}}});var x=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(x),this.fileBasedScanRegion.addEventListener("dragenter",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(M){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),M.stopPropagation(),M.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(M){M.stopPropagation(),M.preventDefault(),y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder();var R=M.dataTransfer;if(R){var T=R.files;if(!T||0===T.length)return;for(var V=!1,K=0;K<T.length;++K){var De=T.item(K);if(De&&De.type.match(/image.*/)){V=!0,y.setImageNameToButton(De.name),s(De),x.innerText=Yt.dragAndDropMessage();break}}V||(x.innerText=Yt.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var o=document.createElement("div");return o.style.textAlign="center",o.style.margin="auto",o.style.width="80%",o.style.maxWidth="600px",o.style.border=this.fileBasedScanRegionDefaultBorder(),o.style.padding="10px",o.style.marginBottom="10px",o},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var o=document.createElement("div");return o.innerText=Yt.dragAndDropMessage(),o.style.fontWeight="400",o},r.prototype.setImageNameToButton=function(o){if(o.length>20){var s=o.substring(0,8),f=o.length,y=o.substring(f-8,f);o="".concat(s,"....").concat(y)}var x=Yt.fileSelectionChooseAnother()+" - "+o;this.fileSelectionButton.innerText=x},r.prototype.setInitialValueToButton=function(){var o=Yt.fileSelectionChooseImage()+" - "+Yt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=o},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(o,n,s){return new r(o,n,s)},r}(),Wp=function(){function r(o){this.selectElement=qo.createElement("select",ci.CAMERA_SELECTION_SELECT_ID),this.cameras=o,this.options=[]}return r.prototype.render=function(o){var n=document.createElement("span");n.style.marginRight="10px";var s=this.cameras.length;if(0===s)throw new Error("No cameras found");if(1===s)n.style.display="none";else{var f=Yt.selectCamera();n.innerText="".concat(f," (").concat(this.cameras.length,")  ")}for(var y=1,x=0,M=this.cameras;x<M.length;x++){var R=M[x],T=R.id,V=null==R.label?T:R.label;(!V||""===V)&&(V=[Yt.anonymousCameraPrefix(),y++].join(" "));var K=document.createElement("option");K.value=T,K.innerText=V,this.options.push(K),this.selectElement.appendChild(K)}n.appendChild(this.selectElement),o.appendChild(n)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return!0===this.selectElement.disabled},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(o){for(var n=0,s=this.options;n<s.length;n++)if(s[n].value===o)return!0;return!1},r.prototype.setValue=function(o){if(!this.hasValue(o))throw new Error("".concat(o," is not present in the camera list."));this.selectElement.value=o},r.prototype.hasSingleItem=function(){return 1===this.cameras.length},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(o,n){var s=new r(n);return s.render(o),s},r}(),NE=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=qo.createElement("input",ci.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(o,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",o.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=Yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var f=this;this.rangeInput.addEventListener("input",function(){return f.onValueChange()}),this.rangeInput.addEventListener("change",function(){return f.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var o=Yt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(o,n,s,f){this.rangeInput.min=o.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=f.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(o){this.onChangeCallback=o},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(o,n){var s=new r;return s.render(o,n),s},r}(),li=function(r){return r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",r}(li||{});!function(){function r(o,n,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=o,this.config=this.createConfig(n),this.verbose=!0===s,!document.getElementById(o))throw"HTML Element with id=".concat(o," not found");this.scanTypeSelector=new Ss(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ry(this.verbose),this.persistedDataManager=new IE,!0!==n.rememberLastUsedCamera&&this.persistedDataManager.reset()}r.prototype.render=function(o,n){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(y,x){if(o)o(y,x);else{if(s.lastMatchFound===y)return;s.lastMatchFound=y,s.setHeaderMessage(Yt.lastMatch(y),li.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(y,x){n&&n(y,x)};var f=document.getElementById(this.elementId);if(!f)throw"HTML Element with id=".concat(this.elementId," not found");f.innerHTML="",this.createBasicLayout(f),this.html5Qrcode=new Gp(this.getScanRegionId(),function Ey(r,o){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:o}}(this.config,this.verbose))},r.prototype.pause=function(o){(Zi(o)||!0!==o)&&(o=!1),this.getHtml5QrcodeOrFail().pause(o)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var o=this,n=function(){var s=document.getElementById(o.elementId);s&&(s.innerHTML="",o.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,f){o.html5Qrcode?o.html5Qrcode.isScanning?o.html5Qrcode.stop().then(function(y){o.html5Qrcode?(o.html5Qrcode.clear(),n(),s()):s()}).catch(function(y){o.verbose&&o.logger.logError("Unable to stop qrcode scanner",y),f(y)}):(o.html5Qrcode.clear(),n(),s()):s()}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(o){return this.getHtml5QrcodeOrFail().applyVideoConstraints(o)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(o){return o?(o.fps||(o.fps=Ti.SCAN_DEFAULT_FPS),o.rememberLastUsedCamera!==!Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(o.rememberLastUsedCamera=Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),o.supportedScanTypes||(o.supportedScanTypes=Ti.DEFAULT_SUPPORTED_SCAN_TYPE),o):{fps:Ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ti.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(o){o.style.position="relative",o.style.padding="0px",o.style.border="1px solid silver",this.createHeader(o);var n=document.createElement("div"),s=this.getScanRegionId();n.id=s,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",o.appendChild(n),Ss.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var f=document.createElement("div"),y=this.getDashboardId();f.id=y,f.style.width="100%",o.appendChild(f),this.setupInitialDashboard(f)},r.prototype.resetBasicLayout=function(o){o.style.border="none"},r.prototype.setupInitialDashboard=function(o){this.createSection(o),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(o){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",o.appendChild(n),(new SE).renderInto(n);var f=document.createElement("div");f.id=this.getHeaderMessageContainerId(),f.style.display="none",f.style.textAlign="center",f.style.fontSize="14px",f.style.padding="2px 10px",f.style.margin="4px",f.style.borderTop="1px solid #f6f6f6",n.appendChild(f)},r.prototype.createSection=function(o){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",o.appendChild(n)},r.prototype.createCameraListUi=function(o,n,s){var f=this;f.showHideScanTypeSwapLink(!1),f.setHeaderMessage(Yt.cameraPermissionRequesting());var y=function(){s||f.createPermissionButton(o,n)};Gp.getCameras().then(function(x){f.persistedDataManager.setHasPermission(!0),f.showHideScanTypeSwapLink(!0),f.resetHeaderMessage(),x&&x.length>0?(o.removeChild(n),f.renderCameraSelection(x)):(f.setHeaderMessage(Yt.noCameraFound(),li.STATUS_WARNING),y())}).catch(function(x){f.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:y(),f.setHeaderMessage(x,li.STATUS_WARNING),f.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(o,n){var s=this,f=qo.createElement("button",this.getCameraPermissionButtonId());f.innerText=Yt.cameraPermissionTitle(),f.addEventListener("click",function(){f.disabled=!0,s.createCameraListUi(o,n,f)}),n.appendChild(f)},r.prototype.createPermissionsUi=function(o,n){var s=this;Ss.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?yy.hasPermissions().then(function(f){f?s.createCameraListUi(o,n):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(o,n))}).catch(function(f){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(o,n)}):this.createPermissionButton(o,n)},r.prototype.createSectionControlPanel=function(){var o=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");o.appendChild(n);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=Ss.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(s);var f=document.createElement("div");f.style.textAlign="center",s.appendChild(f),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,f),this.renderFileScanUi(n)},r.prototype.renderFileScanUi=function(o){var n=Ss.isFileScanType(this.currentScanType),s=this;this.fileSelectionUi=Ts.create(o,n,function(y){if(!s.html5Qrcode)throw"html5Qrcode not defined";Ss.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(Yt.loadingImage()),s.html5Qrcode.scanFileV2(y,!0).then(function(x){s.resetHeaderMessage(),s.qrCodeSuccessCallback(x.decodedText,x)}).catch(function(x){s.setHeaderMessage(x,li.STATUS_WARNING),s.qrCodeErrorCallback(x,au.createFrom(x))}))})},r.prototype.renderCameraSelection=function(o){var n=this,s=this,f=document.getElementById(this.getDashboardSectionCameraScanRegionId());f.style.textAlign="center";var y=NE.create(f,!1),M=Wp.create(f,o),R=document.createElement("span"),T=qo.createElement("button",ci.CAMERA_START_BUTTON_ID);T.innerText=Yt.scanButtonStartScanningText(),R.appendChild(T);var K,V=qo.createElement("button",ci.CAMERA_STOP_BUTTON_ID);V.innerText=Yt.scanButtonStopScanningText(),V.style.display="none",V.disabled=!0,R.appendChild(V),f.appendChild(R);var _e=function(Be){Be||(T.style.display="none"),T.innerText=Yt.scanButtonStartScanningText(),T.style.opacity="1",T.disabled=!1,Be&&(T.style.display="inline-block")};if(T.addEventListener("click",function(Be){T.innerText=Yt.scanButtonScanningStarting(),M.disable(),T.disabled=!0,T.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var Ue=M.getValue();s.persistedDataManager.setLastUsedCameraId(Ue),s.html5Qrcode.start(Ue,function RE(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(st){V.disabled=!1,V.style.display="inline-block",_e(!1);var _n=s.html5Qrcode.getRunningTrackCameraCapabilities();!0===n.config.showTorchButtonIfSupported&&function(Be){Be.torchFeature().isSupported()?(K?K.updateTorchCapability(Be.torchFeature()):K=wy.create(R,Be.torchFeature(),{display:"none",marginLeft:"5px"},function(Ue){s.setHeaderMessage(Ue,li.STATUS_WARNING)}),K.show()):K&&K.hide()}(_n),!0===n.config.showZoomSliderIfSupported&&function(Be){var Ue=Be.zoomFeature();if(Ue.isSupported()){y.setOnCameraZoomValueChangeCallback(function(_n){Ue.apply(_n)});var st=1;n.config.defaultZoomValueIfSupported&&(st=n.config.defaultZoomValueIfSupported),st=function iy(r,o,n){return r>n?n:r<o?o:r}(st,Ue.min(),Ue.max()),y.setValues(Ue.min(),Ue.max(),st,Ue.step()),y.show()}}(_n)}).catch(function(st){s.showHideScanTypeSwapLink(!0),M.enable(),_e(!0),s.setHeaderMessage(st,li.STATUS_WARNING)})}),M.hasSingleItem()&&T.click(),V.addEventListener("click",function(Be){if(!s.html5Qrcode)throw"html5Qrcode not defined";V.disabled=!0,s.html5Qrcode.stop().then(function(Ue){n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),M.enable(),T.disabled=!1,V.style.display="none",T.style.display="inline-block",K&&(K.reset(),K.hide()),y.removeOnCameraZoomValueChangeCallback(),y.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(Ue){V.disabled=!1,s.setHeaderMessage(Ue,li.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var Le=s.persistedDataManager.getLastUsedCameraId();M.hasValue(Le)?(M.setValue(Le),T.click()):s.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var o=this,n=Yt.textIfCameraScanSelected(),s=Yt.textIfFileScanSelected(),f=document.getElementById(this.getDashboardSectionId()),y=document.createElement("div");y.style.textAlign="center";var x=qo.createElement("span",this.getDashboardSectionSwapLinkId());x.style.textDecoration="underline",x.style.cursor="pointer",x.innerText=Ss.isCameraScanType(this.currentScanType)?n:s,x.addEventListener("click",function(){o.sectionSwapAllowed?(o.resetHeaderMessage(),o.fileSelectionUi.resetValue(),o.sectionSwapAllowed=!1,Ss.isCameraScanType(o.currentScanType)?(o.clearScanRegion(),o.getCameraScanRegion().style.display="none",o.fileSelectionUi.show(),x.innerText=s,o.currentScanType=Si.SCAN_TYPE_FILE,o.insertFileScanImageToScanRegion()):(o.clearScanRegion(),o.getCameraScanRegion().style.display="block",o.fileSelectionUi.hide(),x.innerText=n,o.currentScanType=Si.SCAN_TYPE_CAMERA,o.insertCameraScanImageToScanRegion(),o.startCameraScanIfPermissionExistsOnSwap()),o.sectionSwapAllowed=!0):o.verbose&&o.logger.logError("Section swap called when not allowed")}),y.appendChild(x),f.appendChild(y)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var o=this,n=this;this.persistedDataManager.hasCameraPermissions()&&yy.hasPermissions().then(function(s){if(s){var f=document.getElementById(n.getCameraPermissionButtonId());if(!f)throw o.logger.logError("Permission button not found, fail;"),"Permission button not found";f.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(s){n.persistedDataManager.setHasPermission(!1)})},r.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},r.prototype.setHeaderMessage=function(o,n){n||(n=li.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=o,s.style.display="block",n){case li.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case li.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)"}},r.prototype.showHideScanTypeSwapLink=function(o){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==o&&(o=!1),this.sectionSwapAllowed=o,this.getDashboardSectionSwapLink().style.display=o?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var o=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return n.innerHTML="<br>",void n.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(o.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zp,this.cameraScanImage.alt=Yt.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var o=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return n.innerHTML="<br>",void n.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(o.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=xE,this.fileScanImage.alt=Yt.fileScanAltText()},r.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return ci.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return ci.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let lu=(()=>{class r{constructor(n){this.http=n,this.ticketUrl=Xi_apiUrl+"/ticketing/tickets"}validateTicket(n){return this.http.post(`${this.ticketUrl}/validate`,{encryptedTicketData:n},{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(po))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Xp(r,o){1&r&&(c.j41(0,"div",6),c.EFF(1,"PASS"),c.k0s())}function bc(r,o){1&r&&(c.j41(0,"div",7),c.EFF(1,"INVALID"),c.k0s())}function _y(r,o){if(1&r&&(c.j41(0,"div",8),c.EFF(1),c.k0s()),2&r){const n=c.XpG();c.R7$(),c.SpI("Reason: ",n.invalidMessage,"")}}let Ic=(()=>{class r{constructor(n){this.ticketService=n,this.scannerId="reader",this.isScanning=!1,this.isDetermined=!1,this.isValid=!1,this.invalidMessage=""}ngOnInit(){}ngAfterViewInit(){this.qrCodeScanner=new Gp(this.scannerId)}ngOnDestroy(){this.stopScanner()}toggleScanner(){this.isScanning?this.stopScanner():this.startScanner()}startScanner(){this.isDetermined=!1,this.qrCodeScanner&&this.qrCodeScanner.start({facingMode:"environment"},{fps:10,qrbox:{width:200,height:200}},n=>this.handleQrCodeSuccess(n),n=>console.log("QR Code scan error:",n)).then(()=>{this.isScanning=!0,console.log("QR Code scanning started.")}).catch(n=>{console.log("QR Code start error:",n),this.isScanning=!1})}stopScanner(){!this.qrCodeScanner||!this.isScanning||this.qrCodeScanner.stop().then(()=>{this.isScanning=!1,console.log("QR Code scanning stopped.")}).catch(n=>{console.log("Error stopping the scanner:",n),this.isScanning=!1})}handleQrCodeSuccess(n){console.log("QR code detected:",n),this.isDetermined=!0,this.validateTicket(n),this.stopScanner()}validateTicket(n){this.ticketService.validateTicket(n).subscribe({next:s=>{this.isValid=!0},error:s=>{this.isValid=!1,this.invalidMessage="HttpErrorResponse"!==s.name?s:"Unauthorized scanning"}})}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(lu))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-scanner"]],decls:7,vars:4,consts:[[1,"scanner-container"],["id","reader",1,"scanner-box"],[1,"scanner-btn",3,"click"],["class","ticket-pass",4,"ngIf"],["class","ticket-fail",4,"ngIf"],["class","invalid-msg",4,"ngIf"],[1,"ticket-pass"],[1,"ticket-fail"],[1,"invalid-msg"]],template:function(s,f){1&s&&(c.j41(0,"div",0),c.nrm(1,"div",1),c.j41(2,"button",2),c.bIt("click",function(){return f.toggleScanner()}),c.EFF(3),c.k0s(),c.DNE(4,Xp,2,0,"div",3)(5,bc,2,0,"div",4)(6,_y,2,1,"div",5),c.k0s()),2&s&&(c.R7$(3),c.SpI(" ",f.isScanning?"Stop Scanner":"Start Scanner"," "),c.R7$(),c.Y8G("ngIf",f.isValid&&f.isDetermined),c.R7$(),c.Y8G("ngIf",!f.isValid&&f.isDetermined),c.R7$(),c.Y8G("ngIf",!f.isValid&&f.isDetermined))},dependencies:[Tn],styles:[".scanner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh}.scanner-box[_ngcontent-%COMP%]{width:300px;height:300px;border:2px solid #000}#reader[_ngcontent-%COMP%]{width:400px;height:300px;position:relative;overflow:hidden}.scanner-btn[_ngcontent-%COMP%]{position:absolute;bottom:250px}.ticket-pass[_ngcontent-%COMP%]{position:absolute;color:#7fff00;font-size:50px;font-weight:200;font-family:Arial,Helvetica,sans-serif}.ticket-fail[_ngcontent-%COMP%]{position:absolute;color:#ff0051;font-size:50px;font-weight:200;font-family:Arial,Helvetica,sans-serif}.invalid-msg[_ngcontent-%COMP%]{position:absolute;bottom:400px}"]})}}return r})(),df=(()=>{class r{constructor(n,s){this.authService=n,this.router=s}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigate(["/forbidden"]),!1)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(_r),c.KVO(cn))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Dc=(()=>{class r{constructor(n){this.router=n}goToHome(){this.router.navigate(["/"])}static{this.\u0275fac=function(s){return new(s||r)(c.rXU(cn))}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-forbidden"]],decls:11,vars:0,consts:[[1,"forbidden-container"],[1,"forbidden-content"],["src","assets/forbidden-illustration.svg","alt","Forbidden",1,"forbidden-image"],[3,"click"]],template:function(s,f){1&s&&(c.j41(0,"div",0)(1,"div",1)(2,"h1"),c.EFF(3,"403"),c.k0s(),c.j41(4,"h2"),c.EFF(5,"Access Forbidden"),c.k0s(),c.j41(6,"p"),c.EFF(7,"You don\u2019t have permission to access this page."),c.k0s(),c.nrm(8,"img",2),c.j41(9,"button",3),c.bIt("click",function(){return f.goToHome()}),c.EFF(10,"Go to Homepage"),c.k0s()()())},styles:[".forbidden-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;background-color:#f4f4f9}.forbidden-content[_ngcontent-%COMP%]{max-width:400px;padding:20px}.forbidden-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;color:#ff6b6b;margin-bottom:.5rem}.forbidden-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin-bottom:1rem}.forbidden-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.forbidden-image[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:20px auto}button[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border:none;padding:10px 20px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#357abd}"]})}}return r})(),Zo=(()=>{class r{constructor(n,s){this.authService=n,this.router=s}canActivate(){return!(!this.authService.isAuthenticated()||!this.authService.getRoles()?.includes("ROLE_VENUE"))||(this.router.navigate(["/forbidden"]),!1)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(_r),c.KVO(cn))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Ac=[{path:"login",component:Ip},{path:"",component:Kx},{path:"",redirectTo:"",pathMatch:"full"},{path:"register",component:Ap},{path:"dashboard",component:Ux,canActivate:[df]},{path:"forgot-password",component:Vx},{path:"forgot-username",component:Mm},{path:"reset-password/:token",component:Tm},{path:"verify-email/:token",component:km},{path:"cookie-policy",component:$w},{path:"privacy-policy",component:jx},{path:"data-deletion-policy",component:Zx},{path:"settings",component:Xx,canActivate:[df]},{path:"confirm-email/:token",component:qx},{path:"search-results",component:Xw},{path:"event/:id",component:lE},{path:"bookings",component:ob,canActivate:[(()=>{class r{constructor(n,s){this.authService=n,this.router=s}canActivate(){return!(!this.authService.isAuthenticated()||!this.authService.getRoles()?.includes("ROLE_USER")&&!this.authService.getRoles()?.includes("ROLE_ADMIN"))||(this.router.navigate(["/forbidden"]),!1)}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(_r),c.KVO(cn))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()]},{path:"venue/events/create",component:Kn,canActivate:[Zo]},{path:"venue/events",component:ou,canActivate:[Zo]},{path:"venue/events/:eventId/edit",component:Jm,canActivate:[Zo]},{path:"scanner",component:Ic,canActivate:[Zo]},{path:"forbidden",component:Dc}];let Sc=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r})}static{this.\u0275inj=c.G2t({imports:[Bh.forRoot(Ac),Bh]})}}return r})(),Tc=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"footer"],[1,"footer-content"],["routerLink","/privacy-policy"],["routerLink","/cookie-policy"],["routerLink","/data-deletion-policy"]],template:function(s,f){1&s&&(c.j41(0,"footer",0)(1,"div",1)(2,"a",2),c.EFF(3,"Privacy Policy"),c.k0s(),c.j41(4,"span"),c.EFF(5,"|"),c.k0s(),c.j41(6,"a",3),c.EFF(7,"Cookie Policy"),c.k0s(),c.j41(8,"span"),c.EFF(9,"|"),c.k0s(),c.j41(10,"a",4),c.EFF(11,"Data Deletion Policy"),c.k0s()()())},dependencies:[uo],styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f8f8f8;padding:10px;height:50px;margin-top:auto}.footer-content[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;margin:0 10px}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}"]})}}return r})(),Mc=(()=>{class r{constructor(){this.title="ticketing-system"}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=c.VBU({type:r,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-container"]],template:function(s,f){1&s&&(c.j41(0,"div",0),c.nrm(1,"router-outlet")(2,"app-footer"),c.k0s())},dependencies:[ad,Tc]})}}return r})(),Nc=(()=>{class r{constructor(n,s){this.authService=n,this.router=s,this.isRefreshing=!1,this.refreshTokenSubject=new Gr.t(null)}intercept(n,s){const f=this.authService.getToken();let y=n;return f&&!this.isExcludedUrl(n.url)&&(y=this.addTokenHeader(n,f)),s.handle(y).pipe(_i(x=>401!==x.status||this.isExcludedUrl(n.url)?403!==x.status||this.isExcludedUrl(n.url)?Ao(x):this.handle403Error(y,s):this.handle401Error(y,s)))}addTokenHeader(n,s){return n.clone({headers:n.headers.set("Authorization",`Bearer ${s}`)})}handle401Error(n,s){return this.isRefreshing?this.refreshTokenSubject.pipe(ao(f=>null!=f),ds(1),Cr(f=>s.handle(this.addTokenHeader(n,f)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshToken().pipe(Cr(f=>(this.isRefreshing=!1,this.authService.saveAccessToken(f.accessToken),this.refreshTokenSubject.next(f.accessToken),s.handle(this.addTokenHeader(n,f.accessToken)))),_i(f=>(this.isRefreshing=!1,Ao(f)))))}handle403Error(n,s){return this.handle401Error(n,s)}isExcludedUrl(n){return n.includes("/login")||n.includes("/register")||n.includes("/refresh-token")||n.includes("/logout")||n.includes("/weather")||n.includes("/auth/google")||n.includes("/confirm-email")}static{this.\u0275fac=function(s){return new(s||r)(c.KVO(_r),c.KVO(cn))}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})(),xy=(()=>{class r{constructor(n,s,f,y,x){this.doc=n,this.delegate=s,this.zone=f,this.animationType=y,this.moduleImpl=x,this._rendererFactoryPromise=null,this.scheduler=(0,c.WQX)(c.An2,{optional:!0}),this.loadingSchedulerFn=(0,c.WQX)(Iy,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){const n=()=>this.moduleImpl??F.e(142).then(F.bind(F,3142)).then(f=>f);let s;return s=this.loadingSchedulerFn?this.loadingSchedulerFn(n):n(),s.catch(f=>{throw new c.wOt(5300,!1)}).then(({\u0275createEngine:f,\u0275AnimationRendererFactory:y})=>{this._engine=f(this.animationType,this.doc);const x=new y(this.delegate,this._engine,this.zone);return this.delegate=x,x})}createRenderer(n,s){const f=this.delegate.createRenderer(n,s);if(0===f.\u0275type)return f;"boolean"==typeof f.throwOnSyntheticProps&&(f.throwOnSyntheticProps=!1);const y=new by(f);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(x=>{const M=x.createRenderer(n,s);y.use(M),this.scheduler?.notify(10)}).catch(x=>{y.use(f)}),y}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){c.QTQ()}}static{this.\u0275prov=c.jDH({token:r,factory:r.\u0275fac})}}return r})();class by{constructor(o){this.delegate=o,this.replay=[],this.\u0275type=1}use(o){if(this.delegate=o,null!==this.replay){for(const n of this.replay)n(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,n){return this.delegate.createElement(o,n)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,n){this.delegate.appendChild(o,n)}insertBefore(o,n,s,f){this.delegate.insertBefore(o,n,s,f)}removeChild(o,n,s){this.delegate.removeChild(o,n,s)}selectRootElement(o,n){return this.delegate.selectRootElement(o,n)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,n,s,f){this.delegate.setAttribute(o,n,s,f)}removeAttribute(o,n,s){this.delegate.removeAttribute(o,n,s)}addClass(o,n){this.delegate.addClass(o,n)}removeClass(o,n){this.delegate.removeClass(o,n)}setStyle(o,n,s,f){this.delegate.setStyle(o,n,s,f)}removeStyle(o,n,s){this.delegate.removeStyle(o,n,s)}setProperty(o,n,s){this.shouldReplay(n)&&this.replay.push(f=>f.setProperty(o,n,s)),this.delegate.setProperty(o,n,s)}setValue(o,n){this.delegate.setValue(o,n)}listen(o,n,s){return this.shouldReplay(n)&&this.replay.push(f=>f.listen(o,n,s)),this.delegate.listen(o,n,s)}shouldReplay(o){return null!==this.replay&&o.startsWith("@")}}const Iy=new c.nKC("");function Dy(r="animations"){return(0,c.ngT)("NgAsyncAnimations"),(0,c.EmA)([{provide:c._9s,useFactory:(o,n,s)=>new xy(o,n,s,r),deps:[oe,Hn,c.SKi]},{provide:c.bc$,useValue:"noop"===r?"NoopAnimations":"BrowserAnimations"}])}let Ay=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=c.$C({type:r,bootstrap:[Mc]})}static{this.\u0275inj=c.G2t({providers:[_r,Kd,{provide:Cp,useValue:Cp},fm,{provide:Q1,useClass:Nc,multi:!0},Nw(Xo(Wo.LegacyInterceptors,[{provide:om,useFactory:Ew},{provide:Xl,useExisting:om,multi:!0}])),Dy()],imports:[Of,Sc,V1,dw]})}}return r})();Xn().bootstrapModule(Ay).catch(r=>console.error(r))},243:tt=>{"use strict";var ee={single_source_shortest_paths:function(F,c,W){var G={},$={};$[c]=0;var Z,oe,ce,J,pe,ve,X=ee.PriorityQueue.make();for(X.push(c,0);!X.empty();)for(ce in J=(Z=X.pop()).cost,pe=F[oe=Z.value]||{})pe.hasOwnProperty(ce)&&(ve=J+pe[ce],(typeof $[ce]>"u"||$[ce]>ve)&&($[ce]=ve,X.push(ce,ve),G[ce]=oe));if(typeof W<"u"&&typeof $[W]>"u"){var We=["Could not find a path from ",c," to ",W,"."].join("");throw new Error(We)}return G},extract_shortest_path_from_predecessor_list:function(F,c){for(var W=[],G=c;G;)W.push(G),G=F[G];return W.reverse(),W},find_path:function(F,c,W){var G=ee.single_source_shortest_paths(F,c,W);return ee.extract_shortest_path_from_predecessor_list(G,W)},PriorityQueue:{make:function(F){var G,c=ee.PriorityQueue,W={};for(G in F=F||{},c)c.hasOwnProperty(G)&&(W[G]=c[G]);return W.queue=[],W.sorter=F.sorter||c.default_sorter,W},default_sorter:function(F,c){return F.cost-c.cost},push:function(F,c){this.queue.push({value:F,cost:c}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};tt.exports=ee},5496:function(tt,ee){!function(F){"use strict";function c(D){return null==D}var W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,a){D.__proto__=a}||function(D,a){for(var l in a)a.hasOwnProperty(l)&&(D[l]=a[l])};var Z=function(D){function a(l){var d=this.constructor,p=D.call(this,l)||this;return Object.defineProperty(p,"name",{value:d.name,enumerable:!1}),function $(D,a){var l=Object.setPrototypeOf;l?l(D,a):D.__proto__=a}(p,d.prototype),function X(D,a){void 0===a&&(a=D.constructor);var l=Error.captureStackTrace;l&&l(D,a)}(p),p}return function G(D,a){function l(){this.constructor=D}W(D,a),D.prototype=null===a?Object.create(a):(l.prototype=a.prototype,new l)}(a,D),a}(Error);let oe=(()=>{class D extends Z{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}return D.kind="Exception",D})(),ce=(()=>{class D extends oe{}return D.kind="ArgumentException",D})(),J=(()=>{class D extends oe{}return D.kind="IllegalArgumentException",D})();class pe{constructor(a){if(this.binarizer=a,null===a)throw new J("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,d,p){const g=this.binarizer.getLuminanceSource().crop(a,l,d,p);return new pe(this.binarizer.createBinarizer(g))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new pe(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new pe(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let se=(()=>{class D extends oe{static getChecksumInstance(){return new D}}return D.kind="ChecksumException",D})();class ve{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Ee{static arraycopy(a,l,d,p,g){for(;g--;)d[p++]=a[l++]}static currentTimeMillis(){return Date.now()}}let Se=(()=>{class D extends oe{}return D.kind="IndexOutOfBoundsException",D})(),We=(()=>{class D extends Se{constructor(l=void 0,d=void 0){super(d),this.index=l,this.message=d}}return D.kind="ArrayIndexOutOfBoundsException",D})();class mt{static fill(a,l){for(let d=0,p=a.length;d<p;d++)a[d]=l}static fillWithin(a,l,d,p){mt.rangeCheck(a.length,l,d);for(let g=l;g<d;g++)a[g]=p}static rangeCheck(a,l,d){if(l>d)throw new J("fromIndex("+l+") > toIndex("+d+")");if(l<0)throw new We(l);if(d>a)throw new We(d)}static asList(...a){return a}static create(a,l,d){return Array.from({length:a}).map(g=>Array.from({length:l}).fill(d))}static createInt32Array(a,l,d){return Array.from({length:a}).map(g=>Int32Array.from({length:l}).fill(d))}static equals(a,l){if(!(a&&l&&a.length&&l.length&&a.length===l.length))return!1;for(let d=0,p=a.length;d<p;d++)if(a[d]!==l[d])return!1;return!0}static hashCode(a){if(null===a)return 0;let l=1;for(const d of a)l=31*l+d;return l}static fillUint8Array(a,l){for(let d=0;d!==a.length;d++)a[d]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const d=new Uint8Array(l);return d.set(a),d}return a.slice(0,l)}static copyOfRange(a,l,d){const p=d-l,g=new Int32Array(p);return Ee.arraycopy(a,l,g,0,p),g}static binarySearch(a,l,d){void 0===d&&(d=mt.numberComparator);let p=0,g=a.length-1;for(;p<=g;){const v=g+p>>1,C=d(l,a[v]);if(C>0)p=v+1;else{if(!(C<0))return v;g=v-1}}return-p-1}static numberComparator(a,l){return a-l}}class xe{static numberOfTrailingZeros(a){let l;if(0===a)return 32;let d=31;return l=a<<16,0!==l&&(d-=16,a=l),l=a<<8,0!==l&&(d-=8,a=l),l=a<<4,0!==l&&(d-=4,a=l),l=a<<2,0!==l&&(d-=2,a=l),d-(a<<1>>>31)}static numberOfLeadingZeros(a){if(0===a)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=(a=(858993459&(a-=a>>>1&1431655765))+(a>>>2&858993459))+(a>>>4)&252645135,63&(a+=a>>>8)+(a>>>16)}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}xe.MIN_VALUE_32_BITS=-2147483648,xe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(a,l){void 0===a?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,this.bits=null==l?ke.makeArray(a):l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>32*this.bits.length){const l=ke.makeArray(a);Ee.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return!!(this.bits[Math.floor(a/32)]&1<<(31&a))}set(a){this.bits[Math.floor(a/32)]|=1<<(31&a)}flip(a){this.bits[Math.floor(a/32)]^=1<<(31&a)}getNextSet(a){const l=this.size;if(a>=l)return l;const d=this.bits;let p=Math.floor(a/32),g=d[p];g&=~((1<<(31&a))-1);const v=d.length;for(;0===g;){if(++p===v)return l;g=d[p]}const C=32*p+xe.numberOfTrailingZeros(g);return C>l?l:C}getNextUnset(a){const l=this.size;if(a>=l)return l;const d=this.bits;let p=Math.floor(a/32),g=~d[p];g&=~((1<<(31&a))-1);const v=d.length;for(;0===g;){if(++p===v)return l;g=~d[p]}const C=32*p+xe.numberOfTrailingZeros(g);return C>l?l:C}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new J;if(l===a)return;l--;const d=Math.floor(a/32),p=Math.floor(l/32),g=this.bits;for(let v=d;v<=p;v++)g[v]|=(2<<(v<p?31:31&l))-(1<<(v>d?0:31&a))}clear(){const a=this.bits.length,l=this.bits;for(let d=0;d<a;d++)l[d]=0}isRange(a,l,d){if(l<a||a<0||l>this.size)throw new J;if(l===a)return!0;l--;const p=Math.floor(a/32),g=Math.floor(l/32),v=this.bits;for(let C=p;C<=g;C++){const A=(2<<(C<g?31:31&l))-(1<<(C>p?0:31&a))&4294967295;if((v[C]&A)!==(d?A:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(a,l){if(l<0||l>32)throw new J("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let d=l;d>0;d--)this.appendBit(1==(a>>d-1&1))}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let d=0;d<l;d++)this.appendBit(a.get(d))}xor(a){if(this.size!==a.size)throw new J("Sizes don't match");const l=this.bits;for(let d=0,p=l.length;d<p;d++)l[d]^=a.bits[d]}toBytes(a,l,d,p){for(let g=0;g<p;g++){let v=0;for(let C=0;C<8;C++)this.get(a)&&(v|=1<<7-C),a++;l[d+g]=v}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),d=l+1,p=this.bits;for(let g=0;g<d;g++){let v=p[g];v=v>>1&1431655765|(1431655765&v)<<1,v=v>>2&858993459|(858993459&v)<<2,v=v>>4&252645135|(252645135&v)<<4,v=v>>8&16711935|(16711935&v)<<8,v=v>>16&65535|(65535&v)<<16,a[l-g]=v}if(this.size!==32*d){const g=32*d-this.size;let v=a[0]>>>g;for(let C=1;C<d;C++){const E=a[C];v|=E<<32-g,a[C-1]=v,v=E>>>g}a[d-1]=v}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){return a instanceof ke&&this.size===a.size&&mt.equals(this.bits,a.bits)}hashCode(){return 31*this.size+mt.hashCode(this.bits)}toString(){let a="";for(let l=0,d=this.size;l<d;l++)7&l||(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new ke(this.size,this.bits.slice())}}var rt=function(D){return D[D.OTHER=0]="OTHER",D[D.PURE_BARCODE=1]="PURE_BARCODE",D[D.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",D[D.TRY_HARDER=3]="TRY_HARDER",D[D.CHARACTER_SET=4]="CHARACTER_SET",D[D.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",D[D.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",D[D.ASSUME_GS1=7]="ASSUME_GS1",D[D.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",D[D.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",D[D.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",D}(rt||{}),Ve=rt;let Ce=(()=>{class D extends oe{static getFormatInstance(){return new D}}return D.kind="FormatException",D})();var Te=function(D){return D[D.Cp437=0]="Cp437",D[D.ISO8859_1=1]="ISO8859_1",D[D.ISO8859_2=2]="ISO8859_2",D[D.ISO8859_3=3]="ISO8859_3",D[D.ISO8859_4=4]="ISO8859_4",D[D.ISO8859_5=5]="ISO8859_5",D[D.ISO8859_6=6]="ISO8859_6",D[D.ISO8859_7=7]="ISO8859_7",D[D.ISO8859_8=8]="ISO8859_8",D[D.ISO8859_9=9]="ISO8859_9",D[D.ISO8859_10=10]="ISO8859_10",D[D.ISO8859_11=11]="ISO8859_11",D[D.ISO8859_13=12]="ISO8859_13",D[D.ISO8859_14=13]="ISO8859_14",D[D.ISO8859_15=14]="ISO8859_15",D[D.ISO8859_16=15]="ISO8859_16",D[D.SJIS=16]="SJIS",D[D.Cp1250=17]="Cp1250",D[D.Cp1251=18]="Cp1251",D[D.Cp1252=19]="Cp1252",D[D.Cp1256=20]="Cp1256",D[D.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",D[D.UTF8=22]="UTF8",D[D.ASCII=23]="ASCII",D[D.Big5=24]="Big5",D[D.GB18030=25]="GB18030",D[D.EUC_KR=26]="EUC_KR",D}(Te||{});class ie{constructor(a,l,d,...p){this.valueIdentifier=a,this.name=d,this.values="number"==typeof l?Int32Array.from([l]):l,this.otherEncodingNames=p,ie.VALUE_IDENTIFIER_TO_ECI.set(a,this),ie.NAME_TO_ECI.set(d,this);const g=this.values;for(let v=0,C=g.length;v!==C;v++)ie.VALUES_TO_ECI.set(g[v],this);for(const v of p)ie.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new Ce("incorect value");const l=ie.VALUES_TO_ECI.get(a);if(void 0===l)throw new Ce("incorect value");return l}static getCharacterSetECIByName(a){const l=ie.NAME_TO_ECI.get(a);if(void 0===l)throw new Ce("incorect value");return l}equals(a){if(!(a instanceof ie))return!1;const l=a;return this.getName()===l.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Te.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Te.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Te.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Te.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Te.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Te.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Te.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Te.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Te.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Te.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Te.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Te.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Te.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Te.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Te.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Te.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Te.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Te.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Te.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Te.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Te.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Te.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Te.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Te.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Te.Big5,28,"Big5"),ie.GB18030=new ie(Te.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Te.EUC_KR,30,"EUC_KR","EUC-KR");let Ne=(()=>{class D extends oe{}return D.kind="UnsupportedOperationException",D})();class Y{static decode(a,l){const d=this.encodingName(l);return this.customDecoder?this.customDecoder(a,d):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(d)?this.decodeFallback(a,d):new TextDecoder(d).decode(a)}static shouldDecodeOnFallback(a){return!Y.isBrowser()&&"ISO-8859-1"===a}static encode(a,l){const d=this.encodingName(l);return this.customEncoder?this.customEncoder(a,d):typeof TextEncoder>"u"?this.encodeFallback(a):(new TextEncoder).encode(a)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(a){return"string"==typeof a?a:a.getName()}static encodingCharacterSet(a){return a instanceof ie?a:ie.getCharacterSetECIByName(a)}static decodeFallback(a,l){const d=this.encodingCharacterSet(l);if(Y.isDecodeFallbackSupported(d)){let p="";for(let g=0,v=a.length;g<v;g++){let C=a[g].toString(16);C.length<2&&(C="0"+C),p+="%"+C}return decodeURIComponent(p)}if(d.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new Ne(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(ie.UTF8)||a.equals(ie.ISO8859_1)||a.equals(ie.ASCII)}static encodeFallback(a){const d=btoa(unescape(encodeURIComponent(a))).split(""),p=[];for(let g=0;g<d.length;g++)p.push(d[g].charCodeAt(0));return new Uint8Array(p)}}class B{static castAsNonUtf8Char(a,l=null){const d=l?l.getName():this.ISO88591;return Y.decode(new Uint8Array([a]),d)}static guessEncoding(a,l){if(null!=l&&void 0!==l.get(Ve.CHARACTER_SET))return l.get(Ve.CHARACTER_SET).toString();const d=a.length;let p=!0,g=!0,v=!0,C=0,E=0,I=0,A=0,O=0,k=0,L=0,z=0,Q=0,re=0,ue=0;const Ae=a.length>3&&239===a[0]&&187===a[1]&&191===a[2];for(let He=0;He<d&&(p||g||v);He++){const ge=255&a[He];v&&(C>0?128&ge?C--:v=!1:128&ge&&(64&ge?(C++,32&ge?(C++,16&ge?(C++,8&ge?v=!1:A++):I++):E++):v=!1)),p&&(ge>127&&ge<160?p=!1:ge>159&&(ge<192||215===ge||247===ge)&&ue++),g&&(O>0?ge<64||127===ge||ge>252?g=!1:O--:128===ge||160===ge||ge>239?g=!1:ge>160&&ge<224?(k++,z=0,L++,L>Q&&(Q=L)):ge>127?(O++,L=0,z++,z>re&&(re=z)):(L=0,z=0))}return v&&C>0&&(v=!1),g&&O>0&&(g=!1),v&&(Ae||E+I+A>0)?B.UTF8:g&&(B.ASSUME_SHIFT_JIS||Q>=3||re>=3)?B.SHIFT_JIS:p&&g?2===Q&&2===k||10*ue>=d?B.SHIFT_JIS:B.ISO88591:p?B.ISO88591:g?B.SHIFT_JIS:v?B.UTF8:B.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let d=-1;return a.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,C,E,I,A,O){if("%%"===v)return"%";if(void 0===l[++d])return;v=I?parseInt(I.substr(1)):void 0;let L,k=A?parseInt(A.substr(1)):void 0;switch(O){case"s":L=l[d];break;case"c":L=l[d][0];break;case"f":L=parseFloat(l[d]).toFixed(v);break;case"p":L=parseFloat(l[d]).toPrecision(v);break;case"e":L=parseFloat(l[d]).toExponential(v);break;case"x":L=parseInt(l[d]).toString(k||16);break;case"d":L=parseFloat(parseInt(l[d],k||10).toPrecision(v)).toFixed(0)}L="object"==typeof L?JSON.stringify(L):(+L).toString(k);let z=parseInt(E),Q=E&&E[0]+""=="0"?"0":" ";for(;L.length<z;)L=void 0!==C?L+Q:Q+L;return L})}static getBytes(a,l){return Y.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}B.SHIFT_JIS=ie.SJIS.getName(),B.GB2312="GB2312",B.ISO88591=ie.ISO8859_1.getName(),B.EUC_JP="EUC_JP",B.UTF8=ie.UTF8.getName(),B.PLATFORM_DEFAULT_ENCODING=B.UTF8,B.ASSUME_SHIFT_JIS=!1;class te{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return this.value+="string"==typeof a?a.toString():this.encoding?B.castAsNonUtf8Char(a,this.encoding):String.fromCharCode(a),this}appendChars(a,l,d){for(let p=l;l<l+d;p++)this.append(a[p]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class fe{constructor(a,l,d,p){if(this.width=a,this.height=l,this.rowSize=d,this.bits=p,null==l&&(l=a),this.height=l,a<1||l<1)throw new J("Both dimensions must be greater than 0");null==d&&(d=Math.floor((a+31)/32)),this.rowSize=d,null==p&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,d=a[0].length,p=new fe(d,l);for(let g=0;g<l;g++){const v=a[g];for(let C=0;C<d;C++)v[C]&&p.set(C,g)}return p}static parseFromString(a,l,d){if(null===a)throw new J("stringRepresentation cannot be null");const p=new Array(a.length);let g=0,v=0,C=-1,E=0,I=0;for(;I<a.length;)if("\n"===a.charAt(I)||"\r"===a.charAt(I)){if(g>v){if(-1===C)C=g-v;else if(g-v!==C)throw new J("row lengths do not match");v=g,E++}I++}else if(a.substring(I,I+l.length)===l)I+=l.length,p[g]=!0,g++;else{if(a.substring(I,I+d.length)!==d)throw new J("illegal character encountered: "+a.substring(I));I+=d.length,p[g]=!1,g++}if(g>v){if(-1===C)C=g-v;else if(g-v!==C)throw new J("row lengths do not match");E++}const A=new fe(C,E);for(let O=0;O<g;O++)p[O]&&A.set(Math.floor(O%C),Math.floor(O/C));return A}get(a,l){const d=l*this.rowSize+Math.floor(a/32);return!!(this.bits[d]>>>(31&a)&1)}set(a,l){const d=l*this.rowSize+Math.floor(a/32);this.bits[d]|=1<<(31&a)&4294967295}unset(a,l){const d=l*this.rowSize+Math.floor(a/32);this.bits[d]&=~(1<<(31&a)&4294967295)}flip(a,l){const d=l*this.rowSize+Math.floor(a/32);this.bits[d]^=1<<(31&a)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new J("input matrix dimensions do not match");const l=new ke(Math.floor(this.width/32)+1),d=this.rowSize,p=this.bits;for(let g=0,v=this.height;g<v;g++){const C=g*d,E=a.getRow(g,l).getBitArray();for(let I=0;I<d;I++)p[C+I]^=E[I]}}clear(){const a=this.bits,l=a.length;for(let d=0;d<l;d++)a[d]=0}setRegion(a,l,d,p){if(l<0||a<0)throw new J("Left and top must be nonnegative");if(p<1||d<1)throw new J("Height and width must be at least 1");const g=a+d,v=l+p;if(v>this.height||g>this.width)throw new J("The region must fit inside the matrix");const C=this.rowSize,E=this.bits;for(let I=l;I<v;I++){const A=I*C;for(let O=a;O<g;O++)E[A+Math.floor(O/32)]|=1<<(31&O)&4294967295}}getRow(a,l){null==l||l.getSize()<this.width?l=new ke(this.width):l.clear();const d=this.rowSize,p=this.bits,g=a*d;for(let v=0;v<d;v++)l.setBulk(32*v,p[g+v]);return l}setRow(a,l){Ee.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let d=new ke(a),p=new ke(a);for(let g=0,v=Math.floor((l+1)/2);g<v;g++)d=this.getRow(g,d),p=this.getRow(l-1-g,p),d.reverse(),p.reverse(),this.setRow(g,p),this.setRow(l-1-g,d)}getEnclosingRectangle(){const l=this.height,d=this.rowSize,p=this.bits;let g=this.width,v=l,C=-1,E=-1;for(let I=0;I<l;I++)for(let A=0;A<d;A++){const O=p[I*d+A];if(0!==O){if(I<v&&(v=I),I>E&&(E=I),32*A<g){let k=0;for(;!(O<<31-k&4294967295);)k++;32*A+k<g&&(g=32*A+k)}if(32*A+31>C){let k=31;for(;!(O>>>k);)k--;32*A+k>C&&(C=32*A+k)}}}return C<g||E<v?null:Int32Array.from([g,v,C-g+1,E-v+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let d=0;for(;d<l.length&&0===l[d];)d++;if(d===l.length)return null;const p=d/a;let g=d%a*32;const v=l[d];let C=0;for(;!(v<<31-C&4294967295);)C++;return g+=C,Int32Array.from([g,p])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let d=l.length-1;for(;d>=0&&0===l[d];)d--;if(d<0)return null;const p=Math.floor(d/a);let g=32*Math.floor(d%a);const v=l[d];let C=31;for(;!(v>>>C);)C--;return g+=C,Int32Array.from([g,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){return a instanceof fe&&this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&mt.equals(this.bits,a.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+mt.hashCode(this.bits),a}toString(a="X ",l="  ",d="\n"){return this.buildToString(a,l,d)}buildToString(a,l,d){let p=new te;for(let g=0,v=this.height;g<v;g++){for(let C=0,E=this.width;C<E;C++)p.append(this.get(C,g)?a:l);p.append(d)}return p.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}let j=(()=>{class D extends oe{static getNotFoundInstance(){return new D}}return D.kind="NotFoundException",D})();class Ie extends ve{constructor(a){super(a),this.luminances=Ie.EMPTY,this.buckets=new Int32Array(Ie.LUMINANCE_BUCKETS)}getBlackRow(a,l){const d=this.getLuminanceSource(),p=d.getWidth();null==l||l.getSize()<p?l=new ke(p):l.clear(),this.initArrays(p);const g=d.getRow(a,this.luminances),v=this.buckets;for(let E=0;E<p;E++)v[(255&g[E])>>Ie.LUMINANCE_SHIFT]++;const C=Ie.estimateBlackPoint(v);if(p<3)for(let E=0;E<p;E++)(255&g[E])<C&&l.set(E);else{let E=255&g[0],I=255&g[1];for(let A=1;A<p-1;A++){const O=255&g[A+1];(4*I-E-O)/2<C&&l.set(A),E=I,I=O}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),d=a.getHeight(),p=new fe(l,d);this.initArrays(l);const g=this.buckets;for(let E=1;E<5;E++){const I=Math.floor(d*E/5),A=a.getRow(I,this.luminances),O=Math.floor(4*l/5);for(let k=Math.floor(l/5);k<O;k++)g[(255&A[k])>>Ie.LUMINANCE_SHIFT]++}const v=Ie.estimateBlackPoint(g),C=a.getMatrix();for(let E=0;E<d;E++){const I=E*l;for(let A=0;A<l;A++)(255&C[I+A])<v&&p.set(A,E)}return p}createBinarizer(a){return new Ie(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let d=0;d<Ie.LUMINANCE_BUCKETS;d++)l[d]=0}static estimateBlackPoint(a){const l=a.length;let d=0,p=0,g=0;for(let A=0;A<l;A++)a[A]>g&&(p=A,g=a[A]),a[A]>d&&(d=a[A]);let v=0,C=0;for(let A=0;A<l;A++){const O=A-p,k=a[A]*O*O;k>C&&(v=A,C=k)}if(p>v){const A=p;p=v,v=A}if(v-p<=l/16)throw new j;let E=v-1,I=-1;for(let A=v-1;A>p;A--){const O=A-p,k=O*O*(v-A)*(d-a[A]);k>I&&(E=A,I=k)}return E<<Ie.LUMINANCE_SHIFT}}Ie.LUMINANCE_BITS=5,Ie.LUMINANCE_SHIFT=8-Ie.LUMINANCE_BITS,Ie.LUMINANCE_BUCKETS=1<<Ie.LUMINANCE_BITS,Ie.EMPTY=Uint8ClampedArray.from([0]);class we extends Ie{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),d=a.getHeight();if(l>=we.MINIMUM_DIMENSION&&d>=we.MINIMUM_DIMENSION){const p=a.getMatrix();let g=l>>we.BLOCK_SIZE_POWER;l&we.BLOCK_SIZE_MASK&&g++;let v=d>>we.BLOCK_SIZE_POWER;d&we.BLOCK_SIZE_MASK&&v++;const C=we.calculateBlackPoints(p,g,v,l,d),E=new fe(l,d);we.calculateThresholdForBlock(p,g,v,l,d,C,E),this.matrix=E}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new we(a)}static calculateThresholdForBlock(a,l,d,p,g,v,C){const E=g-we.BLOCK_SIZE,I=p-we.BLOCK_SIZE;for(let A=0;A<d;A++){let O=A<<we.BLOCK_SIZE_POWER;O>E&&(O=E);const k=we.cap(A,2,d-3);for(let L=0;L<l;L++){let z=L<<we.BLOCK_SIZE_POWER;z>I&&(z=I);const Q=we.cap(L,2,l-3);let re=0;for(let Ae=-2;Ae<=2;Ae++){const He=v[k+Ae];re+=He[Q-2]+He[Q-1]+He[Q]+He[Q+1]+He[Q+2]}we.thresholdBlock(a,z,O,re/25,p,C)}}}static cap(a,l,d){return a<l?l:a>d?d:a}static thresholdBlock(a,l,d,p,g,v){for(let C=0,E=d*g+l;C<we.BLOCK_SIZE;C++,E+=g)for(let I=0;I<we.BLOCK_SIZE;I++)(255&a[E+I])<=p&&v.set(l+I,d+C)}static calculateBlackPoints(a,l,d,p,g){const v=g-we.BLOCK_SIZE,C=p-we.BLOCK_SIZE,E=new Array(d);for(let I=0;I<d;I++){E[I]=new Int32Array(l);let A=I<<we.BLOCK_SIZE_POWER;A>v&&(A=v);for(let O=0;O<l;O++){let k=O<<we.BLOCK_SIZE_POWER;k>C&&(k=C);let L=0,z=255,Q=0;for(let ue=0,Ae=A*p+k;ue<we.BLOCK_SIZE;ue++,Ae+=p){for(let He=0;He<we.BLOCK_SIZE;He++){const ge=255&a[Ae+He];L+=ge,ge<z&&(z=ge),ge>Q&&(Q=ge)}if(Q-z>we.MIN_DYNAMIC_RANGE)for(ue++,Ae+=p;ue<we.BLOCK_SIZE;ue++,Ae+=p)for(let He=0;He<we.BLOCK_SIZE;He++)L+=255&a[Ae+He]}let re=L>>2*we.BLOCK_SIZE_POWER;if(Q-z<=we.MIN_DYNAMIC_RANGE&&(re=z/2,I>0&&O>0)){const ue=(E[I-1][O]+2*E[I][O-1]+E[I-1][O-1])/4;z<ue&&(re=ue)}E[I][O]=re}}return E}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=5*we.BLOCK_SIZE,we.MIN_DYNAMIC_RANGE=24;class qt{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,d,p){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new te;for(let d=0;d<this.height;d++){const p=this.getRow(d,a);for(let g=0;g<this.width;g++){const v=255&p[g];let C;C=v<64?"#":v<128?"+":v<192?".":" ",l.append(C)}l.append("\n")}return l.toString()}}class Ft extends qt{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const d=this.delegate.getRow(a,l),p=this.getWidth();for(let g=0;g<p;g++)d[g]=255-(255&d[g]);return d}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),d=new Uint8ClampedArray(l);for(let p=0;p<l;p++)d[p]=255-(255&a[p]);return d}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,d,p){return new Ft(this.delegate.crop(a,l,d,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ft(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ft(this.delegate.rotateCounterClockwise45())}}class Xe extends qt{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=Xe.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return Xe.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,d){const p=new Uint8ClampedArray(l*d);for(let g=0,v=0,C=a.length;g<C;g+=4,v++){let E;E=0===a[g+3]?255:306*a[g]+601*a[g+1]+117*a[g+2]+512>>10,p[v]=E}return p}getRow(a,l){if(a<0||a>=this.getHeight())throw new J("Requested row is outside the image: "+a);const d=this.getWidth(),p=a*d;return null===l?l=this.buffer.slice(p,p+d):(l.length<d&&(l=new Uint8ClampedArray(d)),l.set(this.buffer.slice(p,p+d))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,d,p){return super.crop(a,l,d,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),d=l.getContext("2d"),p=a*Xe.DEGREE_TO_RADIANS,g=this.canvas.width,v=this.canvas.height,C=Math.ceil(Math.abs(Math.cos(p))*g+Math.abs(Math.sin(p))*v),E=Math.ceil(Math.abs(Math.sin(p))*g+Math.abs(Math.cos(p))*v);return l.width=C,l.height=E,d.translate(C/2,E/2),d.rotate(p),d.drawImage(this.canvas,g/-2,v/-2),this.buffer=Xe.makeBufferFromCanvasImageData(l),this}invert(){return new Ft(this)}}Xe.DEGREE_TO_RADIANS=Math.PI/180;class ln{constructor(a,l,d){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=d||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ye=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(D,a,l,d){return new(l||(l=Promise))(function(g,v){function C(A){try{I(d.next(A))}catch(O){v(O)}}function E(A){try{I(d.throw(A))}catch(O){v(O)}}function I(A){A.done?g(A.value):function p(g){return g instanceof l?g:new l(function(v){v(g)})}(A.value).then(C,E)}I((d=d.apply(D,a||[])).next())})};class Rn{constructor(a,l=500,d){this.reader=a,this.timeBetweenScansMillis=l,this._hints=d,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return Ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const d of a){const p="video"===d.kind?"videoinput":d.kind;"videoinput"===p&&l.push({deviceId:d.deviceId||d.id,label:d.label||`Video device ${l.length+1}`,kind:p,groupId:d.groupId})}return l})}getVideoInputDevices(){return Ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new ln(l.deviceId,l.label))})}findDeviceById(a){return Ye(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(d=>d.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return Ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return Ye(this,void 0,void 0,function*(){let d;this.reset(),d=a?{deviceId:{exact:a}}:{facingMode:"environment"};const p={video:d};return yield this.decodeOnceFromConstraints(p,l)})}decodeOnceFromConstraints(a,l){return Ye(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(d,l)})}decodeOnceFromStream(a,l){return Ye(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(d)})}decodeFromInputVideoDeviceContinuously(a,l,d){return Ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,d)})}decodeFromVideoDevice(a,l,d){return Ye(this,void 0,void 0,function*(){let p;p=a?{deviceId:{exact:a}}:{facingMode:"environment"};const g={video:p};return yield this.decodeFromConstraints(g,l,d)})}decodeFromConstraints(a,l,d){return Ye(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(p,l,d)})}decodeFromStream(a,l,d){return Ye(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(p,d)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return Ye(this,void 0,void 0,function*(){const d=this.prepareVideoElement(l);return this.addVideoSource(d,a),this.videoElement=d,this.stream=a,yield this.playVideoOnLoadAsync(d),d})}playVideoOnLoadAsync(a){return new Promise((l,d)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return Ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(a))console.warn("Trying to play video that is already playing.");else try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const d=document.getElementById(a);if(!d)throw new ce(`element with id '${a}' not found`);if(d.nodeName.toLowerCase()!==l.toLowerCase())throw new ce(`element with id '${a}' must be an ${l} element`);return d}decodeFromImage(a,l){if(!a&&!l)throw new ce("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new ce("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,d){if(void 0===a&&void 0===l)throw new ce("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,d):this.decodeFromVideoElementContinuously(a,d)}decodeFromImageElement(a){if(!a)throw new ce("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);let d;return this.imageElement=l,d=this.isImageLoaded(l)?this.decodeOnce(l,!1,!0):this._decodeOnLoadImage(l),d}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const d=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(d,l)}_decodeFromVideoElementSetup(a){if(!a)throw new ce("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new ce("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const d=this._decodeOnLoadImage(l);return l.src=a,d}decodeFromVideoUrl(a){if(!a)throw new ce("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),d=this.decodeFromVideoElement(l);return l.src=a,d}decodeFromVideoUrlContinuously(a,l){if(!a)throw new ce("An URL must be provided.");this.reset();const d=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(d,l);return d.src=a,p}_decodeOnLoadImage(a){return new Promise((l,d)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,d),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return Ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return Ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||0===a.naturalWidth)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),"string"==typeof a&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),"string"==typeof a&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,d=!0){this._stopAsyncDecode=!1;const p=(g,v)=>{if(this._stopAsyncDecode)return v(new j("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{g(this.decode(a))}catch(C){if(l&&C instanceof j||(C instanceof se||C instanceof Ce)&&d)return setTimeout(p,this._timeBetweenDecodingAttempts,g,v);v(C)}};return new Promise((g,v)=>p(g,v))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const d=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const p=this.decode(a);l(p,null),setTimeout(d,this.timeBetweenScansMillis)}catch(p){l(null,p),(p instanceof se||p instanceof Ce||p instanceof j)&&setTimeout(d,this._timeBetweenDecodingAttempts)}};d()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return 0!==a.videoWidth}drawFrameOnCanvas(a,l,d){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),d||(d=this.captureCanvasContext),d.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,d=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),d||(d=this.captureCanvasContext),d.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const d=this.getCaptureCanvas(a),p=new Xe(d),g=new we(p);return new pe(g)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const d=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=d}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let d,p;return typeof a<"u"&&(a instanceof HTMLVideoElement?(d=a.videoWidth,p=a.videoHeight):a instanceof HTMLImageElement&&(d=a.naturalWidth||a.width,p=a.naturalHeight||a.height)),l.style.width=d+"px",l.style.height=p+"px",l.width=d,l.height=p,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Nt{constructor(a,l,d=(null==l?0:8*l.length),p,g,v=Ee.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=d,this.resultPoints=p,this.format=g,this.timestamp=v,this.text=a,this.rawBytes=l,this.numBits=null==d?null==l?0:8*l.length:d,this.resultPoints=p,this.format=g,this.resultMetadata=null,this.timestamp=null==v?Ee.currentTimeMillis():v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){null!==a&&(this.resultMetadata=null===this.resultMetadata?a:new Map(a))}addResultPoints(a){const l=this.resultPoints;if(null===l)this.resultPoints=a;else if(null!==a&&a.length>0){const d=new Array(l.length+a.length);Ee.arraycopy(l,0,d,0,l.length),Ee.arraycopy(a,0,d,l.length,a.length),this.resultPoints=d}}getTimestamp(){return this.timestamp}toString(){return this.text}}var qe=function(D){return D[D.AZTEC=0]="AZTEC",D[D.CODABAR=1]="CODABAR",D[D.CODE_39=2]="CODE_39",D[D.CODE_93=3]="CODE_93",D[D.CODE_128=4]="CODE_128",D[D.DATA_MATRIX=5]="DATA_MATRIX",D[D.EAN_8=6]="EAN_8",D[D.EAN_13=7]="EAN_13",D[D.ITF=8]="ITF",D[D.MAXICODE=9]="MAXICODE",D[D.PDF_417=10]="PDF_417",D[D.QR_CODE=11]="QR_CODE",D[D.RSS_14=12]="RSS_14",D[D.RSS_EXPANDED=13]="RSS_EXPANDED",D[D.UPC_A=14]="UPC_A",D[D.UPC_E=15]="UPC_E",D[D.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",D}(qe||{}),Fe=qe,Zt=function(D){return D[D.OTHER=0]="OTHER",D[D.ORIENTATION=1]="ORIENTATION",D[D.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",D[D.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",D[D.ISSUE_NUMBER=4]="ISSUE_NUMBER",D[D.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",D[D.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",D[D.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",D[D.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",D[D.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",D[D.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",D}(Zt||{}),Ct=Zt;class yn{constructor(a,l,d,p,g=-1,v=-1){this.rawBytes=a,this.text=l,this.byteSegments=d,this.ecLevel=p,this.structuredAppendSequenceNumber=g,this.structuredAppendParity=v,this.numBits=null==a?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Wt{exp(a){return this.expTable[a]}log(a){if(0===a)throw new J;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class St{constructor(a,l){if(0===l.length)throw new J;this.field=a;const d=l.length;if(d>1&&0===l[0]){let p=1;for(;p<d&&0===l[p];)p++;p===d?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(d-p),Ee.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(0===a)return this.getCoefficient(0);const l=this.coefficients;let d;if(1===a){d=0;for(let v=0,C=l.length;v!==C;v++)d=Wt.addOrSubtract(d,l[v]);return d}d=l[0];const p=l.length,g=this.field;for(let v=1;v<p;v++)d=Wt.addOrSubtract(g.multiply(a,d),l[v]);return d}addOrSubtract(a){if(!this.field.equals(a.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,d=a.coefficients;if(l.length>d.length){const v=l;l=d,d=v}let p=new Int32Array(d.length);const g=d.length-l.length;Ee.arraycopy(d,0,p,0,g);for(let v=g;v<d.length;v++)p[v]=Wt.addOrSubtract(l[v-g],d[v]);return new St(this.field,p)}multiply(a){if(!this.field.equals(a.field))throw new J("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,d=l.length,p=a.coefficients,g=p.length,v=new Int32Array(d+g-1),C=this.field;for(let E=0;E<d;E++){const I=l[E];for(let A=0;A<g;A++)v[E+A]=Wt.addOrSubtract(v[E+A],C.multiply(I,p[A]))}return new St(C,v)}multiplyScalar(a){if(0===a)return this.field.getZero();if(1===a)return this;const l=this.coefficients.length,d=this.field,p=new Int32Array(l),g=this.coefficients;for(let v=0;v<l;v++)p[v]=d.multiply(g[v],a);return new St(d,p)}multiplyByMonomial(a,l){if(a<0)throw new J;if(0===l)return this.field.getZero();const d=this.coefficients,p=d.length,g=new Int32Array(p+a),v=this.field;for(let C=0;C<p;C++)g[C]=v.multiply(d[C],l);return new St(v,g)}divide(a){if(!this.field.equals(a.field))throw new J("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new J("Divide by 0");const l=this.field;let d=l.getZero(),p=this;const g=a.getCoefficient(a.getDegree()),v=l.inverse(g);for(;p.getDegree()>=a.getDegree()&&!p.isZero();){const C=p.getDegree()-a.getDegree(),E=l.multiply(p.getCoefficient(p.getDegree()),v),I=a.multiplyByMonomial(C,E),A=l.buildMonomial(C,E);d=d.addOrSubtract(A),p=p.addOrSubtract(I)}return[d,p]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);if(0!==d){if(d<0?(a+=" - ",d=-d):a.length>0&&(a+=" + "),0===l||1!==d){const p=this.field.log(d);0===p?a+="1":1===p?a+="a":(a+="a^",a+=p)}0!==l&&(1===l?a+="x":(a+="x^",a+=l))}}return a}}let Qe=(()=>{class D extends oe{}return D.kind="ArithmeticException",D})();class Ke extends Wt{constructor(a,l,d){super(),this.primitive=a,this.size=l,this.generatorBase=d;const p=new Int32Array(l);let g=1;for(let C=0;C<l;C++)p[C]=g,g*=2,g>=l&&(g^=a,g&=l-1);this.expTable=p;const v=new Int32Array(l);for(let C=0;C<l-1;C++)v[p[C]]=C;this.logTable=v,this.zero=new St(this,Int32Array.from([0])),this.one=new St(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new J;if(0===l)return this.zero;const d=new Int32Array(a+1);return d[0]=l,new St(this,d)}inverse(a){if(0===a)throw new Qe;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return 0===a||0===l?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+xe.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;let rn=(()=>{class D extends oe{}return D.kind="ReedSolomonException",D})(),on=(()=>{class D extends oe{}return D.kind="IllegalStateException",D})();class Gt{constructor(a){this.field=a}decode(a,l){const d=this.field,p=new St(d,a),g=new Int32Array(l);let v=!0;for(let L=0;L<l;L++){const z=p.evaluateAt(d.exp(L+d.getGeneratorBase()));g[g.length-1-L]=z,0!==z&&(v=!1)}if(v)return;const C=new St(d,g),E=this.runEuclideanAlgorithm(d.buildMonomial(l,1),C,l),A=E[1],O=this.findErrorLocations(E[0]),k=this.findErrorMagnitudes(A,O);for(let L=0;L<O.length;L++){const z=a.length-1-d.log(O[L]);if(z<0)throw new rn("Bad error location");a[z]=Ke.addOrSubtract(a[z],k[L])}}runEuclideanAlgorithm(a,l,d){if(a.getDegree()<l.getDegree()){const L=a;a=l,l=L}const p=this.field;let g=a,v=l,C=p.getZero(),E=p.getOne();for(;v.getDegree()>=(d/2|0);){let L=g,z=C;if(g=v,C=E,g.isZero())throw new rn("r_{i-1} was zero");v=L;let Q=p.getZero();const re=g.getCoefficient(g.getDegree()),ue=p.inverse(re);for(;v.getDegree()>=g.getDegree()&&!v.isZero();){const Ae=v.getDegree()-g.getDegree(),He=p.multiply(v.getCoefficient(v.getDegree()),ue);Q=Q.addOrSubtract(p.buildMonomial(Ae,He)),v=v.addOrSubtract(g.multiplyByMonomial(Ae,He))}if(E=Q.multiply(C).addOrSubtract(z),v.getDegree()>=g.getDegree())throw new on("Division algorithm failed to reduce polynomial?")}const I=E.getCoefficient(0);if(0===I)throw new rn("sigmaTilde(0) was zero");const A=p.inverse(I);return[E.multiplyScalar(A),v.multiplyScalar(A)]}findErrorLocations(a){const l=a.getDegree();if(1===l)return Int32Array.from([a.getCoefficient(1)]);const d=new Int32Array(l);let p=0;const g=this.field;for(let v=1;v<g.getSize()&&p<l;v++)0===a.evaluateAt(v)&&(d[p]=g.inverse(v),p++);if(p!==l)throw new rn("Error locator degree does not match number of roots");return d}findErrorMagnitudes(a,l){const d=l.length,p=new Int32Array(d),g=this.field;for(let v=0;v<d;v++){const C=g.inverse(l[v]);let E=1;for(let I=0;I<d;I++)if(v!==I){const A=g.multiply(l[I],C);E=g.multiply(E,1&A?-2&A:1|A)}p[v]=g.multiply(a.evaluateAt(C),g.inverse(E)),0!==g.getGeneratorBase()&&(p[v]=g.multiply(p[v],C))}return p}}var zt=function(D){return D[D.UPPER=0]="UPPER",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.DIGIT=3]="DIGIT",D[D.PUNCT=4]="PUNCT",D[D.BINARY=5]="BINARY",D}(zt||{});let Vt=(()=>{class D{decode(l){this.ddata=l;let d=l.getBits(),p=this.extractBits(d),g=this.correctBits(p),v=D.convertBoolArrayToByteArray(g),C=D.getEncodedData(g),E=new yn(v,C,null,null);return E.setNumBits(g.length),E}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let d=l.length,p=zt.UPPER,g=zt.UPPER,v="",C=0;for(;C<d;)if(g===zt.BINARY){if(d-C<5)break;let E=D.readCode(l,C,5);if(C+=5,0===E){if(d-C<11)break;E=D.readCode(l,C,11)+31,C+=11}for(let I=0;I<E;I++){if(d-C<8){C=d;break}const A=D.readCode(l,C,8);v+=B.castAsNonUtf8Char(A),C+=8}g=p}else{let E=g===zt.DIGIT?4:5;if(d-C<E)break;let I=D.readCode(l,C,E);C+=E;let A=D.getCharacter(g,I);A.startsWith("CTRL_")?(p=g,g=D.getTable(A.charAt(5)),"L"===A.charAt(6)&&(p=g)):(v+=A,g=p)}return v}static getTable(l){switch(l){case"L":return zt.LOWER;case"P":return zt.PUNCT;case"M":return zt.MIXED;case"D":return zt.DIGIT;case"B":return zt.BINARY;default:return zt.UPPER}}static getCharacter(l,d){switch(l){case zt.UPPER:return D.UPPER_TABLE[d];case zt.LOWER:return D.LOWER_TABLE[d];case zt.MIXED:return D.MIXED_TABLE[d];case zt.PUNCT:return D.PUNCT_TABLE[d];case zt.DIGIT:return D.DIGIT_TABLE[d];default:throw new on("Bad table")}}correctBits(l){let d,p;this.ddata.getNbLayers()<=2?(p=6,d=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,d=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,d=Ke.AZTEC_DATA_10):(p=12,d=Ke.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),v=l.length/p;if(v<g)throw new Ce;let C=l.length%p,E=new Int32Array(v);for(let L=0;L<v;L++,C+=p)E[L]=D.readCode(l,C,p);try{new Gt(d).decode(E,v-g)}catch(L){throw new Ce(L)}let I=(1<<p)-1,A=0;for(let L=0;L<g;L++){let z=E[L];if(0===z||z===I)throw new Ce;(1===z||z===I-1)&&A++}let O=new Array(g*p-A),k=0;for(let L=0;L<g;L++){let z=E[L];if(1===z||z===I-1)O.fill(z>1,k,k+p-1),k+=p-1;else for(let Q=p-1;Q>=0;--Q)O[k++]=!!(z&1<<Q)}return O}extractBits(l){let d=this.ddata.isCompact(),p=this.ddata.getNbLayers(),g=(d?11:14)+4*p,v=new Int32Array(g),C=new Array(this.totalBitsInLayer(p,d));if(d)for(let E=0;E<v.length;E++)v[E]=E;else{let E=g+1+2*xe.truncDivision(xe.truncDivision(g,2)-1,15),I=g/2,A=xe.truncDivision(E,2);for(let O=0;O<I;O++){let k=O+xe.truncDivision(O,15);v[I-O-1]=A-k-1,v[I+O]=A+k+1}}for(let E=0,I=0;E<p;E++){let A=4*(p-E)+(d?9:12),O=2*E,k=g-1-O;for(let L=0;L<A;L++){let z=2*L;for(let Q=0;Q<2;Q++)C[I+z+Q]=l.get(v[O+Q],v[O+L]),C[I+2*A+z+Q]=l.get(v[O+L],v[k-Q]),C[I+4*A+z+Q]=l.get(v[k-Q],v[k-L]),C[I+6*A+z+Q]=l.get(v[k-L],v[O+Q])}I+=8*A}return C}static readCode(l,d,p){let g=0;for(let v=d;v<d+p;v++)g<<=1,l[v]&&(g|=1);return g}static readByte(l,d){let p=l.length-d;return p>=8?D.readCode(l,d,8):D.readCode(l,d,p)<<8-p}static convertBoolArrayToByteArray(l){let d=new Uint8Array((l.length+7)/8);for(let p=0;p<d.length;p++)d[p]=D.readByte(l,8*p);return d}totalBitsInLayer(l,d){return((d?88:112)+16*l)*l}}return D.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],D.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],D.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],D.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],D.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],D})();class Je{constructor(){}static round(a){return NaN===a?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,d,p){const g=a-d,v=l-p;return Math.sqrt(g*g+v*v)}static sum(a){let l=0;for(let d=0,p=a.length;d!==p;d++)l+=a[d];return l}}class or{static floatToIntBits(a){return a}}or.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){return a instanceof de&&this.x===a.x&&this.y===a.y}hashCode(){return 31*or.floatToIntBits(this.x)+or.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),d=this.distance(a[1],a[2]),p=this.distance(a[0],a[2]);let g,v,C;if(d>=l&&d>=p?(v=a[0],g=a[1],C=a[2]):p>=d&&p>=l?(v=a[1],g=a[0],C=a[2]):(v=a[2],g=a[0],C=a[1]),this.crossProductZ(g,v,C)<0){const E=g;g=C,C=E}a[0]=g,a[1]=v,a[2]=C}static distance(a,l){return Je.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,d){const p=l.x,g=l.y;return(d.x-p)*(a.y-g)-(d.y-g)*(a.x-p)}}class Pn{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class dr extends Pn{constructor(a,l,d,p,g){super(a,l),this.compact=d,this.nbDatablocks=p,this.nbLayers=g}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let Ln=(()=>{class D{constructor(l,d,p,g){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),null==d&&(d=D.INIT_SIZE),null==p&&(p=l.getWidth()/2|0),null==g&&(g=l.getHeight()/2|0);const v=d/2|0;if(this.leftInit=p-v,this.rightInit=p+v,this.upInit=g-v,this.downInit=g+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let l=this.leftInit,d=this.rightInit,p=this.upInit,g=this.downInit,v=!1,C=!0,E=!1,I=!1,A=!1,O=!1,k=!1;const L=this.width,z=this.height;for(;C;){C=!1;let Q=!0;for(;(Q||!I)&&d<L;)Q=this.containsBlackPoint(p,g,d,!1),Q?(d++,C=!0,I=!0):I||d++;if(d>=L){v=!0;break}let re=!0;for(;(re||!A)&&g<z;)re=this.containsBlackPoint(l,d,g,!0),re?(g++,C=!0,A=!0):A||g++;if(g>=z){v=!0;break}let ue=!0;for(;(ue||!O)&&l>=0;)ue=this.containsBlackPoint(p,g,l,!1),ue?(l--,C=!0,O=!0):O||l--;if(l<0){v=!0;break}let Ae=!0;for(;(Ae||!k)&&p>=0;)Ae=this.containsBlackPoint(l,d,p,!0),Ae?(p--,C=!0,k=!0):k||p--;if(p<0){v=!0;break}C&&(E=!0)}if(!v&&E){const Q=d-l;let re=null;for(let ge=1;null===re&&ge<Q;ge++)re=this.getBlackPointOnSegment(l,g-ge,l+ge,g);if(null==re)throw new j;let ue=null;for(let ge=1;null===ue&&ge<Q;ge++)ue=this.getBlackPointOnSegment(l,p+ge,l+ge,p);if(null==ue)throw new j;let Ae=null;for(let ge=1;null===Ae&&ge<Q;ge++)Ae=this.getBlackPointOnSegment(d,p+ge,d-ge,p);if(null==Ae)throw new j;let He=null;for(let ge=1;null===He&&ge<Q;ge++)He=this.getBlackPointOnSegment(d,g-ge,d-ge,g);if(null==He)throw new j;return this.centerEdges(He,re,Ae,ue)}throw new j}getBlackPointOnSegment(l,d,p,g){const v=Je.round(Je.distance(l,d,p,g)),C=(p-l)/v,E=(g-d)/v,I=this.image;for(let A=0;A<v;A++){const O=Je.round(l+A*C),k=Je.round(d+A*E);if(I.get(O,k))return new de(O,k)}return null}centerEdges(l,d,p,g){const v=l.getX(),C=l.getY(),E=d.getX(),I=d.getY(),A=p.getX(),O=p.getY(),k=g.getX(),L=g.getY(),z=D.CORR;return v<this.width/2?[new de(k-z,L+z),new de(E+z,I+z),new de(A-z,O-z),new de(v+z,C-z)]:[new de(k+z,L+z),new de(E+z,I-z),new de(A-z,O+z),new de(v-z,C-z)]}containsBlackPoint(l,d,p,g){const v=this.image;if(g){for(let C=l;C<=d;C++)if(v.get(C,p))return!0}else for(let C=l;C<=d;C++)if(v.get(p,C))return!0;return!1}}return D.INIT_SIZE=10,D.CORR=1,D})();class pn{static checkAndNudgePoints(a,l){const d=a.getWidth(),p=a.getHeight();let g=!0;for(let v=0;v<l.length&&g;v+=2){const C=Math.floor(l[v]),E=Math.floor(l[v+1]);if(C<-1||C>d||E<-1||E>p)throw new j;g=!1,-1===C?(l[v]=0,g=!0):C===d&&(l[v]=d-1,g=!0),-1===E?(l[v+1]=0,g=!0):E===p&&(l[v+1]=p-1,g=!0)}g=!0;for(let v=l.length-2;v>=0&&g;v-=2){const C=Math.floor(l[v]),E=Math.floor(l[v+1]);if(C<-1||C>d||E<-1||E>p)throw new j;g=!1,-1===C?(l[v]=0,g=!0):C===d&&(l[v]=d-1,g=!0),-1===E?(l[v+1]=0,g=!0):E===p&&(l[v+1]=p-1,g=!0)}}}class Rt{constructor(a,l,d,p,g,v,C,E,I){this.a11=a,this.a21=l,this.a31=d,this.a12=p,this.a22=g,this.a32=v,this.a13=C,this.a23=E,this.a33=I}static quadrilateralToQuadrilateral(a,l,d,p,g,v,C,E,I,A,O,k,L,z,Q,re){const ue=Rt.quadrilateralToSquare(a,l,d,p,g,v,C,E);return Rt.squareToQuadrilateral(I,A,O,k,L,z,Q,re).times(ue)}transformPoints(a){const l=a.length,d=this.a11,p=this.a12,g=this.a13,v=this.a21,C=this.a22,E=this.a23,I=this.a31,A=this.a32,O=this.a33;for(let k=0;k<l;k+=2){const L=a[k],z=a[k+1],Q=g*L+E*z+O;a[k]=(d*L+v*z+I)/Q,a[k+1]=(p*L+C*z+A)/Q}}transformPointsWithValues(a,l){const d=this.a11,p=this.a12,g=this.a13,v=this.a21,C=this.a22,E=this.a23,I=this.a31,A=this.a32,O=this.a33,k=a.length;for(let L=0;L<k;L++){const z=a[L],Q=l[L],re=g*z+E*Q+O;a[L]=(d*z+v*Q+I)/re,l[L]=(p*z+C*Q+A)/re}}static squareToQuadrilateral(a,l,d,p,g,v,C,E){const I=a-d+g-C,A=l-p+v-E;if(0===I&&0===A)return new Rt(d-a,g-d,a,p-l,v-p,l,0,0,1);{const O=d-g,k=C-g,L=p-v,z=E-v,Q=O*z-k*L,re=(I*z-k*A)/Q,ue=(O*A-I*L)/Q;return new Rt(d-a+re*d,C-a+ue*C,a,p-l+re*p,E-l+ue*E,l,re,ue,1)}}static quadrilateralToSquare(a,l,d,p,g,v,C,E){return Rt.squareToQuadrilateral(a,l,d,p,g,v,C,E).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Rt(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Tt extends pn{sampleGrid(a,l,d,p,g,v,C,E,I,A,O,k,L,z,Q,re,ue,Ae,He){const ge=Rt.quadrilateralToQuadrilateral(p,g,v,C,E,I,A,O,k,L,z,Q,re,ue,Ae,He);return this.sampleGridWithTransform(a,l,d,ge)}sampleGridWithTransform(a,l,d,p){if(l<=0||d<=0)throw new j;const g=new fe(l,d),v=new Float32Array(2*l);for(let C=0;C<d;C++){const E=v.length,I=C+.5;for(let A=0;A<E;A+=2)v[A]=A/2+.5,v[A+1]=I;p.transformPoints(v),pn.checkAndNudgePoints(a,v);try{for(let A=0;A<E;A+=2)a.get(Math.floor(v[A]),Math.floor(v[A+1]))&&g.set(A/2,C)}catch{throw new j}}return g}}class Ge{static setGridSampler(a){Ge.gridSampler=a}static getInstance(){return Ge.gridSampler}}Ge.gridSampler=new Tt;class un{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Un{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),d=this.getBullsEyeCorners(l);if(a){let v=d[0];d[0]=d[2],d[2]=v}this.extractParameters(d);let p=this.sampleGrid(this.image,d[this.shift%4],d[(this.shift+1)%4],d[(this.shift+2)%4],d[(this.shift+3)%4]),g=this.getMatrixCornerPoints(d);return new dr(p,g,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!(this.isValidPoint(a[0])&&this.isValidPoint(a[1])&&this.isValidPoint(a[2])&&this.isValidPoint(a[3])))throw new j;let l=2*this.nbCenterLayers,d=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(d,l);let p=0;for(let v=0;v<4;v++){let C=d[(this.shift+v)%4];this.compact?(p<<=7,p+=C>>1&127):(p<<=10,p+=(C>>2&992)+(C>>1&31))}let g=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=1+(g>>6),this.nbDataBlocks=1+(63&g)):(this.nbLayers=1+(g>>11),this.nbDataBlocks=1+(2047&g))}getRotation(a,l){let d=0;a.forEach((p,g,v)=>{d=(p>>l-2<<1)+(1&p)+(d<<3)}),d=((1&d)<<11)+(d>>1);for(let p=0;p<4;p++)if(xe.bitCount(d^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new j}getCorrectedParameterData(a,l){let d,p;l?(d=7,p=2):(d=10,p=4);let g=d-p,v=new Int32Array(d);for(let E=d-1;E>=0;--E)v[E]=15&a,a>>=4;try{new Gt(Ke.AZTEC_PARAM).decode(v,g)}catch{throw new j}let C=0;for(let E=0;E<p;E++)C=(C<<4)+v[E];return C}getBullsEyeCorners(a){let l=a,d=a,p=a,g=a,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(l,v,1,-1),k=this.getFirstDifferent(d,v,1,1),L=this.getFirstDifferent(p,v,-1,1),z=this.getFirstDifferent(g,v,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(z,O)*this.nbCenterLayers/(this.distancePoint(g,l)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(O,k,L,z))break}l=O,d=k,p=L,g=z,v=!v}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new j;this.compact=5===this.nbCenterLayers;let C=new de(l.getX()+.5,l.getY()-.5),E=new de(d.getX()+.5,d.getY()+.5),I=new de(p.getX()-.5,p.getY()+.5),A=new de(g.getX()-.5,g.getY()-.5);return this.expandSquare([C,E,I,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,d,p;try{let C=new Ln(this.image).detect();a=C[0],l=C[1],d=C[2],p=C[3]}catch{let E=this.image.getWidth()/2,I=this.image.getHeight()/2;a=this.getFirstDifferent(new un(E+7,I-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new un(E+7,I+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new un(E-7,I+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new un(E-7,I-7),!1,-1,-1).toResultPoint()}let g=Je.round((a.getX()+p.getX()+l.getX()+d.getX())/4),v=Je.round((a.getY()+p.getY()+l.getY()+d.getY())/4);try{let C=new Ln(this.image,15,g,v).detect();a=C[0],l=C[1],d=C[2],p=C[3]}catch{a=this.getFirstDifferent(new un(g+7,v-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new un(g+7,v+7),!1,1,1).toResultPoint(),d=this.getFirstDifferent(new un(g-7,v+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new un(g-7,v-7),!1,-1,-1).toResultPoint()}return g=Je.round((a.getX()+p.getX()+l.getX()+d.getX())/4),v=Je.round((a.getY()+p.getY()+l.getY()+d.getY())/4),new un(g,v)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,d,p,g){let v=Ge.getInstance(),C=this.getDimension(),E=C/2-this.nbCenterLayers,I=C/2+this.nbCenterLayers;return v.sampleGrid(a,C,C,E,E,I,E,I,I,E,I,l.getX(),l.getY(),d.getX(),d.getY(),p.getX(),p.getY(),g.getX(),g.getY())}sampleLine(a,l,d){let p=0,g=this.distanceResultPoint(a,l),v=g/d,C=a.getX(),E=a.getY(),I=v*(l.getX()-a.getX())/g,A=v*(l.getY()-a.getY())/g;for(let O=0;O<d;O++)this.image.get(Je.round(C+O*I),Je.round(E+O*A))&&(p|=1<<d-O-1);return p}isWhiteOrBlackRectangle(a,l,d,p){a=new un(a.getX()-3,a.getY()+3),l=new un(l.getX()-3,l.getY()-3),d=new un(d.getX()+3,d.getY()-3),p=new un(p.getX()+3,p.getY()+3);let v=this.getColor(p,a);if(0===v)return!1;let C=this.getColor(a,l);return C===v&&(C=this.getColor(l,d),C===v)&&(C=this.getColor(d,p),C===v)}getColor(a,l){let d=this.distancePoint(a,l),p=(l.getX()-a.getX())/d,g=(l.getY()-a.getY())/d,v=0,C=a.getX(),E=a.getY(),I=this.image.get(a.getX(),a.getY()),A=Math.ceil(d);for(let k=0;k<A;k++)C+=p,E+=g,this.image.get(Je.round(C),Je.round(E))!==I&&v++;let O=v/d;return O>.1&&O<.9?0:O<=.1===I?1:-1}getFirstDifferent(a,l,d,p){let g=a.getX()+d,v=a.getY()+p;for(;this.isValid(g,v)&&this.image.get(g,v)===l;)g+=d,v+=p;for(g-=d,v-=p;this.isValid(g,v)&&this.image.get(g,v)===l;)g+=d;for(g-=d;this.isValid(g,v)&&this.image.get(g,v)===l;)v+=p;return v-=p,new un(g,v)}expandSquare(a,l,d){let p=d/(2*l),g=a[0].getX()-a[2].getX(),v=a[0].getY()-a[2].getY(),C=(a[0].getX()+a[2].getX())/2,E=(a[0].getY()+a[2].getY())/2,I=new de(C+p*g,E+p*v),A=new de(C-p*g,E-p*v);return g=a[1].getX()-a[3].getX(),v=a[1].getY()-a[3].getY(),C=(a[1].getX()+a[3].getX())/2,E=(a[1].getY()+a[3].getY())/2,[I,new de(C+p*g,E+p*v),A,new de(C-p*g,E-p*v)]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=Je.round(a.getX()),d=Je.round(a.getY());return this.isValid(l,d)}distancePoint(a,l){return Je.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return Je.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(xe.truncDivision(this.nbLayers-4,8)+1)+15}}class vn{decode(a,l=null){let d=null,p=new Un(a.getBlackMatrix()),g=null,v=null;try{let A=p.detectMirror(!1);g=A.getPoints(),this.reportFoundResultPoints(l,g),v=(new Vt).decode(A)}catch(A){d=A}if(null==v)try{let A=p.detectMirror(!0);g=A.getPoints(),this.reportFoundResultPoints(l,g),v=(new Vt).decode(A)}catch(A){throw d??A}let C=new Nt(v.getText(),v.getRawBytes(),v.getNumBits(),g,Fe.AZTEC,Ee.currentTimeMillis()),E=v.getByteSegments();null!=E&&C.putMetadata(Ct.BYTE_SEGMENTS,E);let I=v.getECLevel();return null!=I&&C.putMetadata(Ct.ERROR_CORRECTION_LEVEL,I),C}reportFoundResultPoints(a,l){if(null!=a){let d=a.get(Ve.NEED_RESULT_POINT_CALLBACK);null!=d&&l.forEach((p,g,v)=>{d.foundPossibleResultPoint(p)})}}reset(){}}class Mt{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&!0===l.get(Ve.TRY_HARDER)&&a.isRotateSupported()){const g=a.rotateCounterClockwise(),v=this.doDecode(g,l),C=v.getResultMetadata();let E=270;null!==C&&!0===C.get(Ct.ORIENTATION)&&(E+=C.get(Ct.ORIENTATION)%360),v.putMetadata(Ct.ORIENTATION,E);const I=v.getResultPoints();if(null!==I){const A=g.getHeight();for(let O=0;O<I.length;O++)I[O]=new de(A-I[O].getY()-1,I[O].getX())}return v}throw new j}}reset(){}doDecode(a,l){const d=a.getWidth(),p=a.getHeight();let g=new ke(d);const v=l&&!0===l.get(Ve.TRY_HARDER),C=Math.max(1,p>>(v?8:5));let E;E=v?p:15;const I=Math.trunc(p/2);for(let A=0;A<E;A++){const O=Math.trunc((A+1)/2),L=I+C*(1&A?-O:O);if(L<0||L>=p)break;try{g=a.getBlackRow(L,g)}catch{continue}for(let z=0;z<2;z++){if(1===z&&(g.reverse(),l&&!0===l.get(Ve.NEED_RESULT_POINT_CALLBACK))){const Q=new Map;l.forEach((re,ue)=>Q.set(ue,re)),Q.delete(Ve.NEED_RESULT_POINT_CALLBACK),l=Q}try{const Q=this.decodeRow(L,g,l);if(1===z){Q.putMetadata(Ct.ORIENTATION,180);const re=Q.getResultPoints();null!==re&&(re[0]=new de(d-re[0].getX()-1,re[0].getY()),re[1]=new de(d-re[1].getX()-1,re[1].getY()))}return Q}catch{}}}throw new j}static recordPattern(a,l,d){const p=d.length;for(let I=0;I<p;I++)d[I]=0;const g=a.getSize();if(l>=g)throw new j;let v=!a.get(l),C=0,E=l;for(;E<g;){if(a.get(E)!==v)d[C]++;else{if(++C===p)break;d[C]=1,v=!v}E++}if(C!==p&&(C!==p-1||E!==g))throw new j}static recordPatternInReverse(a,l,d){let p=d.length,g=a.get(l);for(;l>0&&p>=0;)a.get(--l)!==g&&(p--,g=!g);if(p>=0)throw new j;Mt.recordPattern(a,l+1,d)}static patternMatchVariance(a,l,d){const p=a.length;let g=0,v=0;for(let I=0;I<p;I++)g+=a[I],v+=l[I];if(g<v)return Number.POSITIVE_INFINITY;const C=g/v;d*=C;let E=0;for(let I=0;I<p;I++){const A=a[I],O=l[I]*C,k=A>O?A-O:O-A;if(k>d)return Number.POSITIVE_INFINITY;E+=k}return E/g}}class Me extends Mt{static findStartPattern(a){const l=a.getSize(),d=a.getNextSet(0);let p=0,g=Int32Array.from([0,0,0,0,0,0]),v=d,C=!1;for(let I=d;I<l;I++)if(a.get(I)!==C)g[p]++;else{if(5===p){let A=Me.MAX_AVG_VARIANCE,O=-1;for(let k=Me.CODE_START_A;k<=Me.CODE_START_C;k++){const L=Mt.patternMatchVariance(g,Me.CODE_PATTERNS[k],Me.MAX_INDIVIDUAL_VARIANCE);L<A&&(A=L,O=k)}if(O>=0&&a.isRange(Math.max(0,v-(I-v)/2),v,!1))return Int32Array.from([v,I,O]);v+=g[0]+g[1],g=g.slice(2,g.length-1),g[p-1]=0,g[p]=0,p--}else p++;g[p]=1,C=!C}throw new j}static decodeCode(a,l,d){Mt.recordPattern(a,d,l);let p=Me.MAX_AVG_VARIANCE,g=-1;for(let v=0;v<Me.CODE_PATTERNS.length;v++){const E=this.patternMatchVariance(l,Me.CODE_PATTERNS[v],Me.MAX_INDIVIDUAL_VARIANCE);E<p&&(p=E,g=v)}if(g>=0)return g;throw new j}decodeRow(a,l,d){const p=d&&!0===d.get(Ve.ASSUME_GS1),g=Me.findStartPattern(l),v=g[2];let C=0;const E=new Uint8Array(20);let I;switch(E[C++]=v,v){case Me.CODE_START_A:I=Me.CODE_CODE_A;break;case Me.CODE_START_B:I=Me.CODE_CODE_B;break;case Me.CODE_START_C:I=Me.CODE_CODE_C;break;default:throw new Ce}let A=!1,O=!1,k="",L=g[0],z=g[1];const Q=Int32Array.from([0,0,0,0,0,0]);let re=0,ue=0,Ae=v,He=0,ge=!0,jt=!1,Dt=!1;for(;!A;){const to=O;switch(O=!1,re=ue,ue=Me.decodeCode(l,Q,z),E[C++]=ue,ue!==Me.CODE_STOP&&(ge=!0),ue!==Me.CODE_STOP&&(He++,Ae+=He*ue),L=z,z+=Q.reduce((Df,Gc)=>Df+Gc,0),ue){case Me.CODE_START_A:case Me.CODE_START_B:case Me.CODE_START_C:throw new Ce}switch(I){case Me.CODE_CODE_A:if(ue<64)k+=String.fromCharCode(Dt===jt?32+ue:32+ue+128),Dt=!1;else if(ue<96)k+=String.fromCharCode(Dt===jt?ue-64:ue+64),Dt=!1;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_A:!jt&&Dt?(jt=!0,Dt=!1):jt&&Dt?(jt=!1,Dt=!1):Dt=!0;break;case Me.CODE_SHIFT:O=!0,I=Me.CODE_CODE_B;break;case Me.CODE_CODE_B:I=Me.CODE_CODE_B;break;case Me.CODE_CODE_C:I=Me.CODE_CODE_C;break;case Me.CODE_STOP:A=!0}break;case Me.CODE_CODE_B:if(ue<96)k+=String.fromCharCode(Dt===jt?32+ue:32+ue+128),Dt=!1;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_FNC_2:case Me.CODE_FNC_3:break;case Me.CODE_FNC_4_B:!jt&&Dt?(jt=!0,Dt=!1):jt&&Dt?(jt=!1,Dt=!1):Dt=!0;break;case Me.CODE_SHIFT:O=!0,I=Me.CODE_CODE_A;break;case Me.CODE_CODE_A:I=Me.CODE_CODE_A;break;case Me.CODE_CODE_C:I=Me.CODE_CODE_C;break;case Me.CODE_STOP:A=!0}break;case Me.CODE_CODE_C:if(ue<100)ue<10&&(k+="0"),k+=ue;else switch(ue!==Me.CODE_STOP&&(ge=!1),ue){case Me.CODE_FNC_1:p&&(k+=0===k.length?"]C1":"\x1d");break;case Me.CODE_CODE_A:I=Me.CODE_CODE_A;break;case Me.CODE_CODE_B:I=Me.CODE_CODE_B;break;case Me.CODE_STOP:A=!0}}to&&(I=I===Me.CODE_CODE_A?Me.CODE_CODE_B:Me.CODE_CODE_A)}const Rr=z-L;if(z=l.getNextUnset(z),!l.isRange(z,Math.min(l.getSize(),z+(z-L)/2),!1))throw new j;if(Ae-=He*re,Ae%103!==re)throw new se;const jr=k.length;if(0===jr)throw new j;jr>0&&ge&&(k=k.substring(0,I===Me.CODE_CODE_C?jr-2:jr-1));const gr=(g[1]+g[0])/2,an=L+Rr/2,Mn=E.length,Hr=new Uint8Array(Mn);for(let to=0;to<Mn;to++)Hr[to]=E[to];const eo=[new de(gr,a),new de(an,a)];return new Nt(k,Hr,0,eo,Fe.CODE_128,(new Date).getTime())}}Me.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Me.MAX_AVG_VARIANCE=.25,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.CODE_SHIFT=98,Me.CODE_CODE_C=99,Me.CODE_CODE_B=100,Me.CODE_CODE_A=101,Me.CODE_FNC_1=102,Me.CODE_FNC_2=97,Me.CODE_FNC_3=96,Me.CODE_FNC_4_A=101,Me.CODE_FNC_4_B=100,Me.CODE_START_A=103,Me.CODE_START_B=104,Me.CODE_START_C=105,Me.CODE_STOP=106;let $t=(()=>{class D extends Mt{constructor(l=!1,d=!1){super(),this.usingCheckDigit=l,this.extendedMode=d,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,d,p){let g=this.counters;g.fill(0),this.decodeRowResult="";let I,A,v=D.findAsteriskPattern(d,g),C=d.getNextSet(v[1]),E=d.getSize();do{D.recordPattern(d,C,g);let re=D.toNarrowWidePattern(g);if(re<0)throw new j;I=D.patternToChar(re),this.decodeRowResult+=I,A=C;for(let ue of g)C+=ue;C=d.getNextSet(C)}while("*"!==I);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let L,O=0;for(let re of g)O+=re;if(C!==E&&2*(C-A-O)<O)throw new j;if(this.usingCheckDigit){let re=this.decodeRowResult.length-1,ue=0;for(let Ae=0;Ae<re;Ae++)ue+=D.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ae));if(this.decodeRowResult.charAt(re)!==D.ALPHABET_STRING.charAt(ue%43))throw new se;this.decodeRowResult=this.decodeRowResult.substring(0,re)}if(0===this.decodeRowResult.length)throw new j;L=this.extendedMode?D.decodeExtended(this.decodeRowResult):this.decodeRowResult;let Q=A+O/2;return new Nt(L,null,0,[new de((v[1]+v[0])/2,l),new de(Q,l)],Fe.CODE_39,(new Date).getTime())}static findAsteriskPattern(l,d){let p=l.getSize(),g=l.getNextSet(0),v=0,C=g,E=!1,I=d.length;for(let A=g;A<p;A++)if(l.get(A)!==E)d[v]++;else{if(v===I-1){if(this.toNarrowWidePattern(d)===D.ASTERISK_ENCODING&&l.isRange(Math.max(0,C-Math.floor((A-C)/2)),C,!1))return[C,A];C+=d[0]+d[1],d.copyWithin(0,2,2+v-1),d[v-1]=0,d[v]=0,v--}else v++;d[v]=1,E=!E}throw new j}static toNarrowWidePattern(l){let g,d=l.length,p=0;do{let v=2147483647;for(let I of l)I<v&&I>p&&(v=I);p=v,g=0;let C=0,E=0;for(let I=0;I<d;I++){let A=l[I];A>p&&(E|=1<<d-1-I,g++,C+=A)}if(3===g){for(let I=0;I<d&&g>0;I++){let A=l[I];if(A>p&&(g--,2*A>=C))return-1}return E}}while(g>3);return-1}static patternToChar(l){for(let d=0;d<D.CHARACTER_ENCODINGS.length;d++)if(D.CHARACTER_ENCODINGS[d]===l)return D.ALPHABET_STRING.charAt(d);if(l===D.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(l){let d=l.length,p="";for(let g=0;g<d;g++){let v=l.charAt(g);if("+"===v||"$"===v||"%"===v||"/"===v){let C=l.charAt(g+1),E="\0";switch(v){case"+":if(!(C>="A"&&C<="Z"))throw new Ce;E=String.fromCharCode(C.charCodeAt(0)+32);break;case"$":if(!(C>="A"&&C<="Z"))throw new Ce;E=String.fromCharCode(C.charCodeAt(0)-64);break;case"%":if(C>="A"&&C<="E")E=String.fromCharCode(C.charCodeAt(0)-38);else if(C>="F"&&C<="J")E=String.fromCharCode(C.charCodeAt(0)-11);else if(C>="K"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)+16);else if(C>="P"&&C<="T")E=String.fromCharCode(C.charCodeAt(0)+43);else if("U"===C)E="\0";else if("V"===C)E="@";else if("W"===C)E="`";else{if("X"!==C&&"Y"!==C&&"Z"!==C)throw new Ce;E="\x7f"}break;case"/":if(C>="A"&&C<="O")E=String.fromCharCode(C.charCodeAt(0)-32);else{if("Z"!==C)throw new Ce;E=":"}}p+=E,g++}else p+=v}return p}}return D.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",D.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],D.ASTERISK_ENCODING=148,D})();class gt extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,d){let p=this.decodeStart(l),g=this.decodeEnd(l),v=new te;gt.decodeMiddle(l,p[1],g[0],v);let C=v.toString(),E=null;null!=d&&(E=d.get(Ve.ALLOWED_LENGTHS)),null==E&&(E=gt.DEFAULT_ALLOWED_LENGTHS);let I=C.length,A=!1,O=0;for(let z of E){if(I===z){A=!0;break}z>O&&(O=z)}if(!A&&I>O&&(A=!0),!A)throw new Ce;const k=[new de(p[1],a),new de(g[0],a)];return new Nt(C,null,0,k,Fe.ITF,(new Date).getTime())}static decodeMiddle(a,l,d,p){let g=new Int32Array(10),v=new Int32Array(5),C=new Int32Array(5);for(g.fill(0),v.fill(0),C.fill(0);l<d;){Mt.recordPattern(a,l,g);for(let I=0;I<5;I++){let A=2*I;v[I]=g[A],C[I]=g[A+1]}let E=gt.decodeDigit(v);p.append(E.toString()),E=this.decodeDigit(C),p.append(E.toString()),g.forEach(function(I){l+=I})}}decodeStart(a){let l=gt.skipWhiteSpace(a),d=gt.findGuardPattern(a,l,gt.START_PATTERN);return this.narrowLineWidth=(d[1]-d[0])/4,this.validateQuietZone(a,d[0]),d}validateQuietZone(a,l){let d=10*this.narrowLineWidth;d=d<l?d:l;for(let p=l-1;d>0&&p>=0&&!a.get(p);p--)d--;if(0!==d)throw new j}static skipWhiteSpace(a){const l=a.getSize(),d=a.getNextSet(0);if(d===l)throw new j;return d}decodeEnd(a){a.reverse();try{let d,l=gt.skipWhiteSpace(a);try{d=gt.findGuardPattern(a,l,gt.END_PATTERN_REVERSED[0])}catch(g){g instanceof j&&(d=gt.findGuardPattern(a,l,gt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,d[0]);let p=d[0];return d[0]=a.getSize()-d[1],d[1]=a.getSize()-p,d}finally{a.reverse()}}static findGuardPattern(a,l,d){let p=d.length,g=new Int32Array(p),v=a.getSize(),C=!1,E=0,I=l;g.fill(0);for(let A=l;A<v;A++)if(a.get(A)!==C)g[E]++;else{if(E===p-1){if(Mt.patternMatchVariance(g,d,gt.MAX_INDIVIDUAL_VARIANCE)<gt.MAX_AVG_VARIANCE)return[I,A];I+=g[0]+g[1],Ee.arraycopy(g,2,g,0,E-1),g[E-1]=0,g[E]=0,E--}else E++;g[E]=1,C=!C}throw new j}static decodeDigit(a){let l=gt.MAX_AVG_VARIANCE,d=-1,p=gt.PATTERNS.length;for(let g=0;g<p;g++){let C=Mt.patternMatchVariance(a,gt.PATTERNS[g],gt.MAX_INDIVIDUAL_VARIANCE);C<l?(l=C,d=g):C===l&&(d=-1)}if(d>=0)return d%10;throw new j}}gt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],gt.MAX_AVG_VARIANCE=.38,gt.MAX_INDIVIDUAL_VARIANCE=.5,gt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],gt.START_PATTERN=Int32Array.from([1,1,1,1]),gt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class nt extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let d,l=!1,p=0,g=Int32Array.from([0,0,0]);for(;!l;){g=Int32Array.from([0,0,0]),d=nt.findGuardPattern(a,p,!1,this.START_END_PATTERN,g);let v=d[0];p=d[1];let C=v-(p-v);C>=0&&(l=a.isRange(C,v,!1))}return d}static checkChecksum(a){return nt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(0===l)return!1;let d=parseInt(a.charAt(l-1),10);return nt.getStandardUPCEANChecksum(a.substring(0,l-1))===d}static getStandardUPCEANChecksum(a){let l=a.length,d=0;for(let p=l-1;p>=0;p-=2){let g=a.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new Ce;d+=g}d*=3;for(let p=l-2;p>=0;p-=2){let g=a.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new Ce;d+=g}return(1e3-d)%10}static decodeEnd(a,l){return nt.findGuardPattern(a,l,!1,nt.START_END_PATTERN,new Int32Array(nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,d,p){return this.findGuardPattern(a,l,d,p,new Int32Array(p.length))}static findGuardPattern(a,l,d,p,g){let v=a.getSize(),C=0,E=l=d?a.getNextUnset(l):a.getNextSet(l),I=p.length,A=d;for(let O=l;O<v;O++)if(a.get(O)!==A)g[C]++;else{if(C===I-1){if(Mt.patternMatchVariance(g,p,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return Int32Array.from([E,O]);E+=g[0]+g[1];let k=g.slice(2,g.length-1);for(let L=0;L<C-1;L++)g[L]=k[L];g[C-1]=0,g[C]=0,C--}else C++;g[C]=1,A=!A}throw new j}static decodeDigit(a,l,d,p){this.recordPattern(a,d,l);let g=this.MAX_AVG_VARIANCE,v=-1,C=p.length;for(let E=0;E<C;E++){let A=Mt.patternMatchVariance(l,p[E],nt.MAX_INDIVIDUAL_VARIANCE);A<g&&(g=A,v=E)}if(v>=0)return v;throw new j}}nt.MAX_AVG_VARIANCE=.48,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.START_END_PATTERN=Int32Array.from([1,1,1]),nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,d){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,d,p),v=p.toString(),C=mo.parseExtensionString(v),E=[new de((d[0]+d[1])/2,a),new de(g,a)],I=new Nt(v,null,0,E,Fe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=C&&I.putAllMetadata(C),I}decodeMiddle(a,l,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=a.getSize(),v=l[1],C=0;for(let I=0;I<5&&v<g;I++){let A=nt.decodeDigit(a,p,v,nt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+A%10);for(let O of p)v+=O;A>=10&&(C|=1<<4-I),4!==I&&(v=a.getNextSet(v),v=a.getNextUnset(v))}if(5!==d.length)throw new j;let E=this.determineCheckDigit(C);if(mo.extensionChecksum(d.toString())!==E)throw new j;return v}static extensionChecksum(a){let l=a.length,d=0;for(let p=l-2;p>=0;p-=2)d+=a.charAt(p).charCodeAt(0)-48;d*=3;for(let p=l-1;p>=0;p-=2)d+=a.charAt(p).charCodeAt(0)-48;return d*=3,d%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new j}static parseExtensionString(a){if(5!==a.length)return null;let l=mo.parseExtension5String(a);return null==l?null:new Map([[Ct.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="\xa3";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l=""}let d=parseInt(a.substring(1)),g=d%100;return l+(d/100).toString()+"."+(g<10?"0"+g:g.toString())}}class Pt{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,d){let p=this.decodeRowStringBuffer,g=this.decodeMiddle(l,d,p),v=p.toString(),C=Pt.parseExtensionString(v),E=[new de((d[0]+d[1])/2,a),new de(g,a)],I=new Nt(v,null,0,E,Fe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=C&&I.putAllMetadata(C),I}decodeMiddle(a,l,d){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=a.getSize(),v=l[1],C=0;for(let E=0;E<2&&v<g;E++){let I=nt.decodeDigit(a,p,v,nt.L_AND_G_PATTERNS);d+=String.fromCharCode(48+I%10);for(let A of p)v+=A;I>=10&&(C|=1<<1-E),1!==E&&(v=a.getNextSet(v),v=a.getNextUnset(v))}if(2!==d.length)throw new j;if(parseInt(d.toString())%4!==C)throw new j;return v}static parseExtensionString(a){return 2!==a.length?null:new Map([[Ct.ISSUE_NUMBER,parseInt(a)]])}}class hu{static decodeRow(a,l,d){let p=nt.findGuardPattern(l,d,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new mo).decodeRow(a,l,p)}catch{return(new Pt).decodeRow(a,l,p)}}}hu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ut extends nt{constructor(){super(),this.decodeRowStringBuffer="",ut.L_AND_G_PATTERNS=ut.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=ut.L_PATTERNS[a-10],d=new Int32Array(l.length);for(let p=0;p<l.length;p++)d[p]=l[l.length-p-1];ut.L_AND_G_PATTERNS[a]=d}}decodeRow(a,l,d){let p=ut.findStartGuardPattern(l),g=null==d?null:d.get(Ve.NEED_RESULT_POINT_CALLBACK);if(null!=g){const ge=new de((p[0]+p[1])/2,a);g.foundPossibleResultPoint(ge)}let v=this.decodeMiddle(l,p,this.decodeRowStringBuffer),C=v.rowOffset,E=v.resultString;if(null!=g){const ge=new de(C,a);g.foundPossibleResultPoint(ge)}let I=this.decodeEnd(l,C);if(null!=g){const ge=new de((I[0]+I[1])/2,a);g.foundPossibleResultPoint(ge)}let A=I[1],O=A+(A-I[0]);if(O>=l.getSize()||!l.isRange(A,O,!1))throw new j;let k=E.toString();if(k.length<8)throw new Ce;if(!ut.checkChecksum(k))throw new se;let L=(p[1]+p[0])/2,z=(I[1]+I[0])/2,Q=this.getBarcodeFormat(),re=[new de(L,a),new de(z,a)],ue=new Nt(k,null,0,re,Q,(new Date).getTime()),Ae=0;try{let ge=hu.decodeRow(a,l,I[1]);ue.putMetadata(Ct.UPC_EAN_EXTENSION,ge.getText()),ue.putAllMetadata(ge.getResultMetadata()),ue.addResultPoints(ge.getResultPoints()),Ae=ge.getText().length}catch{}let He=null==d?null:d.get(Ve.ALLOWED_EAN_EXTENSIONS);if(null!=He){let ge=!1;for(let jt in He)if(Ae.toString()===jt){ge=!0;break}if(!ge)throw new j}return ue}decodeEnd(a,l){return ut.findGuardPattern(a,l,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return ut.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(0===l)return!1;let d=parseInt(a.charAt(l-1),10);return ut.getStandardUPCEANChecksum(a.substring(0,l-1))===d}static getStandardUPCEANChecksum(a){let l=a.length,d=0;for(let p=l-1;p>=0;p-=2){let g=a.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new Ce;d+=g}d*=3;for(let p=l-2;p>=0;p-=2){let g=a.charAt(p).charCodeAt(0)-48;if(g<0||g>9)throw new Ce;d+=g}return(1e3-d)%10}}let Jo=(()=>{class D extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,d,p){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),C=d[1],E=0;for(let A=0;A<6&&C<v;A++){let O=ut.decodeDigit(l,g,C,ut.L_AND_G_PATTERNS);p+=String.fromCharCode(48+O%10);for(let k of g)C+=k;O>=10&&(E|=1<<5-A)}p=D.determineFirstDigit(p,E),C=ut.findGuardPattern(l,C,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&C<v;A++){let O=ut.decodeDigit(l,g,C,ut.L_PATTERNS);p+=String.fromCharCode(48+O);for(let k of g)C+=k}return{rowOffset:C,resultString:p}}getBarcodeFormat(){return Fe.EAN_13}static determineFirstDigit(l,d){for(let p=0;p<10;p++)if(d===this.FIRST_DIGIT_ENCODINGS[p])return String.fromCharCode(48+p)+l;throw new j}}return D.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],D})();class pu extends ut{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,d){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=a.getSize(),v=l[1];for(let E=0;E<4&&v<g;E++){let I=ut.decodeDigit(a,p,v,ut.L_PATTERNS);d+=String.fromCharCode(48+I);for(let A of p)v+=A}v=ut.findGuardPattern(a,v,!0,ut.MIDDLE_PATTERN,new Int32Array(ut.MIDDLE_PATTERN.length).fill(0))[1];for(let E=0;E<4&&v<g;E++){let I=ut.decodeDigit(a,p,v,ut.L_PATTERNS);d+=String.fromCharCode(48+I);for(let A of p)v+=A}return{rowOffset:v,resultString:d}}getBarcodeFormat(){return Fe.EAN_8}}class va extends ut{constructor(){super(...arguments),this.ean13Reader=new Jo}getBarcodeFormat(){return Fe.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,d){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,d))}decodeMiddle(a,l,d){return this.ean13Reader.decodeMiddle(a,l,d)}maybeReturnResult(a){let l=a.getText();if("0"===l.charAt(0)){let d=new Nt(l.substring(1),null,null,a.getResultPoints(),Fe.UPC_A);return null!=a.getResultMetadata()&&d.putAllMetadata(a.getResultMetadata()),d}throw new j}reset(){this.ean13Reader.reset()}}class sr extends ut{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,d){const p=this.decodeMiddleCounters.map(I=>I);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const g=a.getSize();let v=l[1],C=0;for(let I=0;I<6&&v<g;I++){const A=sr.decodeDigit(a,p,v,sr.L_AND_G_PATTERNS);d+=String.fromCharCode(48+A%10);for(let O of p)v+=O;A>=10&&(C|=1<<5-I)}return{rowOffset:v,resultString:sr.determineNumSysAndCheckDigit(d,C)}}decodeEnd(a,l){return sr.findGuardPatternWithoutCounters(a,l,!0,sr.MIDDLE_END_PATTERN)}checkChecksum(a){return ut.checkChecksum(sr.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let d=0;d<=1;d++)for(let p=0;p<10;p++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[d][p])return String.fromCharCode(48+d)+a+String.fromCharCode(48+p);throw j.getNotFoundInstance()}getBarcodeFormat(){return Fe.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(g=>g.charCodeAt(0)),d=new te;d.append(a.charAt(0));let p=l[5];switch(p){case 0:case 1:case 2:d.appendChars(l,0,2),d.append(p),d.append("0000"),d.appendChars(l,2,3);break;case 3:d.appendChars(l,0,3),d.append("00000"),d.appendChars(l,3,2);break;case 4:d.appendChars(l,0,4),d.append("00000"),d.append(l[4]);break;default:d.appendChars(l,0,5),d.append("0000"),d.append(p)}return a.length>=8&&d.append(a.charAt(7)),d.toString()}}sr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),sr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ct extends Mt{constructor(a){super();let l=null==a?null:a.get(Ve.POSSIBLE_FORMATS),d=[];c(l)?(d.push(new Jo),d.push(new va),d.push(new pu),d.push(new sr)):(l.indexOf(Fe.EAN_13)>-1&&d.push(new Jo),l.indexOf(Fe.UPC_A)>-1&&d.push(new va),l.indexOf(Fe.EAN_8)>-1&&d.push(new pu),l.indexOf(Fe.UPC_E)>-1&&d.push(new sr)),this.readers=d}decodeRow(a,l,d){for(let p of this.readers)try{const g=p.decodeRow(a,l,d),v=g.getBarcodeFormat()===Fe.EAN_13&&"0"===g.getText().charAt(0),C=null==d?null:d.get(Ve.POSSIBLE_FORMATS),E=null==C||C.includes(Fe.UPC_A);if(v&&E){const I=g.getRawBytes(),A=new Nt(g.getText().substring(1),I,I?I.length:null,g.getResultPoints(),Fe.UPC_A);return A.putAllMetadata(g.getResultMetadata()),A}return g}catch{}throw new j}reset(){for(let a of this.readers)a.reset()}}let di=(()=>{class D extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,d){for(let p=0;p<d.length;p++)if(Mt.patternMatchVariance(l,d[p],D.MAX_INDIVIDUAL_VARIANCE)<D.MAX_AVG_VARIANCE)return p;throw new j}static count(l){return Je.sum(new Int32Array(l))}static increment(l,d){let p=0,g=d[0];for(let v=1;v<l.length;v++)d[v]>g&&(g=d[v],p=v);l[p]++}static decrement(l,d){let p=0,g=d[0];for(let v=1;v<l.length;v++)d[v]<g&&(g=d[v],p=v);l[p]--}static isFinderPattern(l){let d=l[0]+l[1],g=d/(d+l[2]+l[3]);if(g>=D.MIN_FINDER_PATTERN_RATIO&&g<=D.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,C=Number.MIN_SAFE_INTEGER;for(let E of l)E>C&&(C=E),E<v&&(v=E);return C<10*v}return!1}}return D.MAX_AVG_VARIANCE=.2,D.MAX_INDIVIDUAL_VARIANCE=.45,D.MIN_FINDER_PATTERN_RATIO=9.5/12,D.MAX_FINDER_PATTERN_RATIO=12.5/14,D})();class Gn{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){return a instanceof Gn&&this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class kc{constructor(a,l,d,p,g){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new de(d,g)),this.resultPoints.push(new de(p,g))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){return a instanceof kc&&this.value===a.value}hashCode(){return this.value}}class fi{constructor(){}static getRSSvalue(a,l,d){let p=0;for(let E of a)p+=E;let g=0,v=0,C=a.length;for(let E=0;E<C-1;E++){let I;for(I=1,v|=1<<E;I<a[E];I++,v&=~(1<<E)){let A=fi.combins(p-I-1,C-E-2);if(d&&0===v&&p-I-(C-E-1)>=C-E-1&&(A-=fi.combins(p-I-(C-E),C-E-2)),C-E-1>1){let O=0;for(let k=p-I-(C-E-2);k>l;k--)O+=fi.combins(p-I-k-1,C-E-3);A-=O*(C-1-E)}else p-I>l&&A--;g+=A}p-=I}return g}static combins(a,l){let d,p;a-l>l?(p=l,d=a-l):(p=a-l,d=l);let g=1,v=1;for(let C=a;C>d;C--)g*=C,v<=p&&(g/=v,v++);for(;v<=p;)g/=v,v++;return g}}class cg{static buildBitArray(a){let l=2*a.length-1;null==a[a.length-1].getRightChar()&&(l-=1);let p=new ke(12*l),g=0,C=a[0].getRightChar().getValue();for(let E=11;E>=0;--E)C&1<<E&&p.set(g),g++;for(let E=1;E<a.length;++E){let I=a[E],A=I.getLeftChar().getValue();for(let O=11;O>=0;--O)A&1<<O&&p.set(g),g++;if(null!=I.getRightChar()){let O=I.getRightChar().getValue();for(let k=11;k>=0;--k)O&1<<k&&p.set(g),g++}}return p}}class Ir{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Fc{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}let hi=(()=>{class D extends Fc{constructor(l,d){super(l),this.value=d}getValue(){return this.value}isFNC1(){return this.value===D.FNC1}}return D.FNC1="$",D})();class yo extends Fc{constructor(a,l,d){super(a),d?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Ki=(()=>{class D extends Fc{constructor(l,d,p){if(super(l),d<0||d>10||p<0||p>10)throw new Ce;this.firstDigit=d,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===D.FNC1}isSecondDigitFNC1(){return this.secondDigit===D.FNC1}isAnyFNC1(){return this.firstDigit===D.FNC1||this.secondDigit===D.FNC1}}return D.FNC1=10,D})();class ze{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new j;let l=a.substring(0,2);for(let g of ze.TWO_DIGIT_DATA_LENGTH)if(g[0]===l)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,g[2],a):ze.processFixedAI(2,g[1],a);if(a.length<3)throw new j;let d=a.substring(0,3);for(let g of ze.THREE_DIGIT_DATA_LENGTH)if(g[0]===d)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,g[2],a):ze.processFixedAI(3,g[1],a);for(let g of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(g[0]===d)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);if(a.length<4)throw new j;let p=a.substring(0,4);for(let g of ze.FOUR_DIGIT_DATA_LENGTH)if(g[0]===p)return g[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,g[2],a):ze.processFixedAI(4,g[1],a);throw new j}static processFixedAI(a,l,d){if(d.length<a)throw new j;let p=d.substring(0,a);if(d.length<a+l)throw new j;let g=d.substring(a,a+l),v=d.substring(a+l),C="("+p+")"+g,E=ze.parseFieldsInGeneralPurpose(v);return null==E?C:C+E}static processVariableAI(a,l,d){let g,p=d.substring(0,a);g=d.length<a+l?d.length:a+l;let v=d.substring(a,g),C=d.substring(g),E="("+p+")"+v,I=ze.parseFieldsInGeneralPurpose(C);return null==I?E:E+I}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class ks{constructor(a){this.buffer=new te,this.information=a}decodeAllCodes(a,l){let d=l,p=null;for(;;){let g=this.decodeGeneralPurposeField(d,p),v=ze.parseFieldsInGeneralPurpose(g.getNewString());if(null!=v&&a.append(v),p=g.isRemaining()?""+g.getRemainingValue():null,d===g.getNewPosition())break;d=g.getNewPosition()}return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let g=this.extractNumericValueFromBitArray(a,4);return new Ki(this.information.getSize(),0===g?Ki.FNC1:g-1,Ki.FNC1)}let l=this.extractNumericValueFromBitArray(a,7);return new Ki(a+7,(l-8)/11,(l-8)%11)}extractNumericValueFromBitArray(a,l){return ks.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,d){let p=0;for(let g=0;g<d;++g)a.get(l+g)&&(p|=1<<d-g-1);return p}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),null!=l&&this.buffer.append(l),this.current.setPosition(a);let d=this.parseBlocks();return null!=d&&d.isRemaining()?new yo(this.current.getPosition(),this.buffer.toString(),d.getRemainingValue()):new yo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let d=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),d===this.current.getPosition()&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return l=a.isSecondDigitFNC1()?new yo(this.current.getPosition(),this.buffer.toString()):new yo(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Ir(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new yo(this.current.getPosition(),this.buffer.toString());return new Ir(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ir(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new yo(this.current.getPosition(),this.buffer.toString());return new Ir(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ir(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new yo(this.current.getPosition(),this.buffer.toString());return new Ir(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ir(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(a,7);if(d>=64&&d<116)return!0;if(a+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(a,8);return p>=232&&p<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(15===l)return new hi(a+5,hi.FNC1);if(l>=5&&l<15)return new hi(a+5,"0"+(l-5));let g,d=this.extractNumericValueFromBitArray(a,7);if(d>=64&&d<90)return new hi(a+7,""+(d+1));if(d>=90&&d<116)return new hi(a+7,""+(d+7));switch(this.extractNumericValueFromBitArray(a,8)){case 232:g="!";break;case 233:g='"';break;case 234:g="%";break;case 235:g="&";break;case 236:g="'";break;case 237:g="(";break;case 238:g=")";break;case 239:g="*";break;case 240:g="+";break;case 241:g=",";break;case 242:g="-";break;case 243:g=".";break;case 244:g="/";break;case 245:g=":";break;case 246:g=";";break;case 247:g="<";break;case 248:g="=";break;case 249:g=">";break;case 250:g="?";break;case 251:g="_";break;case 252:g=" ";break;default:throw new Ce}return new hi(a+8,g)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(a,6);return d>=16&&d<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(15===l)return new hi(a+5,hi.FNC1);if(l>=5&&l<15)return new hi(a+5,"0"+(l-5));let p,d=this.extractNumericValueFromBitArray(a,6);if(d>=32&&d<58)return new hi(a+6,""+(d+33));switch(d){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new on("Decoding invalid alphanumeric value: "+d)}return new hi(a+6,p)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(2===l){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class Pc{constructor(a){this.information=a,this.generalDecoder=new ks(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let Vr=(()=>{class D extends Pc{constructor(l){super(l)}encodeCompressedGtin(l,d){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,d,p)}encodeCompressedGtinWithoutAI(l,d,p){for(let g=0;g<4;++g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(d+10*g,10);v/100==0&&l.append("0"),v/10==0&&l.append("0"),l.append(v)}D.appendCheckDigit(l,p)}static appendCheckDigit(l,d){let p=0;for(let g=0;g<13;g++){let v=l.charAt(g+d).charCodeAt(0)-48;p+=1&g?v:3*v}p=10-p%10,10===p&&(p=0),l.append(p)}}return D.GTIN_SIZE=40,D})(),Dr=(()=>{class D extends Vr{constructor(l){super(l)}parseInformation(){let l=new te;l.append("(01)");let d=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,D.HEADER_SIZE+4,d),this.getGeneralDecoder().decodeAllCodes(l,D.HEADER_SIZE+44)}}return D.HEADER_SIZE=4,D})(),ht=(()=>{class D extends Pc{constructor(l){super(l)}parseInformation(){let l=new te;return this.getGeneralDecoder().decodeAllCodes(l,D.HEADER_SIZE)}}return D.HEADER_SIZE=5,D})();class Fs extends Vr{constructor(a){super(a)}encodeCompressedWeight(a,l,d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l,d);this.addWeightCode(a,p);let g=this.checkWeight(p),v=1e5;for(let C=0;C<5;++C)g/v==0&&a.append("0"),v/=10;a.append(g)}}let vf=(()=>{class D extends Fs{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=D.HEADER_SIZE+Fs.GTIN_SIZE+D.WEIGHT_SIZE)throw new j;let l=new te;return this.encodeCompressedGtin(l,D.HEADER_SIZE),this.encodeCompressedWeight(l,D.HEADER_SIZE+Fs.GTIN_SIZE,D.WEIGHT_SIZE),l.toString()}}return D.HEADER_SIZE=5,D.WEIGHT_SIZE=15,D})();class lg extends vf{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class ug extends vf{constructor(a){super(a)}addWeightCode(a,l){a.append(l<1e4?"(3202)":"(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}let gu=(()=>{class D extends Vr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<D.HEADER_SIZE+Vr.GTIN_SIZE)throw new j;let l=new te;this.encodeCompressedGtin(l,D.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Vr.GTIN_SIZE,D.LAST_DIGIT_SIZE);l.append("(392"),l.append(d),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(D.HEADER_SIZE+Vr.GTIN_SIZE+D.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}return D.HEADER_SIZE=8,D.LAST_DIGIT_SIZE=2,D})(),dn=(()=>{class D extends Vr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<D.HEADER_SIZE+Vr.GTIN_SIZE)throw new j;let l=new te;this.encodeCompressedGtin(l,D.HEADER_SIZE);let d=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Vr.GTIN_SIZE,D.LAST_DIGIT_SIZE);l.append("(393"),l.append(d),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(D.HEADER_SIZE+Vr.GTIN_SIZE+D.LAST_DIGIT_SIZE,D.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let g=this.getGeneralDecoder().decodeGeneralPurposeField(D.HEADER_SIZE+Vr.GTIN_SIZE+D.LAST_DIGIT_SIZE+D.FIRST_THREE_DIGITS_SIZE,null);return l.append(g.getNewString()),l.toString()}}return D.HEADER_SIZE=8,D.LAST_DIGIT_SIZE=2,D.FIRST_THREE_DIGITS_SIZE=10,D})(),vo=(()=>{class D extends Fs{constructor(l,d,p){super(l),this.dateCode=p,this.firstAIdigits=d}parseInformation(){if(this.getInformation().getSize()!=D.HEADER_SIZE+D.GTIN_SIZE+D.WEIGHT_SIZE+D.DATE_SIZE)throw new j;let l=new te;return this.encodeCompressedGtin(l,D.HEADER_SIZE),this.encodeCompressedWeight(l,D.HEADER_SIZE+D.GTIN_SIZE,D.WEIGHT_SIZE),this.encodeCompressedDate(l,D.HEADER_SIZE+D.GTIN_SIZE+D.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(d,D.DATE_SIZE);if(38400==p)return;l.append("("),l.append(this.dateCode),l.append(")");let g=p%32;p/=32;let v=p%12+1;p/=12;let C=p;C/10==0&&l.append("0"),l.append(C),v/10==0&&l.append("0"),l.append(v),g/10==0&&l.append("0"),l.append(g)}addWeightCode(l,d){l.append("("),l.append(this.firstAIdigits),l.append(d/1e5),l.append(")")}checkWeight(l){return l%1e5}}return D.HEADER_SIZE=8,D.WEIGHT_SIZE=20,D.DATE_SIZE=16,D})();function Ps(D){try{if(D.get(1))return new Dr(D);if(!D.get(2))return new ht(D);switch(ks.extractNumericValueFromBitArray(D,1,4)){case 4:return new lg(D);case 5:return new ug(D)}switch(ks.extractNumericValueFromBitArray(D,1,5)){case 12:return new gu(D);case 13:return new dn(D)}switch(ks.extractNumericValueFromBitArray(D,1,7)){case 56:return new vo(D,"310","11");case 57:return new vo(D,"320","11");case 58:return new vo(D,"310","13");case 59:return new vo(D,"320","13");case 60:return new vo(D,"310","15");case 61:return new vo(D,"320","15");case 62:return new vo(D,"310","17");case 63:return new vo(D,"320","17")}}catch(a){throw console.log(a),new on("unknown decoder: "+D)}}class Nr{constructor(a,l,d,p){this.leftchar=a,this.rightchar=l,this.finderpattern=d,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof Nr&&Nr.equalsOrNull(a.leftchar,l.leftchar)&&Nr.equalsOrNull(a.rightchar,l.rightchar)&&Nr.equalsOrNull(a.finderpattern,l.finderpattern)}static equalsOrNull(a,l){return null===a?null===l:Nr.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ls{constructor(a,l,d){this.pairs=a,this.rowNumber=l,this.wasReversed=d}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof Ls&&this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed}checkEqualitity(a,l){if(!a||!l)return;let d;return a.forEach((p,g)=>{l.forEach(v=>{p.getLeftChar().getValue()===v.getLeftChar().getValue()&&p.getRightChar().getValue()===v.getRightChar().getValue()&&p.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(d=!0)})}),d}}class be extends di{constructor(a){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===a}decodeRow(a,l,d){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(a,l))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let p,d=!1;for(;!d;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(g){if(g instanceof j){if(!this.pairs.length)throw new j;d=!0}}if(this.checkChecksum())return this.pairs;if(p=!!this.rows.length,this.storeRow(a,!1),p){let g=this.checkRowsBoolean(!1);if(null!=g||(g=this.checkRowsBoolean(!0),null!=g))return g}throw new j}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(d){this.verbose&&console.log(d)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let d=l;d<this.rows.length;d++){let p=this.rows[d];this.pairs.length=0;for(let v of a)this.pairs.push(v.getPairs());if(this.pairs.push(p.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let g=new Array(a);g.push(p);try{return this.checkRows(g,d+1)}catch(v){this.verbose&&console.log(v)}}throw new j}static isValidSequence(a){for(let l of be.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let d=!0;for(let p=0;p<a.length;p++)if(a[p].getFinderPattern().getValue()!=l[p]){d=!1;break}if(d)return!0}return!1}storeRow(a,l){let d=0,p=!1,g=!1;for(;d<this.rows.length;){let v=this.rows[d];if(v.getRowNumber()>a){g=v.isEquivalent(this.pairs);break}p=v.isEquivalent(this.pairs),d++}g||p||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(d,new Ls(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let d of l)if(d.getPairs().length!==a.length)for(let p of d.getPairs())for(let g of a)if(Nr.equals(p,g))break}static isPartialRow(a,l){for(let d of l){let p=!0;for(let g of a){let v=!1;for(let C of d.getPairs())if(g.equals(C)){v=!0;break}if(!v){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(a){let p=Ps(cg.buildBitArray(a)).parseInformation(),g=a[0].getFinderPattern().getResultPoints(),v=a[a.length-1].getFinderPattern().getResultPoints();return new Nt(p,null,null,[g[0],g[1],v[0],v[1]],Fe.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),d=a.getRightChar();if(null==d)return!1;let p=d.getChecksumPortion(),g=2;for(let C=1;C<this.pairs.size();++C){let E=this.pairs.get(C);p+=E.getLeftChar().getChecksumPortion(),g++;let I=E.getRightChar();null!=I&&(p+=I.getChecksumPortion(),g++)}return p%=211,211*(g-4)+p==l.getValue()}static getNextSecondBar(a,l){let d;return a.get(l)?(d=a.getNextUnset(l),d=a.getNextSet(d)):(d=a.getNextSet(l),d=a.getNextUnset(d)),d}retrieveNextPair(a,l,d){let p=l.length%2==0;this.startFromEven&&(p=!p);let g,v=!0,C=-1;do{this.findNextPair(a,l,C),g=this.parseFoundFinderPattern(a,d,p),null==g?C=be.getNextSecondBar(a,this.startEnd[0]):v=!1}while(v);let I,E=this.decodeDataCharacter(a,g,p,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new j;try{I=this.decodeDataCharacter(a,g,p,!1)}catch(A){I=null,this.verbose&&console.log(A)}return new Nr(E,I,g,!0)}isEmptyPair(a){return 0===a.length}findNextPair(a,l,d){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let v,g=a.getSize();v=d>=0?d:this.isEmptyPair(l)?0:l[l.length-1].getFinderPattern().getStartEnd()[1];let C=l.length%2!=0;this.startFromEven&&(C=!C);let E=!1;for(;v<g&&(E=!a.get(v),E);)v++;let I=0,A=v;for(let O=v;O<g;O++)if(a.get(O)!=E)p[I]++;else{if(3==I){if(C&&be.reverseCounters(p),be.isFinderPattern(p))return this.startEnd[0]=A,void(this.startEnd[1]=O);C&&be.reverseCounters(p),A+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,I--}else I++;p[I]=1,E=!E}throw new j}static reverseCounters(a){let l=a.length;for(let d=0;d<l/2;++d){let p=a[d];a[d]=a[l-d-1],a[l-d-1]=p}}parseFoundFinderPattern(a,l,d){let p,g,v;if(d){let I=this.startEnd[0]-1;for(;I>=0&&!a.get(I);)I--;I++,p=this.startEnd[0]-I,g=I,v=this.startEnd[1]}else g=this.startEnd[0],v=a.getNextUnset(this.startEnd[1]+1),p=v-this.startEnd[1];let E,C=this.getDecodeFinderCounters();Ee.arraycopy(C,0,C,1,C.length-1),C[0]=p;try{E=this.parseFinderValue(C,be.FINDER_PATTERNS)}catch{return null}return new kc(E,[g,v],g,v,l)}decodeDataCharacter(a,l,d,p){let g=this.getDataCharacterCounters();for(let an=0;an<g.length;an++)g[an]=0;if(p)be.recordPatternInReverse(a,l.getStartEnd()[0],g);else{be.recordPattern(a,l.getStartEnd()[1],g);for(let an=0,Mn=g.length-1;an<Mn;an++,Mn--){let Hr=g[an];g[an]=g[Mn],g[Mn]=Hr}}let C=Je.sum(new Int32Array(g))/17,E=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(C-E)/E>.3)throw new j;let I=this.getOddCounts(),A=this.getEvenCounts(),O=this.getOddRoundingErrors(),k=this.getEvenRoundingErrors();for(let an=0;an<g.length;an++){let Mn=1*g[an]/C,Hr=Mn+.5;if(Hr<1){if(Mn<.3)throw new j;Hr=1}else if(Hr>8){if(Mn>8.7)throw new j;Hr=8}let eo=an/2;1&an?(A[eo]=Hr,k[eo]=Mn-Hr):(I[eo]=Hr,O[eo]=Mn-Hr)}this.adjustOddEvenCounts(17);let L=4*l.getValue()+(d?0:2)+(p?0:1)-1,z=0,Q=0;for(let an=I.length-1;an>=0;an--)be.isNotA1left(l,d,p)&&(Q+=I[an]*be.WEIGHTS[L][2*an]),z+=I[an];let re=0;for(let an=A.length-1;an>=0;an--)be.isNotA1left(l,d,p)&&(re+=A[an]*be.WEIGHTS[L][2*an+1]);let ue=Q+re;if(1&z||z>13||z<4)throw new j;let Ae=(13-z)/2,He=be.SYMBOL_WIDEST[Ae],ge=9-He,jt=fi.getRSSvalue(I,He,!0),Dt=fi.getRSSvalue(A,ge,!1);return new Gn(jt*be.EVEN_TOTAL_SUBSET[Ae]+Dt+be.GSUM[Ae],ue)}static isNotA1left(a,l,d){return!(0==a.getValue()&&l&&d)}adjustOddEvenCounts(a){let l=Je.sum(new Int32Array(this.getOddCounts())),d=Je.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1;l>13?g=!0:l<4&&(p=!0);let v=!1,C=!1;d>13?C=!0:d<4&&(v=!0);let E=l+d-a,I=!(1&~l),A=!(1&d);if(1==E)if(I){if(A)throw new j;g=!0}else{if(!A)throw new j;C=!0}else if(-1==E)if(I){if(A)throw new j;p=!0}else{if(!A)throw new j;v=!0}else{if(0!=E)throw new j;if(I){if(!A)throw new j;l<d?(p=!0,C=!0):(g=!0,v=!0)}else if(A)throw new j}if(p){if(g)throw new j;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(C)throw new j;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}C&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class Cf extends Gn{constructor(a,l,d){super(a,l),this.count=0,this.finderPattern=d}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class xn extends di{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,d){const p=this.decodePair(l,!1,a,d);xn.addOrTally(this.possibleLeftPairs,p),l.reverse();let g=this.decodePair(l,!0,a,d);xn.addOrTally(this.possibleRightPairs,g),l.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1)for(let C of this.possibleRightPairs)if(C.getCount()>1&&xn.checkChecksum(v,C))return xn.constructResult(v,C);throw new j}static addOrTally(a,l){if(null==l)return;let d=!1;for(let p of a)if(p.getValue()===l.getValue()){p.incrementCount(),d=!0;break}d||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let d=4537077*a.getValue()+l.getValue(),p=new String(d).toString(),g=new te;for(let I=13-p.length;I>0;I--)g.append("0");g.append(p);let v=0;for(let I=0;I<13;I++){let A=g.charAt(I).charCodeAt(0)-48;v+=1&I?A:3*A}v=10-v%10,10===v&&(v=0),g.append(v.toString());let C=a.getFinderPattern().getResultPoints(),E=l.getFinderPattern().getResultPoints();return new Nt(g.toString(),null,0,[C[0],C[1],E[0],E[1]],Fe.RSS_14,(new Date).getTime())}static checkChecksum(a,l){let d=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,p=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,d===p}decodePair(a,l,d,p){try{let g=this.findFinderPattern(a,l),v=this.parseFoundFinderPattern(a,d,l,g),C=null==p?null:p.get(Ve.NEED_RESULT_POINT_CALLBACK);if(null!=C){let A=(g[0]+g[1])/2;l&&(A=a.getSize()-1-A),C.foundPossibleResultPoint(new de(A,d))}let E=this.decodeDataCharacter(a,v,!0),I=this.decodeDataCharacter(a,v,!1);return new Cf(1597*E.getValue()+I.getValue(),E.getChecksumPortion()+4*I.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(a,l,d){let p=this.getDataCharacterCounters();for(let re=0;re<p.length;re++)p[re]=0;if(d)Mt.recordPatternInReverse(a,l.getStartEnd()[0],p);else{Mt.recordPattern(a,l.getStartEnd()[1]+1,p);for(let re=0,ue=p.length-1;re<ue;re++,ue--){let Ae=p[re];p[re]=p[ue],p[ue]=Ae}}let g=d?16:15,v=Je.sum(new Int32Array(p))/g,C=this.getOddCounts(),E=this.getEvenCounts(),I=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let re=0;re<p.length;re++){let ue=p[re]/v,Ae=Math.floor(ue+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let He=Math.floor(re/2);1&re?(E[He]=Ae,A[He]=ue-Ae):(C[He]=Ae,I[He]=ue-Ae)}this.adjustOddEvenCounts(d,g);let O=0,k=0;for(let re=C.length-1;re>=0;re--)k*=9,k+=C[re],O+=C[re];let L=0,z=0;for(let re=E.length-1;re>=0;re--)L*=9,L+=E[re],z+=E[re];let Q=k+3*L;if(d){if(1&O||O>12||O<4)throw new j;let re=(12-O)/2,ue=xn.OUTSIDE_ODD_WIDEST[re],Ae=9-ue,He=fi.getRSSvalue(C,ue,!1),ge=fi.getRSSvalue(E,Ae,!0);return new Gn(He*xn.OUTSIDE_EVEN_TOTAL_SUBSET[re]+ge+xn.OUTSIDE_GSUM[re],Q)}{if(1&z||z>10||z<4)throw new j;let re=(10-z)/2,ue=xn.INSIDE_ODD_WIDEST[re],Ae=9-ue,He=fi.getRSSvalue(C,ue,!0),ge=fi.getRSSvalue(E,Ae,!1);return new Gn(ge*xn.INSIDE_ODD_TOTAL_SUBSET[re]+He+xn.INSIDE_GSUM[re],Q)}}findFinderPattern(a,l){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=a.getSize(),g=!1,v=0;for(;v<p&&(g=!a.get(v),l!==g);)v++;let C=0,E=v;for(let I=v;I<p;I++)if(a.get(I)!==g)d[C]++;else{if(3===C){if(di.isFinderPattern(d))return[E,I];E+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,C--}else C++;d[C]=1,g=!g}throw new j}parseFoundFinderPattern(a,l,d,p){let g=a.get(p[0]),v=p[0]-1;for(;v>=0&&g!==a.get(v);)v--;v++;const C=p[0]-v,E=this.getDecodeFinderCounters(),I=new Int32Array(E.length);Ee.arraycopy(E,0,I,1,E.length-1),I[0]=C;const A=this.parseFinderValue(I,xn.FINDER_PATTERNS);let O=v,k=p[1];return d&&(O=a.getSize()-1-O,k=a.getSize()-1-k),new kc(A,[v,p[1]],O,k,l)}adjustOddEvenCounts(a,l){let d=Je.sum(new Int32Array(this.getOddCounts())),p=Je.sum(new Int32Array(this.getEvenCounts())),g=!1,v=!1,C=!1,E=!1;a?(d>12?v=!0:d<4&&(g=!0),p>12?E=!0:p<4&&(C=!0)):(d>11?v=!0:d<5&&(g=!0),p>10?E=!0:p<4&&(C=!0));let I=d+p-l,A=(1&d)==(a?1:0),O=!(1&~p);if(1===I)if(A){if(O)throw new j;v=!0}else{if(!O)throw new j;E=!0}else if(-1===I)if(A){if(O)throw new j;g=!0}else{if(!O)throw new j;C=!0}else{if(0!==I)throw new j;if(A){if(!O)throw new j;d<p?(g=!0,E=!0):(v=!0,C=!0)}else if(O)throw new j}if(g){if(v)throw new j;di.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&di.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(E)throw new j;di.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&di.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],xn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],xn.OUTSIDE_GSUM=[0,161,961,2015,2715],xn.INSIDE_GSUM=[0,336,1036,1516],xn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],xn.INSIDE_ODD_WIDEST=[2,4,6,8],xn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pi extends Mt{constructor(a,l){super(),this.readers=[],this.verbose=!0===l;const d=a?a.get(Ve.POSSIBLE_FORMATS):null,p=a&&void 0!==a.get(Ve.ASSUME_CODE_39_CHECK_DIGIT);d?((d.includes(Fe.EAN_13)||d.includes(Fe.UPC_A)||d.includes(Fe.EAN_8)||d.includes(Fe.UPC_E))&&this.readers.push(new ct(a)),d.includes(Fe.CODE_39)&&this.readers.push(new $t(p)),d.includes(Fe.CODE_128)&&this.readers.push(new Me),d.includes(Fe.ITF)&&this.readers.push(new gt),d.includes(Fe.RSS_14)&&this.readers.push(new xn),d.includes(Fe.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new ct(a)),this.readers.push(new $t),this.readers.push(new ct(a)),this.readers.push(new Me),this.readers.push(new gt),this.readers.push(new xn),this.readers.push(new be(this.verbose)))}decodeRow(a,l,d){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(a,l,d)}catch{}throw new j}reset(){this.readers.forEach(a=>a.reset())}}class Kt{constructor(a,l,d){this.ecCodewords=a,this.ecBlocks=[l],d&&this.ecBlocks.push(d)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nn{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class je{constructor(a,l,d,p,g,v){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=d,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=g,this.ecBlocks=v;let C=0;const E=v.getECCodewords(),I=v.getECBlocks();for(let A of I)C+=A.getCount()*(A.getDataCodewords()+E);this.totalCodewords=C}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if(1&a||1&l)throw new Ce;for(let d of je.VERSIONS)if(d.symbolSizeRows===a&&d.symbolSizeColumns===l)return d;throw new Ce}toString(){return""+this.versionNumber}static buildVersions(){return[new je(1,10,10,8,8,new Kt(5,new nn(1,3))),new je(2,12,12,10,10,new Kt(7,new nn(1,5))),new je(3,14,14,12,12,new Kt(10,new nn(1,8))),new je(4,16,16,14,14,new Kt(12,new nn(1,12))),new je(5,18,18,16,16,new Kt(14,new nn(1,18))),new je(6,20,20,18,18,new Kt(18,new nn(1,22))),new je(7,22,22,20,20,new Kt(20,new nn(1,30))),new je(8,24,24,22,22,new Kt(24,new nn(1,36))),new je(9,26,26,24,24,new Kt(28,new nn(1,44))),new je(10,32,32,14,14,new Kt(36,new nn(1,62))),new je(11,36,36,16,16,new Kt(42,new nn(1,86))),new je(12,40,40,18,18,new Kt(48,new nn(1,114))),new je(13,44,44,20,20,new Kt(56,new nn(1,144))),new je(14,48,48,22,22,new Kt(68,new nn(1,174))),new je(15,52,52,24,24,new Kt(42,new nn(2,102))),new je(16,64,64,14,14,new Kt(56,new nn(2,140))),new je(17,72,72,16,16,new Kt(36,new nn(4,92))),new je(18,80,80,18,18,new Kt(48,new nn(4,114))),new je(19,88,88,20,20,new Kt(56,new nn(4,144))),new je(20,96,96,22,22,new Kt(68,new nn(4,174))),new je(21,104,104,24,24,new Kt(56,new nn(6,136))),new je(22,120,120,18,18,new Kt(68,new nn(6,175))),new je(23,132,132,20,20,new Kt(62,new nn(8,163))),new je(24,144,144,22,22,new Kt(62,new nn(8,156),new nn(2,155))),new je(25,8,18,6,16,new Kt(7,new nn(1,5))),new je(26,8,32,6,14,new Kt(11,new nn(1,10))),new je(27,12,26,10,24,new Kt(14,new nn(1,16))),new je(28,12,36,10,16,new Kt(18,new nn(1,22))),new je(29,16,36,14,16,new Kt(24,new nn(1,32))),new je(30,16,48,14,22,new Kt(28,new nn(1,49)))]}}je.VERSIONS=je.buildVersions();class es{constructor(a){const l=a.getHeight();if(l<8||l>144||1&l)throw new Ce;this.version=es.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),d=a.getWidth();return je.getVersionForDimensions(l,d)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,d=4,p=0;const g=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let C=!1,E=!1,I=!1,A=!1;do{if(d!==g||0!==p||C)if(d===g-2&&0===p&&3&v&&!E)a[l++]=255&this.readCorner2(g,v),d-=2,p+=2,E=!0;else if(d!==g+4||2!==p||7&v||I)if(d!==g-2||0!==p||4!=(7&v)||A){do{d<g&&p>=0&&!this.readMappingMatrix.get(p,d)&&(a[l++]=255&this.readUtah(d,p,g,v)),d-=2,p+=2}while(d>=0&&p<v);d+=1,p+=3;do{d>=0&&p<v&&!this.readMappingMatrix.get(p,d)&&(a[l++]=255&this.readUtah(d,p,g,v)),d+=2,p-=2}while(d<g&&p>=0);d+=3,p+=1}else a[l++]=255&this.readCorner4(g,v),d-=2,p+=2,A=!0;else a[l++]=255&this.readCorner3(g,v),d-=2,p+=2,I=!0;else a[l++]=255&this.readCorner1(g,v),d-=2,p+=2,C=!0}while(d<g||p<v);if(l!==this.version.getTotalCodewords())throw new Ce;return a}readModule(a,l,d,p){return a<0&&(a+=d,l+=4-(d+4&7)),l<0&&(l+=p,a+=4-(p+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,d,p){let g=0;return this.readModule(a-2,l-2,d,p)&&(g|=1),g<<=1,this.readModule(a-2,l-1,d,p)&&(g|=1),g<<=1,this.readModule(a-1,l-2,d,p)&&(g|=1),g<<=1,this.readModule(a-1,l-1,d,p)&&(g|=1),g<<=1,this.readModule(a-1,l,d,p)&&(g|=1),g<<=1,this.readModule(a,l-2,d,p)&&(g|=1),g<<=1,this.readModule(a,l-1,d,p)&&(g|=1),g<<=1,this.readModule(a,l,d,p)&&(g|=1),g}readCorner1(a,l){let d=0;return this.readModule(a-1,0,a,l)&&(d|=1),d<<=1,this.readModule(a-1,1,a,l)&&(d|=1),d<<=1,this.readModule(a-1,2,a,l)&&(d|=1),d<<=1,this.readModule(0,l-2,a,l)&&(d|=1),d<<=1,this.readModule(0,l-1,a,l)&&(d|=1),d<<=1,this.readModule(1,l-1,a,l)&&(d|=1),d<<=1,this.readModule(2,l-1,a,l)&&(d|=1),d<<=1,this.readModule(3,l-1,a,l)&&(d|=1),d}readCorner2(a,l){let d=0;return this.readModule(a-3,0,a,l)&&(d|=1),d<<=1,this.readModule(a-2,0,a,l)&&(d|=1),d<<=1,this.readModule(a-1,0,a,l)&&(d|=1),d<<=1,this.readModule(0,l-4,a,l)&&(d|=1),d<<=1,this.readModule(0,l-3,a,l)&&(d|=1),d<<=1,this.readModule(0,l-2,a,l)&&(d|=1),d<<=1,this.readModule(0,l-1,a,l)&&(d|=1),d<<=1,this.readModule(1,l-1,a,l)&&(d|=1),d}readCorner3(a,l){let d=0;return this.readModule(a-1,0,a,l)&&(d|=1),d<<=1,this.readModule(a-1,l-1,a,l)&&(d|=1),d<<=1,this.readModule(0,l-3,a,l)&&(d|=1),d<<=1,this.readModule(0,l-2,a,l)&&(d|=1),d<<=1,this.readModule(0,l-1,a,l)&&(d|=1),d<<=1,this.readModule(1,l-3,a,l)&&(d|=1),d<<=1,this.readModule(1,l-2,a,l)&&(d|=1),d<<=1,this.readModule(1,l-1,a,l)&&(d|=1),d}readCorner4(a,l){let d=0;return this.readModule(a-3,0,a,l)&&(d|=1),d<<=1,this.readModule(a-2,0,a,l)&&(d|=1),d<<=1,this.readModule(a-1,0,a,l)&&(d|=1),d<<=1,this.readModule(0,l-2,a,l)&&(d|=1),d<<=1,this.readModule(0,l-1,a,l)&&(d|=1),d<<=1,this.readModule(1,l-1,a,l)&&(d|=1),d<<=1,this.readModule(2,l-1,a,l)&&(d|=1),d<<=1,this.readModule(3,l-1,a,l)&&(d|=1),d}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),d=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new J("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),g=this.version.getDataRegionSizeColumns(),v=l/p|0,C=d/g|0,A=new fe(C*g,v*p);for(let O=0;O<v;++O){const k=O*p;for(let L=0;L<C;++L){const z=L*g;for(let Q=0;Q<p;++Q){const re=O*(p+2)+1+Q,ue=k+Q;for(let Ae=0;Ae<g;++Ae)a.get(L*(g+2)+1+Ae,re)&&A.set(z+Ae,ue)}}}return A}}class Us{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const d=l.getECBlocks();let p=0;const g=d.getECBlocks();for(let Q of g)p+=Q.getCount();const v=new Array(p);let C=0;for(let Q of g)for(let re=0;re<Q.getCount();re++){const ue=Q.getDataCodewords(),Ae=d.getECCodewords()+ue;v[C++]=new Us(ue,new Uint8Array(Ae))}const I=v[0].codewords.length-d.getECCodewords(),A=I-1;let O=0;for(let Q=0;Q<A;Q++)for(let re=0;re<C;re++)v[re].codewords[Q]=a[O++];const k=24===l.getVersionNumber(),L=k?8:C;for(let Q=0;Q<L;Q++)v[Q].codewords[I-1]=a[O++];const z=v[0].codewords.length;for(let Q=I;Q<z;Q++)for(let re=0;re<C;re++){const ue=k?(re+8)%C:re;v[ue].codewords[k&&ue>7?Q-1:Q]=a[O++]}if(O!==a.length)throw new J;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class fr{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new J(""+a);let l=0,d=this.bitOffset,p=this.byteOffset;const g=this.bytes;if(d>0){const v=8-d,C=a<v?a:v,E=v-C;l=(g[p]&255>>8-C<<E)>>E,a-=C,d+=C,8===d&&(d=0,p++)}if(a>0){for(;a>=8;)l=l<<8|255&g[p],p++,a-=8;if(a>0){const v=8-a;l=l<<a|(g[p]&255>>v<<v)>>v,d+=a}}return this.bitOffset=d,this.byteOffset=p,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Bn=function(D){return D[D.PAD_ENCODE=0]="PAD_ENCODE",D[D.ASCII_ENCODE=1]="ASCII_ENCODE",D[D.C40_ENCODE=2]="C40_ENCODE",D[D.TEXT_ENCODE=3]="TEXT_ENCODE",D[D.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",D[D.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",D[D.BASE256_ENCODE=6]="BASE256_ENCODE",D}(Bn||{});class Co{static decode(a){const l=new fr(a),d=new te,p=new te,g=new Array;let v=Bn.ASCII_ENCODE;do{if(v===Bn.ASCII_ENCODE)v=this.decodeAsciiSegment(l,d,p);else{switch(v){case Bn.C40_ENCODE:this.decodeC40Segment(l,d);break;case Bn.TEXT_ENCODE:this.decodeTextSegment(l,d);break;case Bn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,d);break;case Bn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,d);break;case Bn.BASE256_ENCODE:this.decodeBase256Segment(l,d,g);break;default:throw new Ce}v=Bn.ASCII_ENCODE}}while(v!==Bn.PAD_ENCODE&&l.available()>0);return p.length()>0&&d.append(p.toString()),new yn(a,d.toString(),0===g.length?null:g,null)}static decodeAsciiSegment(a,l,d){let p=!1;do{let g=a.readBits(8);if(0===g)throw new Ce;if(g<=128)return p&&(g+=128),l.append(String.fromCharCode(g-1)),Bn.ASCII_ENCODE;if(129===g)return Bn.PAD_ENCODE;if(g<=229){const v=g-130;v<10&&l.append("0"),l.append(""+v)}else switch(g){case 230:return Bn.C40_ENCODE;case 231:return Bn.BASE256_ENCODE;case 232:l.append("\x1d");break;case 233:case 234:case 241:break;case 235:p=!0;break;case 236:l.append("[)>\x1e05\x1d"),d.insert(0,"\x1e\x04");break;case 237:l.append("[)>\x1e06\x1d"),d.insert(0,"\x1e\x04");break;case 238:return Bn.ANSIX12_ENCODE;case 239:return Bn.TEXT_ENCODE;case 240:return Bn.EDIFACT_ENCODE;default:if(254!==g||0!==a.available())throw new Ce}}while(a.available()>0);return Bn.ASCII_ENCODE}static decodeC40Segment(a,l){let d=!1;const p=[];let g=0;do{if(8===a.available())return;const v=a.readBits(8);if(254===v)return;this.parseTwoBytes(v,a.readBits(8),p);for(let C=0;C<3;C++){const E=p[C];switch(g){case 0:if(E<3)g=E+1;else{if(!(E<this.C40_BASIC_SET_CHARS.length))throw new Ce;{const I=this.C40_BASIC_SET_CHARS[E];d?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),d=!1):l.append(I)}}break;case 1:d?(l.append(String.fromCharCode(E+128)),d=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[E];d?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),d=!1):l.append(I)}else switch(E){case 27:l.append("\x1d");break;case 30:d=!0;break;default:throw new Ce}g=0;break;case 3:d?(l.append(String.fromCharCode(E+224)),d=!1):l.append(String.fromCharCode(E+96)),g=0;break;default:throw new Ce}}}while(a.available()>0)}static decodeTextSegment(a,l){let d=!1,p=[],g=0;do{if(8===a.available())return;const v=a.readBits(8);if(254===v)return;this.parseTwoBytes(v,a.readBits(8),p);for(let C=0;C<3;C++){const E=p[C];switch(g){case 0:if(E<3)g=E+1;else{if(!(E<this.TEXT_BASIC_SET_CHARS.length))throw new Ce;{const I=this.TEXT_BASIC_SET_CHARS[E];d?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),d=!1):l.append(I)}}break;case 1:d?(l.append(String.fromCharCode(E+128)),d=!1):l.append(String.fromCharCode(E)),g=0;break;case 2:if(E<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[E];d?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),d=!1):l.append(I)}else switch(E){case 27:l.append("\x1d");break;case 30:d=!0;break;default:throw new Ce}g=0;break;case 3:if(!(E<this.TEXT_SHIFT3_SET_CHARS.length))throw new Ce;{const I=this.TEXT_SHIFT3_SET_CHARS[E];d?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),d=!1):l.append(I),g=0}break;default:throw new Ce}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const d=[];do{if(8===a.available())return;const p=a.readBits(8);if(254===p)return;this.parseTwoBytes(p,a.readBits(8),d);for(let g=0;g<3;g++){const v=d[g];switch(v){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(v<14)l.append(String.fromCharCode(v+44));else{if(!(v<40))throw new Ce;l.append(String.fromCharCode(v+51))}}}}while(a.available()>0)}static parseTwoBytes(a,l,d){let p=(a<<8)+l-1,g=Math.floor(p/1600);d[0]=g,p-=1600*g,g=Math.floor(p/40),d[1]=g,d[2]=p-40*g}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let d=0;d<4;d++){let p=a.readBits(6);if(31===p){const g=8-a.getBitOffset();return void(8!==g&&a.readBits(g))}32&p||(p|=64),l.append(String.fromCharCode(p))}}while(a.available()>0)}static decodeBase256Segment(a,l,d){let p=1+a.getByteOffset();const g=this.unrandomize255State(a.readBits(8),p++);let v;if(v=0===g?a.available()/8|0:g<250?g:250*(g-249)+this.unrandomize255State(a.readBits(8),p++),v<0)throw new Ce;const C=new Uint8Array(v);for(let E=0;E<v;E++){if(a.available()<8)throw new Ce;C[E]=this.unrandomize255State(a.readBits(8),p++)}d.push(C);try{l.append(Y.decode(C,B.ISO88591))}catch(E){throw new on("Platform does not support required encoding: "+E.message)}}static unrandomize255State(a,l){const p=a-(149*l%255+1);return p>=0?p:p+256}}Co.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Co.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Co.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Co.TEXT_SHIFT2_SET_CHARS=Co.C40_SHIFT2_SET_CHARS,Co.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"];class Tn{constructor(){this.rsDecoder=new Gt(Ke.DATA_MATRIX_FIELD_256)}decode(a){const l=new es(a),d=l.getVersion(),p=l.readCodewords(),g=Us.getDataBlocks(p,d);let v=0;for(let I of g)v+=I.getNumDataCodewords();const C=new Uint8Array(v),E=g.length;for(let I=0;I<E;I++){const A=g[I],O=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(O,k);for(let L=0;L<k;L++)C[L*E+I]=O[L]}return Co.decode(C)}correctErrors(a,l){const d=new Int32Array(a);try{this.rsDecoder.decode(d,a.length-l)}catch{throw new se}for(let p=0;p<l;p++)a[p]=d[p]}}class Vn{constructor(a){this.image=a,this.rectangleDetector=new Ln(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new j;l=this.shiftToModuleCenter(l);const d=l[0],p=l[1],g=l[2],v=l[3];let C=this.transitionsBetween(d,v)+1,E=this.transitionsBetween(g,v)+1;!(1&~C)&&(C+=1),!(1&~E)&&(E+=1),4*C<7*E&&4*E<7*C&&(C=E=Math.max(C,E));let I=Vn.sampleGrid(this.image,d,p,g,v,C,E);return new Pn(I,[d,p,g,v])}static shiftPoint(a,l,d){let p=(l.getX()-a.getX())/(d+1),g=(l.getY()-a.getY())/(d+1);return new de(a.getX()+p,a.getY()+g)}static moveAway(a,l,d){let p=a.getX(),g=a.getY();return p<l?p-=1:p+=1,g<d?g-=1:g+=1,new de(p,g)}detectSolid1(a){let l=a[0],d=a[1],p=a[3],g=a[2],v=this.transitionsBetween(l,d),C=this.transitionsBetween(d,p),E=this.transitionsBetween(p,g),I=this.transitionsBetween(g,l),A=v,O=[g,l,d,p];return A>C&&(A=C,O[0]=l,O[1]=d,O[2]=p,O[3]=g),A>E&&(A=E,O[0]=d,O[1]=p,O[2]=g,O[3]=l),A>I&&(O[0]=p,O[1]=g,O[2]=l,O[3]=d),O}detectSolid2(a){let l=a[0],d=a[1],p=a[2],g=a[3],v=this.transitionsBetween(l,g),C=Vn.shiftPoint(d,p,4*(v+1)),E=Vn.shiftPoint(p,d,4*(v+1));return this.transitionsBetween(C,l)<this.transitionsBetween(E,g)?(a[0]=l,a[1]=d,a[2]=p,a[3]=g):(a[0]=d,a[1]=p,a[2]=g,a[3]=l),a}correctTopRight(a){let l=a[0],d=a[1],p=a[2],g=a[3],v=this.transitionsBetween(l,g),C=this.transitionsBetween(d,g),E=Vn.shiftPoint(l,d,4*(C+1)),I=Vn.shiftPoint(p,d,4*(v+1));v=this.transitionsBetween(E,g),C=this.transitionsBetween(I,g);let A=new de(g.getX()+(p.getX()-d.getX())/(v+1),g.getY()+(p.getY()-d.getY())/(v+1)),O=new de(g.getX()+(l.getX()-d.getX())/(C+1),g.getY()+(l.getY()-d.getY())/(C+1));return this.isValid(A)?this.isValid(O)?this.transitionsBetween(E,A)+this.transitionsBetween(I,A)>this.transitionsBetween(E,O)+this.transitionsBetween(I,O)?A:O:A:this.isValid(O)?O:null}shiftToModuleCenter(a){let l=a[0],d=a[1],p=a[2],g=a[3],v=this.transitionsBetween(l,g)+1,C=this.transitionsBetween(p,g)+1,E=Vn.shiftPoint(l,d,4*C),I=Vn.shiftPoint(p,d,4*v);v=this.transitionsBetween(E,g)+1,C=this.transitionsBetween(I,g)+1,!(1&~v)&&(v+=1),!(1&~C)&&(C+=1);let k,L,A=(l.getX()+d.getX()+p.getX()+g.getX())/4,O=(l.getY()+d.getY()+p.getY()+g.getY())/4;return l=Vn.moveAway(l,A,O),d=Vn.moveAway(d,A,O),p=Vn.moveAway(p,A,O),g=Vn.moveAway(g,A,O),E=Vn.shiftPoint(l,d,4*C),E=Vn.shiftPoint(E,g,4*v),k=Vn.shiftPoint(d,l,4*C),k=Vn.shiftPoint(k,p,4*v),I=Vn.shiftPoint(p,g,4*C),I=Vn.shiftPoint(I,d,4*v),L=Vn.shiftPoint(g,p,4*C),L=Vn.shiftPoint(L,l,4*v),[E,k,I,L]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,d,p,g,v,C){return Ge.getInstance().sampleGrid(a,v,C,.5,.5,v-.5,.5,v-.5,C-.5,.5,C-.5,l.getX(),l.getY(),g.getX(),g.getY(),p.getX(),p.getY(),d.getX(),d.getY())}transitionsBetween(a,l){let d=Math.trunc(a.getX()),p=Math.trunc(a.getY()),g=Math.trunc(l.getX()),v=Math.trunc(l.getY()),C=Math.abs(v-p)>Math.abs(g-d);if(C){let Q=d;d=p,p=Q,Q=g,g=v,v=Q}let E=Math.abs(g-d),I=Math.abs(v-p),A=-E/2,O=p<v?1:-1,k=d<g?1:-1,L=0,z=this.image.get(C?p:d,C?d:p);for(let Q=d,re=p;Q!==g;Q+=k){let ue=this.image.get(C?re:Q,C?Q:re);if(ue!==z&&(L++,z=ue),A+=I,A>0){if(re===v)break;re+=O,A-=E}}return L}}let Ca=(()=>{class D{constructor(){this.decoder=new Tn}decode(l,d=null){let p,g;if(null!=d&&d.has(Ve.PURE_BARCODE)){const A=D.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(A),g=D.NO_POINTS}else{const A=new Vn(l.getBlackMatrix()).detect();p=this.decoder.decode(A.getBits()),g=A.getPoints()}const v=p.getRawBytes(),C=new Nt(p.getText(),v,8*v.length,g,Fe.DATA_MATRIX,Ee.currentTimeMillis()),E=p.getByteSegments();null!=E&&C.putMetadata(Ct.BYTE_SEGMENTS,E);const I=p.getECLevel();return null!=I&&C.putMetadata(Ct.ERROR_CORRECTION_LEVEL,I),C}reset(){}static extractPureBits(l){const d=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(null==d||null==p)throw new j;const g=this.moduleSize(d,l);let v=d[1],E=d[0];const A=(p[0]-E+1)/g,O=(p[1]-v+1)/g;if(A<=0||O<=0)throw new j;const k=g/2;v+=k,E+=k;const L=new fe(A,O);for(let z=0;z<O;z++){const Q=v+z*g;for(let re=0;re<A;re++)l.get(E+re*g,Q)&&L.set(re,z)}return L}static moduleSize(l,d){const p=d.getWidth();let g=l[0];const v=l[1];for(;g<p&&d.get(g,v);)g++;if(g===p)throw new j;const C=g-l[0];if(0===C)throw new j;return C}}return D.NO_POINTS=[],D})();var ts=function(D){return D[D.L=0]="L",D[D.M=1]="M",D[D.Q=2]="Q",D[D.H=3]="H",D}(ts||{});class sn{constructor(a,l,d){this.value=a,this.stringValue=l,this.bits=d,sn.FOR_BITS.set(d,this),sn.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return sn.L;case"M":return sn.M;case"Q":return sn.Q;case"H":return sn.H;default:throw new ce(a+"not available")}}toString(){return this.stringValue}equals(a){return a instanceof sn&&this.value===a.value}static forBits(a){if(a<0||a>=sn.FOR_BITS.size)throw new J;return sn.FOR_BITS.get(a)}}sn.FOR_BITS=new Map,sn.FOR_VALUE=new Map,sn.L=new sn(ts.L,"L",1),sn.M=new sn(ts.M,"M",0),sn.Q=new sn(ts.Q,"Q",3),sn.H=new sn(ts.H,"H",2);class jn{constructor(a){this.errorCorrectionLevel=sn.forBits(a>>3&3),this.dataMask=7&a}static numBitsDiffering(a,l){return xe.bitCount(a^l)}static decodeFormatInformation(a,l){const d=jn.doDecodeFormatInformation(a,l);return null!==d?d:jn.doDecodeFormatInformation(a^jn.FORMAT_INFO_MASK_QR,l^jn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let d=Number.MAX_SAFE_INTEGER,p=0;for(const g of jn.FORMAT_INFO_DECODE_LOOKUP){const v=g[0];if(v===a||v===l)return new jn(g[1]);let C=jn.numBitsDiffering(a,v);C<d&&(p=g[1],d=C),a!==l&&(C=jn.numBitsDiffering(l,v),C<d&&(p=g[1],d=C))}return d<=3?new jn(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){return a instanceof jn&&this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}jn.FORMAT_INFO_MASK_QR=21522,jn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ae{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const d of l)a+=d.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class it{constructor(a,l,...d){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=d;let p=0;const g=d[0].getECCodewordsPerBlock(),v=d[0].getECBlocks();for(const C of v)p+=C.getCount()*(C.getDataCodewords()+g);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!=1)throw new Ce;try{return this.getVersionForNumber((a-17)/4)}catch{throw new Ce}}static getVersionForNumber(a){if(a<1||a>40)throw new J;return it.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,d=0;for(let p=0;p<it.VERSION_DECODE_INFO.length;p++){const g=it.VERSION_DECODE_INFO[p];if(g===a)return it.getVersionForNumber(p+7);const v=jn.numBitsDiffering(a,g);v<l&&(d=p+7,l=v)}return l<=3?it.getVersionForNumber(d):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new fe(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const d=this.alignmentPatternCenters.length;for(let p=0;p<d;p++){const g=this.alignmentPatternCenters[p]-2;for(let v=0;v<d;v++)0===p&&(0===v||v===d-1)||p===d-1&&0===v||l.setRegion(this.alignmentPatternCenters[v]-2,g,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}it.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),it.VERSIONS=[new it(1,new Int32Array(0),new ae(7,new U(1,19)),new ae(10,new U(1,16)),new ae(13,new U(1,13)),new ae(17,new U(1,9))),new it(2,Int32Array.from([6,18]),new ae(10,new U(1,34)),new ae(16,new U(1,28)),new ae(22,new U(1,22)),new ae(28,new U(1,16))),new it(3,Int32Array.from([6,22]),new ae(15,new U(1,55)),new ae(26,new U(1,44)),new ae(18,new U(2,17)),new ae(22,new U(2,13))),new it(4,Int32Array.from([6,26]),new ae(20,new U(1,80)),new ae(18,new U(2,32)),new ae(26,new U(2,24)),new ae(16,new U(4,9))),new it(5,Int32Array.from([6,30]),new ae(26,new U(1,108)),new ae(24,new U(2,43)),new ae(18,new U(2,15),new U(2,16)),new ae(22,new U(2,11),new U(2,12))),new it(6,Int32Array.from([6,34]),new ae(18,new U(2,68)),new ae(16,new U(4,27)),new ae(24,new U(4,19)),new ae(28,new U(4,15))),new it(7,Int32Array.from([6,22,38]),new ae(20,new U(2,78)),new ae(18,new U(4,31)),new ae(18,new U(2,14),new U(4,15)),new ae(26,new U(4,13),new U(1,14))),new it(8,Int32Array.from([6,24,42]),new ae(24,new U(2,97)),new ae(22,new U(2,38),new U(2,39)),new ae(22,new U(4,18),new U(2,19)),new ae(26,new U(4,14),new U(2,15))),new it(9,Int32Array.from([6,26,46]),new ae(30,new U(2,116)),new ae(22,new U(3,36),new U(2,37)),new ae(20,new U(4,16),new U(4,17)),new ae(24,new U(4,12),new U(4,13))),new it(10,Int32Array.from([6,28,50]),new ae(18,new U(2,68),new U(2,69)),new ae(26,new U(4,43),new U(1,44)),new ae(24,new U(6,19),new U(2,20)),new ae(28,new U(6,15),new U(2,16))),new it(11,Int32Array.from([6,30,54]),new ae(20,new U(4,81)),new ae(30,new U(1,50),new U(4,51)),new ae(28,new U(4,22),new U(4,23)),new ae(24,new U(3,12),new U(8,13))),new it(12,Int32Array.from([6,32,58]),new ae(24,new U(2,92),new U(2,93)),new ae(22,new U(6,36),new U(2,37)),new ae(26,new U(4,20),new U(6,21)),new ae(28,new U(7,14),new U(4,15))),new it(13,Int32Array.from([6,34,62]),new ae(26,new U(4,107)),new ae(22,new U(8,37),new U(1,38)),new ae(24,new U(8,20),new U(4,21)),new ae(22,new U(12,11),new U(4,12))),new it(14,Int32Array.from([6,26,46,66]),new ae(30,new U(3,115),new U(1,116)),new ae(24,new U(4,40),new U(5,41)),new ae(20,new U(11,16),new U(5,17)),new ae(24,new U(11,12),new U(5,13))),new it(15,Int32Array.from([6,26,48,70]),new ae(22,new U(5,87),new U(1,88)),new ae(24,new U(5,41),new U(5,42)),new ae(30,new U(5,24),new U(7,25)),new ae(24,new U(11,12),new U(7,13))),new it(16,Int32Array.from([6,26,50,74]),new ae(24,new U(5,98),new U(1,99)),new ae(28,new U(7,45),new U(3,46)),new ae(24,new U(15,19),new U(2,20)),new ae(30,new U(3,15),new U(13,16))),new it(17,Int32Array.from([6,30,54,78]),new ae(28,new U(1,107),new U(5,108)),new ae(28,new U(10,46),new U(1,47)),new ae(28,new U(1,22),new U(15,23)),new ae(28,new U(2,14),new U(17,15))),new it(18,Int32Array.from([6,30,56,82]),new ae(30,new U(5,120),new U(1,121)),new ae(26,new U(9,43),new U(4,44)),new ae(28,new U(17,22),new U(1,23)),new ae(28,new U(2,14),new U(19,15))),new it(19,Int32Array.from([6,30,58,86]),new ae(28,new U(3,113),new U(4,114)),new ae(26,new U(3,44),new U(11,45)),new ae(26,new U(17,21),new U(4,22)),new ae(26,new U(9,13),new U(16,14))),new it(20,Int32Array.from([6,34,62,90]),new ae(28,new U(3,107),new U(5,108)),new ae(26,new U(3,41),new U(13,42)),new ae(30,new U(15,24),new U(5,25)),new ae(28,new U(15,15),new U(10,16))),new it(21,Int32Array.from([6,28,50,72,94]),new ae(28,new U(4,116),new U(4,117)),new ae(26,new U(17,42)),new ae(28,new U(17,22),new U(6,23)),new ae(30,new U(19,16),new U(6,17))),new it(22,Int32Array.from([6,26,50,74,98]),new ae(28,new U(2,111),new U(7,112)),new ae(28,new U(17,46)),new ae(30,new U(7,24),new U(16,25)),new ae(24,new U(34,13))),new it(23,Int32Array.from([6,30,54,78,102]),new ae(30,new U(4,121),new U(5,122)),new ae(28,new U(4,47),new U(14,48)),new ae(30,new U(11,24),new U(14,25)),new ae(30,new U(16,15),new U(14,16))),new it(24,Int32Array.from([6,28,54,80,106]),new ae(30,new U(6,117),new U(4,118)),new ae(28,new U(6,45),new U(14,46)),new ae(30,new U(11,24),new U(16,25)),new ae(30,new U(30,16),new U(2,17))),new it(25,Int32Array.from([6,32,58,84,110]),new ae(26,new U(8,106),new U(4,107)),new ae(28,new U(8,47),new U(13,48)),new ae(30,new U(7,24),new U(22,25)),new ae(30,new U(22,15),new U(13,16))),new it(26,Int32Array.from([6,30,58,86,114]),new ae(28,new U(10,114),new U(2,115)),new ae(28,new U(19,46),new U(4,47)),new ae(28,new U(28,22),new U(6,23)),new ae(30,new U(33,16),new U(4,17))),new it(27,Int32Array.from([6,34,62,90,118]),new ae(30,new U(8,122),new U(4,123)),new ae(28,new U(22,45),new U(3,46)),new ae(30,new U(8,23),new U(26,24)),new ae(30,new U(12,15),new U(28,16))),new it(28,Int32Array.from([6,26,50,74,98,122]),new ae(30,new U(3,117),new U(10,118)),new ae(28,new U(3,45),new U(23,46)),new ae(30,new U(4,24),new U(31,25)),new ae(30,new U(11,15),new U(31,16))),new it(29,Int32Array.from([6,30,54,78,102,126]),new ae(30,new U(7,116),new U(7,117)),new ae(28,new U(21,45),new U(7,46)),new ae(30,new U(1,23),new U(37,24)),new ae(30,new U(19,15),new U(26,16))),new it(30,Int32Array.from([6,26,52,78,104,130]),new ae(30,new U(5,115),new U(10,116)),new ae(28,new U(19,47),new U(10,48)),new ae(30,new U(15,24),new U(25,25)),new ae(30,new U(23,15),new U(25,16))),new it(31,Int32Array.from([6,30,56,82,108,134]),new ae(30,new U(13,115),new U(3,116)),new ae(28,new U(2,46),new U(29,47)),new ae(30,new U(42,24),new U(1,25)),new ae(30,new U(23,15),new U(28,16))),new it(32,Int32Array.from([6,34,60,86,112,138]),new ae(30,new U(17,115)),new ae(28,new U(10,46),new U(23,47)),new ae(30,new U(10,24),new U(35,25)),new ae(30,new U(19,15),new U(35,16))),new it(33,Int32Array.from([6,30,58,86,114,142]),new ae(30,new U(17,115),new U(1,116)),new ae(28,new U(14,46),new U(21,47)),new ae(30,new U(29,24),new U(19,25)),new ae(30,new U(11,15),new U(46,16))),new it(34,Int32Array.from([6,34,62,90,118,146]),new ae(30,new U(13,115),new U(6,116)),new ae(28,new U(14,46),new U(23,47)),new ae(30,new U(44,24),new U(7,25)),new ae(30,new U(59,16),new U(1,17))),new it(35,Int32Array.from([6,30,54,78,102,126,150]),new ae(30,new U(12,121),new U(7,122)),new ae(28,new U(12,47),new U(26,48)),new ae(30,new U(39,24),new U(14,25)),new ae(30,new U(22,15),new U(41,16))),new it(36,Int32Array.from([6,24,50,76,102,128,154]),new ae(30,new U(6,121),new U(14,122)),new ae(28,new U(6,47),new U(34,48)),new ae(30,new U(46,24),new U(10,25)),new ae(30,new U(2,15),new U(64,16))),new it(37,Int32Array.from([6,28,54,80,106,132,158]),new ae(30,new U(17,122),new U(4,123)),new ae(28,new U(29,46),new U(14,47)),new ae(30,new U(49,24),new U(10,25)),new ae(30,new U(24,15),new U(46,16))),new it(38,Int32Array.from([6,32,58,84,110,136,162]),new ae(30,new U(4,122),new U(18,123)),new ae(28,new U(13,46),new U(32,47)),new ae(30,new U(48,24),new U(14,25)),new ae(30,new U(42,15),new U(32,16))),new it(39,Int32Array.from([6,26,54,82,110,138,166]),new ae(30,new U(20,117),new U(4,118)),new ae(28,new U(40,47),new U(7,48)),new ae(30,new U(43,24),new U(22,25)),new ae(30,new U(10,15),new U(67,16))),new it(40,Int32Array.from([6,30,58,86,114,142,170]),new ae(30,new U(19,118),new U(6,119)),new ae(28,new U(18,47),new U(31,48)),new ae(30,new U(34,24),new U(34,25)),new ae(30,new U(20,15),new U(61,16)))];var bn=function(D){return D[D.DATA_MASK_000=0]="DATA_MASK_000",D[D.DATA_MASK_001=1]="DATA_MASK_001",D[D.DATA_MASK_010=2]="DATA_MASK_010",D[D.DATA_MASK_011=3]="DATA_MASK_011",D[D.DATA_MASK_100=4]="DATA_MASK_100",D[D.DATA_MASK_101=5]="DATA_MASK_101",D[D.DATA_MASK_110=6]="DATA_MASK_110",D[D.DATA_MASK_111=7]="DATA_MASK_111",D}(bn||{});class hr{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let d=0;d<l;d++)for(let p=0;p<l;p++)this.isMasked(d,p)&&a.flip(p,d)}}hr.values=new Map([[bn.DATA_MASK_000,new hr(bn.DATA_MASK_000,(D,a)=>!(D+a&1))],[bn.DATA_MASK_001,new hr(bn.DATA_MASK_001,(D,a)=>!(1&D))],[bn.DATA_MASK_010,new hr(bn.DATA_MASK_010,(D,a)=>a%3==0)],[bn.DATA_MASK_011,new hr(bn.DATA_MASK_011,(D,a)=>(D+a)%3==0)],[bn.DATA_MASK_100,new hr(bn.DATA_MASK_100,(D,a)=>!(Math.floor(D/2)+Math.floor(a/3)&1))],[bn.DATA_MASK_101,new hr(bn.DATA_MASK_101,(D,a)=>D*a%6==0)],[bn.DATA_MASK_110,new hr(bn.DATA_MASK_110,(D,a)=>D*a%6<3)],[bn.DATA_MASK_111,new hr(bn.DATA_MASK_111,(D,a)=>!(D+a+D*a%3&1))]]);class wf{constructor(a){const l=a.getHeight();if(l<21||1!=(3&l))throw new Ce;this.bitMatrix=a}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let a=0;for(let g=0;g<6;g++)a=this.copyBit(g,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let g=5;g>=0;g--)a=this.copyBit(8,g,a);const l=this.bitMatrix.getHeight();let d=0;const p=l-7;for(let g=l-1;g>=p;g--)d=this.copyBit(8,g,d);for(let g=l-8;g<l;g++)d=this.copyBit(g,8,d);if(this.parsedFormatInfo=jn.decodeFormatInformation(a,d),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new Ce}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return it.getVersionForNumber(l);let d=0;const p=a-11;for(let v=5;v>=0;v--)for(let C=a-9;C>=p;C--)d=this.copyBit(C,v,d);let g=it.decodeVersionInformation(d);if(null!==g&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;d=0;for(let v=5;v>=0;v--)for(let C=a-9;C>=p;C--)d=this.copyBit(v,C,d);if(g=it.decodeVersionInformation(d),null!==g&&g.getDimensionForVersion()===a)return this.parsedVersion=g,g;throw new Ce}copyBit(a,l,d){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?d<<1|1:d<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),d=hr.values.get(a.getDataMask()),p=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,p);const g=l.buildFunctionPattern();let v=!0;const C=new Uint8Array(l.getTotalCodewords());let E=0,I=0,A=0;for(let O=p-1;O>0;O-=2){6===O&&O--;for(let k=0;k<p;k++){const L=v?p-1-k:k;for(let z=0;z<2;z++)g.get(O-z,L)||(A++,I<<=1,this.bitMatrix.get(O-z,L)&&(I|=1),8===A&&(C[E++]=I,A=0,I=0))}v=!v}if(E!==l.getTotalCodewords())throw new Ce;return C}remask(){if(null===this.parsedFormatInfo)return;const a=hr.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,d=a.getWidth();l<d;l++)for(let p=l+1,g=a.getHeight();p<g;p++)a.get(l,p)!==a.get(p,l)&&(a.flip(p,l),a.flip(l,p))}}class wt{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,d){if(a.length!==l.getTotalCodewords())throw new J;const p=l.getECBlocksForLevel(d);let g=0;const v=p.getECBlocks();for(const z of v)g+=z.getCount();const C=new Array(g);let E=0;for(const z of v)for(let Q=0;Q<z.getCount();Q++){const re=z.getDataCodewords(),ue=p.getECCodewordsPerBlock()+re;C[E++]=new wt(re,new Uint8Array(ue))}const I=C[0].codewords.length;let A=C.length-1;for(;A>=0&&C[A].codewords.length!==I;)A--;A++;const O=I-p.getECCodewordsPerBlock();let k=0;for(let z=0;z<O;z++)for(let Q=0;Q<E;Q++)C[Q].codewords[z]=a[k++];for(let z=A;z<E;z++)C[z].codewords[O]=a[k++];const L=C[0].codewords.length;for(let z=O;z<L;z++)for(let Q=0;Q<E;Q++)C[Q].codewords[Q<A?z:z+1]=a[k++];return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pt=function(D){return D[D.TERMINATOR=0]="TERMINATOR",D[D.NUMERIC=1]="NUMERIC",D[D.ALPHANUMERIC=2]="ALPHANUMERIC",D[D.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",D[D.BYTE=4]="BYTE",D[D.ECI=5]="ECI",D[D.KANJI=6]="KANJI",D[D.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",D[D.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",D[D.HANZI=9]="HANZI",D}(pt||{});class dt{constructor(a,l,d,p){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=d,this.bits=p,dt.FOR_BITS.set(p,this),dt.FOR_VALUE.set(a,this)}static forBits(a){const l=dt.FOR_BITS.get(a);if(void 0===l)throw new J;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let d;return d=l<=9?0:l<=26?1:2,this.characterCountBitsForVersions[d]}getValue(){return this.value}getBits(){return this.bits}equals(a){return a instanceof dt&&this.value===a.value}toString(){return this.stringValue}}dt.FOR_BITS=new Map,dt.FOR_VALUE=new Map,dt.TERMINATOR=new dt(pt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),dt.NUMERIC=new dt(pt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),dt.ALPHANUMERIC=new dt(pt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),dt.STRUCTURED_APPEND=new dt(pt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),dt.BYTE=new dt(pt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),dt.ECI=new dt(pt.ECI,"ECI",Int32Array.from([0,0,0]),7),dt.KANJI=new dt(pt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),dt.FNC1_FIRST_POSITION=new dt(pt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),dt.FNC1_SECOND_POSITION=new dt(pt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),dt.HANZI=new dt(pt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let yu=(()=>{class D{static decode(l,d,p,g){const v=new fr(l);let C=new te;const E=new Array;let I=-1,A=-1;try{let L,O=null,k=!1;do{if(v.available()<4)L=dt.TERMINATOR;else{const z=v.readBits(4);L=dt.forBits(z)}switch(L){case dt.TERMINATOR:break;case dt.FNC1_FIRST_POSITION:case dt.FNC1_SECOND_POSITION:k=!0;break;case dt.STRUCTURED_APPEND:if(v.available()<16)throw new Ce;I=v.readBits(8),A=v.readBits(8);break;case dt.ECI:const z=D.parseECIValue(v);if(O=ie.getCharacterSetECIByValue(z),null===O)throw new Ce;break;case dt.HANZI:const Q=v.readBits(4),re=v.readBits(L.getCharacterCountBits(d));Q===D.GB2312_SUBSET&&D.decodeHanziSegment(v,C,re);break;default:const ue=v.readBits(L.getCharacterCountBits(d));switch(L){case dt.NUMERIC:D.decodeNumericSegment(v,C,ue);break;case dt.ALPHANUMERIC:D.decodeAlphanumericSegment(v,C,ue,k);break;case dt.BYTE:D.decodeByteSegment(v,C,ue,O,E,g);break;case dt.KANJI:D.decodeKanjiSegment(v,C,ue);break;default:throw new Ce}}}while(L!==dt.TERMINATOR)}catch{throw new Ce}return new yn(l,C.toString(),0===E.length?null:E,null===p?null:p.toString(),I,A)}static decodeHanziSegment(l,d,p){if(13*p>l.available())throw new Ce;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const C=l.readBits(13);let E=C/96<<8&4294967295|C%96;E+=E<959?41377:42657,g[v]=E>>8&255,g[v+1]=255&E,v+=2,p--}try{d.append(Y.decode(g,B.GB2312))}catch(C){throw new Ce(C)}}static decodeKanjiSegment(l,d,p){if(13*p>l.available())throw new Ce;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const C=l.readBits(13);let E=C/192<<8&4294967295|C%192;E+=E<7936?33088:49472,g[v]=E>>8,g[v+1]=E,v+=2,p--}try{d.append(Y.decode(g,B.SHIFT_JIS))}catch(C){throw new Ce(C)}}static decodeByteSegment(l,d,p,g,v,C){if(8*p>l.available())throw new Ce;const E=new Uint8Array(p);for(let A=0;A<p;A++)E[A]=l.readBits(8);let I;I=null===g?B.guessEncoding(E,C):g.getName();try{d.append(Y.decode(E,I))}catch(A){throw new Ce(A)}v.push(E)}static toAlphaNumericChar(l){if(l>=D.ALPHANUMERIC_CHARS.length)throw new Ce;return D.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,d,p,g){const v=d.length();for(;p>1;){if(l.available()<11)throw new Ce;const C=l.readBits(11);d.append(D.toAlphaNumericChar(Math.floor(C/45))),d.append(D.toAlphaNumericChar(C%45)),p-=2}if(1===p){if(l.available()<6)throw new Ce;d.append(D.toAlphaNumericChar(l.readBits(6)))}if(g)for(let C=v;C<d.length();C++)"%"===d.charAt(C)&&(C<d.length()-1&&"%"===d.charAt(C+1)?d.deleteCharAt(C+1):d.setCharAt(C,"\x1d"))}static decodeNumericSegment(l,d,p){for(;p>=3;){if(l.available()<10)throw new Ce;const g=l.readBits(10);if(g>=1e3)throw new Ce;d.append(D.toAlphaNumericChar(Math.floor(g/100))),d.append(D.toAlphaNumericChar(Math.floor(g/10)%10)),d.append(D.toAlphaNumericChar(g%10)),p-=3}if(2===p){if(l.available()<7)throw new Ce;const g=l.readBits(7);if(g>=100)throw new Ce;d.append(D.toAlphaNumericChar(Math.floor(g/10))),d.append(D.toAlphaNumericChar(g%10))}else if(1===p){if(l.available()<4)throw new Ce;const g=l.readBits(4);if(g>=10)throw new Ce;d.append(D.toAlphaNumericChar(g))}}static parseECIValue(l){const d=l.readBits(8);if(!(128&d))return 127&d;if(128==(192&d))return(63&d)<<8&4294967295|l.readBits(8);if(192==(224&d))return(31&d)<<16&4294967295|l.readBits(16);throw new Ce}}return D.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",D.GB2312_SUBSET=1,D})();class vu{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||null===a||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class dg{constructor(){this.rsDecoder=new Gt(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(fe.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const d=new wf(a);let p=null;try{return this.decodeBitMatrixParser(d,l)}catch(g){p=g}try{d.remask(),d.setMirror(!0),d.readVersion(),d.readFormatInformation(),d.mirror();const g=this.decodeBitMatrixParser(d,l);return g.setOther(new vu(!0)),g}catch(g){throw null!==p?p:g}}decodeBitMatrixParser(a,l){const d=a.readVersion(),p=a.readFormatInformation().getErrorCorrectionLevel(),g=a.readCodewords(),v=wt.getDataBlocks(g,d,p);let C=0;for(const A of v)C+=A.getNumDataCodewords();const E=new Uint8Array(C);let I=0;for(const A of v){const O=A.getCodewords(),k=A.getNumDataCodewords();this.correctErrors(O,k);for(let L=0;L<k;L++)E[I++]=O[L]}return yu.decode(E,d,p,l)}correctErrors(a,l){const d=new Int32Array(a);try{this.rsDecoder.decode(d,a.length-l)}catch{throw new se}for(let p=0;p<l;p++)a[p]=d[p]}}class Lc extends de{constructor(a,l,d){super(a,l),this.estimatedModuleSize=d}aboutEquals(a,l,d){if(Math.abs(l-this.getY())<=a&&Math.abs(d-this.getX())<=a){const p=Math.abs(a-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(a,l,d){const p=(this.getX()+l)/2,g=(this.getY()+a)/2;return new Lc(p,g,(this.estimatedModuleSize+d)/2)}}class ns{constructor(a,l,d,p,g,v,C){this.image=a,this.startX=l,this.startY=d,this.width=p,this.height=g,this.moduleSize=v,this.resultPointCallback=C,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,p=a+this.width,g=this.startY+l/2,v=new Int32Array(3),C=this.image;for(let E=0;E<l;E++){const I=g+(1&E?-Math.floor((E+1)/2):Math.floor((E+1)/2));v[0]=0,v[1]=0,v[2]=0;let A=a;for(;A<p&&!C.get(A,I);)A++;let O=0;for(;A<p;){if(C.get(A,I))if(1===O)v[1]++;else if(2===O){if(this.foundPatternCross(v)){const k=this.handlePossibleCenter(v,I,A);if(null!==k)return k}v[0]=v[2],v[1]=1,v[2]=0,O=1}else v[++O]++;else 1===O&&O++,v[O]++;A++}if(this.foundPatternCross(v)){const k=this.handlePossibleCenter(v,I,p);if(null!==k)return k}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new j}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,d=l/2;for(let p=0;p<3;p++)if(Math.abs(l-a[p])>=d)return!1;return!0}crossCheckVertical(a,l,d,p){const g=this.image,v=g.getHeight(),C=this.crossCheckStateCount;C[0]=0,C[1]=0,C[2]=0;let E=a;for(;E>=0&&g.get(l,E)&&C[1]<=d;)C[1]++,E--;if(E<0||C[1]>d)return NaN;for(;E>=0&&!g.get(l,E)&&C[0]<=d;)C[0]++,E--;if(C[0]>d)return NaN;for(E=a+1;E<v&&g.get(l,E)&&C[1]<=d;)C[1]++,E++;if(E===v||C[1]>d)return NaN;for(;E<v&&!g.get(l,E)&&C[2]<=d;)C[2]++,E++;return C[2]>d||5*Math.abs(C[0]+C[1]+C[2]-p)>=2*p?NaN:this.foundPatternCross(C)?ns.centerFromEnd(C,E):NaN}handlePossibleCenter(a,l,d){const p=a[0]+a[1]+a[2],g=ns.centerFromEnd(a,d),v=this.crossCheckVertical(l,g,2*a[1],p);if(!isNaN(v)){const C=(a[0]+a[1]+a[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(C,v,g))return I.combineEstimate(v,g,C);const E=new Lc(g,v,C);this.possibleCenters.push(E),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(E)}return null}}class Ot extends de{constructor(a,l,d,p){super(a,l),this.estimatedModuleSize=d,this.count=p,void 0===p&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,d){if(Math.abs(l-this.getY())<=a&&Math.abs(d-this.getX())<=a){const p=Math.abs(a-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(a,l,d){const p=this.count+1,g=(this.count*this.getX()+l)/p,v=(this.count*this.getY()+a)/p;return new Ot(g,v,(this.count*this.estimatedModuleSize+d)/p,p)}}class Bc{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Cu=(()=>{class D{constructor(l,d){this.image=l,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=d}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const d=null!=l&&void 0!==l.get(Ve.TRY_HARDER),p=null!=l&&void 0!==l.get(Ve.PURE_BARCODE),g=this.image,v=g.getHeight(),C=g.getWidth();let E=Math.floor(3*v/(4*D.MAX_MODULES));(E<D.MIN_SKIP||d)&&(E=D.MIN_SKIP);let I=!1;const A=new Int32Array(5);for(let k=E-1;k<v&&!I;k+=E){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let L=0;for(let z=0;z<C;z++)if(g.get(z,k))!(1&~L)&&L++,A[L]++;else if(1&L)A[L]++;else if(4===L)if(D.foundPatternCross(A)){if(!0!==this.handlePossibleCenter(A,k,z,p)){A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;continue}if(E=2,!0===this.hasSkipped)I=this.haveMultiplyConfirmedCenters();else{const re=this.findRowSkip();re>A[2]&&(k+=re-A[2]-E,z=C-1)}L=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,L=3;else A[++L]++;D.foundPatternCross(A)&&!0===this.handlePossibleCenter(A,k,C,p)&&(E=A[0],this.hasSkipped&&(I=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return de.orderBestPatterns(O),new Bc(O)}static centerFromEnd(l,d){return d-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let d=0;for(let v=0;v<5;v++){const C=l[v];if(0===C)return!1;d+=C}if(d<7)return!1;const p=d/7,g=p/2;return Math.abs(p-l[0])<g&&Math.abs(p-l[1])<g&&Math.abs(3*p-l[2])<3*g&&Math.abs(p-l[3])<g&&Math.abs(p-l[4])<g}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,d,p,g){const v=this.getCrossCheckStateCount();let C=0;const E=this.image;for(;l>=C&&d>=C&&E.get(d-C,l-C);)v[2]++,C++;if(l<C||d<C)return!1;for(;l>=C&&d>=C&&!E.get(d-C,l-C)&&v[1]<=p;)v[1]++,C++;if(l<C||d<C||v[1]>p)return!1;for(;l>=C&&d>=C&&E.get(d-C,l-C)&&v[0]<=p;)v[0]++,C++;if(v[0]>p)return!1;const I=E.getHeight(),A=E.getWidth();for(C=1;l+C<I&&d+C<A&&E.get(d+C,l+C);)v[2]++,C++;if(l+C>=I||d+C>=A)return!1;for(;l+C<I&&d+C<A&&!E.get(d+C,l+C)&&v[3]<p;)v[3]++,C++;if(l+C>=I||d+C>=A||v[3]>=p)return!1;for(;l+C<I&&d+C<A&&E.get(d+C,l+C)&&v[4]<p;)v[4]++,C++;return!(v[4]>=p)&&Math.abs(v[0]+v[1]+v[2]+v[3]+v[4]-g)<2*g&&D.foundPatternCross(v)}crossCheckVertical(l,d,p,g){const v=this.image,C=v.getHeight(),E=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(d,I);)E[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(d,I)&&E[1]<=p;)E[1]++,I--;if(I<0||E[1]>p)return NaN;for(;I>=0&&v.get(d,I)&&E[0]<=p;)E[0]++,I--;if(E[0]>p)return NaN;for(I=l+1;I<C&&v.get(d,I);)E[2]++,I++;if(I===C)return NaN;for(;I<C&&!v.get(d,I)&&E[3]<p;)E[3]++,I++;if(I===C||E[3]>=p)return NaN;for(;I<C&&v.get(d,I)&&E[4]<p;)E[4]++,I++;return E[4]>=p||5*Math.abs(E[0]+E[1]+E[2]+E[3]+E[4]-g)>=2*g?NaN:D.foundPatternCross(E)?D.centerFromEnd(E,I):NaN}crossCheckHorizontal(l,d,p,g){const v=this.image,C=v.getWidth(),E=this.getCrossCheckStateCount();let I=l;for(;I>=0&&v.get(I,d);)E[2]++,I--;if(I<0)return NaN;for(;I>=0&&!v.get(I,d)&&E[1]<=p;)E[1]++,I--;if(I<0||E[1]>p)return NaN;for(;I>=0&&v.get(I,d)&&E[0]<=p;)E[0]++,I--;if(E[0]>p)return NaN;for(I=l+1;I<C&&v.get(I,d);)E[2]++,I++;if(I===C)return NaN;for(;I<C&&!v.get(I,d)&&E[3]<p;)E[3]++,I++;if(I===C||E[3]>=p)return NaN;for(;I<C&&v.get(I,d)&&E[4]<p;)E[4]++,I++;return E[4]>=p||5*Math.abs(E[0]+E[1]+E[2]+E[3]+E[4]-g)>=g?NaN:D.foundPatternCross(E)?D.centerFromEnd(E,I):NaN}handlePossibleCenter(l,d,p,g){const v=l[0]+l[1]+l[2]+l[3]+l[4];let C=D.centerFromEnd(l,p),E=this.crossCheckVertical(d,Math.floor(C),l[2],v);if(!isNaN(E)&&(C=this.crossCheckHorizontal(Math.floor(C),Math.floor(E),l[2],v),!isNaN(C)&&(!g||this.crossCheckDiagonal(Math.floor(E),Math.floor(C),l[2],v)))){const I=v/7;let A=!1;const O=this.possibleCenters;for(let k=0,L=O.length;k<L;k++){const z=O[k];if(z.aboutEquals(I,E,C)){O[k]=z.combineEstimate(E,C,I),A=!0;break}}if(!A){const k=new Ot(C,E,I);O.push(k),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let d=null;for(const p of this.possibleCenters)if(p.getCount()>=D.CENTER_QUORUM){if(null!=d)return this.hasSkipped=!0,Math.floor((Math.abs(d.getX()-p.getX())-Math.abs(d.getY()-p.getY()))/2);d=p}return 0}haveMultiplyConfirmedCenters(){let l=0,d=0;const p=this.possibleCenters.length;for(const C of this.possibleCenters)C.getCount()>=D.CENTER_QUORUM&&(l++,d+=C.getEstimatedModuleSize());if(l<3)return!1;const g=d/p;let v=0;for(const C of this.possibleCenters)v+=Math.abs(C.getEstimatedModuleSize()-g);return v<=.05*d}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new j;const d=this.possibleCenters;let p;if(l>3){let g=0,v=0;for(const I of this.possibleCenters){const A=I.getEstimatedModuleSize();g+=A,v+=A*A}p=g/l;let C=Math.sqrt(v/l-p*p);d.sort((I,A)=>{const O=Math.abs(A.getEstimatedModuleSize()-p),k=Math.abs(I.getEstimatedModuleSize()-p);return O<k?-1:O>k?1:0});const E=Math.max(.2*p,C);for(let I=0;I<d.length&&d.length>3;I++)Math.abs(d[I].getEstimatedModuleSize()-p)>E&&(d.splice(I,1),I--)}if(d.length>3){let g=0;for(const v of d)g+=v.getEstimatedModuleSize();p=g/d.length,d.sort((v,C)=>{if(C.getCount()===v.getCount()){const E=Math.abs(C.getEstimatedModuleSize()-p),I=Math.abs(v.getEstimatedModuleSize()-p);return E<I?1:E>I?-1:0}return C.getCount()-v.getCount()}),d.splice(3)}return[d[0],d[1],d[2]]}}return D.CENTER_QUORUM=2,D.MIN_SKIP=3,D.MAX_MODULES=57,D})();class er{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=null==a?null:a.get(Ve.NEED_RESULT_POINT_CALLBACK);const d=new Cu(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(d)}processFinderPatternInfo(a){const l=a.getTopLeft(),d=a.getTopRight(),p=a.getBottomLeft(),g=this.calculateModuleSize(l,d,p);if(g<1)throw new j("No pattern found in proccess finder.");const v=er.computeDimension(l,d,p,g),C=it.getProvisionalVersionForDimension(v),E=C.getDimensionForVersion()-7;let I=null;if(C.getAlignmentPatternCenters().length>0){const L=d.getX()-l.getX()+p.getX(),z=d.getY()-l.getY()+p.getY(),Q=1-3/E,re=Math.floor(l.getX()+Q*(L-l.getX())),ue=Math.floor(l.getY()+Q*(z-l.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{I=this.findAlignmentInRegion(g,re,ue,Ae);break}catch(He){if(!(He instanceof j))throw He}}const A=er.createTransform(l,d,p,I,v),O=er.sampleGrid(this.image,A,v);let k;return k=null===I?[p,l,d]:[p,l,d,I],new Pn(O,k)}static createTransform(a,l,d,p,g){const v=g-3.5;let C,E,I,A;return null!==p?(C=p.getX(),E=p.getY(),I=v-3,A=I):(C=l.getX()-a.getX()+d.getX(),E=l.getY()-a.getY()+d.getY(),I=v,A=v),Rt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,I,A,3.5,v,a.getX(),a.getY(),l.getX(),l.getY(),C,E,d.getX(),d.getY())}static sampleGrid(a,l,d){return Ge.getInstance().sampleGridWithTransform(a,d,d,l)}static computeDimension(a,l,d,p){const g=Je.round(de.distance(a,l)/p),v=Je.round(de.distance(a,d)/p);let C=Math.floor((g+v)/2)+7;switch(3&C){case 0:C++;break;case 2:C--;break;case 3:throw new j("Dimensions could be not found.")}return C}calculateModuleSize(a,l,d){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,d))/2}calculateModuleSizeOneWay(a,l){const d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(d)?p/7:isNaN(p)?d/7:(d+p)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,d,p){let g=this.sizeOfBlackWhiteBlackRun(a,l,d,p),v=1,C=a-(d-a);C<0?(v=a/(a-C),C=0):C>=this.image.getWidth()&&(v=(this.image.getWidth()-1-a)/(C-a),C=this.image.getWidth()-1);let E=Math.floor(l-(p-l)*v);return v=1,E<0?(v=l/(l-E),E=0):E>=this.image.getHeight()&&(v=(this.image.getHeight()-1-l)/(E-l),E=this.image.getHeight()-1),C=Math.floor(a+(C-a)*v),g+=this.sizeOfBlackWhiteBlackRun(a,l,C,E),g-1}sizeOfBlackWhiteBlackRun(a,l,d,p){const g=Math.abs(p-l)>Math.abs(d-a);if(g){let L=a;a=l,l=L,L=d,d=p,p=L}const v=Math.abs(d-a),C=Math.abs(p-l);let E=-v/2;const I=a<d?1:-1,A=l<p?1:-1;let O=0;const k=d+I;for(let L=a,z=l;L!==k;L+=I){if(1===O===this.image.get(g?z:L,g?L:z)){if(2===O)return Je.distance(L,z,a,l);O++}if(E+=C,E>0){if(z===p)break;z+=A,E-=v}}return 2===O?Je.distance(d+I,p,a,l):NaN}findAlignmentInRegion(a,l,d,p){const g=Math.floor(p*a),v=Math.max(0,l-g),C=Math.min(this.image.getWidth()-1,l+g);if(C-v<3*a)throw new j("Alignment top exceeds estimated module size.");const E=Math.max(0,d-g),I=Math.min(this.image.getHeight()-1,d+g);if(I-E<3*a)throw new j("Alignment bottom exceeds estimated module size.");return new ns(this.image,v,E,C-v,I-E,a,this.resultPointCallback).find()}}class Ri{constructor(){this.decoder=new dg}getDecoder(){return this.decoder}decode(a,l){let d,p;if(null!=l&&void 0!==l.get(Ve.PURE_BARCODE)){const E=Ri.extractPureBits(a.getBlackMatrix());d=this.decoder.decodeBitMatrix(E,l),p=Ri.NO_POINTS}else{const E=new er(a.getBlackMatrix()).detect(l);d=this.decoder.decodeBitMatrix(E.getBits(),l),p=E.getPoints()}d.getOther()instanceof vu&&d.getOther().applyMirroredCorrection(p);const g=new Nt(d.getText(),d.getRawBytes(),void 0,p,Fe.QR_CODE,void 0),v=d.getByteSegments();null!==v&&g.putMetadata(Ct.BYTE_SEGMENTS,v);const C=d.getECLevel();return null!==C&&g.putMetadata(Ct.ERROR_CORRECTION_LEVEL,C),d.hasStructuredAppend()&&(g.putMetadata(Ct.STRUCTURED_APPEND_SEQUENCE,d.getStructuredAppendSequenceNumber()),g.putMetadata(Ct.STRUCTURED_APPEND_PARITY,d.getStructuredAppendParity())),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),d=a.getBottomRightOnBit();if(null===l||null===d)throw new j;const p=this.moduleSize(l,a);let g=l[1],v=d[1],C=l[0],E=d[0];if(C>=E||g>=v)throw new j;if(v-g!=E-C&&(E=C+(v-g),E>=a.getWidth()))throw new j;const I=Math.round((E-C+1)/p),A=Math.round((v-g+1)/p);if(I<=0||A<=0)throw new j;if(A!==I)throw new j;const O=Math.floor(p/2);g+=O,C+=O;const k=C+Math.floor((I-1)*p)-E;if(k>0){if(k>O)throw new j;C-=k}const L=g+Math.floor((A-1)*p)-v;if(L>0){if(L>O)throw new j;g-=L}const z=new fe(I,A);for(let Q=0;Q<A;Q++){const re=g+Math.floor(Q*p);for(let ue=0;ue<I;ue++)a.get(C+Math.floor(ue*p),re)&&z.set(ue,Q)}return z}static moduleSize(a,l){const d=l.getHeight(),p=l.getWidth();let g=a[0],v=a[1],C=!0,E=0;for(;g<p&&v<d;){if(C!==l.get(g,v)){if(5==++E)break;C=!C}g++,v++}if(g===p||v===d)throw new j;return(g-a[0])/7}}Ri.NO_POINTS=new Array;class vt{PDF417Common(){}static getBitCountSum(a){return Je.sum(a)}static toIntArray(a){if(null==a||!a.length)return vt.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let d=0;for(const p of a)l[d++]=p;return l}static getCodeword(a){const l=mt.binarySearch(vt.SYMBOL_TABLE,262143&a);return l<0?-1:(vt.CODEWORD_TABLE[l]-1)%vt.NUMBER_OF_CODEWORDS}}vt.NUMBER_OF_CODEWORDS=929,vt.MAX_CODEWORDS_IN_BARCODE=vt.NUMBER_OF_CODEWORDS-1,vt.MIN_ROWS_IN_BARCODE=3,vt.MAX_ROWS_IN_BARCODE=90,vt.MODULES_IN_CODEWORD=17,vt.MODULES_IN_STOP_PATTERN=18,vt.BARS_IN_MODULE=8,vt.EMPTY_INT_ARRAY=new Int32Array([]),vt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),vt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vs{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class xt{static detectMultiple(a,l,d){let p=a.getBlackMatrix(),g=xt.detect(d,p);return g.length||(p=p.clone(),p.rotate180(),g=xt.detect(d,p)),new Vs(p,g)}static detect(a,l){const d=new Array;let p=0,g=0,v=!1;for(;p<l.getHeight();){const C=xt.findVertices(l,p,g);if(null!=C[0]||null!=C[3]){if(v=!0,d.push(C),!a)break;null!=C[2]?(g=Math.trunc(C[2].getX()),p=Math.trunc(C[2].getY())):(g=Math.trunc(C[4].getX()),p=Math.trunc(C[4].getY()))}else{if(!v)break;v=!1,g=0;for(const E of d)null!=E[1]&&(p=Math.trunc(Math.max(p,E[1].getY()))),null!=E[3]&&(p=Math.max(p,Math.trunc(E[3].getY())));p+=xt.ROW_STEP}}return d}static findVertices(a,l,d){const p=a.getHeight(),g=a.getWidth(),v=new Array(8);return xt.copyToResult(v,xt.findRowsWithPattern(a,p,g,l,d,xt.START_PATTERN),xt.INDEXES_START_PATTERN),null!=v[4]&&(d=Math.trunc(v[4].getX()),l=Math.trunc(v[4].getY())),xt.copyToResult(v,xt.findRowsWithPattern(a,p,g,l,d,xt.STOP_PATTERN),xt.INDEXES_STOP_PATTERN),v}static copyToResult(a,l,d){for(let p=0;p<d.length;p++)a[d[p]]=l[p]}static findRowsWithPattern(a,l,d,p,g,v){const C=new Array(4);let E=!1;const I=new Int32Array(v.length);for(;p<l;p+=xt.ROW_STEP){let O=xt.findGuardPattern(a,g,p,d,!1,v,I);if(null!=O){for(;p>0;){const k=xt.findGuardPattern(a,g,--p,d,!1,v,I);if(null==k){p++;break}O=k}C[0]=new de(O[0],p),C[1]=new de(O[1],p),E=!0;break}}let A=p+1;if(E){let O=0,k=Int32Array.from([Math.trunc(C[0].getX()),Math.trunc(C[1].getX())]);for(;A<l;A++){const L=xt.findGuardPattern(a,k[0],A,d,!1,v,I);if(null!=L&&Math.abs(k[0]-L[0])<xt.MAX_PATTERN_DRIFT&&Math.abs(k[1]-L[1])<xt.MAX_PATTERN_DRIFT)k=L,O=0;else{if(O>xt.SKIPPED_ROW_COUNT_MAX)break;O++}}A-=O+1,C[2]=new de(k[0],A),C[3]=new de(k[1],A)}return A-p<xt.BARCODE_MIN_HEIGHT&&mt.fill(C,null),C}static findGuardPattern(a,l,d,p,g,v,C){mt.fillWithin(C,0,C.length,0);let E=l,I=0;for(;a.get(E,d)&&E>0&&I++<xt.MAX_PIXEL_DRIFT;)E--;let A=E,O=0,k=v.length;for(let L=g;A<p;A++)if(a.get(A,d)!==L)C[O]++;else{if(O===k-1){if(xt.patternMatchVariance(C,v,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return new Int32Array([E,A]);E+=C[0]+C[1],Ee.arraycopy(C,2,C,0,O-1),C[O-1]=0,C[O]=0,O--}else O++;C[O]=1,L=!L}return O===k-1&&xt.patternMatchVariance(C,v,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE?new Int32Array([E,A-1]):null}static patternMatchVariance(a,l,d){let p=a.length,g=0,v=0;for(let I=0;I<p;I++)g+=a[I],v+=l[I];if(g<v)return 1/0;let C=g/v;d*=C;let E=0;for(let I=0;I<p;I++){let A=a[I],O=l[I]*C,k=A>O?A-O:O-A;if(k>d)return 1/0;E+=k}return E/g}}xt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),xt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),xt.MAX_AVG_VARIANCE=.42,xt.MAX_INDIVIDUAL_VARIANCE=.8,xt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),xt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),xt.MAX_PIXEL_DRIFT=3,xt.MAX_PATTERN_DRIFT=5,xt.SKIPPED_ROW_COUNT_MAX=25,xt.ROW_STEP=5,xt.BARCODE_MIN_HEIGHT=10;class zn{constructor(a,l){if(0===l.length)throw new J;this.field=a;let d=l.length;if(d>1&&0===l[0]){let p=1;for(;p<d&&0===l[p];)p++;p===d?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(d-p),Ee.arraycopy(l,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(0===a)return this.getCoefficient(0);if(1===a){let p=0;for(let g of this.coefficients)p=this.field.add(p,g);return p}let l=this.coefficients[0],d=this.coefficients.length;for(let p=1;p<d;p++)l=this.field.add(this.field.multiply(a,l),this.coefficients[p]);return l}add(a){if(!this.field.equals(a.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,d=a.coefficients;if(l.length>d.length){let v=l;l=d,d=v}let p=new Int32Array(d.length),g=d.length-l.length;Ee.arraycopy(d,0,p,0,g);for(let v=g;v<d.length;v++)p[v]=this.field.add(l[v-g],d[v]);return new zn(this.field,p)}subtract(a){if(!this.field.equals(a.field))throw new J("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof zn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new J("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new zn(this.field,new Int32Array([0]));let l=this.coefficients,d=l.length,p=a.coefficients,g=p.length,v=new Int32Array(d+g-1);for(let C=0;C<d;C++){let E=l[C];for(let I=0;I<g;I++)v[C+I]=this.field.add(v[C+I],this.field.multiply(E,p[I]))}return new zn(this.field,v)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let d=0;d<a;d++)l[d]=this.field.subtract(0,this.coefficients[d]);return new zn(this.field,l)}multiplyScalar(a){if(0===a)return new zn(this.field,new Int32Array([0]));if(1===a)return this;let l=this.coefficients.length,d=new Int32Array(l);for(let p=0;p<l;p++)d[p]=this.field.multiply(this.coefficients[p],a);return new zn(this.field,d)}multiplyByMonomial(a,l){if(a<0)throw new J;if(0===l)return new zn(this.field,new Int32Array([0]));let d=this.coefficients.length,p=new Int32Array(d+a);for(let g=0;g<d;g++)p[g]=this.field.multiply(this.coefficients[g],l);return new zn(this.field,p)}toString(){let a=new te;for(let l=this.getDegree();l>=0;l--){let d=this.getCoefficient(l);0!==d&&(d<0?(a.append(" - "),d=-d):a.length()>0&&a.append(" + "),(0===l||1!==d)&&a.append(d),0!==l&&(1===l?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class wa{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(0===a)throw new J;return this.logTable[a]}inverse(a){if(0===a)throw new Qe;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return 0===a||0===l?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class Uc extends wa{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let d=1;for(let p=0;p<a;p++)this.expTable[p]=d,d=d*l%a;for(let p=0;p<a-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new zn(this,new Int32Array([0])),this.one=new zn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new J;if(0===l)return this.zero;let d=new Int32Array(a+1);return d[0]=l,new zn(this,d)}}Uc.PDF417_GF=new Uc(vt.NUMBER_OF_CODEWORDS,3);class wu{constructor(){this.field=Uc.PDF417_GF}decode(a,l,d){let p=new zn(this.field,a),g=new Int32Array(l),v=!1;for(let z=l;z>0;z--){let Q=p.evaluateAt(this.field.exp(z));g[l-z]=Q,0!==Q&&(v=!0)}if(!v)return 0;let C=this.field.getOne();if(null!=d)for(const z of d){let Q=this.field.exp(a.length-1-z),re=new zn(this.field,new Int32Array([this.field.subtract(0,Q),1]));C=C.multiply(re)}let E=new zn(this.field,g),I=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),E,l),A=I[0],O=I[1],k=this.findErrorLocations(A),L=this.findErrorMagnitudes(O,A,k);for(let z=0;z<k.length;z++){let Q=a.length-1-this.field.log(k[z]);if(Q<0)throw se.getChecksumInstance();a[Q]=this.field.subtract(a[Q],L[z])}return k.length}runEuclideanAlgorithm(a,l,d){if(a.getDegree()<l.getDegree()){let k=a;a=l,l=k}let p=a,g=l,v=this.field.getZero(),C=this.field.getOne();for(;g.getDegree()>=Math.round(d/2);){let k=p,L=v;if(p=g,v=C,p.isZero())throw se.getChecksumInstance();g=k;let z=this.field.getZero(),Q=p.getCoefficient(p.getDegree()),re=this.field.inverse(Q);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){let ue=g.getDegree()-p.getDegree(),Ae=this.field.multiply(g.getCoefficient(g.getDegree()),re);z=z.add(this.field.buildMonomial(ue,Ae)),g=g.subtract(p.multiplyByMonomial(ue,Ae))}C=z.multiply(v).subtract(L).negative()}let E=C.getCoefficient(0);if(0===E)throw se.getChecksumInstance();let I=this.field.inverse(E);return[C.multiply(I),g.multiply(I)]}findErrorLocations(a){let l=a.getDegree(),d=new Int32Array(l),p=0;for(let g=1;g<this.field.getSize()&&p<l;g++)0===a.evaluateAt(g)&&(d[p]=this.field.inverse(g),p++);if(p!==l)throw se.getChecksumInstance();return d}findErrorMagnitudes(a,l,d){let p=l.getDegree(),g=new Int32Array(p);for(let I=1;I<=p;I++)g[p-I]=this.field.multiply(I,l.getCoefficient(I));let v=new zn(this.field,g),C=d.length,E=new Int32Array(C);for(let I=0;I<C;I++){let A=this.field.inverse(d[I]),O=this.field.subtract(0,a.evaluateAt(A)),k=this.field.inverse(v.evaluateAt(A));E[I]=this.field.multiply(O,k)}return E}}class wo{constructor(a,l,d,p,g){a instanceof wo?this.constructor_2(a):this.constructor_1(a,l,d,p,g)}constructor_1(a,l,d,p,g){const v=null==l||null==d,C=null==p||null==g;if(v&&C)throw new j;v?(l=new de(0,p.getY()),d=new de(0,g.getY())):C&&(p=new de(a.getWidth()-1,l.getY()),g=new de(a.getWidth()-1,d.getY())),this.image=a,this.topLeft=l,this.bottomLeft=d,this.topRight=p,this.bottomRight=g,this.minX=Math.trunc(Math.min(l.getX(),d.getX())),this.maxX=Math.trunc(Math.max(p.getX(),g.getX())),this.minY=Math.trunc(Math.min(l.getY(),p.getY())),this.maxY=Math.trunc(Math.max(d.getY(),g.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return null==a?l:null==l?a:new wo(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,d){let p=this.topLeft,g=this.bottomLeft,v=this.topRight,C=this.bottomRight;if(a>0){let E=d?this.topLeft:this.topRight,I=Math.trunc(E.getY()-a);I<0&&(I=0);let A=new de(E.getX(),I);d?p=A:v=A}if(l>0){let E=d?this.bottomLeft:this.bottomRight,I=Math.trunc(E.getY()+l);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let A=new de(E.getX(),I);d?g=A:C=A}return new wo(this.image,p,g,v,C)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Vc{constructor(a,l,d,p){this.columnCount=a,this.errorCorrectionLevel=p,this.rowCountUpperPart=l,this.rowCountLowerPart=d,this.rowCount=l+d}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class gi{constructor(){this.buffer=""}static form(a,l){let d=-1;return a.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function p(v,C,E,I,A,O){if("%%"===v)return"%";if(void 0===l[++d])return;v=I?parseInt(I.substr(1)):void 0;let L,k=A?parseInt(A.substr(1)):void 0;switch(O){case"s":L=l[d];break;case"c":L=l[d][0];break;case"f":L=parseFloat(l[d]).toFixed(v);break;case"p":L=parseFloat(l[d]).toPrecision(v);break;case"e":L=parseFloat(l[d]).toExponential(v);break;case"x":L=parseInt(l[d]).toString(k||16);break;case"d":L=parseFloat(parseInt(l[d],k||10).toPrecision(v)).toFixed(0)}L="object"==typeof L?JSON.stringify(L):(+L).toString(k);let z=parseInt(E),Q=E&&E[0]+""=="0"?"0":" ";for(;L.length<z;)L=void 0!==C?L+Q:Q+L;return L})}format(a,...l){this.buffer+=gi.form(a,l)}toString(){return this.buffer}}let Eu=(()=>{class D{constructor(l){this.boundingBox=new wo(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let d=this.getCodeword(l);if(null!=d)return d;for(let p=1;p<D.MAX_NEARBY_DISTANCE;p++){let g=this.imageRowToCodewordIndex(l)-p;if(g>=0&&(d=this.codewords[g],null!=d)||(g=this.imageRowToCodewordIndex(l)+p,g<this.codewords.length&&(d=this.codewords[g],null!=d)))return d}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,d){this.codewords[this.imageRowToCodewordIndex(l)]=d}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new gi;let d=0;for(const p of this.codewords)null!=p?l.format("%3d: %3d|%3d%n",d++,p.getRowNumber(),p.getValue()):l.format("%3d:    |   %n",d++);return l.toString()}}return D.MAX_NEARBY_DISTANCE=5,D})();class pr{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);null==l&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[d,p]of this.values.entries()){const g={getKey:()=>d,getValue:()=>p};g.getValue()>a?(a=g.getValue(),l=[],l.push(g.getKey())):g.getValue()===a&&l.push(g.getKey())}return vt.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class Ea extends Eu{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let d=this.getBoundingBox(),p=this._isLeft?d.getTopLeft():d.getTopRight(),g=this._isLeft?d.getBottomLeft():d.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),C=this.imageRowToCodewordIndex(Math.trunc(g.getY())),E=-1,I=1,A=0;for(let O=v;O<C;O++){if(null==l[O])continue;let k=l[O],L=k.getRowNumber()-E;if(0===L)A++;else if(1===L)I=Math.max(I,A),A=1,E=k.getRowNumber();else if(L<0||k.getRowNumber()>=a.getRowCount()||L>O)l[O]=null;else{let z;z=I>2?(I-2)*L:L;let Q=z>=O;for(let re=1;re<=z&&!Q;re++)Q=null!=l[O-re];Q?l[O]=null:(E=k.getRowNumber(),A=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(null==a)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let d of this.getCodewords())if(null!=d){let p=d.getRowNumber();if(p>=l.length)continue;l[p]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),d=this._isLeft?l.getTopLeft():l.getTopRight(),p=this._isLeft?l.getBottomLeft():l.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),C=this.getCodewords(),E=-1;for(let I=g;I<v;I++){if(null==C[I])continue;let A=C[I];A.setRowNumberAsRowIndicatorColumn();let O=A.getRowNumber()-E;0===O||(1===O?E=A.getRowNumber():A.getRowNumber()>=a.getRowCount()?C[I]=null:E=A.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new pr,d=new pr,p=new pr,g=new pr;for(let C of a){if(null==C)continue;C.setRowNumberAsRowIndicatorColumn();let E=C.getValue()%30,I=C.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:d.setValue(3*E+1);break;case 1:g.setValue(E/3),p.setValue(E%3);break;case 2:l.setValue(E+1)}}if(0===l.getValue().length||0===d.getValue().length||0===p.getValue().length||0===g.getValue().length||l.getValue()[0]<1||d.getValue()[0]+p.getValue()[0]<vt.MIN_ROWS_IN_BARCODE||d.getValue()[0]+p.getValue()[0]>vt.MAX_ROWS_IN_BARCODE)return null;let v=new Vc(l.getValue()[0],d.getValue()[0],p.getValue()[0],g.getValue()[0]);return this.removeIncorrectCodewords(a,v),v}removeIncorrectCodewords(a,l){for(let d=0;d<a.length;d++){let p=a[d];if(null==a[d])continue;let g=p.getValue()%30,v=p.getRowNumber();if(v>l.getRowCount())a[d]=null;else switch(this._isLeft||(v+=2),v%3){case 0:3*g+1!==l.getRowCountUpperPart()&&(a[d]=null);break;case 1:(Math.trunc(g/3)!==l.getErrorCorrectionLevel()||g%3!==l.getRowCountLowerPart())&&(a[d]=null);break;case 2:g+1!==l.getColumnCount()&&(a[d]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class On{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l,a=vt.MAX_CODEWORDS_IN_BARCODE;do{l=a,a=this.adjustRowNumbersAndGetCount()}while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(0===a)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let d=this.detectionResultColumns[l].getCodewords();for(let p=0;p<d.length;p++)null!=d[p]&&(d[p].hasValidRowNumber()||this.adjustRowNumbers(l,p,d))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<a.length;d++)if(null!=a[d]&&null!=l[d]&&a[d].getRowNumber()===l[d].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let g=this.detectionResultColumns[p].getCodewords()[d];null!=g&&(g.setRowNumber(a[d].getRowNumber()),g.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[d]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let d=0;d<l.length;d++){if(null==l[d])continue;let p=l[d].getRowNumber(),g=0;for(let v=this.barcodeColumnCount+1;v>0&&g<this.ADJUST_ROW_NUMBER_SKIP;v--){let C=this.detectionResultColumns[v].getCodewords()[d];null!=C&&(g=On.adjustRowNumberIfValid(p,g,C),C.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let d=0;d<l.length;d++){if(null==l[d])continue;let p=l[d].getRowNumber(),g=0;for(let v=1;v<this.barcodeColumnCount+1&&g<this.ADJUST_ROW_NUMBER_SKIP;v++){let C=this.detectionResultColumns[v].getCodewords()[d];null!=C&&(g=On.adjustRowNumberIfValid(p,g,C),C.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,d){return null==d||d.hasValidRowNumber()||(d.isValidRowNumber(a)?(d.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,d){if(!this.detectionResultColumns[a-1])return;let p=d[l],g=this.detectionResultColumns[a-1].getCodewords(),v=g;null!=this.detectionResultColumns[a+1]&&(v=this.detectionResultColumns[a+1].getCodewords());let C=new Array(14);C[2]=g[l],C[3]=v[l],l>0&&(C[0]=d[l-1],C[4]=g[l-1],C[5]=v[l-1]),l>1&&(C[8]=d[l-2],C[10]=g[l-2],C[11]=v[l-2]),l<d.length-1&&(C[1]=d[l+1],C[6]=g[l+1],C[7]=v[l+1]),l<d.length-2&&(C[9]=d[l+2],C[12]=g[l+2],C[13]=v[l+2]);for(let E of C)if(On.adjustRowNumber(p,E))return}static adjustRowNumber(a,l){return!(null==l||!l.hasValidRowNumber()||l.getBucket()!==a.getBucket()||(a.setRowNumber(l.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];null==a&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new gi;for(let d=0;d<a.getCodewords().length;d++){l.format("CW %3d:",d);for(let p=0;p<this.barcodeColumnCount+2;p++){if(null==this.detectionResultColumns[p]){l.format("    |   ");continue}let g=this.detectionResultColumns[p].getCodewords()[d];null!=g?l.format(" %3d|%3d",g.getRowNumber(),g.getValue()):l.format("    |   ")}l.format("%n")}return l.toString()}}let Ef=(()=>{class D{constructor(l,d,p,g){this.rowNumber=D.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(d),this.bucket=Math.trunc(p),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==D.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}return D.BARCODE_ROW_UNKNOWN=-1,D})();class $e{static initialize(){for(let a=0;a<vt.SYMBOL_TABLE.length;a++){let l=vt.SYMBOL_TABLE[a],d=1&l;for(let p=0;p<vt.BARS_IN_MODULE;p++){let g=0;for(;(1&l)===d;)g+=1,l>>=1;d=1&l,$e.RATIOS_TABLE[a]||($e.RATIOS_TABLE[a]=new Array(vt.BARS_IN_MODULE)),$e.RATIOS_TABLE[a][vt.BARS_IN_MODULE-p-1]=Math.fround(g/vt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=$e.getDecodedCodewordValue($e.sampleBitCounts(a));return-1!==l?l:$e.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=Je.sum(a),d=new Int32Array(vt.BARS_IN_MODULE),p=0,g=0;for(let v=0;v<vt.MODULES_IN_CODEWORD;v++)g+a[p]<=l/(2*vt.MODULES_IN_CODEWORD)+v*l/vt.MODULES_IN_CODEWORD&&(g+=a[p],p++),d[p]++;return d}static getDecodedCodewordValue(a){let l=$e.getBitValue(a);return-1===vt.getCodeword(l)?-1:l}static getBitValue(a){let l=0;for(let d=0;d<a.length;d++)for(let p=0;p<a[d];p++)l=l<<1|(d%2==0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=Je.sum(a),d=new Array(vt.BARS_IN_MODULE);if(l>1)for(let v=0;v<d.length;v++)d[v]=Math.fround(a[v]/l);let p=or.MAX_VALUE,g=-1;this.bSymbolTableReady||$e.initialize();for(let v=0;v<$e.RATIOS_TABLE.length;v++){let C=0,E=$e.RATIOS_TABLE[v];for(let I=0;I<vt.BARS_IN_MODULE;I++){let A=Math.fround(E[I]-d[I]);if(C+=Math.fround(A*A),C>=p)break}C<p&&(p=C,g=vt.SYMBOL_TABLE[v])}return g}}$e.bSymbolTableReady=!1,$e.RATIOS_TABLE=new Array(vt.SYMBOL_TABLE.length).map(D=>new Array(vt.BARS_IN_MODULE));class js{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Hs{static parseLong(a,l=void 0){return parseInt(a,l)}}let Gs=(()=>{class D extends oe{}return D.kind="NullPointerException",D})();class _f{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,d){if(null==a)throw new Gs;if(l<0||l>a.length||d<0||l+d>a.length||l+d<0)throw new Se;if(0!==d)for(let p=0;p<d;p++)this.write(a[l+p])}flush(){}close(){}}class _u extends oe{}class fg extends _f{constructor(a=32){if(super(),this.count=0,a<0)throw new J("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let d=this.buf.length<<1;if(d-a<0&&(d=a),d<0){if(a<0)throw new _u;d=xe.MAX_VALUE}this.buf=mt.copyOfUint8Array(this.buf,d)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,d){if(l<0||l>a.length||d<0||l+d-a.length>0)throw new Se;this.ensureCapacity(this.count+d),Ee.arraycopy(a,l,this.buf,this.count,d),this.count+=d}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return mt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?"string"==typeof a?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var fn=function(D){return D[D.ALPHA=0]="ALPHA",D[D.LOWER=1]="LOWER",D[D.MIXED=2]="MIXED",D[D.PUNCT=3]="PUNCT",D[D.ALPHA_SHIFT=4]="ALPHA_SHIFT",D[D.PUNCT_SHIFT=5]="PUNCT_SHIFT",D}(fn||{});function zs(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _a;function Zr(D){if(typeof _a>"u"&&(_a=zs()),null===_a)throw new Error("BigInt is not supported!");return _a(D)}class le{static decode(a,l){let d=new te(""),p=ie.ISO8859_1;d.enableDecoding(p);let g=1,v=a[g++],C=new js;for(;g<a[0];){switch(v){case le.TEXT_COMPACTION_MODE_LATCH:g=le.textCompaction(a,g,d);break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:g=le.byteCompaction(v,a,p,g,d);break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[g++]);break;case le.NUMERIC_COMPACTION_MODE_LATCH:g=le.numericCompaction(a,g,d);break;case le.ECI_CHARSET:ie.getCharacterSetECIByValue(a[g++]);break;case le.ECI_GENERAL_PURPOSE:g+=2;break;case le.ECI_USER_DEFINED:g++;break;case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:g=le.decodeMacroBlock(a,g,C);break;case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:throw new Ce;default:g--,g=le.textCompaction(a,g,d)}if(!(g<a.length))throw Ce.getFormatInstance();v=a[g++]}if(0===d.length())throw Ce.getFormatInstance();let E=new yn(null,d.toString(),null,l);return E.setOther(C),E}static decodeMacroBlock(a,l,d){if(l+le.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw Ce.getFormatInstance();let p=new Int32Array(le.NUMBER_OF_SEQUENCE_CODEWORDS);for(let C=0;C<le.NUMBER_OF_SEQUENCE_CODEWORDS;C++,l++)p[C]=a[l];d.setSegmentIndex(xe.parseInt(le.decodeBase900toBase10(p,le.NUMBER_OF_SEQUENCE_CODEWORDS)));let g=new te;l=le.textCompaction(a,l,g),d.setFileId(g.toString());let v=-1;for(a[l]===le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=l+1);l<a[0];)switch(a[l]){case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a[++l]){case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let C=new te;l=le.textCompaction(a,l+1,C),d.setFileName(C.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let E=new te;l=le.textCompaction(a,l+1,E),d.setSender(E.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new te;l=le.textCompaction(a,l+1,I),d.setAddressee(I.toString());break;case le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new te;l=le.numericCompaction(a,l+1,A),d.setSegmentCount(xe.parseInt(A.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new te;l=le.numericCompaction(a,l+1,O),d.setTimestamp(Hs.parseLong(O.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let k=new te;l=le.numericCompaction(a,l+1,k),d.setChecksum(xe.parseInt(k.toString()));break;case le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new te;l=le.numericCompaction(a,l+1,L),d.setFileSize(Hs.parseLong(L.toString()));break;default:throw Ce.getFormatInstance()}break;case le.MACRO_PDF417_TERMINATOR:l++,d.setLastSegment(!0);break;default:throw Ce.getFormatInstance()}if(-1!==v){let C=l-v;d.isLastSegment()&&C--,d.setOptionalData(mt.copyOfRange(a,v,v+C))}return l}static textCompaction(a,l,d){let p=new Int32Array(2*(a[0]-l)),g=new Int32Array(2*(a[0]-l)),v=0,C=!1;for(;l<a[0]&&!C;){let E=a[l++];if(E<le.TEXT_COMPACTION_MODE_LATCH)p[v]=E/30,p[v+1]=E%30,v+=2;else switch(E){case le.TEXT_COMPACTION_MODE_LATCH:p[v++]=le.TEXT_COMPACTION_MODE_LATCH;break;case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,C=!0;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[v]=le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,E=a[l++],g[v]=E,v++}}return le.decodeTextCompaction(p,g,v,d),l}static decodeTextCompaction(a,l,d,p){let g=fn.ALPHA,v=fn.ALPHA,C=0;for(;C<d;){let E=a[C],I="";switch(g){case fn.ALPHA:if(E<26)I=String.fromCharCode(65+E);else switch(E){case 26:I=" ";break;case le.LL:g=fn.LOWER;break;case le.ML:g=fn.MIXED;break;case le.PS:v=g,g=fn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}break;case fn.LOWER:if(E<26)I=String.fromCharCode(97+E);else switch(E){case 26:I=" ";break;case le.AS:v=g,g=fn.ALPHA_SHIFT;break;case le.ML:g=fn.MIXED;break;case le.PS:v=g,g=fn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}break;case fn.MIXED:if(E<le.PL)I=le.MIXED_CHARS[E];else switch(E){case le.PL:g=fn.PUNCT;break;case 26:I=" ";break;case le.LL:g=fn.LOWER;break;case le.AL:g=fn.ALPHA;break;case le.PS:v=g,g=fn.PUNCT_SHIFT;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}break;case fn.PUNCT:if(E<le.PAL)I=le.PUNCT_CHARS[E];else switch(E){case le.PAL:g=fn.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}break;case fn.ALPHA_SHIFT:if(g=v,E<26)I=String.fromCharCode(65+E);else switch(E){case 26:I=" ";break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}break;case fn.PUNCT_SHIFT:if(g=v,E<le.PAL)I=le.PUNCT_CHARS[E];else switch(E){case le.PAL:g=fn.ALPHA;break;case le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[C]);break;case le.TEXT_COMPACTION_MODE_LATCH:g=fn.ALPHA}}""!==I&&p.append(I),C++}}static byteCompaction(a,l,d,p,g){let v=new fg,C=0,E=0,I=!1;switch(a){case le.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),O=l[p++];for(;p<l[0]&&!I;)switch(A[C++]=O,E=900*E+O,O=l[p++],O){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:p--,I=!0;break;default:if(C%5==0&&C>0){for(let k=0;k<6;++k)v.write(Number(Zr(E)>>Zr(8*(5-k))));E=0,C=0}}p===l[0]&&O<le.TEXT_COMPACTION_MODE_LATCH&&(A[C++]=O);for(let k=0;k<C;k++)v.write(A[k]);break;case le.BYTE_COMPACTION_MODE_LATCH_6:for(;p<l[0]&&!I;){let k=l[p++];if(k<le.TEXT_COMPACTION_MODE_LATCH)C++,E=900*E+k;else switch(k){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.NUMERIC_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:p--,I=!0}if(C%5==0&&C>0){for(let L=0;L<6;++L)v.write(Number(Zr(E)>>Zr(8*(5-L))));E=0,C=0}}}return g.append(Y.decode(v.toByteArray(),d)),p}static numericCompaction(a,l,d){let p=0,g=!1,v=new Int32Array(le.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!g;){let C=a[l++];if(l===a[0]&&(g=!0),C<le.TEXT_COMPACTION_MODE_LATCH)v[p]=C,p++;else switch(C){case le.TEXT_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH:case le.BYTE_COMPACTION_MODE_LATCH_6:case le.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case le.MACRO_PDF417_TERMINATOR:l--,g=!0}(p%le.MAX_NUMERIC_CODEWORDS==0||C===le.NUMERIC_COMPACTION_MODE_LATCH||g)&&p>0&&(d.append(le.decodeBase900toBase10(v,p)),p=0)}return l}static decodeBase900toBase10(a,l){let d=Zr(0);for(let g=0;g<l;g++)d+=le.EXP900[l-g-1]*Zr(a[g]);let p=d.toString();if("1"!==p.charAt(0))throw new Ce;return p.substring(1)}}le.TEXT_COMPACTION_MODE_LATCH=900,le.BYTE_COMPACTION_MODE_LATCH=901,le.NUMERIC_COMPACTION_MODE_LATCH=902,le.BYTE_COMPACTION_MODE_LATCH_6=924,le.ECI_USER_DEFINED=925,le.ECI_GENERAL_PURPOSE=926,le.ECI_CHARSET=927,le.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,le.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,le.MACRO_PDF417_TERMINATOR=922,le.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,le.MAX_NUMERIC_CODEWORDS=15,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,le.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,le.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,le.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,le.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,le.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,le.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,le.PL=25,le.LL=27,le.AS=27,le.ML=28,le.AL=28,le.PS=29,le.PAL=29,le.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",le.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",le.EXP900=zs()?function xu(){let D=[];D[0]=Zr(1);let a=Zr(900);D[1]=a;for(let l=2;l<16;l++)D[l]=D[l-1]*a;return D}():[],le.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Lt{constructor(){}static decode(a,l,d,p,g,v,C){let O,E=new wo(a,l,d,p,g),I=null,A=null;for(let z=!0;;z=!1){if(null!=l&&(I=Lt.getRowIndicatorColumn(a,E,l,!0,v,C)),null!=p&&(A=Lt.getRowIndicatorColumn(a,E,p,!1,v,C)),O=Lt.merge(I,A),null==O)throw j.getNotFoundInstance();let Q=O.getBoundingBox();if(!z||null==Q||!(Q.getMinY()<E.getMinY()||Q.getMaxY()>E.getMaxY()))break;E=Q}O.setBoundingBox(E);let k=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,I),O.setDetectionResultColumn(k,A);let L=null!=I;for(let z=1;z<=k;z++){let re,Q=L?z:k-z;if(void 0!==O.getDetectionResultColumn(Q))continue;re=0===Q||Q===k?new Ea(E,0===Q):new Eu(E),O.setDetectionResultColumn(Q,re);let ue=-1,Ae=ue;for(let He=E.getMinY();He<=E.getMaxY();He++){if(ue=Lt.getStartColumn(O,Q,He,L),ue<0||ue>E.getMaxX()){if(-1===Ae)continue;ue=Ae}let ge=Lt.detectCodeword(a,E.getMinX(),E.getMaxX(),L,ue,He,v,C);null!=ge&&(re.setCodeword(He,ge),Ae=ue,v=Math.min(v,ge.getWidth()),C=Math.max(C,ge.getWidth()))}}return Lt.createDecoderResult(O)}static merge(a,l){if(null==a&&null==l)return null;let d=Lt.getBarcodeMetadata(a,l);if(null==d)return null;let p=wo.merge(Lt.adjustBoundingBox(a),Lt.adjustBoundingBox(l));return new On(d,p)}static adjustBoundingBox(a){if(null==a)return null;let l=a.getRowHeights();if(null==l)return null;let d=Lt.getMax(l),p=0;for(let C of l)if(p+=d-C,C>0)break;let g=a.getCodewords();for(let C=0;p>0&&null==g[C];C++)p--;let v=0;for(let C=l.length-1;C>=0&&(v+=d-l[C],!(l[C]>0));C--);for(let C=g.length-1;v>0&&null==g[C];C--)v--;return a.getBoundingBox().addMissingRows(p,v,a.isLeft())}static getMax(a){let l=-1;for(let d of a)l=Math.max(l,d);return l}static getBarcodeMetadata(a,l){let d,p;return null==a||null==(d=a.getBarcodeMetadata())?null==l?null:l.getBarcodeMetadata():null==l||null==(p=l.getBarcodeMetadata())?d:d.getColumnCount()!==p.getColumnCount()&&d.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&d.getRowCount()!==p.getRowCount()?null:d}static getRowIndicatorColumn(a,l,d,p,g,v){let C=new Ea(l,p);for(let E=0;E<2;E++){let I=0===E?1:-1,A=Math.trunc(Math.trunc(d.getX()));for(let O=Math.trunc(Math.trunc(d.getY()));O<=l.getMaxY()&&O>=l.getMinY();O+=I){let k=Lt.detectCodeword(a,0,a.getWidth(),p,A,O,g,v);null!=k&&(C.setCodeword(O,k),A=p?k.getStartX():k.getEndX())}}return C}static adjustCodewordCount(a,l){let d=l[0][1],p=d.getValue(),g=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-Lt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(0===p.length){if(g<1||g>vt.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();d.setValue(g)}else p[0]!==g&&d.setValue(g)}static createDecoderResult(a){let l=Lt.createBarcodeMatrix(a);Lt.adjustCodewordCount(a,l);let d=new Array,p=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),g=[],v=new Array;for(let E=0;E<a.getBarcodeRowCount();E++)for(let I=0;I<a.getBarcodeColumnCount();I++){let A=l[E][I+1].getValue(),O=E*a.getBarcodeColumnCount()+I;0===A.length?d.push(O):1===A.length?p[O]=A[0]:(v.push(O),g.push(A))}let C=new Array(g.length);for(let E=0;E<C.length;E++)C[E]=g[E];return Lt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),p,vt.toIntArray(d),vt.toIntArray(v),C)}static createDecoderResultFromAmbiguousValues(a,l,d,p,g){let v=new Int32Array(p.length),C=100;for(;C-- >0;){for(let E=0;E<v.length;E++)l[p[E]]=g[E][v[E]];try{return Lt.decodeCodewords(l,a,d)}catch(E){if(!(E instanceof se))throw E}if(0===v.length)throw se.getChecksumInstance();for(let E=0;E<v.length;E++){if(v[E]<g[E].length-1){v[E]++;break}if(v[E]=0,E===v.length-1)throw se.getChecksumInstance()}}throw se.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let p=0;p<l.length;p++)for(let g=0;g<l[p].length;g++)l[p][g]=new pr;let d=0;for(let p of a.getDetectionResultColumns()){if(null!=p)for(let g of p.getCodewords())if(null!=g){let v=g.getRowNumber();if(v>=0){if(v>=l.length)continue;l[v][d].setValue(g.getValue())}}d++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,d,p){let g=p?1:-1,v=null;if(Lt.isValidBarcodeColumn(a,l-g)&&(v=a.getDetectionResultColumn(l-g).getCodeword(d)),null!=v)return p?v.getEndX():v.getStartX();if(v=a.getDetectionResultColumn(l).getCodewordNearby(d),null!=v)return p?v.getStartX():v.getEndX();if(Lt.isValidBarcodeColumn(a,l-g)&&(v=a.getDetectionResultColumn(l-g).getCodewordNearby(d)),null!=v)return p?v.getEndX():v.getStartX();let C=0;for(;Lt.isValidBarcodeColumn(a,l-g);){l-=g;for(let E of a.getDetectionResultColumn(l).getCodewords())if(null!=E)return(p?E.getEndX():E.getStartX())+g*C*(E.getEndX()-E.getStartX());C++}return p?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,d,p,g,v,C,E){g=Lt.adjustCodewordStartColumn(a,l,d,p,g,v);let I=Lt.getModuleBitCount(a,l,d,p,g,v);if(null==I)return null;let A,O=Je.sum(I);if(p)A=g+O;else{for(let z=0;z<I.length/2;z++){let Q=I[z];I[z]=I[I.length-1-z],I[I.length-1-z]=Q}A=g,g=A-O}if(!Lt.checkCodewordSkew(O,C,E))return null;let k=$e.getDecodedValue(I),L=vt.getCodeword(k);return-1===L?null:new Ef(g,A,Lt.getCodewordBucketNumber(k),L)}static getModuleBitCount(a,l,d,p,g,v){let C=g,E=new Int32Array(8),I=0,A=p?1:-1,O=p;for(;(p?C<d:C>=l)&&I<E.length;)a.get(C,v)===O?(E[I]++,C+=A):(I++,O=!O);return I===E.length||C===(p?d:l)&&I===E.length-1?E:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,d,p,g,v){let C=g,E=p?-1:1;for(let I=0;I<2;I++){for(;(p?C>=l:C<d)&&p===a.get(C,v);){if(Math.abs(g-C)>Lt.CODEWORD_SKEW_SIZE)return g;C+=E}E=-E,p=!p}return C}static checkCodewordSkew(a,l,d){return l-Lt.CODEWORD_SKEW_SIZE<=a&&a<=d+Lt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,d){if(0===a.length)throw Ce.getFormatInstance();let p=1<<l+1,g=Lt.correctErrors(a,d,p);Lt.verifyCodewordCount(a,p);let v=le.decode(a,""+l);return v.setErrorsCorrected(g),v.setErasures(d.length),v}static correctErrors(a,l,d){if(null!=l&&l.length>d/2+Lt.MAX_ERRORS||d<0||d>Lt.MAX_EC_CODEWORDS)throw se.getChecksumInstance();return Lt.errorCorrection.decode(a,d,l)}static verifyCodewordCount(a,l){if(a.length<4)throw Ce.getFormatInstance();let d=a[0];if(d>a.length)throw Ce.getFormatInstance();if(0===d){if(!(l<a.length))throw Ce.getFormatInstance();a[0]=a.length-l}}static getBitCountForCodeword(a){let l=new Int32Array(8),d=0,p=l.length-1;for(;!((1&a)!==d&&(d=1&a,p--,p<0));)l[p]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return Lt.getCodewordBucketNumber(Lt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new gi;for(let d=0;d<a.length;d++){l.format("Row %2d: ",d);for(let p=0;p<a[d].length;p++){let g=a[d][p];0===g.getValue().length?l.format("        ",null):l.format("%4d(%2d)",g.getValue()[0],g.getConfidence(g.getValue()[0]))}l.format("%n")}return l.toString()}}Lt.CODEWORD_SKEW_SIZE=2,Lt.MAX_ERRORS=3,Lt.MAX_EC_CODEWORDS=512,Lt.errorCorrection=new wu;class Xt{decode(a,l=null){let d=Xt.decode(a,l,!1);if(null==d||0===d.length||null==d[0])throw j.getNotFoundInstance();return d[0]}decodeMultiple(a,l=null){try{return Xt.decode(a,l,!0)}catch(d){throw d instanceof Ce||d instanceof se?j.getNotFoundInstance():d}}static decode(a,l,d){const p=new Array,g=xt.detectMultiple(a,l,d);for(const v of g.getPoints()){const C=Lt.decode(g.getBits(),v[4],v[5],v[6],v[7],Xt.getMinCodewordWidth(v),Xt.getMaxCodewordWidth(v)),E=new Nt(C.getText(),C.getRawBytes(),void 0,v,Fe.PDF_417);E.putMetadata(Ct.ERROR_CORRECTION_LEVEL,C.getECLevel());const I=C.getOther();null!=I&&E.putMetadata(Ct.PDF417_EXTRA_METADATA,I),p.push(E)}return p.map(v=>v)}static getMaxWidth(a,l){return null==a||null==l?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return null==a||null==l?xe.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(Xt.getMaxWidth(a[0],a[4]),Xt.getMaxWidth(a[6],a[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.max(Xt.getMaxWidth(a[1],a[5]),Xt.getMaxWidth(a[7],a[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(Xt.getMinWidth(a[0],a[4]),Xt.getMinWidth(a[6],a[2])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN),Math.min(Xt.getMinWidth(a[1],a[5]),Xt.getMinWidth(a[7],a[3])*vt.MODULES_IN_CODEWORD/vt.MODULES_IN_STOP_PATTERN)))}reset(){}}let Eo=(()=>{class D extends oe{}return D.kind="ReaderException",D})();class xa{constructor(a,l){this.verbose=!0===a,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return null==this.readers&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!c(a)&&!0===a.get(Ve.TRY_HARDER),d=c(a)?null:a.get(Ve.POSSIBLE_FORMATS),p=new Array;if(!c(d)){const g=d.some(v=>v===Fe.UPC_A||v===Fe.UPC_E||v===Fe.EAN_13||v===Fe.EAN_8||v===Fe.CODABAR||v===Fe.CODE_39||v===Fe.CODE_93||v===Fe.CODE_128||v===Fe.ITF||v===Fe.RSS_14||v===Fe.RSS_EXPANDED);g&&!l&&p.push(new pi(a,this.verbose)),d.includes(Fe.QR_CODE)&&p.push(new Ri),d.includes(Fe.DATA_MATRIX)&&p.push(new Ca),d.includes(Fe.AZTEC)&&p.push(new vn),d.includes(Fe.PDF_417)&&p.push(new Xt),g&&l&&p.push(new pi(a,this.verbose))}0===p.length&&(l||p.push(new pi(a,this.verbose)),p.push(new Ri),p.push(new Ca),p.push(new vn),p.push(new Xt),l&&p.push(new pi(a,this.verbose))),this.readers=p}reset(){if(null!==this.readers)for(const a of this.readers)a.reset()}decodeInternal(a){if(null===this.readers)throw new Eo("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(d){if(d instanceof Eo)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}var bu=function(D){return D[D.ERROR_CORRECTION=0]="ERROR_CORRECTION",D[D.CHARACTER_SET=1]="CHARACTER_SET",D[D.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",D[D.MIN_SIZE=3]="MIN_SIZE",D[D.MAX_SIZE=4]="MAX_SIZE",D[D.MARGIN=5]="MARGIN",D[D.PDF417_COMPACT=6]="PDF417_COMPACT",D[D.PDF417_COMPACTION=7]="PDF417_COMPACTION",D[D.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",D[D.AZTEC_LAYERS=9]="AZTEC_LAYERS",D[D.QR_VERSION=10]="QR_VERSION",D}(bu||{}),$n=bu;class Iu{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new St(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let d=l[l.length-1];const p=this.field;for(let g=l.length;g<=a;g++){const v=d.multiply(new St(p,Int32Array.from([1,p.exp(g-1+p.getGeneratorBase())])));l.push(v),d=v}}return l[a]}encode(a,l){if(0===l)throw new J("No error correction bytes");const d=a.length-l;if(d<=0)throw new J("No data bytes provided");const p=this.buildGenerator(l),g=new Int32Array(d);Ee.arraycopy(a,0,g,0,d);let v=new St(this.field,g);v=v.multiplyByMonomial(l,1);const E=v.divide(p)[1].getCoefficients(),I=l-E.length;for(let A=0;A<I;A++)a[d+A]=0;Ee.arraycopy(E,0,a,d+I,E.length)}}let tr=(()=>{class D{constructor(){}static applyMaskPenaltyRule1(l){return D.applyMaskPenaltyRule1Internal(l,!0)+D.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let d=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let C=0;C<v-1;C++){const E=p[C];for(let I=0;I<g-1;I++){const A=E[I];A===E[I+1]&&A===p[C+1][I]&&A===p[C+1][I+1]&&d++}}return D.N2*d}static applyMaskPenaltyRule3(l){let d=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let C=0;C<v;C++)for(let E=0;E<g;E++){const I=p[C];E+6<g&&1===I[E]&&0===I[E+1]&&1===I[E+2]&&1===I[E+3]&&1===I[E+4]&&0===I[E+5]&&1===I[E+6]&&(D.isWhiteHorizontal(I,E-4,E)||D.isWhiteHorizontal(I,E+7,E+11))&&d++,C+6<v&&1===p[C][E]&&0===p[C+1][E]&&1===p[C+2][E]&&1===p[C+3][E]&&1===p[C+4][E]&&0===p[C+5][E]&&1===p[C+6][E]&&(D.isWhiteVertical(p,E,C-4,C)||D.isWhiteVertical(p,E,C+7,C+11))&&d++}return d*D.N3}static isWhiteHorizontal(l,d,p){d=Math.max(d,0),p=Math.min(p,l.length);for(let g=d;g<p;g++)if(1===l[g])return!1;return!0}static isWhiteVertical(l,d,p,g){p=Math.max(p,0),g=Math.min(g,l.length);for(let v=p;v<g;v++)if(1===l[v][d])return!1;return!0}static applyMaskPenaltyRule4(l){let d=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let I=0;I<v;I++){const A=p[I];for(let O=0;O<g;O++)1===A[O]&&d++}const C=l.getHeight()*l.getWidth();return Math.floor(10*Math.abs(2*d-C)/C)*D.N4}static getDataMaskBit(l,d,p){let g,v;switch(l){case 0:g=p+d&1;break;case 1:g=1&p;break;case 2:g=d%3;break;case 3:g=(p+d)%3;break;case 4:g=Math.floor(p/2)+Math.floor(d/3)&1;break;case 5:v=p*d,g=(1&v)+v%3;break;case 6:v=p*d,g=(1&v)+v%3&1;break;case 7:v=p*d,g=v%3+(p+d&1)&1;break;default:throw new J("Invalid mask pattern: "+l)}return 0===g}static applyMaskPenaltyRule1Internal(l,d){let p=0;const g=d?l.getHeight():l.getWidth(),v=d?l.getWidth():l.getHeight(),C=l.getArray();for(let E=0;E<g;E++){let I=0,A=-1;for(let O=0;O<v;O++){const k=d?C[E][O]:C[O][E];k===A?I++:(I>=5&&(p+=D.N1+(I-5)),I=1,A=k)}I>=5&&(p+=D.N1+(I-5))}return p}}return D.N1=3,D.N2=3,D.N3=40,D.N4=10,D})();class $s{constructor(a,l){this.width=a,this.height=l;const d=new Array(l);for(let p=0;p!==l;p++)d[p]=new Uint8Array(a);this.bytes=d}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,d){this.bytes[l][a]=d}setBoolean(a,l,d){this.bytes[l][a]=d?1:0}clear(a){for(const l of this.bytes)mt.fill(l,a)}equals(a){if(!(a instanceof $s))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let d=0,p=this.height;d<p;++d){const g=this.bytes[d],v=l.bytes[d];for(let C=0,E=this.width;C<E;++C)if(g[C]!==v[C])return!1}return!0}toString(){const a=new te;for(let l=0,d=this.height;l<d;++l){const p=this.bytes[l];for(let g=0,v=this.width;g<v;++g)switch(p[g]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ")}a.append("\n")}return a.toString()}}let Qi=(()=>{class D{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new te;return l.append("<<\n"),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append("\n ecLevel: "),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append("\n version: "),l.append(this.version?this.version.toString():"null"),l.append("\n maskPattern: "),l.append(this.maskPattern.toString()),this.matrix?(l.append("\n matrix:\n"),l.append(this.matrix.toString())):l.append("\n matrix: null\n"),l.append(">>\n"),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<D.NUM_MASK_PATTERNS}}return D.NUM_MASK_PATTERNS=8,D})(),Cn=(()=>{class D extends oe{}return D.kind="WriterException",D})();class ft{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,d,p,g){ft.clearMatrix(g),ft.embedBasicPatterns(d,g),ft.embedTypeInfo(l,p,g),ft.maybeEmbedVersionInfo(d,g),ft.embedDataBits(a,p,g)}static embedBasicPatterns(a,l){ft.embedPositionDetectionPatternsAndSeparators(l),ft.embedDarkDotAtLeftBottomCorner(l),ft.maybeEmbedPositionAdjustmentPatterns(a,l),ft.embedTimingPatterns(l)}static embedTypeInfo(a,l,d){const p=new ke;ft.makeTypeInfoBits(a,l,p);for(let g=0,v=p.getSize();g<v;++g){const C=p.get(p.getSize()-1-g),E=ft.TYPE_INFO_COORDINATES[g];if(d.setBoolean(E[0],E[1],C),g<8){const O=d.getWidth()-g-1;d.setBoolean(O,8,C)}else{const k=d.getHeight()-7+(g-8);d.setBoolean(8,k,C)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const d=new ke;ft.makeVersionInfoBits(a,d);let p=17;for(let g=0;g<6;++g)for(let v=0;v<3;++v){const C=d.get(p);p--,l.setBoolean(g,l.getHeight()-11+v,C),l.setBoolean(l.getHeight()-11+v,g,C)}}static embedDataBits(a,l,d){let p=0,g=-1,v=d.getWidth()-1,C=d.getHeight()-1;for(;v>0;){for(6===v&&(v-=1);C>=0&&C<d.getHeight();){for(let E=0;E<2;++E){const I=v-E;if(!ft.isEmpty(d.get(I,C)))continue;let A;p<a.getSize()?(A=a.get(p),++p):A=!1,255!==l&&tr.getDataMaskBit(l,I,C)&&(A=!A),d.setBoolean(I,C,A)}C+=g}g=-g,C+=g,v-=2}if(p!==a.getSize())throw new Cn("Not all bits consumed: "+p+"/"+a.getSize())}static findMSBSet(a){return 32-xe.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(0===l)throw new J("0 polynomial");const d=ft.findMSBSet(l);for(a<<=d-1;ft.findMSBSet(a)>=d;)a^=l<<ft.findMSBSet(a)-d;return a}static makeTypeInfoBits(a,l,d){if(!Qi.isValidMaskPattern(l))throw new Cn("Invalid mask pattern");const p=a.getBits()<<3|l;d.appendBits(p,5);const g=ft.calculateBCHCode(p,ft.TYPE_INFO_POLY);d.appendBits(g,10);const v=new ke;if(v.appendBits(ft.TYPE_INFO_MASK_PATTERN,15),d.xor(v),15!==d.getSize())throw new Cn("should not happen but we got: "+d.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const d=ft.calculateBCHCode(a.getVersionNumber(),ft.VERSION_INFO_POLY);if(l.appendBits(d,12),18!==l.getSize())throw new Cn("should not happen but we got: "+l.getSize())}static isEmpty(a){return 255===a}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const d=(l+1)%2;ft.isEmpty(a.get(l,6))&&a.setNumber(l,6,d),ft.isEmpty(a.get(6,l))&&a.setNumber(6,l,d)}}static embedDarkDotAtLeftBottomCorner(a){if(0===a.get(8,a.getHeight()-8))throw new Cn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,d){for(let p=0;p<8;++p){if(!ft.isEmpty(d.get(a+p,l)))throw new Cn;d.setNumber(a+p,l,0)}}static embedVerticalSeparationPattern(a,l,d){for(let p=0;p<7;++p){if(!ft.isEmpty(d.get(a,l+p)))throw new Cn;d.setNumber(a,l+p,0)}}static embedPositionAdjustmentPattern(a,l,d){for(let p=0;p<5;++p){const g=ft.POSITION_ADJUSTMENT_PATTERN[p];for(let v=0;v<5;++v)d.setNumber(a+v,l+p,g[v])}}static embedPositionDetectionPattern(a,l,d){for(let p=0;p<7;++p){const g=ft.POSITION_DETECTION_PATTERN[p];for(let v=0;v<7;++v)d.setNumber(a+v,l+p,g[v])}}static embedPositionDetectionPatternsAndSeparators(a){const l=ft.POSITION_DETECTION_PATTERN[0].length;ft.embedPositionDetectionPattern(0,0,a),ft.embedPositionDetectionPattern(a.getWidth()-l,0,a),ft.embedPositionDetectionPattern(0,a.getWidth()-l,a);ft.embedHorizontalSeparationPattern(0,7,a),ft.embedHorizontalSeparationPattern(a.getWidth()-8,7,a),ft.embedHorizontalSeparationPattern(0,a.getWidth()-8,a);ft.embedVerticalSeparationPattern(7,0,a),ft.embedVerticalSeparationPattern(a.getHeight()-7-1,0,a),ft.embedVerticalSeparationPattern(7,a.getHeight()-7,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const d=a.getVersionNumber()-1,p=ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[d];for(let g=0,v=p.length;g!==v;g++){const C=p[g];if(C>=0)for(let E=0;E!==v;E++){const I=p[E];I>=0&&ft.isEmpty(l.get(I,C))&&ft.embedPositionAdjustmentPattern(I-2,C-2,l)}}}}ft.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ft.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ft.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ft.VERSION_INFO_POLY=7973,ft.TYPE_INFO_POLY=1335,ft.TYPE_INFO_MASK_PATTERN=21522;class mi{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ot{constructor(){}static calculateMaskPenalty(a){return tr.applyMaskPenaltyRule1(a)+tr.applyMaskPenaltyRule2(a)+tr.applyMaskPenaltyRule3(a)+tr.applyMaskPenaltyRule4(a)}static encode(a,l,d=null){let p=ot.DEFAULT_BYTE_MODE_ENCODING;const g=null!==d&&void 0!==d.get($n.CHARACTER_SET);g&&(p=d.get($n.CHARACTER_SET).toString());const v=this.chooseMode(a,p),C=new ke;if(v===dt.BYTE&&(g||ot.DEFAULT_BYTE_MODE_ENCODING!==p)){const He=ie.getCharacterSetECIByName(p);void 0!==He&&this.appendECI(He,C)}this.appendModeInfo(v,C);const E=new ke;let I;if(this.appendBytes(a,v,E,p),null!==d&&void 0!==d.get($n.QR_VERSION)){const He=Number.parseInt(d.get($n.QR_VERSION).toString(),10);I=it.getVersionForNumber(He);const ge=this.calculateBitsNeeded(v,C,E,I);if(!this.willFit(ge,I,l))throw new Cn("Data too big for requested version")}else I=this.recommendVersion(l,v,C,E);const A=new ke;A.appendBitArray(C);const O=v===dt.BYTE?E.getSizeInBytes():a.length;this.appendLengthInfo(O,I,v,A),A.appendBitArray(E);const k=I.getECBlocksForLevel(l),L=I.getTotalCodewords()-k.getTotalECCodewords();this.terminateBits(L,A);const z=this.interleaveWithECBytes(A,I.getTotalCodewords(),L,k.getNumBlocks()),Q=new Qi;Q.setECLevel(l),Q.setMode(v),Q.setVersion(I);const re=I.getDimensionForVersion(),ue=new $s(re,re),Ae=this.chooseMaskPattern(z,l,I,ue);return Q.setMaskPattern(Ae),ft.buildMatrix(z,l,I,Ae,ue),Q.setMatrix(ue),Q}static recommendVersion(a,l,d,p){const g=this.calculateBitsNeeded(l,d,p,it.getVersionForNumber(1)),v=this.chooseVersion(g,a),C=this.calculateBitsNeeded(l,d,p,v);return this.chooseVersion(C,a)}static calculateBitsNeeded(a,l,d,p){return l.getSize()+a.getCharacterCountBits(p)+d.getSize()}static getAlphanumericCode(a){return a<ot.ALPHANUMERIC_TABLE.length?ot.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(ie.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return dt.KANJI;let d=!1,p=!1;for(let g=0,v=a.length;g<v;++g){const C=a.charAt(g);if(ot.isDigit(C))d=!0;else{if(-1===this.getAlphanumericCode(C.charCodeAt(0)))return dt.BYTE;p=!0}}return p?dt.ALPHANUMERIC:d?dt.NUMERIC:dt.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=Y.encode(a,ie.SJIS)}catch{return!1}const d=l.length;if(d%2!=0)return!1;for(let p=0;p<d;p+=2){const g=255&l[p];if((g<129||g>159)&&(g<224||g>235))return!1}return!0}static chooseMaskPattern(a,l,d,p){let g=Number.MAX_SAFE_INTEGER,v=-1;for(let C=0;C<Qi.NUM_MASK_PATTERNS;C++){ft.buildMatrix(a,l,d,C,p);let E=this.calculateMaskPenalty(p);E<g&&(g=E,v=C)}return v}static chooseVersion(a,l){for(let d=1;d<=40;d++){const p=it.getVersionForNumber(d);if(ot.willFit(a,p,l))return p}throw new Cn("Data too big")}static willFit(a,l,d){return l.getTotalCodewords()-l.getECBlocksForLevel(d).getTotalECCodewords()>=(a+7)/8}static terminateBits(a,l){const d=8*a;if(l.getSize()>d)throw new Cn("data bits cannot fit in the QR Code"+l.getSize()+" > "+d);for(let v=0;v<4&&l.getSize()<d;++v)l.appendBit(!1);const p=7&l.getSize();if(p>0)for(let v=p;v<8;v++)l.appendBit(!1);const g=a-l.getSizeInBytes();for(let v=0;v<g;++v)l.appendBits(1&v?17:236,8);if(l.getSize()!==d)throw new Cn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,d,p,g,v){if(p>=d)throw new Cn("Block ID too large");const C=a%d,E=d-C,I=Math.floor(a/d),A=I+1,O=Math.floor(l/d),k=O+1,L=I-O,z=A-k;if(L!==z)throw new Cn("EC bytes mismatch");if(d!==E+C)throw new Cn("RS blocks mismatch");if(a!==(O+L)*E+(k+z)*C)throw new Cn("Total bytes mismatch");p<E?(g[0]=O,v[0]=L):(g[0]=k,v[0]=z)}static interleaveWithECBytes(a,l,d,p){if(a.getSizeInBytes()!==d)throw new Cn("Number of bits and data bytes does not match");let g=0,v=0,C=0;const E=new Array;for(let A=0;A<p;++A){const O=new Int32Array(1),k=new Int32Array(1);ot.getNumDataBytesAndNumECBytesForBlockID(l,d,p,A,O,k);const L=O[0],z=new Uint8Array(L);a.toBytes(8*g,z,0,L);const Q=ot.generateECBytes(z,k[0]);E.push(new mi(z,Q)),v=Math.max(v,L),C=Math.max(C,Q.length),g+=O[0]}if(d!==g)throw new Cn("Data bytes does not match offset");const I=new ke;for(let A=0;A<v;++A)for(const O of E){const k=O.getDataBytes();A<k.length&&I.appendBits(k[A],8)}for(let A=0;A<C;++A)for(const O of E){const k=O.getErrorCorrectionBytes();A<k.length&&I.appendBits(k[A],8)}if(l!==I.getSizeInBytes())throw new Cn("Interleaving error: "+l+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(a,l){const d=a.length,p=new Int32Array(d+l);for(let v=0;v<d;v++)p[v]=255&a[v];new Iu(Ke.QR_CODE_FIELD_256).encode(p,l);const g=new Uint8Array(l);for(let v=0;v<l;v++)g[v]=p[d+v];return g}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,d,p){const g=d.getCharacterCountBits(l);if(a>=1<<g)throw new Cn(a+" is bigger than "+((1<<g)-1));p.appendBits(a,g)}static appendBytes(a,l,d,p){switch(l){case dt.NUMERIC:ot.appendNumericBytes(a,d);break;case dt.ALPHANUMERIC:ot.appendAlphanumericBytes(a,d);break;case dt.BYTE:ot.append8BitBytes(a,d,p);break;case dt.KANJI:ot.appendKanjiBytes(a,d);break;default:throw new Cn("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=ot.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const d=a.length;let p=0;for(;p<d;){const g=ot.getDigit(a.charAt(p));if(p+2<d){const v=ot.getDigit(a.charAt(p+1)),C=ot.getDigit(a.charAt(p+2));l.appendBits(100*g+10*v+C,10),p+=3}else if(p+1<d){const v=ot.getDigit(a.charAt(p+1));l.appendBits(10*g+v,7),p+=2}else l.appendBits(g,4),p++}}static appendAlphanumericBytes(a,l){const d=a.length;let p=0;for(;p<d;){const g=ot.getAlphanumericCode(a.charCodeAt(p));if(-1===g)throw new Cn;if(p+1<d){const v=ot.getAlphanumericCode(a.charCodeAt(p+1));if(-1===v)throw new Cn;l.appendBits(45*g+v,11),p+=2}else l.appendBits(g,6),p++}}static append8BitBytes(a,l,d){let p;try{p=Y.encode(a,d)}catch(g){throw new Cn(g)}for(let g=0,v=p.length;g!==v;g++)l.appendBits(p[g],8)}static appendKanjiBytes(a,l){let d;try{d=Y.encode(a,ie.SJIS)}catch(g){throw new Cn(g)}const p=d.length;for(let g=0;g<p;g+=2){const E=(255&d[g])<<8&4294967295|255&d[g+1];let I=-1;if(E>=33088&&E<=40956?I=E-33088:E>=57408&&E<=60351&&(I=E-49472),-1===I)throw new Cn("Invalid byte sequence");l.appendBits(192*(I>>8)+(255&I),13)}}static appendECI(a,l){l.appendBits(dt.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}ot.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ot.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();let Oi=(()=>{class D{write(l,d,p,g=null){if(0===l.length)throw new J("Found empty contents");if(d<0||p<0)throw new J("Requested dimensions are too small: "+d+"x"+p);let v=sn.L,C=D.QUIET_ZONE_SIZE;null!==g&&(void 0!==g.get($n.ERROR_CORRECTION)&&(v=sn.fromString(g.get($n.ERROR_CORRECTION).toString())),void 0!==g.get($n.MARGIN)&&(C=Number.parseInt(g.get($n.MARGIN).toString(),10)));const E=ot.encode(l,v,g);return this.renderResult(E,d,p,C)}writeToDom(l,d,p,g,v=null){"string"==typeof l&&(l=document.querySelector(l));const C=this.write(d,p,g,v);l&&l.appendChild(C)}renderResult(l,d,p,g){const v=l.getMatrix();if(null===v)throw new on;const C=v.getWidth(),E=v.getHeight(),I=C+2*g,A=E+2*g,O=Math.max(d,I),k=Math.max(p,A),L=Math.min(Math.floor(O/I),Math.floor(k/A)),z=Math.floor((O-C*L)/2),Q=Math.floor((k-E*L)/2),re=this.createSVGElement(O,k);for(let ue=0,Ae=Q;ue<E;ue++,Ae+=L)for(let He=0,ge=z;He<C;He++,ge+=L)if(1===v.get(He,ue)){const jt=this.createSvgRectElement(ge,Ae,L,L);re.appendChild(jt)}return re}createSVGElement(l,d){const p=document.createElementNS(D.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",d.toString()),p}createSvgRectElement(l,d,p,g){const v=document.createElementNS(D.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",d.toString()),v.setAttributeNS(null,"height",p.toString()),v.setAttributeNS(null,"width",g.toString()),v.setAttributeNS(null,"fill","#000000"),v}}return D.QUIET_ZONE_SIZE=4,D.SVG_NS="http://www.w3.org/2000/svg",D})(),jc=(()=>{class D{encode(l,d,p,g,v){if(0===l.length)throw new J("Found empty contents");if(d!==Fe.QR_CODE)throw new J("Can only encode QR_CODE, but got "+d);if(p<0||g<0)throw new J(`Requested dimensions are too small: ${p}x${g}`);let C=sn.L,E=D.QUIET_ZONE_SIZE;null!==v&&(void 0!==v.get($n.ERROR_CORRECTION)&&(C=sn.fromString(v.get($n.ERROR_CORRECTION).toString())),void 0!==v.get($n.MARGIN)&&(E=Number.parseInt(v.get($n.MARGIN).toString(),10)));const I=ot.encode(l,C,v);return D.renderResult(I,p,g,E)}static renderResult(l,d,p,g){const v=l.getMatrix();if(null===v)throw new on;const C=v.getWidth(),E=v.getHeight(),I=C+2*g,A=E+2*g,O=Math.max(d,I),k=Math.max(p,A),L=Math.min(Math.floor(O/I),Math.floor(k/A)),z=Math.floor((O-C*L)/2),Q=Math.floor((k-E*L)/2),re=new fe(O,k);for(let ue=0,Ae=Q;ue<E;ue++,Ae+=L)for(let He=0,ge=z;He<C;He++,ge+=L)1===v.get(He,ue)&&re.setRegion(ge,Ae,L,L);return re}}return D.QUIET_ZONE_SIZE=4,D})();let Da=(()=>{class D extends qt{constructor(l,d,p,g,v,C,E,I){if(super(C,E),this.yuvData=l,this.dataWidth=d,this.dataHeight=p,this.left=g,this.top=v,g+C>d||v+E>p)throw new J("Crop rectangle does not fit within image data.");I&&this.reverseHorizontal(C,E)}getRow(l,d){if(l<0||l>=this.getHeight())throw new J("Requested row is outside the image: "+l);const p=this.getWidth();return(null==d||d.length<p)&&(d=new Uint8ClampedArray(p)),Ee.arraycopy(this.yuvData,(l+this.top)*this.dataWidth+this.left,d,0,p),d}getMatrix(){const l=this.getWidth(),d=this.getHeight();if(l===this.dataWidth&&d===this.dataHeight)return this.yuvData;const p=l*d,g=new Uint8ClampedArray(p);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return Ee.arraycopy(this.yuvData,v,g,0,p),g;for(let C=0;C<d;C++)Ee.arraycopy(this.yuvData,v,g,C*l,l),v+=this.dataWidth;return g}isCropSupported(){return!0}crop(l,d,p,g){return new D(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+d,p,g,!1)}renderThumbnail(){const l=this.getWidth()/D.THUMBNAIL_SCALE_FACTOR,d=this.getHeight()/D.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*d),g=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let C=0;C<d;C++){const E=C*l;for(let I=0;I<l;I++)p[E+I]=4278190080|65793*(255&g[v+I*D.THUMBNAIL_SCALE_FACTOR]);v+=this.dataWidth*D.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/D.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/D.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,d){const p=this.yuvData;for(let g=0,v=this.top*this.dataWidth+this.left;g<d;g++,v+=this.dataWidth){const C=v+l/2;for(let E=v,I=v+l-1;E<C;E++,I--){const A=p[E];p[E]=p[I],p[I]=A}}}invert(){return new Ft(this)}}return D.THUMBNAIL_SCALE_FACTOR=2,D})();class Ws extends qt{constructor(a,l,d,p,g,v,C){if(super(l,d),this.dataWidth=p,this.dataHeight=g,this.left=v,this.top=C,4===a.BYTES_PER_ELEMENT){const E=l*d,I=new Uint8ClampedArray(E);for(let A=0;A<E;A++){const O=a[A];I[A]=((O>>16&255)+(O>>7&510)+(255&O))/4&255}this.luminances=I}else this.luminances=a;if(void 0===p&&(this.dataWidth=l),void 0===g&&(this.dataHeight=d),void 0===v&&(this.left=0),void 0===C&&(this.top=0),this.left+l>this.dataWidth||this.top+d>this.dataHeight)throw new J("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new J("Requested row is outside the image: "+a);const d=this.getWidth();return(null==l||l.length<d)&&(l=new Uint8ClampedArray(d)),Ee.arraycopy(this.luminances,(a+this.top)*this.dataWidth+this.left,l,0,d),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const d=a*l,p=new Uint8ClampedArray(d);let g=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return Ee.arraycopy(this.luminances,g,p,0,d),p;for(let v=0;v<l;v++)Ee.arraycopy(this.luminances,g,p,v*a,a),g+=this.dataWidth;return p}isCropSupported(){return!0}crop(a,l,d,p){return new Ws(this.luminances,d,p,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new Ft(this)}}class Ji extends ie{static forName(a){return this.getCharacterSetECIByName(a)}}class yi{}yi.ISO_8859_1=ie.ISO8859_1;class Du{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class Aa{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class xf{constructor(a){this.previous=a}getPrevious(){return this.previous}}class rs extends xf{constructor(a,l,d){super(a),this.value=l,this.bitCount=d}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new rs(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new rs(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+xe.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class xo extends rs{constructor(a,l,d){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=d}appendTo(a,l){for(let d=0;d<this.binaryShiftByteCount;d++)(0===d||31===d&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):a.appendBits(0===d?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+d],8)}addBinaryShift(a,l){return new xo(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function is(D,a,l){return new rs(D,a,l)}const hg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bf=new rs(null,0,0),Su=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const If=function pg(D){for(let a of D)mt.fill(a,-1);return D[0][4]=0,D[1][4]=0,D[1][0]=28,D[3][4]=0,D[2][4]=0,D[2][0]=15,D}(mt.createInt32Array(6,6));class Fi{constructor(a,l,d,p){this.token=a,this.mode=l,this.binaryShiftByteCount=d,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let d=this.bitCount,p=this.token;if(a!==this.mode){let v=Su[this.mode][a];p=is(p,65535&v,v>>16),d+=v>>16}let g=2===a?4:5;return p=is(p,l,g),new Fi(p,a,0,d+g)}shiftAndAppend(a,l){let d=this.token,p=2===this.mode?4:5;return d=is(d,If[this.mode][a],p),d=is(d,l,5),new Fi(d,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(a){let l=this.token,d=this.mode,p=this.bitCount;if(4===this.mode||2===this.mode){let C=Su[d][0];l=is(l,65535&C,C>>16),p+=C>>16,d=0}let v=new Fi(l,d,this.binaryShiftByteCount+1,p+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===v.binaryShiftByteCount&&(v=v.endBinaryShift(a+1)),v}endBinaryShift(a){if(0===this.binaryShiftByteCount)return this;let l=this.token;return l=function Au(D,a,l){return new xo(D,a,l)}(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Fi(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Su[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Fi.calculateBinaryShiftCost(a)-Fi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let p=this.endBinaryShift(a.length).token;null!==p;p=p.getPrevious())l.unshift(p);let d=new ke;for(const p of l)p.appendTo(d,a);return d}toString(){return B.format("%s bits=%d bytes=%d",hg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Fi.INITIAL_STATE=new Fi(bf,0,0,0);const Mu=function Tu(D){const a=B.getCharCode(" "),l=B.getCharCode("."),d=B.getCharCode(",");D[0][a]=1;const p=B.getCharCode("Z"),g=B.getCharCode("A");for(let k=g;k<=p;k++)D[0][k]=k-g+2;D[1][a]=1;const v=B.getCharCode("z"),C=B.getCharCode("a");for(let k=C;k<=v;k++)D[1][k]=k-C+2;D[2][a]=1;const E=B.getCharCode("9"),I=B.getCharCode("0");for(let k=I;k<=E;k++)D[2][k]=k-I+2;D[2][d]=12,D[2][l]=13;const A=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let k=0;k<A.length;k++)D[3][B.getCharCode(A[k])]=k;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let k=0;k<O.length;k++)B.getCharCode(O[k])>0&&(D[4][B.getCharCode(O[k])]=k);return D}(mt.createInt32Array(5,256));class Ta{constructor(a){this.text=a}encode(){const a=B.getCharCode(" "),l=B.getCharCode("\n");let d=Aa.singletonList(Fi.INITIAL_STATE);for(let g=0;g<this.text.length;g++){let v,C=g+1<this.text.length?this.text[g+1]:0;switch(this.text[g]){case B.getCharCode("\r"):v=C===l?2:0;break;case B.getCharCode("."):v=C===a?3:0;break;case B.getCharCode(","):v=C===a?4:0;break;case B.getCharCode(":"):v=C===a?5:0;break;default:v=0}v>0?(d=Ta.updateStateListForPair(d,g,v),g++):d=this.updateStateListForChar(d,g)}return Aa.min(d,(g,v)=>g.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const d=[];for(let p of a)this.updateStateForChar(p,l,d);return Ta.simplifyStates(d)}updateStateForChar(a,l,d){let p=255&this.text[l],g=Mu[a.getMode()][p]>0,v=null;for(let C=0;C<=4;C++){let E=Mu[C][p];if(E>0){if(null==v&&(v=a.endBinaryShift(l)),!g||C===a.getMode()||2===C){const I=v.latchAndAppend(C,E);d.push(I)}if(!g&&If[a.getMode()][C]>=0){const I=v.shiftAndAppend(C,E);d.push(I)}}}if(a.getBinaryShiftByteCount()>0||0===Mu[a.getMode()][p]){let C=a.addBinaryShiftChar(l);d.push(C)}}static updateStateListForPair(a,l,d){const p=[];for(let g of a)this.updateStateForPair(g,l,d,p);return this.simplifyStates(p)}static updateStateForPair(a,l,d,p){let g=a.endBinaryShift(l);if(p.push(g.latchAndAppend(4,d)),4!==a.getMode()&&p.push(g.shiftAndAppend(4,d)),3===d||4===d){let v=g.latchAndAppend(2,16-d).latchAndAppend(2,1);p.push(v)}if(a.getBinaryShiftByteCount()>0){let v=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);p.push(v)}}static simplifyStates(a){let l=[];for(const d of a){let p=!0;for(const g of l){if(g.isBetterThanOrEqualTo(d)){p=!1;break}d.isBetterThanOrEqualTo(g)&&(l=l.filter(v=>v!==g))}p&&l.push(d)}return l}}class Qt{constructor(){}static encodeBytes(a){return Qt.encode(a,Qt.DEFAULT_EC_PERCENT,Qt.DEFAULT_AZTEC_LAYERS)}static encode(a,l,d){let C,E,I,A,O,p=new Ta(a).encode(),g=xe.truncDivision(p.getSize()*l,100)+11,v=p.getSize()+g;if(d!==Qt.DEFAULT_AZTEC_LAYERS){if(C=d<0,E=Math.abs(d),E>(C?Qt.MAX_NB_BITS_COMPACT:Qt.MAX_NB_BITS))throw new J(B.format("Illegal value %s for layers",d));I=Qt.totalBitsInLayer(E,C),A=Qt.WORD_SIZE[E];let ge=I-I%A;if(O=Qt.stuffBits(p,A),O.getSize()+g>ge)throw new J("Data to large for user specified layer");if(C&&O.getSize()>64*A)throw new J("Data to large for user specified layer")}else{A=0,O=null;for(let ge=0;;ge++){if(ge>Qt.MAX_NB_BITS)throw new J("Data too large for an Aztec code");if(C=ge<=3,E=C?ge+1:ge,I=Qt.totalBitsInLayer(E,C),v>I)continue;(null==O||A!==Qt.WORD_SIZE[E])&&(A=Qt.WORD_SIZE[E],O=Qt.stuffBits(p,A));let jt=I-I%A;if(!(C&&O.getSize()>64*A)&&O.getSize()+g<=jt)break}}let ue,k=Qt.generateCheckWords(O,I,A),L=O.getSize()/A,z=Qt.generateModeMessage(C,E,L),Q=(C?11:14)+4*E,re=new Int32Array(Q);if(C){ue=Q;for(let ge=0;ge<re.length;ge++)re[ge]=ge}else{ue=Q+1+2*xe.truncDivision(xe.truncDivision(Q,2)-1,15);let ge=xe.truncDivision(Q,2),jt=xe.truncDivision(ue,2);for(let Dt=0;Dt<ge;Dt++){let Rr=Dt+xe.truncDivision(Dt,15);re[ge-Dt-1]=jt-Rr-1,re[ge+Dt]=jt+Rr+1}}let Ae=new fe(ue);for(let ge=0,jt=0;ge<E;ge++){let Dt=4*(E-ge)+(C?9:12);for(let Rr=0;Rr<Dt;Rr++){let jr=2*Rr;for(let gr=0;gr<2;gr++)k.get(jt+jr+gr)&&Ae.set(re[2*ge+gr],re[2*ge+Rr]),k.get(jt+2*Dt+jr+gr)&&Ae.set(re[2*ge+Rr],re[Q-1-2*ge-gr]),k.get(jt+4*Dt+jr+gr)&&Ae.set(re[Q-1-2*ge-gr],re[Q-1-2*ge-Rr]),k.get(jt+6*Dt+jr+gr)&&Ae.set(re[Q-1-2*ge-Rr],re[2*ge+gr])}jt+=8*Dt}if(Qt.drawModeMessage(Ae,C,ue,z),C)Qt.drawBullsEye(Ae,xe.truncDivision(ue,2),5);else{Qt.drawBullsEye(Ae,xe.truncDivision(ue,2),7);for(let ge=0,jt=0;ge<xe.truncDivision(Q,2)-1;ge+=15,jt+=16)for(let Dt=1&xe.truncDivision(ue,2);Dt<ue;Dt+=2)Ae.set(xe.truncDivision(ue,2)-jt,Dt),Ae.set(xe.truncDivision(ue,2)+jt,Dt),Ae.set(Dt,xe.truncDivision(ue,2)-jt),Ae.set(Dt,xe.truncDivision(ue,2)+jt)}let He=new Du;return He.setCompact(C),He.setSize(ue),He.setLayers(E),He.setCodeWords(L),He.setMatrix(Ae),He}static drawBullsEye(a,l,d){for(let p=0;p<d;p+=2)for(let g=l-p;g<=l+p;g++)a.set(g,l-p),a.set(g,l+p),a.set(l-p,g),a.set(l+p,g);a.set(l-d,l-d),a.set(l-d+1,l-d),a.set(l-d,l-d+1),a.set(l+d,l-d),a.set(l+d,l-d+1),a.set(l+d,l+d-1)}static generateModeMessage(a,l,d){let p=new ke;return a?(p.appendBits(l-1,2),p.appendBits(d-1,6),p=Qt.generateCheckWords(p,28,4)):(p.appendBits(l-1,5),p.appendBits(d-1,11),p=Qt.generateCheckWords(p,40,4)),p}static drawModeMessage(a,l,d,p){let g=xe.truncDivision(d,2);if(l)for(let v=0;v<7;v++){let C=g-3+v;p.get(v)&&a.set(C,g-5),p.get(v+7)&&a.set(g+5,C),p.get(20-v)&&a.set(C,g+5),p.get(27-v)&&a.set(g-5,C)}else for(let v=0;v<10;v++){let C=g-5+v+xe.truncDivision(v,5);p.get(v)&&a.set(C,g-7),p.get(v+10)&&a.set(g+7,C),p.get(29-v)&&a.set(C,g+7),p.get(39-v)&&a.set(g-7,C)}}static generateCheckWords(a,l,d){let p=a.getSize()/d,g=new Iu(Qt.getGF(d)),v=xe.truncDivision(l,d),C=Qt.bitsToWords(a,d,v);g.encode(C,v-p);let E=l%d,I=new ke;I.appendBits(0,E);for(const A of Array.from(C))I.appendBits(A,d);return I}static bitsToWords(a,l,d){let g,v,p=new Int32Array(d);for(g=0,v=a.getSize()/l;g<v;g++){let C=0;for(let E=0;E<l;E++)C|=a.get(g*l+E)?1<<l-E-1:0;p[g]=C}return p}static getGF(a){switch(a){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new J("Unsupported word size "+a)}}static stuffBits(a,l){let d=new ke,p=a.getSize(),g=(1<<l)-2;for(let v=0;v<p;v+=l){let C=0;for(let E=0;E<l;E++)(v+E>=p||a.get(v+E))&&(C|=1<<l-1-E);(C&g)===g?(d.appendBits(C&g,l),v--):C&g?d.appendBits(C,l):(d.appendBits(1|C,l),v--)}return d}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}Qt.DEFAULT_EC_PERCENT=33,Qt.DEFAULT_AZTEC_LAYERS=0,Qt.MAX_NB_BITS=32,Qt.MAX_NB_BITS_COMPACT=4,Qt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class os{encode(a,l,d,p){return this.encodeWithHints(a,l,d,p,null)}encodeWithHints(a,l,d,p,g){let v=yi.ISO_8859_1,C=Qt.DEFAULT_EC_PERCENT,E=Qt.DEFAULT_AZTEC_LAYERS;return null!=g&&(g.has($n.CHARACTER_SET)&&(v=Ji.forName(g.get($n.CHARACTER_SET).toString())),g.has($n.ERROR_CORRECTION)&&(C=xe.parseInt(g.get($n.ERROR_CORRECTION).toString())),g.has($n.AZTEC_LAYERS)&&(E=xe.parseInt(g.get($n.AZTEC_LAYERS).toString()))),os.encodeLayers(a,l,d,p,v,C,E)}static encodeLayers(a,l,d,p,g,v,C){if(l!==Fe.AZTEC)throw new J("Can only encode AZTEC, but got "+l);let E=Qt.encode(B.getBytes(a,g),v,C);return os.renderResult(E,d,p)}static renderResult(a,l,d){let p=a.getMatrix();if(null==p)throw new on;let g=p.getWidth(),v=p.getHeight(),C=Math.max(l,g),E=Math.max(d,v),I=Math.min(C/g,E/v),A=(C-g*I)/2,O=(E-v*I)/2,k=new fe(C,E);for(let L=0,z=O;L<v;L++,z+=I)for(let Q=0,re=A;Q<g;Q++,re+=I)p.get(Q,L)&&k.setRegion(re,z,I,I);return k}}F.AbstractExpandedDecoder=Pc,F.ArgumentException=ce,F.ArithmeticException=Qe,F.AztecCode=Du,F.AztecCodeReader=vn,F.AztecCodeWriter=os,F.AztecDecoder=Vt,F.AztecDetector=Un,F.AztecDetectorResult=dr,F.AztecEncoder=Qt,F.AztecHighLevelEncoder=Ta,F.AztecPoint=un,F.BarcodeFormat=Fe,F.Binarizer=ve,F.BinaryBitmap=pe,F.BitArray=ke,F.BitMatrix=fe,F.BitSource=fr,F.BrowserAztecCodeReader=class br extends Rn{constructor(a=500){super(new vn,a)}},F.BrowserBarcodeReader=class Bs extends Rn{constructor(a=500,l){super(new pi(l),a,l)}},F.BrowserCodeReader=Rn,F.BrowserDatamatrixCodeReader=class mu extends Rn{constructor(a=500){super(new Ca,a)}},F.BrowserMultiFormatReader=class ba extends Rn{constructor(a=null,l=500){const d=new xa;d.setHints(a),super(d,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}},F.BrowserPDF417Reader=class Ia extends Rn{constructor(a=500){super(new Xt,a)}},F.BrowserQRCodeReader=class _o extends Rn{constructor(a=500){super(new Ri,a)}},F.BrowserQRCodeSvgWriter=Oi,F.CharacterSetECI=ie,F.ChecksumException=se,F.Code128Reader=Me,F.Code39Reader=$t,F.DataMatrixDecodedBitStreamParser=Co,F.DataMatrixReader=Ca,F.DecodeHintType=Ve,F.DecoderResult=yn,F.DefaultGridSampler=Tt,F.DetectorResult=Pn,F.EAN13Reader=Jo,F.EncodeHintType=$n,F.Exception=oe,F.FormatException=Ce,F.GenericGF=Ke,F.GenericGFPoly=St,F.GlobalHistogramBinarizer=Ie,F.GridSampler=pn,F.GridSamplerInstance=Ge,F.HTMLCanvasElementLuminanceSource=Xe,F.HybridBinarizer=we,F.ITFReader=gt,F.IllegalArgumentException=J,F.IllegalStateException=on,F.InvertedLuminanceSource=Ft,F.LuminanceSource=qt,F.MathUtils=Je,F.MultiFormatOneDReader=pi,F.MultiFormatReader=xa,F.MultiFormatWriter=class Hc{encode(a,l,d,p,g){let v;if(l!==Fe.QR_CODE)throw new J("No encoder available for format "+l);return v=new jc,v.encode(a,l,d,p,g)}},F.NotFoundException=j,F.OneDReader=Mt,F.PDF417DecodedBitStreamParser=le,F.PDF417DecoderErrorCorrection=wu,F.PDF417Reader=Xt,F.PDF417ResultMetadata=js,F.PerspectiveTransform=Rt,F.PlanarYUVLuminanceSource=Da,F.QRCodeByteMatrix=$s,F.QRCodeDataMask=hr,F.QRCodeDecodedBitStreamParser=yu,F.QRCodeDecoderErrorCorrectionLevel=sn,F.QRCodeDecoderFormatInformation=jn,F.QRCodeEncoder=ot,F.QRCodeEncoderQRCode=Qi,F.QRCodeMaskUtil=tr,F.QRCodeMatrixUtil=ft,F.QRCodeMode=dt,F.QRCodeReader=Ri,F.QRCodeVersion=it,F.QRCodeWriter=jc,F.RGBLuminanceSource=Ws,F.RSS14Reader=xn,F.RSSExpandedReader=be,F.ReaderException=Eo,F.ReedSolomonDecoder=Gt,F.ReedSolomonEncoder=Iu,F.ReedSolomonException=rn,F.Result=Nt,F.ResultMetadataType=Ct,F.ResultPoint=de,F.StringUtils=B,F.UnsupportedOperationException=Ne,F.VideoInputDevice=ln,F.WhiteRectangleDetector=Ln,F.WriterException=Cn,F.ZXingArrays=mt,F.ZXingCharset=Ji,F.ZXingInteger=xe,F.ZXingStandardCharsets=yi,F.ZXingStringBuilder=te,F.ZXingStringEncoding=Y,F.ZXingSystem=Ee,F.createAbstractExpandedDecoder=Ps,Object.defineProperty(F,"__esModule",{value:!0})}(ee)},262:function(tt,ee){var F,W;F=function G(){"use strict";var $=typeof self<"u"?self:typeof window<"u"?window:void 0!==$?$:{},X=!$.document&&!!$.postMessage,Z=$.IS_PAPA_WORKER||!1,oe={},ce=0,J={parse:function(Y,B){var te=(B=B||{}).dynamicTyping||!1;if(Ne(te)&&(B.dynamicTypingFunction=te,te={}),B.dynamicTyping=te,B.transform=!!Ne(B.transform)&&B.transform,B.worker&&J.WORKERS_SUPPORTED){var fe=function(){if(!J.WORKERS_SUPPORTED)return!1;var qt,Ft,Ie=(qt=$.URL||$.webkitURL||null,Ft=G.toString(),J.BLOB_URL||(J.BLOB_URL=qt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ft,")();"],{type:"text/javascript"})))),we=new $.Worker(Ie);return we.onmessage=rt,we.id=ce++,oe[we.id]=we}();return fe.userStep=B.step,fe.userChunk=B.chunk,fe.userComplete=B.complete,fe.userError=B.error,B.step=Ne(B.step),B.chunk=Ne(B.chunk),B.complete=Ne(B.complete),B.error=Ne(B.error),delete B.worker,void fe.postMessage({input:Y,config:B,workerId:fe.id})}var Ie,j=null;return"string"==typeof Y?(Y=65279===(Ie=Y).charCodeAt(0)?Ie.slice(1):Ie,j=B.download?new ve(B):new Se(B)):!0===Y.readable&&Ne(Y.read)&&Ne(Y.on)?j=new We(B):($.File&&Y instanceof File||Y instanceof Object)&&(j=new Ee(B)),j.stream(Y)},unparse:function(Y,B){var te=!1,fe=!0,j=",",Ie="\r\n",we='"',qt=we+we,Ft=!1,Xe=null,ln=!1;!function(){if("object"==typeof B){if("string"!=typeof B.delimiter||J.BAD_DELIMITERS.filter(function(qe){return-1!==B.delimiter.indexOf(qe)}).length||(j=B.delimiter),("boolean"==typeof B.quotes||"function"==typeof B.quotes||Array.isArray(B.quotes))&&(te=B.quotes),"boolean"!=typeof B.skipEmptyLines&&"string"!=typeof B.skipEmptyLines||(Ft=B.skipEmptyLines),"string"==typeof B.newline&&(Ie=B.newline),"string"==typeof B.quoteChar&&(we=B.quoteChar),"boolean"==typeof B.header&&(fe=B.header),Array.isArray(B.columns)){if(0===B.columns.length)throw new Error("Option columns is empty");Xe=B.columns}void 0!==B.escapeChar&&(qt=B.escapeChar+we),("boolean"==typeof B.escapeFormulae||B.escapeFormulae instanceof RegExp)&&(ln=B.escapeFormulae instanceof RegExp?B.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var Ye=new RegExp(xe(we),"g");if("string"==typeof Y&&(Y=JSON.parse(Y)),Array.isArray(Y)){if(!Y.length||Array.isArray(Y[0]))return Rn(null,Y,Ft);if("object"==typeof Y[0])return Rn(Xe||Object.keys(Y[0]),Y,Ft)}else if("object"==typeof Y)return"string"==typeof Y.data&&(Y.data=JSON.parse(Y.data)),Array.isArray(Y.data)&&(Y.fields||(Y.fields=Y.meta&&Y.meta.fields||Xe),Y.fields||(Y.fields=Array.isArray(Y.data[0])?Y.fields:"object"==typeof Y.data[0]?Object.keys(Y.data[0]):[]),Array.isArray(Y.data[0])||"object"==typeof Y.data[0]||(Y.data=[Y.data])),Rn(Y.fields||[],Y.data||[],Ft);throw new Error("Unable to serialize unrecognized input");function Rn(qe,Fe,Zt){var Ct="";"string"==typeof qe&&(qe=JSON.parse(qe)),"string"==typeof Fe&&(Fe=JSON.parse(Fe));var yn=Array.isArray(qe)&&0<qe.length,Wt=!Array.isArray(Fe[0]);if(yn&&fe){for(var St=0;St<qe.length;St++)0<St&&(Ct+=j),Ct+=Nt(qe[St],St);0<Fe.length&&(Ct+=Ie)}for(var Qe=0;Qe<Fe.length;Qe++){var Ke=yn?qe.length:Fe[Qe].length,rn=!1,on=yn?0===Object.keys(Fe[Qe]).length:0===Fe[Qe].length;if(Zt&&!yn&&(rn="greedy"===Zt?""===Fe[Qe].join("").trim():1===Fe[Qe].length&&0===Fe[Qe][0].length),"greedy"===Zt&&yn){for(var Gt=[],zt=0;zt<Ke;zt++)Gt.push(Fe[Qe][Wt?qe[zt]:zt]);rn=""===Gt.join("").trim()}if(!rn){for(var Je=0;Je<Ke;Je++)0<Je&&!on&&(Ct+=j),Ct+=Nt(Fe[Qe][yn&&Wt?qe[Je]:Je],Je);Qe<Fe.length-1&&(!Zt||0<Ke&&!on)&&(Ct+=Ie)}}return Ct}function Nt(qe,Fe){if(null==qe)return"";if(qe.constructor===Date)return JSON.stringify(qe).slice(1,25);var Zt=!1;ln&&"string"==typeof qe&&ln.test(qe)&&(qe="'"+qe,Zt=!0);var Ct=qe.toString().replace(Ye,qt);return(Zt=Zt||!0===te||"function"==typeof te&&te(qe,Fe)||Array.isArray(te)&&te[Fe]||function(yn,Wt){for(var St=0;St<Wt.length;St++)if(-1<yn.indexOf(Wt[St]))return!0;return!1}(Ct,J.BAD_DELIMITERS)||-1<Ct.indexOf(j)||" "===Ct.charAt(0)||" "===Ct.charAt(Ct.length-1))?we+Ct+we:Ct}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(J.BAD_DELIMITERS=["\r","\n",'"',J.BYTE_ORDER_MARK],J.WORKERS_SUPPORTED=!X&&!!$.Worker,J.NODE_STREAM_INPUT=1,J.LocalChunkSize=10485760,J.RemoteChunkSize=5242880,J.DefaultDelimiter=",",J.Parser=ke,J.ParserHandle=mt,J.NetworkStreamer=ve,J.FileStreamer=Ee,J.StringStreamer=Se,J.ReadableStreamStreamer=We,$.jQuery){var pe=$.jQuery;pe.fn.parse=function(Y){var B=Y.config||{},te=[];return this.each(function(Ie){if("INPUT"!==pe(this).prop("tagName").toUpperCase()||"file"!==pe(this).attr("type").toLowerCase()||!$.FileReader||!this.files||0===this.files.length)return!0;for(var we=0;we<this.files.length;we++)te.push({file:this.files[we],inputElem:this,instanceConfig:pe.extend({},B)})}),fe(),this;function fe(){if(0!==te.length){var we,qt,Ft,Xe=te[0];if(Ne(Y.before)){var ln=Y.before(Xe.file,Xe.inputElem);if("object"==typeof ln){if("abort"===ln.action)return we=Xe.file,qt=Xe.inputElem,Ft=ln.reason,void(Ne(Y.error)&&Y.error({name:"AbortError"},we,qt,Ft));if("skip"===ln.action)return void j();"object"==typeof ln.config&&(Xe.instanceConfig=pe.extend(Xe.instanceConfig,ln.config))}else if("skip"===ln)return void j()}var Ye=Xe.instanceConfig.complete;Xe.instanceConfig.complete=function(Rn){Ne(Ye)&&Ye(Rn,Xe.file,Xe.inputElem),j()},J.parse(Xe.file,Xe.instanceConfig)}else Ne(Y.complete)&&Y.complete()}function j(){te.splice(0,1),fe()}}}function se(Y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(B){var te=Te(B);te.chunkSize=parseInt(te.chunkSize),B.step||B.chunk||(te.chunkSize=null),this._handle=new mt(te),(this._handle.streamer=this)._config=te}.call(this,Y),this.parseChunk=function(B,te){if(this.isFirstChunk&&Ne(this._config.beforeFirstChunk)){var fe=this._config.beforeFirstChunk(B);void 0!==fe&&(B=fe)}this.isFirstChunk=!1,this._halted=!1;var j=this._partialLine+B;this._partialLine="";var Ie=this._handle.parse(j,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var we=Ie.meta.cursor;this._finished||(this._partialLine=j.substring(we-this._baseIndex),this._baseIndex=we),Ie&&Ie.data&&(this._rowCount+=Ie.data.length);var qt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Z)$.postMessage({results:Ie,workerId:J.WORKER_ID,finished:qt});else if(Ne(this._config.chunk)&&!te){if(this._config.chunk(Ie,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ie=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ie.data),this._completeResults.errors=this._completeResults.errors.concat(Ie.errors),this._completeResults.meta=Ie.meta),this._completed||!qt||!Ne(this._config.complete)||Ie&&Ie.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),qt||Ie&&Ie.meta.paused||this._nextChunk(),Ie}this._halted=!0},this._sendError=function(B){Ne(this._config.error)?this._config.error(B):Z&&this._config.error&&$.postMessage({workerId:J.WORKER_ID,error:B,finished:!1})}}function ve(Y){var B;(Y=Y||{}).chunkSize||(Y.chunkSize=J.RemoteChunkSize),se.call(this,Y),this._nextChunk=X?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(te){this._input=te,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(B=new XMLHttpRequest,this._config.withCredentials&&(B.withCredentials=this._config.withCredentials),X||(B.onload=ie(this._chunkLoaded,this),B.onerror=ie(this._chunkError,this)),B.open(this._config.downloadRequestBody?"POST":"GET",this._input,!X),this._config.downloadRequestHeaders){var te=this._config.downloadRequestHeaders;for(var fe in te)B.setRequestHeader(fe,te[fe])}this._config.chunkSize&&B.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{B.send(this._config.downloadRequestBody)}catch(Ie){this._chunkError(Ie.message)}X&&0===B.status&&this._chunkError()}},this._chunkLoaded=function(){var fe;4===B.readyState&&(B.status<200||400<=B.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:B.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(fe=B.getResponseHeader("Content-Range"))?-1:parseInt(fe.substring(fe.lastIndexOf("/")+1))),this.parseChunk(B.responseText)))},this._chunkError=function(te){this._sendError(new Error(B.statusText||te))}}function Ee(Y){var B,te;(Y=Y||{}).chunkSize||(Y.chunkSize=J.LocalChunkSize),se.call(this,Y);var fe=typeof FileReader<"u";this.stream=function(j){this._input=j,te=j.slice||j.webkitSlice||j.mozSlice,fe?((B=new FileReader).onload=ie(this._chunkLoaded,this),B.onerror=ie(this._chunkError,this)):B=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input;if(this._config.chunkSize){var Ie=Math.min(this._start+this._config.chunkSize,this._input.size);j=te.call(j,this._start,Ie)}var we=B.readAsText(j,this._config.encoding);fe||this._chunkLoaded({target:{result:we}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(B.error)}}function Se(Y){var B;se.call(this,Y=Y||{}),this.stream=function(te){return B=te,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var te,fe=this._config.chunkSize;return fe?(te=B.substring(0,fe),B=B.substring(fe)):(te=B,B=""),this._finished=!B,this.parseChunk(te)}}}function We(Y){se.call(this,Y=Y||{});var B=[],te=!0,fe=!1;this.pause=function(){se.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){se.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){fe&&1===B.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),B.length?this.parseChunk(B.shift()):te=!0},this._streamData=ie(function(j){try{B.push("string"==typeof j?j:j.toString(this._config.encoding)),te&&(te=!1,this._checkIsFinished(),this.parseChunk(B.shift()))}catch(Ie){this._streamError(Ie)}},this),this._streamError=ie(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=ie(function(){this._streamCleanUp(),fe=!0,this._streamData("")},this),this._streamCleanUp=ie(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function mt(Y){var B,te,fe,j=Math.pow(2,53),Ie=-j,we=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,qt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ft=this,Xe=0,ln=0,Ye=!1,Rn=!1,Nt=[],qe={data:[],errors:[],meta:{}};if(Ne(Y.step)){var Fe=Y.step;Y.step=function(Qe){if(qe=Qe,yn())Ct();else{if(Ct(),0===qe.data.length)return;Xe+=Qe.data.length,Y.preview&&Xe>Y.preview?te.abort():(qe.data=qe.data[0],Fe(qe,Ft))}}}function Zt(Qe){return"greedy"===Y.skipEmptyLines?""===Qe.join("").trim():1===Qe.length&&0===Qe[0].length}function Ct(){return qe&&fe&&(St("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+J.DefaultDelimiter+"'"),fe=!1),Y.skipEmptyLines&&(qe.data=qe.data.filter(function(Qe){return!Zt(Qe)})),yn()&&function(){if(qe)if(Array.isArray(qe.data[0])){for(var Ke=0;yn()&&Ke<qe.data.length;Ke++)qe.data[Ke].forEach(Qe);qe.data.splice(0,1)}else qe.data.forEach(Qe);function Qe(rn,on){Ne(Y.transformHeader)&&(rn=Y.transformHeader(rn,on)),Nt.push(rn)}}(),function(){if(!qe||!Y.header&&!Y.dynamicTyping&&!Y.transform)return qe;function Qe(rn,on){var Gt,zt=Y.header?{}:[];for(Gt=0;Gt<rn.length;Gt++){var Vt=Gt,Je=rn[Gt];Y.header&&(Vt=Gt>=Nt.length?"__parsed_extra":Nt[Gt]),Y.transform&&(Je=Y.transform(Je,Vt)),Je=Wt(Vt,Je),"__parsed_extra"===Vt?(zt[Vt]=zt[Vt]||[],zt[Vt].push(Je)):zt[Vt]=Je}return Y.header&&(Gt>Nt.length?St("FieldMismatch","TooManyFields","Too many fields: expected "+Nt.length+" fields but parsed "+Gt,ln+on):Gt<Nt.length&&St("FieldMismatch","TooFewFields","Too few fields: expected "+Nt.length+" fields but parsed "+Gt,ln+on)),zt}var Ke=1;return!qe.data.length||Array.isArray(qe.data[0])?(qe.data=qe.data.map(Qe),Ke=qe.data.length):qe.data=Qe(qe.data,0),Y.header&&qe.meta&&(qe.meta.fields=Nt),ln+=Ke,qe}()}function yn(){return Y.header&&0===Nt.length}function Wt(Qe,Ke){return rn=Qe,Y.dynamicTypingFunction&&void 0===Y.dynamicTyping[rn]&&(Y.dynamicTyping[rn]=Y.dynamicTypingFunction(rn)),!0===(Y.dynamicTyping[rn]||Y.dynamicTyping)?"true"===Ke||"TRUE"===Ke||"false"!==Ke&&"FALSE"!==Ke&&(function(on){if(we.test(on)){var Gt=parseFloat(on);if(Ie<Gt&&Gt<j)return!0}return!1}(Ke)?parseFloat(Ke):qt.test(Ke)?new Date(Ke):""===Ke?null:Ke):Ke;var rn}function St(Qe,Ke,rn,on){var Gt={type:Qe,code:Ke,message:rn};void 0!==on&&(Gt.row=on),qe.errors.push(Gt)}this.parse=function(Qe,Ke,rn){if(Y.newline||(Y.newline=function(Vt,Je){Vt=Vt.substring(0,1048576);var or=new RegExp(xe(Je)+"([^]*?)"+xe(Je),"gm"),de=(Vt=Vt.replace(or,"")).split("\r"),Pn=Vt.split("\n");if(1===de.length||1<Pn.length&&Pn[0].length<de[0].length)return"\n";for(var Ln=0,pn=0;pn<de.length;pn++)"\n"===de[pn][0]&&Ln++;return Ln>=de.length/2?"\r\n":"\r"}(Qe,Y.quoteChar||'"')),fe=!1,Y.delimiter)Ne(Y.delimiter)&&(Y.delimiter=Y.delimiter(Qe),qe.meta.delimiter=Y.delimiter);else{var Gt=function(Vt,Je,or,de,Pn){var dr,Ln,pn,Rt;Pn=Pn||[",","\t","|",";",J.RECORD_SEP,J.UNIT_SEP];for(var Tt=0;Tt<Pn.length;Tt++){var Ge=Pn[Tt],un=0,Un=0,vn=0;pn=void 0;for(var br=new ke({comments:de,delimiter:Ge,newline:Je,preview:10}).parse(Vt),Mt=0;Mt<br.data.length;Mt++)if(or&&Zt(br.data[Mt]))vn++;else{var Me=br.data[Mt].length;Un+=Me,void 0!==pn?0<Me&&(un+=Math.abs(Me-pn),pn=Me):pn=Me}0<br.data.length&&(Un/=br.data.length-vn),(void 0===Ln||un<=Ln)&&(void 0===Rt||Rt<Un)&&1.99<Un&&(Ln=un,dr=Ge,Rt=Un)}return{successful:!!(Y.delimiter=dr),bestDelimiter:dr}}(Qe,Y.newline,Y.skipEmptyLines,Y.comments,Y.delimitersToGuess);Gt.successful?Y.delimiter=Gt.bestDelimiter:(fe=!0,Y.delimiter=J.DefaultDelimiter),qe.meta.delimiter=Y.delimiter}var zt=Te(Y);return Y.preview&&Y.header&&zt.preview++,B=Qe,te=new ke(zt),qe=te.parse(B,Ke,rn),Ct(),Ye?{meta:{paused:!0}}:qe||{meta:{paused:!1}}},this.paused=function(){return Ye},this.pause=function(){Ye=!0,te.abort(),B=Ne(Y.chunk)?"":B.substring(te.getCharIndex())},this.resume=function(){Ft.streamer._halted?(Ye=!1,Ft.streamer.parseChunk(B,!0)):setTimeout(Ft.resume,3)},this.aborted=function(){return Rn},this.abort=function(){Rn=!0,te.abort(),qe.meta.aborted=!0,Ne(Y.complete)&&Y.complete(qe),B=""}}function xe(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ke(Y){var B,te=(Y=Y||{}).delimiter,fe=Y.newline,j=Y.comments,Ie=Y.step,we=Y.preview,qt=Y.fastMode,Ft=B=null==Y.quoteChar?'"':Y.quoteChar;if(void 0!==Y.escapeChar&&(Ft=Y.escapeChar),("string"!=typeof te||-1<J.BAD_DELIMITERS.indexOf(te))&&(te=","),j===te)throw new Error("Comment character same as delimiter");!0===j?j="#":("string"!=typeof j||-1<J.BAD_DELIMITERS.indexOf(j))&&(j=!1),"\n"!==fe&&"\r"!==fe&&"\r\n"!==fe&&(fe="\n");var Xe=0,ln=!1;this.parse=function(Ye,Rn,Nt){if("string"!=typeof Ye)throw new Error("Input must be a string");var qe=Ye.length,Fe=te.length,Zt=fe.length,Ct=j.length,yn=Ne(Ie),Wt=[],St=[],Qe=[],Ke=Xe=0;if(!Ye)return $t();if(Y.header&&!Rn){var rn=Ye.split(fe)[0].split(te),on=[],Gt={},zt=!1;for(var Vt in rn){var Je=rn[Vt];Ne(Y.transformHeader)&&(Je=Y.transformHeader(Je,Vt));var or=Je,de=Gt[Je]||0;for(0<de&&(zt=!0,or=Je+"_"+de),Gt[Je]=de+1;on.includes(or);)or=or+"_"+de;on.push(or)}if(zt){var Pn=Ye.split(fe);Pn[0]=on.join(te),Ye=Pn.join(fe)}}if(qt||!1!==qt&&-1===Ye.indexOf(B)){for(var dr=Ye.split(fe),Ln=0;Ln<dr.length;Ln++){if(Xe+=(Qe=dr[Ln]).length,Ln!==dr.length-1)Xe+=fe.length;else if(Nt)return $t();if(!j||Qe.substring(0,Ct)!==j){if(yn){if(Wt=[],vn(Qe.split(te)),gt(),ln)return $t()}else vn(Qe.split(te));if(we&&we<=Ln)return Wt=Wt.slice(0,we),$t(!0)}}return $t()}for(var pn=Ye.indexOf(te,Xe),Rt=Ye.indexOf(fe,Xe),Tt=new RegExp(xe(Ft)+xe(B),"g"),Ge=Ye.indexOf(B,Xe);;)if(Ye[Xe]!==B)if(j&&0===Qe.length&&Ye.substring(Xe,Xe+Ct)===j){if(-1===Rt)return $t();Rt=Ye.indexOf(fe,Xe=Rt+Zt),pn=Ye.indexOf(te,Xe)}else if(-1!==pn&&(pn<Rt||-1===Rt))Qe.push(Ye.substring(Xe,pn)),pn=Ye.indexOf(te,Xe=pn+Fe);else{if(-1===Rt)break;if(Qe.push(Ye.substring(Xe,Rt)),Me(Rt+Zt),yn&&(gt(),ln))return $t();if(we&&Wt.length>=we)return $t(!0)}else for(Ge=Xe,Xe++;;){if(-1===(Ge=Ye.indexOf(B,Ge+1)))return Nt||St.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Wt.length,index:Xe}),Mt();if(Ge===qe-1)return Mt(Ye.substring(Xe,Ge).replace(Tt,B));if(B!==Ft||Ye[Ge+1]!==Ft){if(B===Ft||0===Ge||Ye[Ge-1]!==Ft){-1!==pn&&pn<Ge+1&&(pn=Ye.indexOf(te,Ge+1)),-1!==Rt&&Rt<Ge+1&&(Rt=Ye.indexOf(fe,Ge+1));var un=br(-1===Rt?pn:Math.min(pn,Rt));if(Ye.substr(Ge+1+un,Fe)===te){Qe.push(Ye.substring(Xe,Ge).replace(Tt,B)),Ye[Xe=Ge+1+un+Fe]!==B&&(Ge=Ye.indexOf(B,Xe)),pn=Ye.indexOf(te,Xe),Rt=Ye.indexOf(fe,Xe);break}var Un=br(Rt);if(Ye.substring(Ge+1+Un,Ge+1+Un+Zt)===fe){if(Qe.push(Ye.substring(Xe,Ge).replace(Tt,B)),Me(Ge+1+Un+Zt),pn=Ye.indexOf(te,Xe),Ge=Ye.indexOf(B,Xe),yn&&(gt(),ln))return $t();if(we&&Wt.length>=we)return $t(!0);break}St.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Wt.length,index:Xe}),Ge++}}else Ge++}return Mt();function vn(nt){Wt.push(nt),Ke=Xe}function br(nt){var mo=0;if(-1!==nt){var Pt=Ye.substring(Ge+1,nt);Pt&&""===Pt.trim()&&(mo=Pt.length)}return mo}function Mt(nt){return Nt||(void 0===nt&&(nt=Ye.substring(Xe)),Qe.push(nt),Xe=qe,vn(Qe),yn&&gt()),$t()}function Me(nt){Xe=nt,vn(Qe),Qe=[],Rt=Ye.indexOf(fe,Xe)}function $t(nt){return{data:Wt,errors:St,meta:{delimiter:te,linebreak:fe,aborted:ln,truncated:!!nt,cursor:Ke+(Rn||0)}}}function gt(){Ie($t()),Wt=[],St=[]}},this.abort=function(){ln=!0},this.getCharIndex=function(){return Xe}}function rt(Y){var B=Y.data,te=oe[B.workerId],fe=!1;if(B.error)te.userError(B.error,B.file);else if(B.results&&B.results.data){var j={abort:function(){fe=!0,Ve(B.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Ce,resume:Ce};if(Ne(te.userStep)){for(var Ie=0;Ie<B.results.data.length&&(te.userStep({data:B.results.data[Ie],errors:B.results.errors,meta:B.results.meta},j),!fe);Ie++);delete B.results}else Ne(te.userChunk)&&(te.userChunk(B.results,j,B.file),delete B.results)}B.finished&&!fe&&Ve(B.workerId,B.results)}function Ve(Y,B){var te=oe[Y];Ne(te.userComplete)&&te.userComplete(B),te.terminate(),delete oe[Y]}function Ce(){throw new Error("Not implemented.")}function Te(Y){if("object"!=typeof Y||null===Y)return Y;var B=Array.isArray(Y)?[]:{};for(var te in Y)B[te]=Te(Y[te]);return B}function ie(Y,B){return function(){Y.apply(B,arguments)}}function Ne(Y){return"function"==typeof Y}return Z&&($.onmessage=function(Y){var B=Y.data;if(void 0===J.WORKER_ID&&B&&(J.WORKER_ID=B.workerId),"string"==typeof B.input)$.postMessage({workerId:J.WORKER_ID,results:J.parse(B.input,B.config),finished:!0});else if($.File&&B.input instanceof File||B.input instanceof Object){var te=J.parse(B.input,B.config);te&&$.postMessage({workerId:J.WORKER_ID,results:te,finished:!0})}}),(ve.prototype=Object.create(se.prototype)).constructor=ve,(Ee.prototype=Object.create(se.prototype)).constructor=Ee,(Se.prototype=Object.create(Se.prototype)).constructor=Se,(We.prototype=Object.create(se.prototype)).constructor=We,J},void 0!==(W=F.apply(ee,[]))&&(tt.exports=W)},8314:(tt,ee,F)=>{const W=F(2836),G=F(9460),$=F(7030),X=F(6511);function Z(oe,ce,J,pe,se){const ve=[].slice.call(arguments,1),Ee=ve.length,Se="function"==typeof ve[Ee-1];if(!Se&&!W())throw new Error("Callback required as last argument");if(!Se){if(Ee<1)throw new Error("Too few arguments provided");return 1===Ee?(J=ce,ce=pe=void 0):2===Ee&&!ce.getContext&&(pe=J,J=ce,ce=void 0),new Promise(function(We,mt){try{const xe=G.create(J,pe);We(oe(xe,ce,pe))}catch(xe){mt(xe)}})}if(Ee<2)throw new Error("Too few arguments provided");2===Ee?(se=J,J=ce,ce=pe=void 0):3===Ee&&(ce.getContext&&typeof se>"u"?(se=pe,pe=void 0):(se=pe,pe=J,J=ce,ce=void 0));try{const We=G.create(J,pe);se(null,oe(We,ce,pe))}catch(We){se(We)}}ee.mo=Z.bind(null,$.render),Z.bind(null,$.renderToDataURL),Z.bind(null,function(oe,ce,J){return X.render(oe,J)})},2836:tt=>{tt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(tt,ee,F)=>{const c=F(9089).getSymbolSize;ee.getRowColCoords=function(G){if(1===G)return[];const $=Math.floor(G/7)+2,X=c(G),Z=145===X?26:2*Math.ceil((X-13)/(2*$-2)),oe=[X-7];for(let ce=1;ce<$-1;ce++)oe[ce]=oe[ce-1]-Z;return oe.push(6),oe.reverse()},ee.getPositions=function(G){const $=[],X=ee.getRowColCoords(G),Z=X.length;for(let oe=0;oe<Z;oe++)for(let ce=0;ce<Z;ce++)0===oe&&0===ce||0===oe&&ce===Z-1||oe===Z-1&&0===ce||$.push([X[oe],X[ce]]);return $}},1018:(tt,ee,F)=>{const c=F(1677),W=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function G($){this.mode=c.ALPHANUMERIC,this.data=$}G.getBitsLength=function(X){return 11*Math.floor(X/2)+X%2*6},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function(X){let Z;for(Z=0;Z+2<=this.data.length;Z+=2){let oe=45*W.indexOf(this.data[Z]);oe+=W.indexOf(this.data[Z+1]),X.put(oe,11)}this.data.length%2&&X.put(W.indexOf(this.data[Z]),6)},tt.exports=G},4662:tt=>{function ee(){this.buffer=[],this.length=0}ee.prototype={get:function(F){const c=Math.floor(F/8);return 1==(this.buffer[c]>>>7-F%8&1)},put:function(F,c){for(let W=0;W<c;W++)this.putBit(1==(F>>>c-W-1&1))},getLengthInBits:function(){return this.length},putBit:function(F){const c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),F&&(this.buffer[c]|=128>>>this.length%8),this.length++}},tt.exports=ee},5941:tt=>{function ee(F){if(!F||F<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=F,this.data=new Uint8Array(F*F),this.reservedBit=new Uint8Array(F*F)}ee.prototype.set=function(F,c,W,G){const $=F*this.size+c;this.data[$]=W,G&&(this.reservedBit[$]=!0)},ee.prototype.get=function(F,c){return this.data[F*this.size+c]},ee.prototype.xor=function(F,c,W){this.data[F*this.size+c]^=W},ee.prototype.isReserved=function(F,c){return this.reservedBit[F*this.size+c]},tt.exports=ee},4969:(tt,ee,F)=>{const c=F(1677);function W(G){this.mode=c.BYTE,this.data="string"==typeof G?(new TextEncoder).encode(G):new Uint8Array(G)}W.getBitsLength=function($){return 8*$},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function(G){for(let $=0,X=this.data.length;$<X;$++)G.put(this.data[$],8)},tt.exports=W},3677:(tt,ee,F)=>{const c=F(7424),W=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],G=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ee.getBlocksCount=function(X,Z){switch(Z){case c.L:return W[4*(X-1)+0];case c.M:return W[4*(X-1)+1];case c.Q:return W[4*(X-1)+2];case c.H:return W[4*(X-1)+3];default:return}},ee.getTotalCodewordsCount=function(X,Z){switch(Z){case c.L:return G[4*(X-1)+0];case c.M:return G[4*(X-1)+1];case c.Q:return G[4*(X-1)+2];case c.H:return G[4*(X-1)+3];default:return}}},7424:(tt,ee)=>{ee.L={bit:1},ee.M={bit:0},ee.Q={bit:3},ee.H={bit:2},ee.isValid=function(W){return W&&typeof W.bit<"u"&&W.bit>=0&&W.bit<4},ee.from=function(W,G){if(ee.isValid(W))return W;try{return function F(c){if("string"!=typeof c)throw new Error("Param is not a string");switch(c.toLowerCase()){case"l":case"low":return ee.L;case"m":case"medium":return ee.M;case"q":case"quartile":return ee.Q;case"h":case"high":return ee.H;default:throw new Error("Unknown EC Level: "+c)}}(W)}catch{return G}}},6269:(tt,ee,F)=>{const c=F(9089).getSymbolSize;ee.getPositions=function($){const X=c($);return[[0,0],[X-7,0],[0,X-7]]}},6254:(tt,ee,F)=>{const c=F(9089),$=c.getBCHDigit(1335);ee.getEncodedBits=function(Z,oe){const ce=Z.bit<<3|oe;let J=ce<<10;for(;c.getBCHDigit(J)-$>=0;)J^=1335<<c.getBCHDigit(J)-$;return 21522^(ce<<10|J)}},6686:(tt,ee)=>{const F=new Uint8Array(512),c=new Uint8Array(256);(function(){let G=1;for(let $=0;$<255;$++)F[$]=G,c[G]=$,G<<=1,256&G&&(G^=285);for(let $=255;$<512;$++)F[$]=F[$-255]})(),ee.log=function(G){if(G<1)throw new Error("log("+G+")");return c[G]},ee.exp=function(G){return F[G]},ee.mul=function(G,$){return 0===G||0===$?0:F[c[G]+c[$]]}},3264:(tt,ee,F)=>{const c=F(1677),W=F(9089);function G($){this.mode=c.KANJI,this.data=$}G.getBitsLength=function(X){return 13*X},G.prototype.getLength=function(){return this.data.length},G.prototype.getBitsLength=function(){return G.getBitsLength(this.data.length)},G.prototype.write=function($){let X;for(X=0;X<this.data.length;X++){let Z=W.toSJIS(this.data[X]);if(Z>=33088&&Z<=40956)Z-=33088;else{if(!(Z>=57408&&Z<=60351))throw new Error("Invalid SJIS character: "+this.data[X]+"\nMake sure your charset is UTF-8");Z-=49472}Z=192*(Z>>>8&255)+(255&Z),$.put(Z,13)}},tt.exports=G},3361:(tt,ee)=>{ee.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function c(W,G,$){switch(W){case ee.Patterns.PATTERN000:return(G+$)%2==0;case ee.Patterns.PATTERN001:return G%2==0;case ee.Patterns.PATTERN010:return $%3==0;case ee.Patterns.PATTERN011:return(G+$)%3==0;case ee.Patterns.PATTERN100:return(Math.floor(G/2)+Math.floor($/3))%2==0;case ee.Patterns.PATTERN101:return G*$%2+G*$%3==0;case ee.Patterns.PATTERN110:return(G*$%2+G*$%3)%2==0;case ee.Patterns.PATTERN111:return(G*$%3+(G+$)%2)%2==0;default:throw new Error("bad maskPattern:"+W)}}ee.isValid=function(G){return null!=G&&""!==G&&!isNaN(G)&&G>=0&&G<=7},ee.from=function(G){return ee.isValid(G)?parseInt(G,10):void 0},ee.getPenaltyN1=function(G){const $=G.size;let X=0,Z=0,oe=0,ce=null,J=null;for(let pe=0;pe<$;pe++){Z=oe=0,ce=J=null;for(let se=0;se<$;se++){let ve=G.get(pe,se);ve===ce?Z++:(Z>=5&&(X+=Z-5+3),ce=ve,Z=1),ve=G.get(se,pe),ve===J?oe++:(oe>=5&&(X+=oe-5+3),J=ve,oe=1)}Z>=5&&(X+=Z-5+3),oe>=5&&(X+=oe-5+3)}return X},ee.getPenaltyN2=function(G){const $=G.size;let X=0;for(let Z=0;Z<$-1;Z++)for(let oe=0;oe<$-1;oe++){const ce=G.get(Z,oe)+G.get(Z,oe+1)+G.get(Z+1,oe)+G.get(Z+1,oe+1);(4===ce||0===ce)&&X++}return 3*X},ee.getPenaltyN3=function(G){const $=G.size;let X=0,Z=0,oe=0;for(let ce=0;ce<$;ce++){Z=oe=0;for(let J=0;J<$;J++)Z=Z<<1&2047|G.get(ce,J),J>=10&&(1488===Z||93===Z)&&X++,oe=oe<<1&2047|G.get(J,ce),J>=10&&(1488===oe||93===oe)&&X++}return 40*X},ee.getPenaltyN4=function(G){let $=0;const X=G.data.length;for(let oe=0;oe<X;oe++)$+=G.data[oe];return 10*Math.abs(Math.ceil(100*$/X/5)-10)},ee.applyMask=function(G,$){const X=$.size;for(let Z=0;Z<X;Z++)for(let oe=0;oe<X;oe++)$.isReserved(oe,Z)||$.xor(oe,Z,c(G,oe,Z))},ee.getBestMask=function(G,$){const X=Object.keys(ee.Patterns).length;let Z=0,oe=1/0;for(let ce=0;ce<X;ce++){$(ce),ee.applyMask(ce,G);const J=ee.getPenaltyN1(G)+ee.getPenaltyN2(G)+ee.getPenaltyN3(G)+ee.getPenaltyN4(G);ee.applyMask(ce,G),J<oe&&(oe=J,Z=ce)}return Z}},1677:(tt,ee,F)=>{const c=F(377),W=F(9359);ee.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},ee.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},ee.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},ee.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},ee.MIXED={bit:-1},ee.getCharCountIndicator=function(X,Z){if(!X.ccBits)throw new Error("Invalid mode: "+X);if(!c.isValid(Z))throw new Error("Invalid version: "+Z);return Z>=1&&Z<10?X.ccBits[0]:Z<27?X.ccBits[1]:X.ccBits[2]},ee.getBestModeForData=function(X){return W.testNumeric(X)?ee.NUMERIC:W.testAlphanumeric(X)?ee.ALPHANUMERIC:W.testKanji(X)?ee.KANJI:ee.BYTE},ee.toString=function(X){if(X&&X.id)return X.id;throw new Error("Invalid mode")},ee.isValid=function(X){return X&&X.bit&&X.ccBits},ee.from=function(X,Z){if(ee.isValid(X))return X;try{return function G($){if("string"!=typeof $)throw new Error("Param is not a string");switch($.toLowerCase()){case"numeric":return ee.NUMERIC;case"alphanumeric":return ee.ALPHANUMERIC;case"kanji":return ee.KANJI;case"byte":return ee.BYTE;default:throw new Error("Unknown mode: "+$)}}(X)}catch{return Z}}},6628:(tt,ee,F)=>{const c=F(1677);function W(G){this.mode=c.NUMERIC,this.data=G.toString()}W.getBitsLength=function($){return 10*Math.floor($/3)+($%3?$%3*3+1:0)},W.prototype.getLength=function(){return this.data.length},W.prototype.getBitsLength=function(){return W.getBitsLength(this.data.length)},W.prototype.write=function($){let X,Z,oe;for(X=0;X+3<=this.data.length;X+=3)Z=this.data.substr(X,3),oe=parseInt(Z,10),$.put(oe,10);const ce=this.data.length-X;ce>0&&(Z=this.data.substr(X),oe=parseInt(Z,10),$.put(oe,3*ce+1))},tt.exports=W},1744:(tt,ee,F)=>{const c=F(6686);ee.mul=function(G,$){const X=new Uint8Array(G.length+$.length-1);for(let Z=0;Z<G.length;Z++)for(let oe=0;oe<$.length;oe++)X[Z+oe]^=c.mul(G[Z],$[oe]);return X},ee.mod=function(G,$){let X=new Uint8Array(G);for(;X.length-$.length>=0;){const Z=X[0];for(let ce=0;ce<$.length;ce++)X[ce]^=c.mul($[ce],Z);let oe=0;for(;oe<X.length&&0===X[oe];)oe++;X=X.slice(oe)}return X},ee.generateECPolynomial=function(G){let $=new Uint8Array([1]);for(let X=0;X<G;X++)$=ee.mul($,new Uint8Array([1,c.exp(X)]));return $}},9460:(tt,ee,F)=>{const c=F(9089),W=F(7424),G=F(4662),$=F(5941),X=F(6214),Z=F(6269),oe=F(3361),ce=F(3677),J=F(6289),pe=F(1252),se=F(6254),ve=F(1677),Ee=F(2868);function ke(ie,Ne,Y){const B=ie.size,te=se.getEncodedBits(Ne,Y);let fe,j;for(fe=0;fe<15;fe++)j=1==(te>>fe&1),ie.set(fe<6?fe:fe<8?fe+1:B-15+fe,8,j,!0),ie.set(8,fe<8?B-fe-1:fe<9?15-fe-1+1:15-fe-1,j,!0);ie.set(B-8,8,1,!0)}function Te(ie,Ne,Y,B){let te;if(Array.isArray(ie))te=Ee.fromArray(ie);else{if("string"!=typeof ie)throw new Error("Invalid data");{let qt=Ne;if(!qt){const Ft=Ee.rawSplit(ie);qt=pe.getBestVersionForData(Ft,Y)}te=Ee.fromString(ie,qt||40)}}const fe=pe.getBestVersionForData(te,Y);if(!fe)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ne){if(Ne<fe)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+fe+".\n")}else Ne=fe;const j=function Ve(ie,Ne,Y){const B=new G;Y.forEach(function(we){B.put(we.mode.bit,4),B.put(we.getLength(),ve.getCharCountIndicator(we.mode,ie)),we.write(B)});const j=8*(c.getSymbolTotalCodewords(ie)-ce.getTotalCodewordsCount(ie,Ne));for(B.getLengthInBits()+4<=j&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(0);const Ie=(j-B.getLengthInBits())/8;for(let we=0;we<Ie;we++)B.put(we%2?17:236,8);return function Ce(ie,Ne,Y){const B=c.getSymbolTotalCodewords(Ne),fe=B-ce.getTotalCodewordsCount(Ne,Y),j=ce.getBlocksCount(Ne,Y),we=j-B%j,qt=Math.floor(B/j),Ft=Math.floor(fe/j),Xe=Ft+1,ln=qt-Ft,Ye=new J(ln);let Rn=0;const Nt=new Array(j),qe=new Array(j);let Fe=0;const Zt=new Uint8Array(ie.buffer);for(let Qe=0;Qe<j;Qe++){const Ke=Qe<we?Ft:Xe;Nt[Qe]=Zt.slice(Rn,Rn+Ke),qe[Qe]=Ye.encode(Nt[Qe]),Rn+=Ke,Fe=Math.max(Fe,Ke)}const Ct=new Uint8Array(B);let Wt,St,yn=0;for(Wt=0;Wt<Fe;Wt++)for(St=0;St<j;St++)Wt<Nt[St].length&&(Ct[yn++]=Nt[St][Wt]);for(Wt=0;Wt<ln;Wt++)for(St=0;St<j;St++)Ct[yn++]=qe[St][Wt];return Ct}(B,ie,Ne)}(Ne,Y,te),Ie=c.getSymbolSize(Ne),we=new $(Ie);return function Se(ie,Ne){const Y=ie.size,B=Z.getPositions(Ne);for(let te=0;te<B.length;te++){const fe=B[te][0],j=B[te][1];for(let Ie=-1;Ie<=7;Ie++)if(!(fe+Ie<=-1||Y<=fe+Ie))for(let we=-1;we<=7;we++)j+we<=-1||Y<=j+we||ie.set(fe+Ie,j+we,Ie>=0&&Ie<=6&&(0===we||6===we)||we>=0&&we<=6&&(0===Ie||6===Ie)||Ie>=2&&Ie<=4&&we>=2&&we<=4,!0)}}(we,Ne),function We(ie){const Ne=ie.size;for(let Y=8;Y<Ne-8;Y++){const B=Y%2==0;ie.set(Y,6,B,!0),ie.set(6,Y,B,!0)}}(we),function mt(ie,Ne){const Y=X.getPositions(Ne);for(let B=0;B<Y.length;B++){const te=Y[B][0],fe=Y[B][1];for(let j=-2;j<=2;j++)for(let Ie=-2;Ie<=2;Ie++)ie.set(te+j,fe+Ie,-2===j||2===j||-2===Ie||2===Ie||0===j&&0===Ie,!0)}}(we,Ne),ke(we,Y,0),Ne>=7&&function xe(ie,Ne){const Y=ie.size,B=pe.getEncodedBits(Ne);let te,fe,j;for(let Ie=0;Ie<18;Ie++)te=Math.floor(Ie/3),fe=Ie%3+Y-8-3,j=1==(B>>Ie&1),ie.set(te,fe,j,!0),ie.set(fe,te,j,!0)}(we,Ne),function rt(ie,Ne){const Y=ie.size;let B=-1,te=Y-1,fe=7,j=0;for(let Ie=Y-1;Ie>0;Ie-=2)for(6===Ie&&Ie--;;){for(let we=0;we<2;we++)if(!ie.isReserved(te,Ie-we)){let qt=!1;j<Ne.length&&(qt=1==(Ne[j]>>>fe&1)),ie.set(te,Ie-we,qt),fe--,-1===fe&&(j++,fe=7)}if(te+=B,te<0||Y<=te){te-=B,B=-B;break}}}(we,j),isNaN(B)&&(B=oe.getBestMask(we,ke.bind(null,we,Y))),oe.applyMask(B,we),ke(we,Y,B),{modules:we,version:Ne,errorCorrectionLevel:Y,maskPattern:B,segments:te}}ee.create=function(Ne,Y){if(typeof Ne>"u"||""===Ne)throw new Error("No input text");let te,fe,B=W.M;return typeof Y<"u"&&(B=W.from(Y.errorCorrectionLevel,W.M),te=pe.from(Y.version),fe=oe.from(Y.maskPattern),Y.toSJISFunc&&c.setToSJISFunction(Y.toSJISFunc)),Te(Ne,te,B,fe)}},6289:(tt,ee,F)=>{const c=F(1744);function W(G){this.genPoly=void 0,this.degree=G,this.degree&&this.initialize(this.degree)}W.prototype.initialize=function($){this.degree=$,this.genPoly=c.generateECPolynomial(this.degree)},W.prototype.encode=function($){if(!this.genPoly)throw new Error("Encoder not initialized");const X=new Uint8Array($.length+this.degree);X.set($);const Z=c.mod(X,this.genPoly),oe=this.degree-Z.length;if(oe>0){const ce=new Uint8Array(this.degree);return ce.set(Z,oe),ce}return Z},tt.exports=W},9359:(tt,ee)=>{const F="[0-9]+";let W="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";W=W.replace(/u/g,"\\u");const G="(?:(?![A-Z0-9 $%*+\\-./:]|"+W+")(?:.|[\r\n]))+";ee.KANJI=new RegExp(W,"g"),ee.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ee.BYTE=new RegExp(G,"g"),ee.NUMERIC=new RegExp(F,"g"),ee.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const $=new RegExp("^"+W+"$"),X=new RegExp("^"+F+"$"),Z=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ee.testKanji=function(ce){return $.test(ce)},ee.testNumeric=function(ce){return X.test(ce)},ee.testAlphanumeric=function(ce){return Z.test(ce)}},2868:(tt,ee,F)=>{const c=F(1677),W=F(6628),G=F(1018),$=F(4969),X=F(3264),Z=F(9359),oe=F(9089),ce=F(243);function J(xe){return unescape(encodeURIComponent(xe)).length}function pe(xe,ke,rt){const Ve=[];let Ce;for(;null!==(Ce=xe.exec(rt));)Ve.push({data:Ce[0],index:Ce.index,mode:ke,length:Ce[0].length});return Ve}function se(xe){const ke=pe(Z.NUMERIC,c.NUMERIC,xe),rt=pe(Z.ALPHANUMERIC,c.ALPHANUMERIC,xe);let Ve,Ce;return oe.isKanjiModeEnabled()?(Ve=pe(Z.BYTE,c.BYTE,xe),Ce=pe(Z.KANJI,c.KANJI,xe)):(Ve=pe(Z.BYTE_KANJI,c.BYTE,xe),Ce=[]),ke.concat(rt,Ve,Ce).sort(function(ie,Ne){return ie.index-Ne.index}).map(function(ie){return{data:ie.data,mode:ie.mode,length:ie.length}})}function ve(xe,ke){switch(ke){case c.NUMERIC:return W.getBitsLength(xe);case c.ALPHANUMERIC:return G.getBitsLength(xe);case c.KANJI:return X.getBitsLength(xe);case c.BYTE:return $.getBitsLength(xe)}}function mt(xe,ke){let rt;const Ve=c.getBestModeForData(xe);if(rt=c.from(ke,Ve),rt!==c.BYTE&&rt.bit<Ve.bit)throw new Error('"'+xe+'" cannot be encoded with mode '+c.toString(rt)+".\n Suggested mode is: "+c.toString(Ve));switch(rt===c.KANJI&&!oe.isKanjiModeEnabled()&&(rt=c.BYTE),rt){case c.NUMERIC:return new W(xe);case c.ALPHANUMERIC:return new G(xe);case c.KANJI:return new X(xe);case c.BYTE:return new $(xe)}}ee.fromArray=function(ke){return ke.reduce(function(rt,Ve){return"string"==typeof Ve?rt.push(mt(Ve,null)):Ve.data&&rt.push(mt(Ve.data,Ve.mode)),rt},[])},ee.fromString=function(ke,rt){const Ce=function Se(xe){const ke=[];for(let rt=0;rt<xe.length;rt++){const Ve=xe[rt];switch(Ve.mode){case c.NUMERIC:ke.push([Ve,{data:Ve.data,mode:c.ALPHANUMERIC,length:Ve.length},{data:Ve.data,mode:c.BYTE,length:Ve.length}]);break;case c.ALPHANUMERIC:ke.push([Ve,{data:Ve.data,mode:c.BYTE,length:Ve.length}]);break;case c.KANJI:ke.push([Ve,{data:Ve.data,mode:c.BYTE,length:J(Ve.data)}]);break;case c.BYTE:ke.push([{data:Ve.data,mode:c.BYTE,length:J(Ve.data)}])}}return ke}(se(ke,oe.isKanjiModeEnabled())),Te=function We(xe,ke){const rt={},Ve={start:{}};let Ce=["start"];for(let Te=0;Te<xe.length;Te++){const ie=xe[Te],Ne=[];for(let Y=0;Y<ie.length;Y++){const B=ie[Y],te=""+Te+Y;Ne.push(te),rt[te]={node:B,lastCount:0},Ve[te]={};for(let fe=0;fe<Ce.length;fe++){const j=Ce[fe];rt[j]&&rt[j].node.mode===B.mode?(Ve[j][te]=ve(rt[j].lastCount+B.length,B.mode)-ve(rt[j].lastCount,B.mode),rt[j].lastCount+=B.length):(rt[j]&&(rt[j].lastCount=B.length),Ve[j][te]=ve(B.length,B.mode)+4+c.getCharCountIndicator(B.mode,ke))}}Ce=Ne}for(let Te=0;Te<Ce.length;Te++)Ve[Ce[Te]].end=0;return{map:Ve,table:rt}}(Ce,rt),ie=ce.find_path(Te.map,"start","end"),Ne=[];for(let Y=1;Y<ie.length-1;Y++)Ne.push(Te.table[ie[Y]].node);return ee.fromArray(function Ee(xe){return xe.reduce(function(ke,rt){const Ve=ke.length-1>=0?ke[ke.length-1]:null;return Ve&&Ve.mode===rt.mode?(ke[ke.length-1].data+=rt.data,ke):(ke.push(rt),ke)},[])}(Ne))},ee.rawSplit=function(ke){return ee.fromArray(se(ke,oe.isKanjiModeEnabled()))}},9089:(tt,ee)=>{let F;const c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ee.getSymbolSize=function(G){if(!G)throw new Error('"version" cannot be null or undefined');if(G<1||G>40)throw new Error('"version" should be in range from 1 to 40');return 4*G+17},ee.getSymbolTotalCodewords=function(G){return c[G]},ee.getBCHDigit=function(W){let G=0;for(;0!==W;)G++,W>>>=1;return G},ee.setToSJISFunction=function(G){if("function"!=typeof G)throw new Error('"toSJISFunc" is not a valid function.');F=G},ee.isKanjiModeEnabled=function(){return typeof F<"u"},ee.toSJIS=function(G){return F(G)}},377:(tt,ee)=>{ee.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}},1252:(tt,ee,F)=>{const c=F(9089),W=F(3677),G=F(7424),$=F(1677),X=F(377),oe=c.getBCHDigit(7973);function J(ve,Ee){return $.getCharCountIndicator(ve,Ee)+4}function pe(ve,Ee){let Se=0;return ve.forEach(function(We){const mt=J(We.mode,Ee);Se+=mt+We.getBitsLength()}),Se}ee.from=function(Ee,Se){return X.isValid(Ee)?parseInt(Ee,10):Se},ee.getCapacity=function(Ee,Se,We){if(!X.isValid(Ee))throw new Error("Invalid QR Code version");typeof We>"u"&&(We=$.BYTE);const ke=8*(c.getSymbolTotalCodewords(Ee)-W.getTotalCodewordsCount(Ee,Se));if(We===$.MIXED)return ke;const rt=ke-J(We,Ee);switch(We){case $.NUMERIC:return Math.floor(rt/10*3);case $.ALPHANUMERIC:return Math.floor(rt/11*2);case $.KANJI:return Math.floor(rt/13);default:return Math.floor(rt/8)}},ee.getBestVersionForData=function(Ee,Se){let We;const mt=G.from(Se,G.M);if(Array.isArray(Ee)){if(Ee.length>1)return function se(ve,Ee){for(let Se=1;Se<=40;Se++)if(pe(ve,Se)<=ee.getCapacity(Se,Ee,$.MIXED))return Se}(Ee,mt);if(0===Ee.length)return 1;We=Ee[0]}else We=Ee;return function ce(ve,Ee,Se){for(let We=1;We<=40;We++)if(Ee<=ee.getCapacity(We,Se,ve))return We}(We.mode,We.getLength(),mt)},ee.getEncodedBits=function(Ee){if(!X.isValid(Ee)||Ee<7)throw new Error("Invalid QR Code version");let Se=Ee<<12;for(;c.getBCHDigit(Se)-oe>=0;)Se^=7973<<c.getBCHDigit(Se)-oe;return Ee<<12|Se}},7030:(tt,ee,F)=>{const c=F(7077);ee.render=function(X,Z,oe){let ce=oe,J=Z;typeof ce>"u"&&(!Z||!Z.getContext)&&(ce=Z,Z=void 0),Z||(J=function G(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),ce=c.getOptions(ce);const pe=c.getImageWidth(X.modules.size,ce),se=J.getContext("2d"),ve=se.createImageData(pe,pe);return c.qrToImageData(ve.data,X,ce),function W($,X,Z){$.clearRect(0,0,X.width,X.height),X.style||(X.style={}),X.height=Z,X.width=Z,X.style.height=Z+"px",X.style.width=Z+"px"}(se,J,pe),se.putImageData(ve,0,0),J},ee.renderToDataURL=function(X,Z,oe){let ce=oe;return typeof ce>"u"&&(!Z||!Z.getContext)&&(ce=Z,Z=void 0),ce||(ce={}),ee.render(X,Z,ce).toDataURL(ce.type||"image/png",(ce.rendererOpts||{}).quality)}},6511:(tt,ee,F)=>{const c=F(7077);function W(X,Z){const oe=X.a/255,ce=Z+'="'+X.hex+'"';return oe<1?ce+" "+Z+'-opacity="'+oe.toFixed(2).slice(1)+'"':ce}function G(X,Z,oe){let ce=X+Z;return typeof oe<"u"&&(ce+=" "+oe),ce}ee.render=function(Z,oe,ce){const J=c.getOptions(oe),pe=Z.modules.size,se=Z.modules.data,ve=pe+2*J.margin,Ee=J.color.light.a?"<path "+W(J.color.light,"fill")+' d="M0 0h'+ve+"v"+ve+'H0z"/>':"",Se="<path "+W(J.color.dark,"stroke")+' d="'+function $(X,Z,oe){let ce="",J=0,pe=!1,se=0;for(let ve=0;ve<X.length;ve++){const Ee=Math.floor(ve%Z),Se=Math.floor(ve/Z);!Ee&&!pe&&(pe=!0),X[ve]?(se++,ve>0&&Ee>0&&X[ve-1]||(ce+=pe?G("M",Ee+oe,.5+Se+oe):G("m",J,0),J=0,pe=!1),Ee+1<Z&&X[ve+1]||(ce+=G("h",se),se=0)):J++}return ce}(se,pe,J.margin)+'"/>',xe='<svg xmlns="http://www.w3.org/2000/svg" '+(J.width?'width="'+J.width+'" height="'+J.width+'" ':"")+'viewBox="0 0 '+ve+" "+ve+'" shape-rendering="crispEdges">'+Ee+Se+"</svg>\n";return"function"==typeof ce&&ce(null,xe),xe}},7077:(tt,ee)=>{function F(c){if("number"==typeof c&&(c=c.toString()),"string"!=typeof c)throw new Error("Color should be defined as hex string");let W=c.slice().replace("#","").split("");if(W.length<3||5===W.length||W.length>8)throw new Error("Invalid hex color: "+c);(3===W.length||4===W.length)&&(W=Array.prototype.concat.apply([],W.map(function($){return[$,$]}))),6===W.length&&W.push("F","F");const G=parseInt(W.join(""),16);return{r:G>>24&255,g:G>>16&255,b:G>>8&255,a:255&G,hex:"#"+W.slice(0,6).join("")}}ee.getOptions=function(W){W||(W={}),W.color||(W.color={});const $=W.width&&W.width>=21?W.width:void 0;return{width:$,scale:$?4:W.scale||4,margin:typeof W.margin>"u"||null===W.margin||W.margin<0?4:W.margin,color:{dark:F(W.color.dark||"#000000ff"),light:F(W.color.light||"#ffffffff")},type:W.type,rendererOpts:W.rendererOpts||{}}},ee.getScale=function(W,G){return G.width&&G.width>=W+2*G.margin?G.width/(W+2*G.margin):G.scale},ee.getImageWidth=function(W,G){const $=ee.getScale(W,G);return Math.floor((W+2*G.margin)*$)},ee.qrToImageData=function(W,G,$){const X=G.modules.size,Z=G.modules.data,oe=ee.getScale(X,$),ce=Math.floor((X+2*$.margin)*oe),J=$.margin*oe,pe=[$.color.light,$.color.dark];for(let se=0;se<ce;se++)for(let ve=0;ve<ce;ve++){let Ee=4*(se*ce+ve),Se=$.color.light;se>=J&&ve>=J&&se<ce-J&&ve<ce-J&&(Se=pe[Z[Math.floor((se-J)/oe)*X+Math.floor((ve-J)/oe)]?1:0]),W[Ee++]=Se.r,W[Ee++]=Se.g,W[Ee++]=Se.b,W[Ee]=Se.a}}},4412:(tt,ee,F)=>{"use strict";F.d(ee,{t:()=>W});var c=F(1413);class W extends c.B{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const X=super._subscribe($);return!X.closed&&$.next(this._value),X}getValue(){const{hasError:$,thrownError:X,_value:Z}=this;if($)throw X;return this._throwIfClosed(),Z}next($){super.next(this._value=$)}}},1985:(tt,ee,F)=>{"use strict";F.d(ee,{c:()=>ce});var c=F(7707),W=F(8359),G=F(3494),$=F(1203),X=F(1026),Z=F(8071),oe=F(9786);let ce=(()=>{class ve{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const We=new ve;return We.source=this,We.operator=Se,We}subscribe(Se,We,mt){const xe=function se(ve){return ve&&ve instanceof c.vU||function pe(ve){return ve&&(0,Z.T)(ve.next)&&(0,Z.T)(ve.error)&&(0,Z.T)(ve.complete)}(ve)&&(0,W.Uv)(ve)}(Se)?Se:new c.Ms(Se,We,mt);return(0,oe.Y)(()=>{const{operator:ke,source:rt}=this;xe.add(ke?ke.call(xe,rt):rt?this._subscribe(xe):this._trySubscribe(xe))}),xe}_trySubscribe(Se){try{return this._subscribe(Se)}catch(We){Se.error(We)}}forEach(Se,We){return new(We=J(We))((mt,xe)=>{const ke=new c.Ms({next:rt=>{try{Se(rt)}catch(Ve){xe(Ve),ke.unsubscribe()}},error:xe,complete:mt});this.subscribe(ke)})}_subscribe(Se){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Se)}[G.s](){return this}pipe(...Se){return(0,$.m)(Se)(this)}toPromise(Se){return new(Se=J(Se))((We,mt)=>{let xe;this.subscribe(ke=>xe=ke,ke=>mt(ke),()=>We(xe))})}}return ve.create=Ee=>new ve(Ee),ve})();function J(ve){var Ee;return null!==(Ee=ve??X.$.Promise)&&void 0!==Ee?Ee:Promise}},1413:(tt,ee,F)=>{"use strict";F.d(ee,{B:()=>oe});var c=F(1985),W=F(8359);const $=(0,F(1853).L)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=F(7908),Z=F(9786);let oe=(()=>{class J extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ve=new ce(this,this);return ve.operator=se,ve}_throwIfClosed(){if(this.closed)throw new $}next(se){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(se)}})}error(se){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ve}=this;for(;ve.length;)ve.shift().error(se)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ve,isStopped:Ee,observers:Se}=this;return ve||Ee?W.Kn:(this.currentObservers=null,Se.push(se),new W.yU(()=>{this.currentObservers=null,(0,X.o)(Se,se)}))}_checkFinalizedStatuses(se){const{hasError:ve,thrownError:Ee,isStopped:Se}=this;ve?se.error(Ee):Se&&se.complete()}asObservable(){const se=new c.c;return se.source=this,se}}return J.create=(pe,se)=>new ce(pe,se),J})();class ce extends oe{constructor(pe,se){super(),this.destination=pe,this.source=se}next(pe){var se,ve;null===(ve=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ve||ve.call(se,pe)}error(pe){var se,ve;null===(ve=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ve||ve.call(se,pe)}complete(){var pe,se;null===(se=null===(pe=this.destination)||void 0===pe?void 0:pe.complete)||void 0===se||se.call(pe)}_subscribe(pe){var se,ve;return null!==(ve=null===(se=this.source)||void 0===se?void 0:se.subscribe(pe))&&void 0!==ve?ve:W.Kn}}},7707:(tt,ee,F)=>{"use strict";F.d(ee,{Ms:()=>mt,vU:()=>ve});var c=F(8071),W=F(8359),G=F(1026),$=F(5334),X=F(5343);const Z=J("C",void 0,void 0);function J(Ce,Te,ie){return{kind:Ce,value:Te,error:ie}}var pe=F(9270),se=F(9786);class ve extends W.yU{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,W.Uv)(Te)&&Te.add(this)):this.destination=Ve}static create(Te,ie,Ne){return new mt(Te,ie,Ne)}next(Te){this.isStopped?rt(function ce(Ce){return J("N",Ce,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?rt(function oe(Ce){return J("E",void 0,Ce)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?rt(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function Se(Ce,Te){return Ee.call(Ce,Te)}class We{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:ie}=this;if(ie.next)try{ie.next(Te)}catch(Ne){xe(Ne)}}error(Te){const{partialObserver:ie}=this;if(ie.error)try{ie.error(Te)}catch(Ne){xe(Ne)}else xe(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(ie){xe(ie)}}}class mt extends ve{constructor(Te,ie,Ne){let Y;if(super(),(0,c.T)(Te)||!Te)Y={next:Te??void 0,error:ie??void 0,complete:Ne??void 0};else{let B;this&&G.$.useDeprecatedNextContext?(B=Object.create(Te),B.unsubscribe=()=>this.unsubscribe(),Y={next:Te.next&&Se(Te.next,B),error:Te.error&&Se(Te.error,B),complete:Te.complete&&Se(Te.complete,B)}):Y=Te}this.destination=new We(Y)}}function xe(Ce){G.$.useDeprecatedSynchronousErrorHandling?(0,se.l)(Ce):(0,$.m)(Ce)}function rt(Ce,Te){const{onStoppedNotification:ie}=G.$;ie&&pe.f.setTimeout(()=>ie(Ce,Te))}const Ve={closed:!0,next:X.l,error:function ke(Ce){throw Ce},complete:X.l}},8359:(tt,ee,F)=>{"use strict";F.d(ee,{Kn:()=>Z,yU:()=>X,Uv:()=>oe});var c=F(8071);const G=(0,F(1853).L)(J=>function(se){J(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ve,Ee)=>`${Ee+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var $=F(7908);class X{constructor(pe){this.initialTeardown=pe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let pe;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Se of se)Se.remove(this);else se.remove(this);const{initialTeardown:ve}=this;if((0,c.T)(ve))try{ve()}catch(Se){pe=Se instanceof G?Se.errors:[Se]}const{_finalizers:Ee}=this;if(Ee){this._finalizers=null;for(const Se of Ee)try{ce(Se)}catch(We){pe=pe??[],We instanceof G?pe=[...pe,...We.errors]:pe.push(We)}}if(pe)throw new G(pe)}}add(pe){var se;if(pe&&pe!==this)if(this.closed)ce(pe);else{if(pe instanceof X){if(pe.closed||pe._hasParent(this))return;pe._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(pe)}}_hasParent(pe){const{_parentage:se}=this;return se===pe||Array.isArray(se)&&se.includes(pe)}_addParent(pe){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(pe),se):se?[se,pe]:pe}_removeParent(pe){const{_parentage:se}=this;se===pe?this._parentage=null:Array.isArray(se)&&(0,$.o)(se,pe)}remove(pe){const{_finalizers:se}=this;se&&(0,$.o)(se,pe),pe instanceof X&&pe._removeParent(this)}}X.EMPTY=(()=>{const J=new X;return J.closed=!0,J})();const Z=X.EMPTY;function oe(J){return J instanceof X||J&&"closed"in J&&(0,c.T)(J.remove)&&(0,c.T)(J.add)&&(0,c.T)(J.unsubscribe)}function ce(J){(0,c.T)(J)?J():J.unsubscribe()}},1026:(tt,ee,F)=>{"use strict";F.d(ee,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(tt,ee,F)=>{"use strict";F.d(ee,{_:()=>W});var c=F(7707);function W($,X,Z,oe,ce){return new G($,X,Z,oe,ce)}class G extends c.vU{constructor(X,Z,oe,ce,J,pe){super(X),this.onFinalize=J,this.shouldUnsubscribe=pe,this._next=Z?function(se){try{Z(se)}catch(ve){X.error(ve)}}:super._next,this._error=ce?function(se){try{ce(se)}catch(ve){X.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(se){X.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},6354:(tt,ee,F)=>{"use strict";F.d(ee,{T:()=>G});var c=F(9974),W=F(4360);function G($,X){return(0,c.N)((Z,oe)=>{let ce=0;Z.subscribe((0,W._)(oe,J=>{oe.next($.call(X,J,ce++))}))})}},9270:(tt,ee,F)=>{"use strict";F.d(ee,{f:()=>c});const c={setTimeout(W,G,...$){const{delegate:X}=c;return X?.setTimeout?X.setTimeout(W,G,...$):setTimeout(W,G,...$)},clearTimeout(W){const{delegate:G}=c;return(G?.clearTimeout||clearTimeout)(W)},delegate:void 0}},3494:(tt,ee,F)=>{"use strict";F.d(ee,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(tt,ee,F)=>{"use strict";function c(W,G){if(W){const $=W.indexOf(G);0<=$&&W.splice($,1)}}F.d(ee,{o:()=>c})},1853:(tt,ee,F)=>{"use strict";function c(W){const $=W(X=>{Error.call(X),X.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}F.d(ee,{L:()=>c})},9786:(tt,ee,F)=>{"use strict";F.d(ee,{Y:()=>G,l:()=>$});var c=F(1026);let W=null;function G(X){if(c.$.useDeprecatedSynchronousErrorHandling){const Z=!W;if(Z&&(W={errorThrown:!1,error:null}),X(),Z){const{errorThrown:oe,error:ce}=W;if(W=null,oe)throw ce}}else X()}function $(X){c.$.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=X)}},3669:(tt,ee,F)=>{"use strict";function c(W){return W}F.d(ee,{D:()=>c})},8071:(tt,ee,F)=>{"use strict";function c(W){return"function"==typeof W}F.d(ee,{T:()=>c})},9974:(tt,ee,F)=>{"use strict";F.d(ee,{N:()=>G,S:()=>W});var c=F(8071);function W($){return(0,c.T)($?.lift)}function G($){return X=>{if(W(X))return X.lift(function(Z){try{return $(Z,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(tt,ee,F)=>{"use strict";function c(){}F.d(ee,{l:()=>c})},1203:(tt,ee,F)=>{"use strict";F.d(ee,{F:()=>W,m:()=>G});var c=F(3669);function W(...$){return G($)}function G($){return 0===$.length?c.D:1===$.length?$[0]:function(Z){return $.reduce((oe,ce)=>ce(oe),Z)}}},5334:(tt,ee,F)=>{"use strict";F.d(ee,{m:()=>G});var c=F(1026),W=F(9270);function G($){W.f.setTimeout(()=>{const{onUnhandledError:X}=c.$;if(!X)throw $;X($)})}},4438:(tt,ee,F)=>{"use strict";function c(e,t){return Object.is(e,t)}F.d(ee,{bc$:()=>ml,iLQ:()=>Gy,sZ2:()=>ko,hnV:()=>wI,Hbi:()=>bM,o8S:()=>Os,BIS:()=>eC,gRc:()=>PI,Ql9:()=>YT,Ocv:()=>tM,Z63:()=>Oi,aKT:()=>al,uvJ:()=>Pi,zcH:()=>Ii,bkB:()=>bi,$GK:()=>Ot,nKC:()=>je,zZn:()=>Sr,_q3:()=>E_,MKu:()=>__,xe9:()=>g_,Co$:()=>$m,Vns:()=>ma,SKi:()=>Nn,Xx1:()=>zs,Agw:()=>cd,PLl:()=>b0,sFG:()=>Mx,_9s:()=>am,czy:()=>xd,kdw:()=>Zr,C4Q:()=>Wi,NYb:()=>jT,giA:()=>vI,RxE:()=>uI,c1b:()=>_r,gXe:()=>Ji,mal:()=>au,L39:()=>tN,EWP:()=>rN,Ol2:()=>Fp,w6W:()=>lE,oH4:()=>RI,Rfq:()=>sr,WQX:()=>$e,QuC:()=>I,EmA:()=>re,fpN:()=>xM,HJs:()=>uN,N4e:()=>M_,vPA:()=>Sm,O8t:()=>iN,An2:()=>pa,H3F:()=>dI,H8p:()=>eo,KH2:()=>pf,TgB:()=>hs,wOt:()=>de,WHO:()=>mI,e01:()=>yI,H5H:()=>zE,Zy3:()=>Pn,mq5:()=>Sb,JZv:()=>gt,LfX:()=>Ls,plB:()=>Ds,jNT:()=>d_,zjR:()=>CI,ngT:()=>Mr,TL$:()=>Jv,Tbb:()=>ut,Vt3:()=>Np,GFd:()=>Rp,OA$:()=>Pf,Jv_:()=>F2,aNF:()=>P2,R7$:()=>f1,BMQ:()=>df,AVh:()=>PE,wni:()=>l2,VBU:()=>os,FsC:()=>p,jDH:()=>dn,G2t:()=>Ps,$C:()=>l,EJ8:()=>g,rXU:()=>ic,nrm:()=>jE,k0s:()=>Ry,j41:()=>Ny,RV6:()=>Ib,xGo:()=>n0,KVO:()=>On,kS0:()=>Qs,QTQ:()=>Rd,bIt:()=>XE,lsd:()=>f2,XpG:()=>Jb,nI1:()=>$2,bMT:()=>W2,i5U:()=>X2,Y8G:()=>kE,Mz_:()=>Ly,lJ4:()=>U2,mGM:()=>d2,sdS:()=>h2,Njj:()=>Bg,eBV:()=>Lg,n$t:()=>Bh,DNE:()=>af,C5r:()=>Y2,EFF:()=>x2,JRh:()=>ZE,SpI:()=>By,Lme:()=>KE,E5c:()=>QE,wXG:()=>Lh,DH7:()=>N2,mxI:()=>e_,R50:()=>JE,GBs:()=>u2});let W=null,G=!1,$=1;const X=Symbol("SIGNAL");function Z(e){const t=W;return W=e,t}const pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function se(e){if(G)throw new Error("");if(null===W)return;W.consumerOnSignalRead(e);const t=W.nextProducerIndex++;Ne(W),t<W.producerNode.length&&W.producerNode[t]!==e&&ie(W)&&Te(W.producerNode[t],W.producerIndexOfThis[t]),W.producerNode[t]!==e&&(W.producerNode[t]=e,W.producerIndexOfThis[t]=ie(W)?Ce(e,W,t):0),W.producerLastReadVersion[t]=e.version}function Ee(e){if((!ie(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==$)){if(!e.producerMustRecompute(e)&&!rt(e))return e.dirty=!1,void(e.lastCleanEpoch=$);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$}}function Se(e){if(void 0===e.liveConsumerNode)return;const t=G;G=!0;try{for(const i of e.liveConsumerNode)i.dirty||mt(i)}finally{G=t}}function We(){return!1!==W?.consumerAllowSignalWrites}function mt(e){e.dirty=!0,Se(e),e.consumerMarkedDirty?.(e)}function xe(e){return e&&(e.nextProducerIndex=0),Z(e)}function ke(e,t){if(Z(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ie(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)Te(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function rt(e){Ne(e);for(let t=0;t<e.producerNode.length;t++){const i=e.producerNode[t],u=e.producerLastReadVersion[t];if(u!==i.version||(Ee(i),u!==i.version))return!0}return!1}function Ve(e){if(Ne(e),ie(e))for(let t=0;t<e.producerNode.length;t++)Te(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ce(e,t,i){if(Y(e),0===e.liveConsumerNode.length&&B(e))for(let u=0;u<e.producerNode.length;u++)e.producerIndexOfThis[u]=Ce(e.producerNode[u],e,u);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(t)-1}function Te(e,t){if(Y(e),1===e.liveConsumerNode.length&&B(e))for(let u=0;u<e.producerNode.length;u++)Te(e.producerNode[u],e.producerIndexOfThis[u]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const u=e.liveConsumerIndexOfThis[t],h=e.liveConsumerNode[t];Ne(h),h.producerIndexOfThis[u]=t}}function ie(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ne(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Y(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function B(e){return void 0!==e.producerNode}const fe=Symbol("UNSET"),j=Symbol("COMPUTING"),Ie=Symbol("ERRORED"),we={...pe,value:fe,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===fe||e.value===j,producerRecomputeValue(e){if(e.value===j)throw new Error("Detected cycle in computations.");const t=e.value;e.value=j;const i=xe(e);let u;try{u=e.computation()}catch(h){u=Ie,e.error=h}finally{ke(e,i)}t!==fe&&t!==Ie&&u!==Ie&&e.equal(t,u)?e.value=t:(e.value=u,e.version++)}};let Ft=function qt(){throw new Error};function Xe(){Ft()}let Ye=null;function Fe(e,t){We()||Xe(),e.equal(e.value,t)||(e.value=t,function Wt(e){e.version++,function ve(){$++}(),Se(e),Ye?.()}(e))}const yn={...pe,equal:c,value:void 0};var on=F(4412),Gt=F(1413),zt=F(8359),Vt=F(6354);const or="https://g.co/ng/security#xss";class de extends Error{constructor(t,i){super(Pn(t,i)),this.code=t}}function Pn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Ge(e){return{toString:e}.toString()}const Un="__parameters__";function Me(e,t,i){return Ge(()=>{const u=function Mt(e){return function(...i){if(e){const u=e(...i);for(const h in u)this[h]=u[h]}}}(t);function h(...m){if(this instanceof h)return u.apply(this,m),this;const w=new h(...m);return _.annotation=w,_;function _(b,S,N){const P=b.hasOwnProperty(Un)?b[Un]:Object.defineProperty(b,Un,{value:[]})[Un];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(w),b}}return i&&(h.prototype=Object.create(i.prototype)),h.prototype.ngMetadataName=e,h.annotationCls=h,h})}const gt=globalThis;function Pt(e){for(let t in e)if(e[t]===Pt)return t;throw Error("Could not find renamed property on target object.")}function hu(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function ut(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ut).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Jo(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const va=Pt({__forward_ref__:Pt});function sr(e){return e.__forward_ref__=sr,e.toString=function(){return ut(this())},e}function ct(e){return di(e)?e():e}function di(e){return"function"==typeof e&&e.hasOwnProperty(va)&&e.__forward_ref__===sr}function dn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ps(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nr(e){return be(e,pi)||be(e,Kt)}function Ls(e){return null!==Nr(e)}function be(e,t){return e.hasOwnProperty(t)?e[t]:null}function xn(e){return e&&(e.hasOwnProperty(Bs)||e.hasOwnProperty(nn))?e[Bs]:null}const pi=Pt({\u0275prov:Pt}),Bs=Pt({\u0275inj:Pt}),Kt=Pt({ngInjectableDef:Pt}),nn=Pt({ngInjectorDef:Pt});class je{constructor(t,i){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=dn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sn(e){return e&&!!e.\u0275providers}const jn=Pt({\u0275cmp:Pt}),ae=Pt({\u0275dir:Pt}),U=Pt({\u0275pipe:Pt}),it=Pt({\u0275mod:Pt}),bn=Pt({\u0275fac:Pt}),hr=Pt({__NG_ELEMENT_ID__:Pt}),wf=Pt({__NG_ENV_ID__:Pt});function wt(e){return"string"==typeof e?e:null==e?"":String(e)}function ns(e,t){throw new de(-201,!1)}var Ot=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ot||{});let Bc;function Cu(){return Bc}function er(e){const t=Bc;return Bc=e,t}function Ri(e,t,i){const u=Nr(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&Ot.Optional?null:void 0!==t?t:void ns()}const xt={},zn="__NG_DI_FLAG__",wa="ngTempTokenPath",wu=/\n/gm,Vc="__source";let gi;function pr(e){const t=gi;return gi=e,t}function Ea(e,t=Ot.Default){if(void 0===gi)throw new de(-203,!1);return null===gi?Ri(e,void 0,t):gi.get(e,t&Ot.Optional?null:void 0,t)}function On(e,t=Ot.Default){return(Cu()||Ea)(ct(e),t)}function $e(e,t=Ot.Default){return On(e,js(t))}function js(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hs(e){const t=[];for(let i=0;i<e.length;i++){const u=ct(e[i]);if(Array.isArray(u)){if(0===u.length)throw new de(900,!1);let h,m=Ot.Default;for(let w=0;w<u.length;w++){const _=u[w],b=_f(_);"number"==typeof b?-1===b?h=_.token:m|=b:h=_}t.push(On(h,m))}else t.push(On(u))}return t}function Gs(e,t){return e[zn]=t,e.prototype[zn]=t,e}function _f(e){return e[zn]}const zs=Gs(Me("Optional"),8),Zr=Gs(Me("SkipSelf"),4);function le(e,t){return e.hasOwnProperty(bn)?e[bn]:null}function Eo(e,t){e.forEach(i=>Array.isArray(i)?Eo(i,t):t(i))}function xa(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function ba(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function tr(e,t,i){let u=Qi(e,t);return u>=0?e[1|u]=i:(u=~u,function $n(e,t,i,u){let h=e.length;if(h==t)e.push(i,u);else if(1===h)e.push(u,e[0]),e[0]=i;else{for(h--,e.push(e[h-1],e[h]);h>t;)e[h]=e[h-2],h--;e[t]=i,e[t+1]=u}}(e,u,t,i)),u}function $s(e,t){const i=Qi(e,t);if(i>=0)return e[1|i]}function Qi(e,t){return function ft(e,t,i){let u=0,h=e.length>>i;for(;h!==u;){const m=u+(h-u>>1),w=e[m<<i];if(t===w)return m<<i;w>t?h=m:u=m+1}return~(h<<i)}(e,t,1)}const mi={},ot=[],Oi=new je(""),jc=new je("",-1),Hc=new je("");class Da{get(t,i=xt){if(i===xt){const u=new Error(`NullInjectorError: No provider for ${ut(t)}!`);throw u.name="NullInjectorError",u}return i}}var Ws=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ws||{}),Ji=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ji||{}),yi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yi||{});function Du(e,t,i){let u=e.length;for(;;){const h=e.indexOf(t,i);if(-1===h)return h;if(0===h||e.charCodeAt(h-1)<=32){const m=t.length;if(h+m===u||e.charCodeAt(h+m)<=32)return h}i=h+1}}function Aa(e,t,i){let u=0;for(;u<i.length;){const h=i[u];if("number"==typeof h){if(0!==h)break;u++;const m=i[u++],w=i[u++],_=i[u++];e.setAttribute(t,w,_,m)}else{const m=h,w=i[++u];rs(m)?e.setProperty(t,m,w):e.setAttribute(t,m,w),u++}}return u}function xf(e){return 3===e||4===e||6===e}function rs(e){return 64===e.charCodeAt(0)}function xo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let u=0;u<t.length;u++){const h=t[u];"number"==typeof h?i=h:0===i||Au(e,i,h,null,-1===i||2===i?t[++u]:null)}}return e}function Au(e,t,i,u,h){let m=0,w=e.length;if(-1===t)w=-1;else for(;m<e.length;){const _=e[m++];if("number"==typeof _){if(_===t){w=-1;break}if(_>t){w=m-1;break}}}for(;m<e.length;){const _=e[m];if("number"==typeof _)break;if(_===i){if(null===u)return void(null!==h&&(e[m+1]=h));if(u===e[m+1])return void(e[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==w&&(e.splice(w,0,t),m=w+1),e.splice(m++,0,i),null!==u&&e.splice(m++,0,u),null!==h&&e.splice(m++,0,h)}const is="ng-template";function hg(e,t,i,u){let h=0;if(u){for(;h<t.length&&"string"==typeof t[h];h+=2)if("class"===t[h]&&-1!==Du(t[h+1].toLowerCase(),i,0))return!0}else if(Kr(e))return!1;if(h=t.indexOf(1,h),h>-1){let m;for(;++h<t.length&&"string"==typeof(m=t[h]);)if(m.toLowerCase()===i)return!0}return!1}function Kr(e){return 4===e.type&&e.value!==is}function Sa(e,t,i){return t===(4!==e.type||i?e.value:is)}function Bt(e,t,i){let u=4;const h=e.attrs,m=null!==h?function pg(e){for(let t=0;t<e.length;t++)if(xf(e[t]))return t;return e.length}(h):0;let w=!1;for(let _=0;_<t.length;_++){const b=t[_];if("number"!=typeof b){if(!w)if(4&u){if(u=2|1&u,""!==b&&!Sa(e,b,i)||""===b&&1===t.length){if(Qr(u))return!1;w=!0}}else if(8&u){if(null===h||!hg(e,h,b,i)){if(Qr(u))return!1;w=!0}}else{const S=t[++_],N=ki(b,h,Kr(e),i);if(-1===N){if(Qr(u))return!1;w=!0;continue}if(""!==S){let P;if(P=N>m?"":h[N+1].toLowerCase(),2&u&&S!==P){if(Qr(u))return!1;w=!0}}}}else{if(!w&&!Qr(u)&&!Qr(b))return!1;if(w&&Qr(b))continue;w=!1,u=b|1&u}}return Qr(u)||w}function Qr(e){return!(1&e)}function ki(e,t,i,u){if(null===t)return-1;let h=0;if(u||!i){let m=!1;for(;h<t.length;){const w=t[h];if(w===e)return h;if(3===w||6===w)m=!0;else{if(1===w||2===w){let _=t[++h];for(;"string"==typeof _;)_=t[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=m?1:2}return-1}return function If(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const u=e[i];if("number"==typeof u)return-1;if(u===t)return i;i++}return-1}(t,e)}function bf(e,t,i=!1){for(let u=0;u<t.length;u++)if(Bt(e,t[u],i))return!0;return!1}function Tu(e,t){return e?":not("+t.trim()+")":t}function Mu(e){let t=e[0],i=1,u=2,h="",m=!1;for(;i<e.length;){let w=e[i];if("string"==typeof w)if(2&u){const _=e[++i];h+="["+w+(_.length>0?'="'+_+'"':"")+"]"}else 8&u?h+="."+w:4&u&&(h+=" "+w);else""!==h&&!Qr(w)&&(t+=Tu(m,h),h=""),u=w,m=m||!Qr(u);i++}return""!==h&&(t+=Tu(m,h)),t}function os(e){return Ge(()=>{const t=O(e),i={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ws.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ji.Emulated,styles:e.styles||ot,_:null,schemas:e.schemas||null,tView:null,id:""};k(i);const u=e.dependencies;return i.directiveDefs=L(u,!1),i.pipeDefs=L(u,!0),i.id=function Q(e){let t=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const h of i)t=Math.imul(31,t)+h.charCodeAt(0)|0;return t+=2147483648,"c"+t}(i),i})}function D(e){return v(e)||C(e)}function a(e){return null!==e}function l(e){return Ge(()=>({type:e.type,bootstrap:e.bootstrap||ot,declarations:e.declarations||ot,imports:e.imports||ot,exports:e.exports||ot,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function d(e,t){if(null==e)return mi;const i={};for(const u in e)if(e.hasOwnProperty(u)){const h=e[u];let m,w,_=yi.None;Array.isArray(h)?(_=h[0],m=h[1],w=h[2]??m):(m=h,w=h),t?(i[m]=_!==yi.None?[u,_]:u,t[m]=w):i[m]=u}return i}function p(e){return Ge(()=>{const t=O(e);return k(t),t})}function g(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function v(e){return e[jn]||null}function C(e){return e[ae]||null}function E(e){return e[U]||null}function I(e){const t=v(e)||C(e)||E(e);return null!==t&&t.standalone}function A(e,t){const i=e[it]||null;if(!i&&!0===t)throw new Error(`Type ${ut(e)} does not have '\u0275mod' property.`);return i}function O(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||mi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ot,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:d(e.inputs,t),outputs:d(e.outputs),debugInfo:null}}function k(e){e.features?.forEach(t=>t(e))}function L(e,t){if(!e)return null;const i=t?E:D;return()=>("function"==typeof e?e():e).map(u=>i(u)).filter(a)}function re(e){return{\u0275providers:e}}function ue(...e){return{\u0275providers:Ae(0,e),\u0275fromNgModule:!0}}function Ae(e,...t){const i=[],u=new Set;let h;const m=w=>{i.push(w)};return Eo(t,w=>{const _=w;ge(_,m,[],u)&&(h||=[],h.push(_))}),void 0!==h&&He(h,m),i}function He(e,t){for(let i=0;i<e.length;i++){const{ngModule:u,providers:h}=e[i];Dt(h,m=>{t(m,u)})}}function ge(e,t,i,u){if(!(e=ct(e)))return!1;let h=null,m=xn(e);const w=!m&&v(e);if(m||w){if(w&&!w.standalone)return!1;h=e}else{const b=e.ngModule;if(m=xn(b),!m)return!1;h=b}const _=u.has(h);if(w){if(_)return!1;if(u.add(h),w.dependencies){const b="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const S of b)ge(S,t,i,u)}}else{if(!m)return!1;{if(null!=m.imports&&!_){let S;u.add(h);try{Eo(m.imports,N=>{ge(N,t,i,u)&&(S||=[],S.push(N))})}finally{}void 0!==S&&He(S,t)}if(!_){const S=le(h)||(()=>new h);t({provide:h,useFactory:S,deps:ot},h),t({provide:Hc,useValue:h,multi:!0},h),t({provide:Oi,useValue:()=>On(h),multi:!0},h)}const b=m.providers;if(null!=b&&!_){const S=e;Dt(b,N=>{t(N,S)})}}}return h!==e&&void 0!==e.providers}function Dt(e,t){for(let i of e)sn(i)&&(i=i.\u0275providers),Array.isArray(i)?Dt(i,t):t(i)}const Rr=Pt({provide:String,useValue:Pt});function jr(e){return null!==e&&"object"==typeof e&&Rr in e}function Mn(e){return"function"==typeof e}const eo=new je(""),to={},Df={};let Gc;function Af(){return void 0===Gc&&(Gc=new Da),Gc}class Pi{}class zc extends Pi{get destroyed(){return this._destroyed}constructor(t,i,u,h){super(),this.parent=i,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wc(t,w=>this.processProvider(w)),this.records.set(jc,$c(void 0,this)),h.has("environment")&&this.records.set(Pi,$c(void 0,this));const m=this.records.get(eo);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Hc,ot,Ot.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Z(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of i)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const i=pr(this),u=er(void 0);try{return t()}finally{pr(i),er(u)}}get(t,i=xt,u=Ot.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(wf))return t[wf](this);u=js(u);const m=pr(this),w=er(void 0);try{if(!(u&Ot.SkipSelf)){let b=this.records.get(t);if(void 0===b){const S=function T_(e){return"function"==typeof e||"object"==typeof e&&e instanceof je}(t)&&Nr(t);b=S&&this.injectableDefInScope(S)?$c(gg(t),to):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b)}return(u&Ot.Self?Af():this.parent).get(t,i=u&Ot.Optional&&i===xt?null:i)}catch(_){if("NullInjectorError"===_.name){if((_[wa]=_[wa]||[]).unshift(ut(t)),m)throw _;return function _u(e,t,i,u){const h=e[wa];throw t[Vc]&&h.unshift(t[Vc]),e.message=function fg(e,t,i,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let h=ut(t);if(Array.isArray(t))h=t.map(ut).join(" -> ");else if("object"==typeof t){let m=[];for(let w in t)if(t.hasOwnProperty(w)){let _=t[w];m.push(w+":"+("string"==typeof _?JSON.stringify(_):ut(_)))}h=`{${m.join(", ")}}`}return`${i}${u?"("+u+")":""}[${h}]: ${e.replace(wu,"\n  ")}`}("\n"+e.message,h,i,u),e.ngTokenPath=h,e[wa]=null,e}(_,t,"R3InjectorError",this.source)}throw _}finally{er(w),pr(m)}}resolveInjectorInitializers(){const t=Z(null),i=pr(this),u=er(void 0);try{const m=this.get(Oi,ot,Ot.Self);for(const w of m)w()}finally{pr(i),er(u),Z(t)}}toString(){const t=[],i=this.records;for(const u of i.keys())t.push(ut(u));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new de(205,!1)}processProvider(t){let i=Mn(t=ct(t))?t:ct(t&&t.provide);const u=function D_(e){return jr(e)?$c(void 0,e.useValue):$c(nv(e),to)}(t);if(!Mn(t)&&!0===t.multi){let h=this.records.get(i);h||(h=$c(void 0,to,!0),h.factory=()=>Hs(h.multi),this.records.set(i,h)),i=t,h.multi.push(t)}this.records.set(i,u)}hydrate(t,i){const u=Z(null);try{return i.value===to&&(i.value=Df,i.value=i.factory()),"object"==typeof i.value&&i.value&&function S_(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{Z(u)}}injectableDefInScope(t){if(!t.providedIn)return!1;const i=ct(t.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(t){const i=this._onDestroyHooks.indexOf(t);-1!==i&&this._onDestroyHooks.splice(i,1)}}function gg(e){const t=Nr(e),i=null!==t?t.factory:le(e);if(null!==i)return i;if(e instanceof je)throw new de(204,!1);if(e instanceof Function)return function I_(e){if(e.length>0)throw new de(204,!1);const i=function Cf(e){return e&&(e[pi]||e[Kt])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new de(204,!1)}function nv(e,t,i){let u;if(Mn(e)){const h=ct(e);return le(h)||gg(h)}if(jr(e))u=()=>ct(e.useValue);else if(function an(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...Hs(e.deps||[]));else if(function gr(e){return!(!e||!e.useExisting)}(e))u=()=>On(ct(e.useExisting));else{const h=ct(e&&(e.useClass||e.provide));if(!function A_(e){return!!e.deps}(e))return le(h)||gg(h);u=()=>new h(...Hs(e.deps))}return u}function $c(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function Wc(e,t){for(const i of e)Array.isArray(i)?Wc(i,t):i&&sn(i)?Wc(i.\u0275providers,t):t(i)}function M_(e,t){e instanceof zc&&e.assertNotDestroyed();const u=pr(e),h=er(void 0);try{return t()}finally{pr(u),er(h)}}function Sf(){return void 0!==Cu()||null!=function Eu(){return gi}()}const In=0,Re=1,lt=2,nr=3,Li=4,mr=5,Or=6,Oa=7,wn=8,Hn=9,vi=10,Et=11,Ru=12,Nf=13,ka=14,Dn=15,ss=16,Fa=17,no=18,Pa=19,vg=20,as=21,Rf=22,Bi=23,et=25,Cg=1,ro=7,Xs=9,Xn=10;var ku=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ku||{});function rr(e){return Array.isArray(e)&&"object"==typeof e[Cg]}function yr(e){return Array.isArray(e)&&!0===e[Cg]}function Of(e){return!!(4&e.flags)}function La(e){return e.componentOffset>-1}function kf(e){return!(1&~e.flags)}function Ui(e){return!!e.template}function Ba(e){return!!(512&e[lt])}class cr{constructor(t,i,u){this.previousValue=t,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ar(e,t,i,u){null!==t?t.applyValueToInputSignal(t,u):e[i]=u}function Pf(){return Pu}function Pu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Lf),dv}function dv(){const e=xg(this),t=e?.current;if(t){const i=e.previous;if(i===mi)e.previous=t;else for(let u in t)i[u]=t[u];e.current=null,this.ngOnChanges(t)}}function Lf(e,t,i,u,h){const m=this.declaredInputs[u],w=xg(e)||function fv(e,t){return e[_g]=t}(e,{previous:mi,current:null}),_=w.current||(w.current={}),b=w.previous,S=b[m];_[m]=new cr(S&&S.currentValue,i,b===mi),Ar(e,t,h,i)}Pf.ngInherit=!0;const _g="__ngSimpleChanges__";function xg(e){return e[_g]||null}const bo=function(e,t,i){};function Jt(e){for(;Array.isArray(e);)e=e[In];return e}function Ys(e,t){return Jt(t[e])}function kr(e,t){return Jt(t[e.index])}function Va(e,t){return e.data[t]}function qs(e,t){return e[t]}function Jr(e,t){const i=t[e];return rr(i)?i:i[In]}function io(e){return!(128&~e[lt])}function Ci(e,t){return null==t?null:e[t]}function Vf(e){e[Fa]=0}function Ag(e){1024&e[lt]||(e[lt]|=1024,io(e)&&Bu(e))}function Lu(e){return!!(9216&e[lt]||e[Bi]?.dirty)}function jf(e){e[vi].changeDetectionScheduler?.notify(8),64&e[lt]&&(e[lt]|=1024),Lu(e)&&Bu(e)}function Bu(e){e[vi].changeDetectionScheduler?.notify(0);let t=Io(e);for(;null!==t&&!(8192&t[lt])&&(t[lt]|=8192,io(t));)t=Io(t)}function Uu(e,t){if(!(256&~e[lt]))throw new de(911,!1);null===e[as]&&(e[as]=[]),e[as].push(t)}function Io(e){const t=e[nr];return yr(t)?t[nr]:t}const _t={lFrame:Wg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Gf=!1;function zf(){return _t.bindingsEnabled}function he(){return _t.lFrame.lView}function Ut(){return _t.lFrame.tView}function Lg(e){return _t.lFrame.contextLView=e,e[wn]}function Bg(e){return _t.lFrame.contextLView=null,e}function hn(){let e=$f();for(;null!==e&&64===e.type;)e=e.parent;return e}function $f(){return _t.lFrame.currentTNode}function Vi(e,t){const i=_t.lFrame;i.currentTNode=e,i.isParent=t}function ji(){return _t.lFrame.isParent}function Vg(){return Gf}function jg(e){Gf=e}function Fr(){const e=_t.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oo(){return _t.lFrame.bindingIndex}function Hi(){return _t.lFrame.bindingIndex++}function En(e){const t=_t.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function Gg(e,t){const i=_t.lFrame;i.bindingIndex=i.bindingRootIndex=e,zg(t)}function zg(e){_t.lFrame.currentDirectiveIndex=e}function Gr(){return _t.lFrame.currentQueryIndex}function Gu(e){_t.lFrame.currentQueryIndex=e}function wv(e){const t=e[Re];return 2===t.type?t.declTNode:1===t.type?e[mr]:null}function $g(e,t,i){if(i&Ot.SkipSelf){let h=t,m=e;for(;!(h=h.parent,null!==h||i&Ot.Host||(h=wv(m),null===h||(m=m[ka],10&h.type))););if(null===h)return!1;t=h,e=m}const u=_t.lFrame=Xf();return u.currentTNode=t,u.lView=e,!0}function Wf(e){const t=Xf(),i=e[Re];_t.lFrame=t,t.currentTNode=i.firstChild,t.lView=e,t.tView=i,t.contextLView=e,t.bindingIndex=i.bindingStartIndex,t.inI18n=!1}function Xf(){const e=_t.lFrame,t=null===e?null:e.child;return null===t?Wg(e):t}function Wg(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function cs(){const e=_t.lFrame;return _t.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const en=cs;function Yf(){const e=cs();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function lr(){return _t.lFrame.selectedIndex}function ls(e){_t.lFrame.selectedIndex=e}function gn(){const e=_t.lFrame;return Va(e.tView,e.selectedIndex)}let vr=!0;function Do(){return vr}function so(e){vr=e}function Kc(e,t){for(let i=t.directiveStart,u=t.directiveEnd;i<u;i++){const m=e.data[i].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:_,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:N}=m;w&&(e.contentHooks??=[]).push(-i,w),_&&((e.contentHooks??=[]).push(i,_),(e.contentCheckHooks??=[]).push(i,_)),b&&(e.viewHooks??=[]).push(-i,b),S&&((e.viewHooks??=[]).push(i,S),(e.viewCheckHooks??=[]).push(i,S)),null!=N&&(e.destroyHooks??=[]).push(i,N)}}function $u(e,t,i){bv(e,t,3,i)}function Ao(e,t,i,u){(3&e[lt])===i&&bv(e,t,i,u)}function wi(e,t){let i=e[lt];(3&i)===t&&(i&=16383,i+=1,e[lt]=i)}function bv(e,t,i,u){const m=u??-1,w=t.length-1;let _=0;for(let b=void 0!==u?65535&e[Fa]:0;b<w;b++)if("number"==typeof t[b+1]){if(_=t[b],null!=u&&_>=u)break}else t[b]<0&&(e[Fa]+=65536),(_<m||-1==m)&&(Wu(e,i,t,b),e[Fa]=(4294901760&e[Fa])+b+2),b++}function qg(e,t){bo(4,e,t);const i=Z(null);try{t.call(e)}finally{Z(i),bo(5,e,t)}}function Wu(e,t,i,u){const h=i[u]<0,m=i[u+1],_=e[h?-i[u]:i[u]];h?e[lt]>>14<e[Fa]>>16&&(3&e[lt])===t&&(e[lt]+=16384,qg(_,m)):qg(_,m)}const us=-1;class ja{constructor(t,i,u){this.factory=t,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}const To={};class Ei{constructor(t,i){this.injector=t,this.parentInjector=i}get(t,i,u){u=js(u);const h=this.injector.get(t,To,u);return h!==To||i===To?h:this.parentInjector.get(t,i,u)}}function wr(e){return e!==us}function _i(e){return 32767&e}function Qc(e,t){let i=function Av(e){return e>>16}(e),u=t;for(;i>0;)u=u[ka],i--;return u}let Kf=!0;function Yu(e){const t=Kf;return Kf=e,t}const Zg=255,Kg=5;let kt=0;const zr={};function Mo(e,t){const i=Qg(e,t);if(-1!==i)return i;const u=t[Re];u.firstCreatePass&&(e.injectorIndex=t.length,Qf(u.data,e),Qf(t,null),Qf(u.blueprint,null));const h=ei(e,t),m=e.injectorIndex;if(wr(h)){const w=_i(h),_=Qc(h,t),b=_[Re].data;for(let S=0;S<8;S++)t[m+S]=_[w+S]|b[w+S]}return t[m+8]=h,m}function Qf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ei(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,u=null,h=t;for(;null!==h;){if(u=Ks(h),null===u)return us;if(i++,h=h[ka],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return us}function Jc(e,t,i){!function Sv(e,t,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(hr)&&(u=i[hr]),null==u&&(u=i[hr]=kt++);const h=u&Zg;t.data[e+(h>>Kg)]|=1<<h}(e,t,i)}function Jf(e,t,i){if(i&Ot.Optional||void 0!==e)return e;ns()}function No(e,t,i,u){if(i&Ot.Optional&&void 0===u&&(u=null),!(i&(Ot.Self|Ot.Host))){const h=e[Hn],m=er(void 0);try{return h?h.get(t,u,i&Ot.Optional):Ri(t,u,i&Ot.Optional)}finally{er(m)}}return Jf(u,0,i)}function e0(e,t,i,u=Ot.Default,h){if(null!==e){if(2048&t[lt]&&!(u&Ot.Self)){const w=function Mv(e,t,i,u,h){let m=e,w=t;for(;null!==m&&null!==w&&2048&w[lt]&&!(512&w[lt]);){const _=eh(m,w,i,u|Ot.Self,zr);if(_!==zr)return _;let b=m.parent;if(!b){const S=w[vg];if(S){const N=S.get(i,zr,u);if(N!==zr)return N}b=Ks(w),w=w[ka]}m=b}return h}(e,t,i,u,zr);if(w!==zr)return w}const m=eh(e,t,i,u,zr);if(m!==zr)return m}return No(t,i,u,h)}function eh(e,t,i,u,h){const m=function Tv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(hr)?e[hr]:void 0;return"number"==typeof t?t>=0?t&Zg:el:t}(i);if("function"==typeof m){if(!$g(t,e,u))return u&Ot.Host?Jf(h,0,u):No(t,i,u,h);try{let w;if(w=m(u),null!=w||u&Ot.Optional)return w;ns()}finally{en()}}else if("number"==typeof m){let w=null,_=Qg(e,t),b=us,S=u&Ot.Host?t[Dn][mr]:null;for((-1===_||u&Ot.SkipSelf)&&(b=-1===_?ei(e,t):t[_+8],b!==us&&nh(u,!1)?(w=t[Re],_=_i(b),t=Qc(b,t)):_=-1);-1!==_;){const N=t[Re];if(th(m,_,N.data)){const P=t0(_,t,i,w,u,S);if(P!==zr)return P}b=t[_+8],b!==us&&nh(u,t[Re].data[_+8]===S)&&th(m,_,t)?(w=N,_=_i(b),t=Qc(b,t)):_=-1}}return h}function t0(e,t,i,u,h,m){const w=t[Re],_=w.data[e+8],N=Zu(_,w,i,null==u?La(_)&&Kf:u!=w&&!!(3&_.type),h&Ot.Host&&m===_);return null!==N?fs(t,w,N,_):zr}function Zu(e,t,i,u,h){const m=e.providerIndexes,w=t.data,_=1048575&m,b=e.directiveStart,N=m>>20,H=h?_+N:e.directiveEnd;for(let q=u?_:_+N;q<H;q++){const ne=w[q];if(q<b&&i===ne||q>=b&&ne.type===i)return q}if(h){const q=w[b];if(q&&Ui(q)&&q.type===i)return b}return null}function fs(e,t,i,u){let h=e[i];const m=t.data;if(function So(e){return e instanceof ja}(h)){const w=h;w.resolving&&function vu(e,t){throw t&&t.join(" > "),new de(-200,e)}(function pt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():wt(e)}(m[i]));const _=Yu(w.canSeeViewProviders);w.resolving=!0;const S=w.injectImpl?er(w.injectImpl):null;$g(e,u,Ot.Default);try{h=e[i]=w.factory(void 0,m,e,u),t.firstCreatePass&&i>=u.directiveStart&&function qf(e,t,i){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=t.type.prototype;if(u){const w=Pu(t);(i.preOrderHooks??=[]).push(e,w),(i.preOrderCheckHooks??=[]).push(e,w)}h&&(i.preOrderHooks??=[]).push(0-e,h),m&&((i.preOrderHooks??=[]).push(e,m),(i.preOrderCheckHooks??=[]).push(e,m))}(i,m[i],t)}finally{null!==S&&er(S),Yu(_),w.resolving=!1,en()}}return h}function th(e,t,i){return!!(i[t+(e>>Kg)]&1<<e)}function nh(e,t){return!(e&Ot.Self||e&Ot.Host&&t)}class bt{constructor(t,i){this._tNode=t,this._lView=i}get(t,i,u){return e0(this._tNode,this._lView,t,js(u),i)}}function el(){return new bt(hn(),he())}function n0(e){return Ge(()=>{const t=e.prototype.constructor,i=t[bn]||Oo(t),u=Object.prototype;let h=Object.getPrototypeOf(e.prototype).constructor;for(;h&&h!==u;){const m=h[bn]||Oo(h);if(m&&m!==i)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Oo(e){return di(e)?()=>{const t=Oo(ct(e));return t&&t()}:le(e)}function Ks(e){const t=e[Re],i=t.type;return 2===i?t.declTNode:1===i?e[mr]:null}function Qs(e){return function Jg(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const u=i.length;let h=0;for(;h<u;){const m=i[h];if(xf(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof i[h];)h++;else{if(m===t)return i[h+1];h+=2}}}return null}(hn(),e)}function a0(e,t=null,i=null,u){const h=c0(e,t,i,u);return h.resolveInjectorInitializers(),h}function c0(e,t=null,i=null,u,h=new Set){const m=[i||ot,ue(e)];return u=u||("object"==typeof e?void 0:ut(e)),new zc(m,t||Af(),u||null,h)}class Sr{static{this.THROW_IF_NOT_FOUND=xt}static{this.NULL=new Da}static create(t,i){if(Array.isArray(t))return a0({name:""},i,t,"");{const u=t.name??"";return a0({name:u},t.parent,t.providers,u)}}static{this.\u0275prov=dn({token:Sr,providedIn:"any",factory:()=>On(jc)})}static{this.__NG_ELEMENT_ID__=-1}}new je("").__NG_ELEMENT_ID__=e=>{const t=hn();if(null===t)throw new de(204,!1);if(2&t.type)return t.value;if(e&Ot.Optional)return null;throw new de(204,!1)};function Qu(e){return e.ngOriginalError}const u0=!0;let Gi=(()=>{class e{static{this.__NG_ELEMENT_ID__=d0}static{this.__NG_ENV_ID__=i=>i}}return e})();class Lv extends Gi{constructor(t){super(),this._lView=t}onDestroy(t){return Uu(this._lView,t),()=>function Hf(e,t){if(null===e[as])return;const i=e[as].indexOf(t);-1!==i&&e[as].splice(i,1)}(this._lView,t)}}function d0(){return new Lv(he())}let hs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new on.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=dn({token:e,providedIn:"root",factory:()=>new e})}}return e})();const bi=class il extends Gt.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Sf()&&(this.destroyRef=$e(Gi,{optional:!0})??void 0,this.pendingTasks=$e(hs,{optional:!0})??void 0)}emit(t){const i=Z(null);try{super.next(t)}finally{Z(i)}}subscribe(t,i,u){let h=t,m=i||(()=>null),w=u;if(t&&"object"==typeof t){const b=t;h=b.next?.bind(b),m=b.error?.bind(b),w=b.complete?.bind(b)}this.__isAsync&&(m=this.wrapInTimeout(m),h&&(h=this.wrapInTimeout(h)),w&&(w=this.wrapInTimeout(w)));const _=super.subscribe({next:h,error:m,complete:w});return t instanceof zt.yU&&t.add(_),_}wrapInTimeout(t){return i=>{const u=this.pendingTasks?.add();setTimeout(()=>{t(i),void 0!==u&&this.pendingTasks?.remove(u)})}}};function ol(...e){}function sh(e){let t,i;function u(){e=ol;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),u()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),u()})),()=>u()}function f0(e){return queueMicrotask(()=>e()),()=>{e=ol}}const ch="isAngularZone",Ju=ch+"_ID";let Bv=0;class Nn{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bi(!1),this.onMicrotaskEmpty=new bi(!1),this.onStable=new bi(!1),this.onError=new bi(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1,scheduleInRootZone:m=u0}=t;if(typeof Zone>"u")throw new de(908,!1);Zone.assertZonePatched();const w=this;w._nesting=0,w._outer=w._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(w._inner=w._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(w._inner=w._inner.fork(Zone.longStackTraceZoneSpec)),w.shouldCoalesceEventChangeDetection=!h&&u,w.shouldCoalesceRunChangeDetection=h,w.callbackScheduled=!1,w.scheduleInRootZone=m,function Uv(e){const t=()=>{!function uh(e){function t(){sh(()=>{e.callbackScheduled=!1,ed(e),e.isCheckStableRunning=!0,lh(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ed(e))}(e)},i=Bv++;e._inner=e._inner.fork({name:"angular",properties:{[ch]:!0,[Ju]:i,[Ju+i]:!0},onInvokeTask:(u,h,m,w,_,b)=>{if(function co(e){return lo(e,"__ignore_ng_zone__")}(b))return u.invokeTask(m,w,_,b);try{return dh(e),u.invokeTask(m,w,_,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||e.shouldCoalesceRunChangeDetection)&&t(),Ha(e)}},onInvoke:(u,h,m,w,_,b,S)=>{try{return dh(e),u.invoke(m,w,_,b,S)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function td(e){return lo(e,"__scheduler_tick__")}(b)&&t(),Ha(e)}},onHasTask:(u,h,m,w)=>{u.hasTask(m,w),h===m&&("microTask"==w.change?(e._hasPendingMicrotasks=w.microTask,ed(e),lh(e)):"macroTask"==w.change&&(e.hasPendingMacrotasks=w.macroTask))},onHandleError:(u,h,m,w)=>(u.handleError(m,w),e.runOutsideAngular(()=>e.onError.emit(w)),!1)})}(w)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ch)}static assertInAngularZone(){if(!Nn.isInAngularZone())throw new de(909,!1)}static assertNotInAngularZone(){if(Nn.isInAngularZone())throw new de(909,!1)}run(t,i,u){return this._inner.run(t,i,u)}runTask(t,i,u,h){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+h,t,sl,ol,ol);try{return m.runTask(w,i,u)}finally{m.cancelTask(w)}}runGuarded(t,i,u){return this._inner.runGuarded(t,i,u)}runOutsideAngular(t){return this._outer.run(t)}}const sl={};function lh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ed(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function dh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ha(e){e._nesting--,lh(e)}class Ht{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bi,this.onMicrotaskEmpty=new bi,this.onStable=new bi,this.onError=new bi}run(t,i,u){return t.apply(i,u)}runGuarded(t,i,u){return t.apply(i,u)}runOutsideAngular(t){return t()}runTask(t,i,u,h){return t.apply(i,u)}}function lo(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Ii{constructor(){this._console=console}handleError(t){const i=this._findOriginalError(t);this._console.error("ERROR",t),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(t){let i=t&&Qu(t);for(;i&&Qu(i);)i=Qu(i);return i||null}}const ea=new je("",{providedIn:"root",factory:()=>{const e=$e(Nn),t=$e(Ii);return i=>e.runOutsideAngular(()=>t.handleError(i))}});function jv(){return Ga(hn(),he())}function Ga(e,t){return new al(kr(e,t))}let al=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=jv}}return e})();function p0(e){return e instanceof al?e.nativeElement:e}function Hv(){return this._results[Symbol.iterator]()}class fh{get changes(){return this._changes??=new bi}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=fh.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Hv)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,i){return this._results.reduce(t,i)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,i){this.dirty=!1;const u=function Xt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Lt(e,t,i){if(e.length!==t.length)return!1;for(let u=0;u<e.length;u++){let h=e[u],m=t[u];if(i&&(h=i(h),m=i(m)),m!==h)return!1}return!0}(this._results,u,i))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function nd(e){return!(128&~e.flags)}const m0=new Map;let j_=0;function hh(e){m0.delete(e[Pa])}const rd="__ngContext__";function ur(e,t){rr(t)?(e[rd]=t[Pa],function zv(e){m0.set(e[Pa],e)}(t)):e[rd]=t}function sd(e){return ad(e[Ru])}function vh(e){return ad(e[Li])}function ad(e){for(;null!==e&&!yr(e);)e=e[Li];return e}let Xa;function Jv(e){Xa=e}const ko=new je("",{providedIn:"root",factory:()=>gl}),gl="ng",b0=new je(""),cd=new je("",{providedIn:"platform",factory:()=>"unknown"}),ml=new je(""),eC=new je("",{providedIn:"root",factory:()=>function gs(){if(void 0!==Xa)return Xa;if(typeof document<"u")return document;throw new de(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ia=()=>null;function Dh(e,t,i=!1){return ia(e,t,i)}const N0=new je("",{providedIn:"root",factory:()=>!1});let Cd,_l;function F0(e){return function xl(){if(void 0===_l&&(_l=null,gt.trustedTypes))try{_l=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _l}()?.createScriptURL(e)||e}class P0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${or})`}}function Cs(e){return e instanceof P0?e.changingThisBreaksApplicationSecurity:e}function bl(e,t){const i=function V0(e){return e instanceof P0&&e.getTypeName()||null}(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see ${or})`)}return i===t}const fC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Qa=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Qa||{});function vC(e){const t=Dl();return t?t.sanitize(Qa.URL,e)||"":bl(e,"URL")?Cs(e):function Fh(e){return(e=String(e)).match(fC)?e:"unsafe:"+e}(wt(e))}function Q0(e){const t=Dl();if(t)return F0(t.sanitize(Qa.RESOURCE_URL,e)||"");if(bl(e,"ResourceURL"))return F0(Cs(e));throw new de(904,!1)}function Lh(e){return function lC(e){return function Nh(){if(void 0===Cd&&(Cd=null,gt.trustedTypes))try{Cd=gt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Cd}()?.createScriptURL(e)||e}(e[0])}function Bh(e,t,i){return function wC(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Q0:vC}(t,i)(e)}function Dl(){const e=he();return e&&e[vi].sanitizer}function $r(e){return e instanceof Function?e():e}var xd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(xd||{});let bd;function Id(e,t){return bd(e,t)}function aa(e,t,i,u,h){if(null!=u){let m,w=!1;yr(u)?m=u:rr(u)&&(w=!0,u=u[In]);const _=Jt(u);0===e&&null!==i?null==h?Sd(t,i,_):ca(t,i,_,h||null,!0):1===e&&null!==i?ca(t,i,_,h||null,!0):2===e?function Td(e,t,i){e.removeChild(null,t,i)}(t,_,w):3===e&&t.destroyNode(_),null!=m&&function rc(e,t,i,u,h){const m=i[ro];m!==Jt(i)&&aa(t,e,u,m,h);for(let _=Xn;_<i.length;_++){const b=i[_];da(b[Re],b,e,t,u,m)}}(t,e,m,i,h)}}function Tl(e,t,i){return e.createElement(t,i)}function Yh(e,t){t[vi].changeDetectionScheduler?.notify(9),da(e,t,t[Et],2,null,null)}function Tr(e,t){const i=e[Xs],u=t[nr];(rr(u)||t[Dn]!==u[nr][Dn])&&(e[lt]|=ku.HasTransplantedViews),null===i?e[Xs]=[t]:i.push(t)}function ho(e,t){const i=e[Xs],u=i.indexOf(t);i.splice(u,1)}function ec(e,t){if(e.length<=Xn)return;const i=Xn+t,u=e[i];if(u){const h=u[ss];null!==h&&h!==e&&ho(h,u),t>0&&(e[i-1][Li]=u[Li]);const m=ba(e,Xn+t);!function Xh(e,t){Yh(e,t),t[In]=null,t[mr]=null}(u[Re],u);const w=m[no];null!==w&&w.detachView(m[Re]),u[nr]=null,u[Li]=null,u[lt]&=-129}return u}function qh(e,t){if(!(256&t[lt])){const i=t[Et];i.destroyNode&&da(e,t,i,3,null,null),function i1(e){let t=e[Ru];if(!t)return s1(e[Re],e);for(;t;){let i=null;if(rr(t))i=t[Ru];else{const u=t[Xn];u&&(i=u)}if(!i){for(;t&&!t[Li]&&t!==e;)rr(t)&&s1(t[Re],t),t=t[nr];null===t&&(t=e),rr(t)&&s1(t[Re],t),i=t&&t[Li]}t=i}}(t)}}function s1(e,t){if(256&t[lt])return;const i=Z(null);try{t[lt]&=-129,t[lt]|=256,t[Bi]&&Ve(t[Bi]),function $i(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let u=0;u<i.length;u+=2){const h=t[i[u]];if(!(h instanceof ja)){const m=i[u+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const _=h[m[w]],b=m[w+1];bo(4,_,b);try{b.call(_)}finally{bo(5,_,b)}}else{bo(4,h,m);try{m.call(h)}finally{bo(5,h,m)}}}}}(e,t),function ni(e,t){const i=e.cleanup,u=t[Oa];if(null!==i)for(let m=0;m<i.length-1;m+=2)if("string"==typeof i[m]){const w=i[m+3];w>=0?u[w]():u[-w].unsubscribe(),m+=2}else i[m].call(u[i[m+1]]);null!==u&&(t[Oa]=null);const h=t[as];if(null!==h){t[as]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(e,t),1===t[Re].type&&t[Et].destroy();const u=t[ss];if(null!==u&&yr(t[nr])){u!==t[nr]&&ho(u,t);const h=t[no];null!==h&&h.detachView(e)}hh(t)}finally{Z(i)}}function Ml(e,t,i){return function Nl(e,t,i){let u=t;for(;null!==u&&168&u.type;)u=(t=u).parent;if(null===u)return i[In];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=e.data[u.directiveStart+h];if(m===Ji.None||m===Ji.Emulated)return null}return kr(u,i)}}(e,t.parent,i)}function ca(e,t,i,u,h){e.insertBefore(t,i,u,h)}function Sd(e,t,i){e.appendChild(t,i)}function a1(e,t,i,u,h){null!==u?ca(e,t,i,u,h):Sd(e,t,i)}function c1(e,t){return e.parentNode(t)}let l1,NC=function MC(e,t,i){return 40&e.type?kr(e,i):null};function Zh(e,t,i,u){const h=Ml(e,u,t),m=t[Et],_=function TC(e,t,i){return NC(e,t,i)}(u.parent||t[mr],u,t);if(null!=h)if(Array.isArray(i))for(let b=0;b<i.length;b++)a1(m,h,i[b],_,!1);else a1(m,h,i,_,!1);void 0!==l1&&l1(m,u,t,i,h)}function la(e,t){if(null!==t){const i=t.type;if(3&i)return kr(t,e);if(4&i)return u1(-1,e[t.index]);if(8&i){const u=t.child;if(null!==u)return la(e,u);{const h=e[t.index];return yr(h)?u1(-1,h):Jt(h)}}if(128&i)return la(e,t.next);if(32&i)return Id(t,e)()||Jt(e[t.index]);{const u=Kh(e,t);return null!==u?Array.isArray(u)?u[0]:la(Io(e[Dn]),u):la(e,t.next)}}return null}function Kh(e,t){return null!==t?e[Dn][mr].projection[t.projection]:null}function u1(e,t){const i=Xn+e+1;if(i<t.length){const u=t[i],h=u[Re].firstChild;if(null!==h)return la(u,h)}return t[ro]}function ua(e,t,i,u,h,m,w){for(;null!=i;){if(128===i.type){i=i.next;continue}const _=u[i.index],b=i.type;if(w&&0===t&&(_&&ur(Jt(_),u),i.flags|=2),32&~i.flags)if(8&b)ua(e,t,i.child,u,h,m,!1),aa(t,e,h,_,m);else if(32&b){const S=Id(i,u);let N;for(;N=S();)aa(t,e,h,N,m);aa(t,e,h,_,m)}else 16&b?nc(e,t,u,i,h,m):aa(t,e,h,_,m);i=w?i.projectionNext:i.next}}function da(e,t,i,u,h,m){ua(i,u,e.firstChild,t,h,m,!1)}function nc(e,t,i,u,h,m){const w=i[Dn],b=w[mr].projection[u.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)aa(t,e,h,b[S],m);else{let S=b;const N=w[nr];nd(u)&&(S.flags|=128),ua(e,t,S,N,h,m,!0)}}function Md(e,t,i){""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i)}function Rl(e,t,i){const{mergedAttrs:u,classes:h,styles:m}=i;null!==u&&Aa(e,t,u),null!==h&&Md(e,t,h),null!==m&&function Qh(e,t,i){e.setAttribute(t,"style",i)}(e,t,m)}const At={};function f1(e=1){Nd(Ut(),he(),lr()+e,!1)}function Nd(e,t,i,u){if(!u)if(3&~t[lt]){const m=e.preOrderHooks;null!==m&&Ao(t,m,0,i)}else{const m=e.preOrderCheckHooks;null!==m&&$u(t,m,i)}ls(i)}function ic(e,t=Ot.Default){const i=he();return null===i?On(e,t):e0(hn(),i,ct(e),t)}function Rd(){throw new Error("invalid")}function h1(e,t,i,u,h,m){const w=Z(null);try{let _=null;h&yi.SignalBased&&(_=t[u][X]),null!==_&&void 0!==_.transformFn&&(m=_.transformFn(m)),h&yi.HasDecoratorInputTransform&&(m=e.inputTransforms[u].call(t,m)),null!==e.setInput?e.setInput(t,_,m,i,u):Ar(t,_,u,m)}finally{Z(w)}}function Ol(e,t,i,u,h,m,w,_,b,S,N){const P=t.blueprint.slice();return P[In]=h,P[lt]=204|u,(null!==S||e&&2048&e[lt])&&(P[lt]|=2048),Vf(P),P[nr]=P[ka]=e,P[wn]=i,P[vi]=w||e&&e[vi],P[Et]=_||e&&e[Et],P[Hn]=b||e&&e[Hn]||null,P[mr]=m,P[Pa]=function H_(){return j_++}(),P[Or]=N,P[vg]=S,P[Dn]=2==t.type?e[Dn]:P,P}function ws(e,t,i,u,h){let m=e.data[t];if(null===m)m=function oc(e,t,i,u,h){const m=$f(),w=ji(),b=e.data[t]=function Ld(e,t,i,u,h,m){let w=t?t.injectorIndex:-1,_=0;return function Zs(){return null!==_t.skipHydrationRootTNode}()&&(_|=128),{type:i,index:u,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,i,t,u,h);return null===e.firstChild&&(e.firstChild=b),null!==m&&(w?null==m.child&&null!==b.parent&&(m.child=b):null===m.next&&(m.next=b,b.prev=m)),b}(e,t,i,u,h),function Cv(){return _t.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=i,m.value=u,m.attrs=h;const w=function Zc(){const e=_t.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return Vi(m,!0),m}function Lo(e,t,i,u){if(0===i)return-1;const h=t.length;for(let m=0;m<i;m++)t.push(u),e.blueprint.push(u),e.data.push(null);return h}function kC(e,t,i,u,h){const m=lr(),w=2&u;try{ls(-1),w&&t.length>et&&Nd(e,t,et,!1),bo(w?2:0,h),i(u,h)}finally{ls(m),bo(w?3:1,h)}}function p1(e,t,i){if(Of(t)){const u=Z(null);try{const m=t.directiveEnd;for(let w=t.directiveStart;w<m;w++){const _=e.data[w];_.contentQueries&&_.contentQueries(1,i[w],w)}}finally{Z(u)}}}function g1(e,t,i){zf()&&(function VC(e,t,i,u){const h=i.directiveStart,m=i.directiveEnd;La(i)&&function E1(e,t,i){const u=kr(t,e),h=FC(i);let w=16;i.signals?w=4096:i.onPush&&(w=64);const _=rp(e,Ol(e,h,null,w,u,t,null,e[vi].rendererFactory.createRenderer(u,i),null,null,null));e[t.index]=_}(t,i,e.data[h+i.componentOffset]),e.firstCreatePass||Mo(i,t),ur(u,t);const w=i.initialInputs;for(let _=h;_<m;_++){const b=e.data[_],S=fs(t,e,_,i);ur(S,t),null!==w&&GC(0,_-h,S,b,0,w),Ui(b)&&(Jr(i.index,t)[wn]=fs(t,e,_,i))}}(e,t,i,kr(i,t)),!(64&~i.flags)&&tp(e,t,i))}function kd(e,t,i=kr){const u=t.localNames;if(null!==u){let h=t.index+1;for(let m=0;m<u.length;m+=2){const w=u[m+1],_=-1===w?i(t,e):e[w];e[h++]=_}}}function FC(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Bo(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bo(e,t,i,u,h,m,w,_,b,S,N){const P=et+u,H=P+h,q=function kl(e,t){const i=[];for(let u=0;u<t;u++)i.push(u<e?null:At);return i}(P,H),ne="function"==typeof S?S():S;return q[Re]={type:e,blueprint:q,template:i,queries:null,viewQuery:_,declTNode:t,data:q.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:b,consts:ne,incompleteFirstPass:!1,ssrId:N}}let Pl=()=>null;function m1(e,t,i,u,h){for(let m in t){if(!t.hasOwnProperty(m))continue;const w=t[m];if(void 0===w)continue;u??={};let _,b=yi.None;Array.isArray(w)?(_=w[0],b=w[1]):_=w;let S=m;if(null!==h){if(!h.hasOwnProperty(m))continue;S=h[m]}0===e?y1(u,i,S,_,b):y1(u,i,S,_)}return u}function y1(e,t,i,u,h){let m;e.hasOwnProperty(i)?(m=e[i]).push(t,u):m=e[i]=[t,u],void 0!==h&&m.push(h)}function Br(e,t,i,u,h,m,w,_){const b=kr(t,i);let N,S=t.inputs;!_&&null!=S&&(N=S[u])?(ii(e,i,N,u,h),La(t)&&function BC(e,t){const i=Jr(t,e);16&i[lt]||(i[lt]|=64)}(i,t.index)):3&t.type&&(u=function LC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),h=null!=w?w(h,t.value||"",u):h,m.setProperty(b,u,h))}function Ll(e,t,i,u){if(zf()){const h=null===u?null:{"":-1},m=function jC(e,t){const i=e.directiveRegistry;let u=null,h=null;if(i)for(let m=0;m<i.length;m++){const w=i[m];if(bf(t,w.selectors,!1))if(u||(u=[]),Ui(w))if(null!==w.findHostDirectiveDefs){const _=[];h=h||new Map,w.findHostDirectiveDefs(w,_,h),u.unshift(..._,w),C1(e,t,_.length)}else u.unshift(w),C1(e,t,0);else h=h||new Map,w.findHostDirectiveDefs?.(w,u,h),u.push(w)}return null===u?null:[u,h]}(e,i);let w,_;null===m?w=_=null:[w,_]=m,null!==w&&UC(e,t,i,w,h,_),h&&function HC(e,t,i){if(t){const u=e.localNames=[];for(let h=0;h<t.length;h+=2){const m=i[t[h+1]];if(null==m)throw new de(-301,!1);u.push(t[h],m)}}}(i,u,h)}i.mergedAttrs=xo(i.mergedAttrs,i.attrs)}function UC(e,t,i,u,h,m){for(let S=0;S<u.length;S++)Jc(Mo(i,t),e,u[S].type);!function Uo(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}(i,e.data.length,u.length);for(let S=0;S<u.length;S++){const N=u[S];N.providersResolver&&N.providersResolver(N)}let w=!1,_=!1,b=Lo(e,t,u.length,null);for(let S=0;S<u.length;S++){const N=u[S];i.mergedAttrs=xo(i.mergedAttrs,N.hostAttrs),w1(e,i,t,b,N),Bl(b,N,h),null!==N.contentQueries&&(i.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(i.flags|=64);const P=N.type.prototype;!w&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),w=!0),!_&&(P.ngOnChanges||P.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),_=!0),b++}!function v1(e,t,i){const h=t.directiveEnd,m=e.data,w=t.attrs,_=[];let b=null,S=null;for(let N=t.directiveStart;N<h;N++){const P=m[N],H=i?i.get(P):null,ne=H?H.outputs:null;b=m1(0,P.inputs,N,b,H?H.inputs:null),S=m1(1,P.outputs,N,S,ne);const ye=null===b||null===w||Kr(t)?null:x1(b,N,w);_.push(ye)}null!==b&&(b.hasOwnProperty("class")&&(t.flags|=8),b.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=_,t.inputs=b,t.outputs=S}(e,i,m)}function tp(e,t,i){const u=i.directiveStart,h=i.directiveEnd,m=i.index,w=function Hu(){return _t.lFrame.currentDirectiveIndex}();try{ls(m);for(let _=u;_<h;_++){const b=e.data[_],S=t[_];zg(_),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&np(b,S)}}finally{ls(-1),zg(w)}}function np(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function C1(e,t,i){t.componentOffset=i,(e.components??=[]).push(t.index)}function Bl(e,t,i){if(i){if(t.exportAs)for(let u=0;u<t.exportAs.length;u++)i[t.exportAs[u]]=e;Ui(t)&&(i[""]=e)}}function w1(e,t,i,u,h){e.data[u]=h;const m=h.factory||(h.factory=le(h.type)),w=new ja(m,Ui(h),ic);e.blueprint[u]=w,i[u]=w,function _x(e,t,i,u,h){const m=h.hostBindings;if(m){let w=e.hostBindingOpCodes;null===w&&(w=e.hostBindingOpCodes=[]);const _=~t.index;(function ep(e){let t=e.length;for(;t>0;){const i=e[--t];if("number"==typeof i&&i<0)return i}return 0})(w)!=_&&w.push(_),w.push(i,u,m)}}(e,t,u,Lo(e,i,h.hostVars,At),h)}function Xr(e,t,i,u,h,m){const w=kr(e,t);!function _1(e,t,i,u,h,m,w){if(null==m)e.removeAttribute(t,h,i);else{const _=null==w?wt(m):w(m,u||"",h);e.setAttribute(t,h,_,i)}}(t[Et],w,m,e.value,i,u,h)}function GC(e,t,i,u,h,m){const w=m[t];if(null!==w)for(let _=0;_<w.length;)h1(u,i,w[_++],w[_++],w[_++],w[_++])}function x1(e,t,i){let u=null,h=0;for(;h<i.length;){const m=i[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(e.hasOwnProperty(m)){null===u&&(u=[]);const w=e[m];for(let _=0;_<w.length;_+=3)if(w[_]===t){u.push(m,w[_+1],w[_+2],i[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function zC(e,t,i,u){return[e,!0,0,t,null,u,null,i,null,null]}function $C(e,t){const i=e.contentQueries;if(null!==i){const u=Z(null);try{for(let h=0;h<i.length;h+=2){const w=i[h+1];if(-1!==w){const _=e.data[w];Gu(i[h]),_.contentQueries(2,t[w],w)}}}finally{Z(u)}}}function rp(e,t){return e[Ru]?e[Nf][Li]=t:e[Ru]=t,e[Nf]=t,t}function b1(e,t,i){Gu(0);const u=Z(null);try{t(e,i)}finally{Z(u)}}function ip(e){return e[Oa]??=[]}function I1(e){return e.cleanup??=[]}function ri(e,t){const i=e[Hn],u=i?i.get(Ii,null):null;u&&u.handleError(t)}function ii(e,t,i,u,h){for(let m=0;m<i.length;){const w=i[m++],_=i[m++],b=i[m++];h1(e.data[w],t[w],u,_,b,h)}}function Vo(e,t,i){const u=Ys(t,e);!function Wh(e,t,i){e.setValue(t,i)}(e[Et],u,i)}function Bd(e,t){const i=Jr(t,e),u=i[Re];!function WC(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(u,i);const h=i[In];null!==h&&null===i[Or]&&(i[Or]=Dh(h,i[Hn])),D1(u,i,i[wn])}function D1(e,t,i){Wf(t);try{const u=e.viewQuery;null!==u&&b1(1,u,i);const h=e.template;null!==h&&kC(e,t,h,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),t[no]?.finishViewCreation(e),e.staticContentQueries&&$C(e,t),e.staticViewQueries&&b1(2,e.viewQuery,i);const m=e.components;null!==m&&function XC(e,t){for(let i=0;i<t.length;i++)Bd(e,t[i])}(t,m)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{t[lt]&=-5,Yf()}}function Es(e,t){return!t||null===t.firstChild||nd(e)}function sc(e,t,i,u,h=!1){for(;null!==i;){if(128===i.type){i=h?i.projectionNext:i.next;continue}const m=t[i.index];null!==m&&u.push(Jt(m)),yr(m)&&S1(m,u);const w=i.type;if(8&w)sc(e,t,i.child,u);else if(32&w){const _=Id(i,t);let b;for(;b=_();)u.push(b)}else if(16&w){const _=Kh(t,i);if(Array.isArray(_))u.push(..._);else{const b=Io(t[Dn]);sc(b[Re],b,_,u,!0)}}i=h?i.projectionNext:i.next}return u}function S1(e,t){for(let i=Xn;i<e.length;i++){const u=e[i],h=u[Re].firstChild;null!==h&&sc(u[Re],u,h,t)}e[ro]!==e[In]&&t.push(e[ro])}let xs=[];const Vl={...pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Bu(e.lView)},consumerOnSignalRead(){this.lView[Bi]=this}},ZC={...pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Io(e.lView);for(;t&&!ha(t[Re]);)t=Io(t);t&&Ag(t)},consumerOnSignalRead(){this.lView[Bi]=this}};function ha(e){return 2!==e.type}const KC=100;function jl(e,t=!0,i=0){const u=e[vi],h=u.rendererFactory;h.begin?.();try{!function QC(e,t){const i=Vg();try{jg(!0),Hl(e,t);let u=0;for(;Lu(e);){if(u===KC)throw new de(103,!1);u++,Hl(e,1)}}finally{jg(i)}}(e,i)}catch(w){throw t&&ri(e,w),w}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function ap(e,t,i,u){const h=t[lt];if(!(256&~h))return;t[vi].inlineEffectRunner?.flush(),Wf(t);let _=!0,b=null,S=null;ha(e)?(S=function YC(e){return e[Bi]??function Ul(e){const t=xs.pop()??Object.create(Vl);return t.lView=e,t}(e)}(t),b=xe(S)):null===function oe(){return W}()?(_=!1,S=function T1(e){const t=e[Bi]??Object.create(ZC);return t.lView=e,t}(t),b=xe(S)):t[Bi]&&(Ve(t[Bi]),t[Bi]=null);try{Vf(t),function Hg(e){return _t.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&kC(e,t,i,2,u);const N=!(3&~h);if(N){const q=e.preOrderCheckHooks;null!==q&&$u(t,q,null)}else{const q=e.preOrderHooks;null!==q&&Ao(t,q,0,null),wi(t,0)}if(function N1(e){for(let t=sd(e);null!==t;t=vh(t)){if(!(t[lt]&ku.HasTransplantedViews))continue;const i=t[Xs];for(let u=0;u<i.length;u++)Ag(i[u])}}(t),M1(t,0),null!==e.contentQueries&&$C(e,t),N){const q=e.contentCheckHooks;null!==q&&$u(t,q)}else{const q=e.contentHooks;null!==q&&Ao(t,q,1),wi(t,1)}!function Od(e,t){const i=e.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const h=i[u];if(h<0)ls(~h);else{const m=h,w=i[++u],_=i[++u];Gg(w,m),_(2,t[m])}}}finally{ls(-1)}}(e,t);const P=e.components;null!==P&&Ud(t,P,0);const H=e.viewQuery;if(null!==H&&b1(2,H,u),N){const q=e.viewCheckHooks;null!==q&&$u(t,q)}else{const q=e.viewHooks;null!==q&&Ao(t,q,2),wi(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Rf]){for(const q of t[Rf])q();t[Rf]=null}t[lt]&=-73}catch(N){throw Bu(t),N}finally{null!==S&&(ke(S,b),_&&function qC(e){e.lView[Bi]!==e&&(e.lView=null,xs.push(e))}(S)),Yf()}}function M1(e,t){for(let i=sd(e);null!==i;i=vh(i))for(let u=Xn;u<i.length;u++)ew(i[u],t)}function JC(e,t,i){ew(Jr(t,e),i)}function ew(e,t){io(e)&&Hl(e,t)}function Hl(e,t){const u=e[Re],h=e[lt],m=e[Bi];let w=!!(0===t&&16&h);if(w||=!!(64&h&&0===t),w||=!!(1024&h),w||=!(!m?.dirty||!rt(m)),w||=!1,m&&(m.dirty=!1),e[lt]&=-9217,w)ap(u,e,u.template,e[wn]);else if(8192&h){M1(e,1);const _=u.components;null!==_&&Ud(e,_,1)}}function Ud(e,t,i){for(let u=0;u<t.length;u++)JC(e,t[u],i)}function cc(e,t){const i=Vg()?64:1088;for(e[vi].changeDetectionScheduler?.notify(t);e;){e[lt]|=i;const u=Io(e);if(Ba(e)&&!u)return e;e=u}return null}class lc{get rootNodes(){const t=this._lView,i=t[Re];return sc(i,t,i.firstChild,[])}constructor(t,i,u=!0){this._lView=t,this._cdRefInjectingView=i,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(t){this._lView[wn]=t}get destroyed(){return!(256&~this._lView[lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[nr];if(yr(t)){const i=t[8],u=i?i.indexOf(this):-1;u>-1&&(ec(t,u),ba(i,u))}this._attachedToViewContainer=!1}qh(this._lView[Re],this._lView)}onDestroy(t){Uu(this._lView,t)}markForCheck(){cc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[lt]&=-129}reattach(){jf(this._lView),this._lView[lt]|=128}detectChanges(){this._lView[lt]|=1024,jl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new de(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ba(this._lView),i=this._lView[ss];null!==i&&!t&&ho(i,this._lView),Yh(this._lView[Re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new de(902,!1);this._appRef=t;const i=Ba(this._lView),u=this._lView[ss];null!==u&&!i&&Tr(u,this._lView),jf(this._lView)}}let Wi=(()=>{class e{static{this.__NG_ELEMENT_ID__=nw}}return e})();const tw=Wi,R1=class extends tw{constructor(t,i,u){super(),this._declarationLView=t,this._declarationTContainer=i,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,i){return this.createEmbeddedViewImpl(t,i)}createEmbeddedViewImpl(t,i,u){const h=function fa(e,t,i,u){const h=Z(null);try{const m=t.tView,b=Ol(e,m,i,4096&e[lt]?4096:16,null,t,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);b[ss]=e[t.index];const N=e[no];return null!==N&&(b[no]=N.createEmbeddedView(m)),D1(m,b,i),b}finally{Z(h)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:i,dehydratedView:u});return new lc(h)}};function nw(){return Gl(hn(),he())}function Gl(e,t){return 4&e.type?new R1(t,e,Ga(e,t)):null}class pa{}const Zl=new je("",{providedIn:"root",factory:()=>!1}),Wo=new je(""),Xo=new je("");class Nw{}class Rw{}class Tx{resolveComponentFactory(t){throw function om(e){const t=Error(`No component factory found for ${ut(e)}.`);return t.ngComponent=e,t}(t)}}class mp{static{this.NULL=new Tx}}class am{}let Mx=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Nx(){const e=he(),i=Jr(hn().index,e);return(rr(i)?i:e)[Et]}()}}return e})(),Rx=(()=>{class e{static{this.\u0275prov=dn({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ds(e){return!!A(e)}function qd(e,t,i){let u=i?e.styles:null,h=i?e.classes:null,m=0;if(null!==t)for(let w=0;w<t.length;w++){const _=t[w];"number"==typeof _?m=_:1==m?h=Jo(h,_):2==m&&(u=Jo(u,_+": "+t[++w]+";"))}i?e.styles=u:e.stylesWithoutHost=u,i?e.classes=h:e.classesWithoutHost=h}class vp extends mp{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const i=v(t);return new Zd(i,this.ngModule)}}function dm(e,t){const i=[];for(const u in e){if(!e.hasOwnProperty(u))continue;const h=e[u];if(void 0===h)continue;const m=Array.isArray(h),w=m?h[0]:h;i.push(t?{propName:w,templateName:u,isSignal:!!((m?h[1]:yi.None)&yi.SignalBased)}:{propName:w,templateName:u})}return i}class Zd extends Rw{get inputs(){const t=this.componentDef,i=t.inputTransforms,u=dm(t.inputs,!0);if(null!==i)for(const h of u)i.hasOwnProperty(h.propName)&&(h.transform=i[h.propName]);return u}get outputs(){return dm(this.componentDef.outputs,!1)}constructor(t,i){super(),this.componentDef=t,this.ngModule=i,this.componentType=t.type,this.selector=function Ta(e){return e.map(Mu).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!i}create(t,i,u,h){const m=Z(null);try{let w=(h=h||this.ngModule)instanceof Pi?h:h?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const _=w?new Ei(t,w):t,b=_.get(am,null);if(null===b)throw new de(407,!1);const P={rendererFactory:b,sanitizer:_.get(Rx,null),inlineEffectRunner:null,changeDetectionScheduler:_.get(pa,null)},H=b.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",ne=u?function Fd(e,t,i,u){const m=u.get(N0,!1)||i===Ji.ShadowDom,w=e.selectRootElement(t,m);return function Fl(e){Pl(e)}(w),w}(H,u,this.componentDef.encapsulation,_):Tl(H,q,function Ow(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(q));let ye=512;this.componentDef.signals?ye|=4096:this.componentDef.onPush||(ye|=16);let Oe=null;null!==ne&&(Oe=Dh(ne,_,!0));const Pe=Bo(0,null,null,1,0,null,null,null,null,null,null),me=Ol(null,Pe,null,ye,null,null,P,H,_,null,Oe);Wf(me);let It,tn,Sn=null;try{const ar=this.componentDef;let Ni,yf=null;ar.findHostDirectiveDefs?(Ni=[],yf=new Map,ar.findHostDirectiveDefs(ar,Ni,yf),Ni.push(ar)):Ni=[ar];const pD=function kw(e,t){const i=e[Re],u=et;return e[u]=t,ws(i,u,2,"#host",null)}(me,ne);Sn=function Fx(e,t,i,u,h,m,w){const _=h[Re];!function Cp(e,t,i,u){for(const h of e)t.mergedAttrs=xo(t.mergedAttrs,h.hostAttrs);null!==t.mergedAttrs&&(qd(t,t.mergedAttrs,!0),null!==i&&Rl(u,i,t))}(u,e,t,w);let b=null;null!==t&&(b=Dh(t,h[Hn]));const S=m.rendererFactory.createRenderer(t,i);let N=16;i.signals?N=4096:i.onPush&&(N=64);const P=Ol(h,FC(i),null,N,h[e.index],e,m,S,null,null,b);return _.firstCreatePass&&C1(_,e,u.length-1),rp(h,P),h[e.index]=P}(pD,ne,ar,Ni,me,P,H),tn=Va(Pe,et),ne&&function Px(e,t,i,u){if(u)Aa(e,i,["ng-version","18.2.9"]);else{const{attrs:h,classes:m}=function Qt(e){const t=[],i=[];let u=1,h=2;for(;u<e.length;){let m=e[u];if("string"==typeof m)2===h?""!==m&&t.push(m,e[++u]):8===h&&i.push(m);else{if(!Qr(h))break;h=m}u++}return{attrs:t,classes:i}}(t.selectors[0]);h&&Aa(e,i,h),m&&m.length>0&&Md(e,i,m.join(" "))}}(H,ar,ne,u),void 0!==i&&function Lx(e,t,i){const u=e.projection=[];for(let h=0;h<t.length;h++){const m=i[h];u.push(null!=m?Array.from(m):null)}}(tn,this.ngContentSelectors,i),It=function fm(e,t,i,u,h,m){const w=hn(),_=h[Re],b=kr(w,h);UC(_,h,w,i,null,u);for(let N=0;N<i.length;N++)ur(fs(h,_,w.directiveStart+N,w),h);tp(_,h,w),b&&ur(b,h);const S=fs(h,_,w.directiveStart+w.componentOffset,w);if(e[wn]=h[wn]=S,null!==m)for(const N of m)N(S,t);return p1(_,w,h),S}(Sn,ar,Ni,yf,me,[Bx]),D1(Pe,me,null)}catch(ar){throw null!==Sn&&hh(Sn),hh(me),ar}finally{Yf()}return new kx(this.componentType,It,Ga(tn,me),me,tn)}finally{Z(m)}}}class kx extends Nw{constructor(t,i,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new lc(h,void 0,!1),this.componentType=t}setInput(t,i){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),i))return;const m=this._rootLView;ii(m[Re],m,h,t,i),this.previousInputValues.set(t,i),cc(Jr(this._tNode.index,m),1)}}get injector(){return new bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Bx(){const e=hn();Kc(he()[Re],e)}let _r=(()=>{class e{static{this.__NG_ELEMENT_ID__=go}}return e})();function go(){return gm(hn(),he())}const Fw=_r,hm=class extends Fw{constructor(t,i,u){super(),this._lContainer=t,this._hostTNode=i,this._hostLView=u}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new bt(this._hostTNode,this._hostLView)}get parentInjector(){const t=ei(this._hostTNode,this._hostLView);if(wr(t)){const i=Qc(t,this._hostLView),u=_i(t);return new bt(i[Re].data[u+8],i)}return new bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const i=pm(this._lContainer);return null!==i&&i[t]||null}get length(){return this._lContainer.length-Xn}createEmbeddedView(t,i,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const _=t.createEmbeddedViewImpl(i||{},m,null);return this.insertImpl(_,h,Es(this._hostTNode,null)),_}createComponent(t,i,u,h,m){const w=t&&!function Yc(e){return"function"==typeof e}(t);let _;if(w)_=i;else{const ne=i||{};_=ne.index,u=ne.injector,h=ne.projectableNodes,m=ne.environmentInjector||ne.ngModuleRef}const b=w?t:new Zd(v(t)),S=u||this.parentInjector;if(!m&&null==b.ngModule){const ye=(w?S:this.parentInjector).get(Pi,null);ye&&(m=ye)}v(b.componentType??{});const q=b.create(S,h,null,m);return this.insertImpl(q.hostView,_,Es(this._hostTNode,null)),q}insert(t,i){return this.insertImpl(t,i,!0)}insertImpl(t,i,u){const h=t._lView;if(function Dg(e){return yr(e[nr])}(h)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const b=h[nr],S=new hm(b,b[mr],b[nr]);S.detach(S.indexOf(t))}}const m=this._adjustIndex(i),w=this._lContainer;return function _s(e,t,i,u=!0){const h=t[Re];if(function o1(e,t,i,u){const h=Xn+u,m=i.length;u>0&&(i[h-1][Li]=t),u<m-Xn?(t[Li]=i[h],xa(i,Xn+u,t)):(i.push(t),t[Li]=null),t[nr]=i;const w=t[ss];null!==w&&i!==w&&Tr(w,t);const _=t[no];null!==_&&_.insertView(e),jf(t),t[lt]|=128}(h,t,e,i),u){const w=u1(i,e),_=t[Et],b=c1(_,e[ro]);null!==b&&function Ad(e,t,i,u,h,m){u[In]=h,u[mr]=t,da(e,u,i,1,h,m)}(h,e[mr],_,t,b,w)}const m=t[Or];null!==m&&null!==m.firstChild&&(m.firstChild=null)}(w,h,m,u),t.attachToViewContainerRef(),xa(wp(w),m,t),t}move(t,i){return this.insert(t,i)}indexOf(t){const i=pm(this._lContainer);return null!==i?i.indexOf(t):-1}remove(t){const i=this._adjustIndex(t,-1),u=ec(this._lContainer,i);u&&(ba(wp(this._lContainer),i),qh(u[Re],u))}detach(t){const i=this._adjustIndex(t,-1),u=ec(this._lContainer,i);return u&&null!=ba(wp(this._lContainer),i)?new lc(u):null}_adjustIndex(t,i=0){return t??this.length+i}};function pm(e){return e[8]}function wp(e){return e[8]||(e[8]=[])}function gm(e,t){let i;const u=t[e.index];return yr(u)?i=u:(i=zC(u,t,null,e),t[e.index]=i,rp(t,i)),mm(i,t,e,u),new hm(i,e,t)}let mm=function vm(e,t,i,u){if(e[ro])return;let h;h=8&i.type?Jt(u):function Pw(e,t){const i=e[Et],u=i.createComment(""),h=kr(t,e);return ca(i,c1(i,h),u,function SC(e,t){return e.nextSibling(t)}(i,h),!1),u}(t,i),e[ro]=h},Ep=()=>!1;class _p{constructor(t){this.queryList=t,this.matches=null}clone(){return new _p(this.queryList)}setDirty(){this.queryList.setDirty()}}class xp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const i=t.queries;if(null!==i){const u=null!==t.contentQueries?t.contentQueries[0]:i.length,h=[];for(let m=0;m<u;m++){const w=i.getByIndex(m);h.push(this.queries[w.indexInDeclarationView].clone())}return new xp(h)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let i=0;i<this.queries.length;i++)null!==Sp(t,i).matches&&this.queries[i].setDirty()}}class Cm{constructor(t,i,u=null){this.flags=i,this.read=u,this.predicate="string"==typeof t?function Gw(e){return e.split(",").map(t=>t.trim())}(t):t}}class bp{constructor(t=[]){this.queries=t}elementStart(t,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(t,i)}elementEnd(t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(t)}embeddedTView(t){let i=null;for(let u=0;u<this.length;u++){const h=null!==i?i.length:0,m=this.getByIndex(u).embeddedTView(t,h);m&&(m.indexInDeclarationView=u,null!==i?i.push(m):i=[m])}return null!==i?new bp(i):null}template(t,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(t,i)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ip{constructor(t,i=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(t,i){this.isApplyingToNode(i)&&this.matchTNode(t,i)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,i){this.elementStart(t,i)}embeddedTView(t,i){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,i),new Ip(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let u=t.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(t,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(t,i,Vw(i,m)),this.matchTNodeWithReadOption(t,i,Zu(i,t,m,!1,!1))}else u===Wi?4&i.type&&this.matchTNodeWithReadOption(t,i,-1):this.matchTNodeWithReadOption(t,i,Zu(i,t,u,!1,!1))}matchTNodeWithReadOption(t,i,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===al||h===_r||h===Wi&&4&i.type)this.addMatch(i.index,-2);else{const m=Zu(i,t,h,!1,!1);null!==m&&this.addMatch(i.index,m)}else this.addMatch(i.index,u)}}addMatch(t,i){null===this.matches?this.matches=[t,i]:this.matches.push(t,i)}}function Vw(e,t){const i=e.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===t)return i[u+1];return null}function jw(e,t,i,u){return-1===i?function Dp(e,t){return 11&e.type?Ga(e,t):4&e.type?Gl(e,t):null}(t,e):-2===i?function Hw(e,t,i){return i===al?Ga(t,e):i===Wi?Gl(t,e):i===_r?gm(t,e):void 0}(e,t,u):fs(e,e[Re],i,t)}function wm(e,t,i,u){const h=t[no].queries[u];if(null===h.matches){const m=e.data,w=i.matches,_=[];for(let b=0;null!==w&&b<w.length;b+=2){const S=w[b];_.push(S<0?null:jw(t,m[S],w[b+1],i.metadata.read))}h.matches=_}return h.matches}function Ap(e,t,i,u){const h=e.queries.getByIndex(i),m=h.matches;if(null!==m){const w=wm(e,t,h,i);for(let _=0;_<m.length;_+=2){const b=m[_];if(b>0)u.push(w[_/2]);else{const S=m[_+1],N=t[-b];for(let P=Xn;P<N.length;P++){const H=N[P];H[ss]===H[nr]&&Ap(H[Re],H,S,u)}if(null!==N[Xs]){const P=N[Xs];for(let H=0;H<P.length;H++){const q=P[H];Ap(q[Re],q,S,u)}}}}}return u}function Em(e,t,i){const u=new fh(!(4&~i));return function Jh(e,t,i,u){const h=ip(t);h.push(i),e.firstCreatePass&&I1(e).push(u,h.length-1)}(e,t,u,u.destroy),(t[no]??=new xp).queries.push(new _p(u))-1}function bm(e,t,i){null===e.queries&&(e.queries=new bp),e.queries.track(new Ip(t,i))}function Sp(e,t){return e.queries.getByIndex(t)}function Im(e,t){const i=e[Re],u=Sp(i,t);return u.crossesNgTemplate?Ap(i,e,t,[]):wm(i,e,u,t)}const Dm=new Set;function Mr(e){Dm.has(e)||(Dm.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Sm(e,t){Mr("NgSignals");const i=function Rn(e){const t=Object.create(yn);t.value=e;const i=()=>(se(t),t.value);return i[X]=t,i}(e),u=i[X];return t?.equal&&(u.equal=t.equal),i.set=h=>Fe(u,h),i.update=h=>function Zt(e,t){We()||Xe(),Fe(e,t(e.value))}(u,h),i.asReadonly=Tm.bind(i),i}function Tm(){const e=this[X];if(void 0===e.readonlyFn){const t=()=>this();t[X]=e,e.readonlyFn=t}return e.readonlyFn}function Mm(e){return function Am(e){return"function"==typeof e&&void 0!==e[X]}(e)&&"function"==typeof e.set}function Np(e){let t=function jm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const u=[e];for(;t;){let h;if(Ui(e))h=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new de(903,!1);h=t.\u0275dir}if(h){if(i){u.push(h);const w=e;w.inputs=nf(e.inputs),w.inputTransforms=nf(e.inputTransforms),w.declaredInputs=nf(e.declaredInputs),w.outputs=nf(e.outputs);const _=h.hostBindings;_&&rE(e,_);const b=h.viewQuery,S=h.contentQueries;if(b&&tE(e,b),S&&nE(e,S),Jw(e,h),hu(e.outputs,h.outputs),Ui(h)&&h.data.animation){const N=e.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let w=0;w<m.length;w++){const _=m[w];_&&_.ngInherit&&_(e),_===Np&&(i=!1)}}t=Object.getPrototypeOf(t)}!function eE(e){let t=0,i=null;for(let u=e.length-1;u>=0;u--){const h=e[u];h.hostVars=t+=h.hostVars,h.hostAttrs=xo(h.hostAttrs,i=xo(i,h.hostAttrs))}}(u)}function Jw(e,t){for(const i in t.inputs){if(!t.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const u=t.inputs[i];if(void 0!==u&&(e.inputs[i]=u,e.declaredInputs[i]=t.declaredInputs[i],null!==t.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!t.inputTransforms.hasOwnProperty(h))continue;e.inputTransforms??={},e.inputTransforms[h]=t.inputTransforms[h]}}}function nf(e){return e===mi?{}:e===ot?[]:e}function tE(e,t){const i=e.viewQuery;e.viewQuery=i?(u,h)=>{t(u,h),i(u,h)}:t}function nE(e,t){const i=e.contentQueries;e.contentQueries=i?(u,h,m)=>{t(u,h,m),i(u,h,m)}:t}function rE(e,t){const i=e.hostBindings;e.hostBindings=i?(u,h)=>{t(u,h),i(u,h)}:t}function Rp(e){const t=e.inputConfig,i={};for(const u in t)if(t.hasOwnProperty(u)){const h=t[u];Array.isArray(h)&&h[3]&&(i[u]=h[3])}e.inputTransforms=i}class ma{}class $m{}function lE(e,t){return new Op(e,t??null,[])}class Op extends ma{constructor(t,i,u,h=!0){super(),this.ngModuleType=t,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vp(this);const m=A(t);this._bootstrapComponents=$r(m.bootstrap),this._r3Injector=c0(t,i,[{provide:ma,useValue:this},{provide:mp,useValue:this.componentFactoryResolver},...u],ut(t),new Set(["environment"])),h&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kp extends $m{constructor(t){super(),this.moduleType=t}create(t){return new Op(this.moduleType,t,[])}}class Wm extends ma{constructor(t){super(),this.componentFactoryResolver=new vp(this),this.instance=null;const i=new zc([...t.providers,{provide:ma,useValue:this},{provide:mp,useValue:this.componentFactoryResolver}],t.parent||Af(),t.debugName,new Set(["environment"]));this.injector=i,t.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Fp(e,t,i=null){return new Wm({providers:e,parent:t,debugName:i,runEnvironmentInitializers:!0}).injector}function rf(e){return!!Pp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Pp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yr(e,t,i){return e[t]=i}function Zn(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function gc(e,t,i,u){const h=Zn(e,t,i);return Zn(e,t+1,u)||h}function iu(e,t,i,u,h,m,w,_,b,S){const N=i+et,P=t.firstCreatePass?function hE(e,t,i,u,h,m,w,_,b){const S=t.consts,N=ws(t,e,4,w||null,_||null);Ll(t,i,N,Ci(S,b)),Kc(t,N);const P=N.tView=Bo(2,N,u,h,m,t.directiveRegistry,t.pipeRegistry,null,t.schemas,S,null);return null!==t.queries&&(t.queries.template(t,N),P.queries=t.queries.embeddedTView(N)),N}(N,t,e,u,h,m,w,_,b):t.data[N];Vi(P,!1);const H=Ym(t,e,P,i);Do()&&Zh(t,e,H,P),ur(H,e);const q=zC(H,e,H,P);return e[N]=q,rp(e,q),function ym(e,t,i){return Ep(e,t,i)}(q,P,e),kf(P)&&g1(t,e,P),null!=b&&kd(e,P,S),P}function af(e,t,i,u,h,m,w,_){const b=he(),S=Ut();return iu(b,S,e,t,i,u,h,Ci(S.consts,m),w,_),af}let Ym=function qm(e,t,i,u){return so(!0),t[Et].createComment("")};var Si=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Si||{});let Ti=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=dn({token:e,providedIn:"root",factory:()=>new e})}}return e})();class vc{constructor(){this.ngZone=$e(Nn),this.scheduler=$e(pa),this.errorHandler=$e(Ii,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Si.EarlyRead,Si.Write,Si.MixedReadWrite,Si.Read]}execute(){this.executing=!0;for(const t of vc.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[t])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[t](i.pipelinedValue))}catch(u){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(u)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=dn({token:vc,providedIn:"root",factory:()=>new vc})}}class ty{constructor(t,i,u,h){this.impl=t,this.hooks=i,this.once=u,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function au(e,t){!t?.injector&&function Ma(e){if(!Sf())throw new de(-203,!1)}();const i=t?.injector??$e(Sr);return function Wr(e){return"browser"===(e??$e(Sr)).get(cd)}(i)?(Mr("NgAfterNextRender"),function Zi(e,t,i,u){const h=t.get(Ti);h.impl??=t.get(vc);const m=i?.phase??Si.MixedReadWrite,w=!0!==i?.manualCleanup?t.get(Gi):null,_=new ty(h.impl,function ry(e,t){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[t]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,m),u,w);return h.impl.register(_),_}(e,i,t,!0)):iy}const iy={destroy(){}};function df(e,t,i,u){const h=he();return Zn(h,Hi(),t)&&(Ut(),Xr(gn(),h,e,t,i,u)),df}function Zo(e,t,i,u){return Zn(e,Hi(),i)?t+wt(i)+u:At}function Ac(e,t,i,u,h,m,w,_){const S=function ru(e,t,i,u,h){const m=gc(e,t,i,u);return Zn(e,t+2,h)||m}(e,oo(),i,h,w);return En(3),S?t+wt(i)+u+wt(h)+m+wt(w)+_:At}function f(e,t){return e<<17|t<<2}function y(e){return e>>17&32767}function R(e){return 2|e}function T(e){return(131068&e)>>2}function V(e,t){return-131069&e|t<<2}function De(e){return 1|e}function st(e,t,i,u){const h=e[i+1],m=null===t;let w=u?y(h):T(h),_=!1;for(;0!==w&&(!1===_||m);){const S=e[w+1];_n(e[w],t)&&(_=!0,e[w+1]=u?De(S):R(S)),w=u?y(S):T(S)}_&&(e[i+1]=u?R(h):De(h))}function _n(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qi(e,t)>=0}function kE(e,t,i){const u=he();return Zn(u,Hi(),t)&&Br(Ut(),gn(),u,e,t,u[Et],i,!1),kE}function FE(e,t,i,u,h){const w=h?"class":"style";ii(e,i,t.inputs[w],w,u)}function PE(e,t){return function Ko(e,t,i,u){const h=he(),m=Ut(),w=En(2);m.firstUpdatePass&&function pb(e,t,i,u){const h=e.data;if(null===h[i+1]){const m=h[lr()],w=function hb(e,t){return t>=e.expandoStartIndex}(e,i);(function vb(e,t){return!!(e.flags&(t?8:16))})(m,u)&&null===t&&!w&&(t=!1),t=function FD(e,t,i,u){const h=function yt(e){const t=_t.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let m=u?t.residualClasses:t.residualStyles;if(null===h)0===(u?t.classBindings:t.styleBindings)&&(i=Yp(i=LE(null,e,t,i,u),t.attrs,u),m=null);else{const w=t.directiveStylingLast;if(-1===w||e[w]!==h)if(i=LE(h,e,t,i,u),null===m){let b=function PD(e,t,i){const u=i?t.classBindings:t.styleBindings;if(0!==T(u))return e[y(u)]}(e,t,u);void 0!==b&&Array.isArray(b)&&(b=LE(null,e,t,b[1],u),b=Yp(b,t.attrs,u),function LD(e,t,i,u){e[y(i?t.classBindings:t.styleBindings)]=u}(e,t,u,b))}else m=function BD(e,t,i){let u;const h=t.directiveEnd;for(let m=1+t.directiveStylingLast;m<h;m++)u=Yp(u,e[m].hostAttrs,i);return Yp(u,t.attrs,i)}(e,t,u)}return void 0!==m&&(u?t.residualClasses=m:t.residualStyles=m),i}(h,m,t,u),function Be(e,t,i,u,h,m){let w=m?t.classBindings:t.styleBindings,_=y(w),b=T(w);e[u]=i;let N,S=!1;if(Array.isArray(i)?(N=i[1],(null===N||Qi(i,N)>0)&&(S=!0)):N=i,h)if(0!==b){const H=y(e[_+1]);e[u+1]=f(H,_),0!==H&&(e[H+1]=V(e[H+1],u)),e[_+1]=function M(e,t){return 131071&e|t<<17}(e[_+1],u)}else e[u+1]=f(_,0),0!==_&&(e[_+1]=V(e[_+1],u)),_=u;else e[u+1]=f(b,0),0===_?_=u:e[b+1]=V(e[b+1],u),b=u;S&&(e[u+1]=R(e[u+1])),st(e,N,u,!0),st(e,N,u,!1),function Ue(e,t,i,u,h){const m=h?e.residualClasses:e.residualStyles;null!=m&&"string"==typeof t&&Qi(m,t)>=0&&(i[u+1]=De(i[u+1]))}(t,N,e,u,m),w=f(_,b),m?t.classBindings=w:t.styleBindings=w}(h,m,t,i,w,u)}}(m,e,w,u),t!==At&&Zn(h,w,t)&&function mb(e,t,i,u,h,m,w,_){if(!(3&t.type))return;const b=e.data,S=b[_+1],N=function K(e){return!(1&~e)}(S)?yb(b,t,i,h,T(S),w):void 0;Ty(N)||(Ty(m)||function x(e){return!(2&~e)}(S)&&(m=yb(b,null,i,h,_,w)),function d1(e,t,i,u,h){if(t)h?e.addClass(i,u):e.removeClass(i,u);else{let m=-1===u.indexOf("-")?void 0:xd.DashCase;null==h?e.removeStyle(i,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=xd.Important),e.setStyle(i,u,h,m))}}(u,w,Ys(lr(),i),h,m))}(m,m.data[lr()],h,h[Et],e,h[w+1]=function HD(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ut(Cs(e)))),e}(t,i),u,w)}(e,t,null,!0),PE}function LE(e,t,i,u,h){let m=null;const w=i.directiveEnd;let _=i.directiveStylingLast;for(-1===_?_=i.directiveStart:_++;_<w&&(m=t[_],u=Yp(u,m.hostAttrs,h),m!==e);)_++;return null!==e&&(i.directiveStylingLast=_),u}function Yp(e,t,i){const u=i?1:2;let h=-1;if(null!==t)for(let m=0;m<t.length;m++){const w=t[m];"number"==typeof w?h=w:h===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),tr(e,w,!!i||t[++m]))}return void 0===e?null:e}function yb(e,t,i,u,h,m){const w=null===t;let _;for(;h>0;){const b=e[h],S=Array.isArray(b),N=S?b[1]:b,P=null===N;let H=i[h+1];H===At&&(H=P?ot:void 0);let q=P?$s(H,u):N===u?H:void 0;if(S&&!Ty(q)&&(q=$s(b,u)),Ty(q)&&(_=q,w))return _;const ne=e[h+1];h=w?y(ne):T(ne)}if(null!==t){let b=m?t.residualClasses:t.residualStyles;null!=b&&(_=$s(b,u))}return _}function Ty(e){return void 0!==e}function Ny(e,t,i,u){const h=he(),m=Ut(),w=et+e,_=h[Et],b=m.firstCreatePass?function dA(e,t,i,u,h,m){const w=t.consts,b=ws(t,e,2,u,Ci(w,h));return Ll(t,i,b,Ci(w,m)),null!==b.attrs&&qd(b,b.attrs,!1),null!==b.mergedAttrs&&qd(b,b.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,b),b}(w,m,h,t,i,u):m.data[w],S=_b(m,h,b,_,t,e);h[w]=S;const N=kf(b);return Vi(b,!0),Rl(_,S,b),!function mc(e){return!(32&~e.flags)}(b)&&Do()&&Zh(m,h,S,b),0===function Mg(){return _t.lFrame.elementDepthCount}()&&ur(S,h),function Ng(){_t.lFrame.elementDepthCount++}(),N&&(g1(m,h,b),p1(m,b,h)),null!==u&&kd(h,b),Ny}function Ry(){let e=hn();ji()?function Yn(){_t.lFrame.isParent=!1}():(e=e.parent,Vi(e,!1));const t=e;(function Og(e){return _t.skipHydrationRootTNode===e})(t)&&function mv(){_t.skipHydrationRootTNode=null}(),function Rg(){_t.lFrame.elementDepthCount--}();const i=Ut();return i.firstCreatePass&&(Kc(i,e),Of(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function ao(e){return!!(8&e.flags)}(t)&&FE(i,t,he(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Xu(e){return!!(16&e.flags)}(t)&&FE(i,t,he(),t.stylesWithoutHost,!1),Ry}function jE(e,t,i,u){return Ny(e,t,i,u),Ry(),jE}let _b=(e,t,i,u,h,m)=>(so(!0),Tl(u,h,function Yg(){return _t.lFrame.currentNamespace}()));function Ib(){return he()}const du=void 0;var vA=["en",[["a","p"],["AM","PM"],du],[["AM","PM"],du,du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",du,"{1} 'at' {0}",du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yA(e){const i=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let hf={};function zE(e){const t=function CA(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Tb(t);if(i)return i;const u=t.split("-")[0];if(i=Tb(u),i)return i;if("en"===u)return vA;throw new de(701,!1)}function Sb(e){return zE(e)[pf.PluralCase]}function Tb(e){return e in hf||(hf[e]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[e]),hf[e]}var pf=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(pf||{});const Oy="en-US";let Mb=Oy,Yb=(e,t,i)=>{};function XE(e,t,i,u){const h=he(),m=Ut(),w=hn();return YE(m,h,h[Et],w,e,t,u),XE}function YE(e,t,i,u,h,m,w){const _=kf(u),S=e.firstCreatePass&&I1(e),N=t[wn],P=ip(t);let H=!0;if(3&u.type||w){const ye=kr(u,t),Oe=w?w(ye):ye,Pe=P.length,me=w?tn=>w(Jt(tn[u.index])):u.index;let It=null;if(!w&&_&&(It=function aS(e,t,i,u){const h=e.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const w=h[m];if(w===i&&h[m+1]===u){const _=t[Oa],b=h[m+2];return _.length>b?_[b]:null}"string"==typeof w&&(m+=2)}return null}(e,t,h,u.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=m,It.__ngLastListenerFn__=m,H=!1;else{m=Qb(u,t,N,m),Yb(ye,h,m);const tn=i.listen(Oe,h,m);P.push(m,tn),S&&S.push(h,me,Pe,Pe+1)}}else m=Qb(u,t,N,m);const q=u.outputs;let ne;if(H&&null!==q&&(ne=q[h])){const ye=ne.length;if(ye)for(let Oe=0;Oe<ye;Oe+=2){const Sn=t[ne[Oe]][ne[Oe+1]].subscribe(m),ar=P.length;P.push(m,Sn),S&&S.push(h,u.index,ar,-(ar+1))}}}function Kb(e,t,i,u){const h=Z(null);try{return bo(6,t,i),!1!==i(u)}catch(m){return ri(e,m),!1}finally{bo(7,t,i),Z(h)}}function Qb(e,t,i,u){return function h(m){if(m===Function)return u;cc(e.componentOffset>-1?Jr(e.index,t):t,5);let _=Kb(t,i,u,m),b=h.__ngNextListenerFn__;for(;b;)_=Kb(t,i,b,m)&&_,b=b.__ngNextListenerFn__;return _}}function Jb(e=1){return function Ev(e){return(_t.lFrame.contextLView=function Sg(e,t){for(;e>0;)t=t[ka],e--;return t}(e,_t.lFrame.contextLView))[wn]}(e)}function Ly(e,t,i,u,h){const m=he(),w=Zo(m,t,i,u);return w!==At&&Br(Ut(),gn(),m,e,w,m[Et],h,!1),Ly}function l2(e,t,i,u){!function xm(e,t,i,u){const h=Ut();if(h.firstCreatePass){const m=hn();bm(h,new Cm(t,i,u),m.index),function zw(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(h,e),!(2&~i)&&(h.staticContentQueries=!0)}return Em(h,he(),i)}(e,t,i,u)}function u2(e,t,i){!function _m(e,t,i){const u=Ut();return u.firstCreatePass&&(bm(u,new Cm(e,t,i),-1),!(2&~t)&&(u.staticViewQueries=!0)),Em(u,he(),t)}(e,t,i)}function d2(e){const t=he(),i=Ut(),u=Gr();Gu(u+1);const h=Sp(i,u);if(e.dirty&&function pv(e){return!(4&~e[lt])}(t)===!(2&~h.metadata.flags)){if(null===h.matches)e.reset([]);else{const m=Im(t,u);e.reset(m,p0),e.notifyOnChanges()}return!0}return!1}function f2(){return function Kd(e,t){return e[no].queries[t].queryList}(he(),Gr())}function h2(e){return qs(function qn(){return _t.lFrame.contextLView}(),et+e)}function x2(e,t=""){const i=he(),u=Ut(),h=e+et,m=u.firstCreatePass?ws(u,h,1,t,null):u.data[h],w=b2(u,i,m,t,e);i[h]=w,Do()&&Zh(u,i,w,m),Vi(m,!1)}let b2=(e,t,i,u,h)=>(so(!0),function Sl(e,t){return e.createText(t)}(t[Et],u));function ZE(e){return By("",e,""),ZE}function By(e,t,i){const u=he(),h=Zo(u,e,t,i);return h!==At&&Vo(u,lr(),h),By}function KE(e,t,i,u,h){const m=he(),w=function uu(e,t,i,u,h,m){const _=gc(e,oo(),i,h);return En(2),_?t+wt(i)+u+wt(h)+m:At}(m,e,t,i,u,h);return w!==At&&Vo(m,lr(),w),KE}function QE(e,t,i,u,h,m,w){const _=he(),b=Ac(_,e,t,i,u,h,m,w);return b!==At&&Vo(_,lr(),b),QE}function JE(e,t,i){Mm(t)&&(t=t());const u=he();return Zn(u,Hi(),t)&&Br(Ut(),gn(),u,e,t,u[Et],i,!1),JE}function N2(e,t){const i=Mm(e);return i&&e.set(t),i}function e_(e,t){const i=he(),u=Ut(),h=hn();return YE(u,i,i[Et],h,e,t),e_}function t_(e,t,i,u,h){if(e=ct(e),Array.isArray(e))for(let m=0;m<e.length;m++)t_(e[m],t,i,u,h);else{const m=Ut(),w=he(),_=hn();let b=Mn(e)?e:ct(e.provide);const S=nv(e),N=1048575&_.providerIndexes,P=_.directiveStart,H=_.providerIndexes>>20;if(Mn(e)||!e.multi){const q=new ja(S,h,ic),ne=r_(b,t,h?N:N+H,P);-1===ne?(Jc(Mo(_,w),m,b),n_(m,e,t.length),t.push(b),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),i.push(q),w.push(q)):(i[ne]=q,w[ne]=q)}else{const q=r_(b,t,N+H,P),ne=r_(b,t,N,N+H),Oe=ne>=0&&i[ne];if(h&&!Oe||!h&&!(q>=0&&i[q])){Jc(Mo(_,w),m,b);const Pe=function NS(e,t,i,u,h){const m=new ja(e,i,ic);return m.multi=[],m.index=t,m.componentProviders=0,k2(m,h,u&&!i),m}(h?MS:TS,i.length,h,u,S);!h&&Oe&&(i[ne].providerFactory=Pe),n_(m,e,t.length,0),t.push(b),_.directiveStart++,_.directiveEnd++,h&&(_.providerIndexes+=1048576),i.push(Pe),w.push(Pe)}else n_(m,e,q>-1?q:ne,k2(i[h?ne:q],S,!h&&u));!h&&u&&Oe&&i[ne].componentProviders++}}}function n_(e,t,i,u){const h=Mn(t),m=function Hr(e){return!!e.useClass}(t);if(h||m){const b=(m?ct(t.useClass):t).prototype.ngOnDestroy;if(b){const S=e.destroyHooks||(e.destroyHooks=[]);if(!h&&t.multi){const N=S.indexOf(i);-1===N?S.push(i,[u,b]):S[N+1].push(u,b)}else S.push(i,b)}}}function k2(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function r_(e,t,i,u){for(let h=i;h<u;h++)if(t[h]===e)return h;return-1}function TS(e,t,i,u){return i_(this.multi,[])}function MS(e,t,i,u){const h=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,_=fs(i,i[Re],this.providerFactory.index,u);m=_.slice(0,w),i_(h,m);for(let b=w;b<_.length;b++)m.push(_[b])}else m=[],i_(h,m);return m}function i_(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function F2(e,t=[]){return i=>{i.providersResolver=(u,h)=>function SS(e,t,i){const u=Ut();if(u.firstCreatePass){const h=Ui(e);t_(i,u.data,u.blueprint,h,!0),t_(t,u.data,u.blueprint,h,!1)}}(u,h?h(e):e,t)}}let RS=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const u=Ae(0,i.type),h=u.length>0?Fp([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,h)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dn({token:e,providedIn:"environment",factory:()=>new e(On(Pi))})}}return e})();function P2(e){Mr("NgStandalone"),e.getStandaloneInjector=t=>t.get(RS).getOrCreateStandaloneInjector(e)}function U2(e,t,i){const u=Fr()+e,h=he();return h[u]===At?Yr(h,u,i?t.call(i):t()):function nu(e,t){return e[t]}(h,u)}function eg(e,t){const i=e[t];return i===At?void 0:i}function $2(e,t){const i=Ut();let u;const h=e+et;i.firstCreatePass?(u=function $S(e,t){if(t)for(let i=t.length-1;i>=0;i--){const u=t[i];if(e===u.name)return u}}(t,i.pipeRegistry),i.data[h]=u,u.onDestroy&&(i.destroyHooks??=[]).push(h,u.onDestroy)):u=i.data[h];const m=u.factory||(u.factory=le(u.type)),_=er(ic);try{const b=Yu(!1),S=m();return Yu(b),function qE(e,t,i,u){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),t[i]=u}(i,he(),h,S),S}finally{er(_)}}function W2(e,t,i){const u=e+et,h=he(),m=qs(h,u);return tg(h,u)?function V2(e,t,i,u,h,m){const w=t+i;return Zn(e,w,h)?Yr(e,w+1,m?u.call(m,h):u(h)):eg(e,w+1)}(h,Fr(),t,m.transform,i,m):m.transform(i)}function X2(e,t,i,u){const h=e+et,m=he(),w=qs(m,h);return tg(m,h)?function j2(e,t,i,u,h,m,w){const _=t+i;return gc(e,_,h,m)?Yr(e,_+2,w?u.call(w,h,m):u(h,m)):eg(e,_+2)}(m,Fr(),t,w.transform,i,u,w):w.transform(i,u)}function tg(e,t){return e[Re].data[t].pure}function Y2(e,t){return Gl(e,t)}class uI{constructor(t){this.full=t;const i=t.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}let dI=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const mI=new je(""),yI=new je("");let u_,jT=(()=>{class e{constructor(i,u,h){this._ngZone=i,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,u_||(function HT(e){u_=e}(h),h.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),i()},u)),this._callbacks.push({doneCb:i,timeoutId:m,updateCb:h})}whenStable(i,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,h),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,h){return[]}static{this.\u0275fac=function(u){return new(u||e)(On(Nn),On(vI),On(yI))}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac})}}return e})(),vI=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return u_?.findTestabilityInTree(this,i,u)??null}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function d_(e){return!!e&&"function"==typeof e.then}function CI(e){return!!e&&"function"==typeof e.subscribe}const wI=new je("");let EI=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,u)=>{this.resolve=i,this.reject=u}),this.appInits=$e(wI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const h of this.appInits){const m=h();if(d_(m))i.push(m);else if(CI(m)){const w=new Promise((_,b)=>{m.subscribe({complete:_,error:b})});i.push(w)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{u()}).catch(h=>{this.reject(h)}),0===i.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Gy=new je("");function xI(e,t){return Array.isArray(t)?t.reduce(xI,e):{...e,...t}}let Os=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$e(ea),this.afterRenderManager=$e(Ti),this.zonelessEnabled=$e(Zl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gt.B,this.afterTick=new Gt.B,this.componentTypes=[],this.components=[],this.isStable=$e(hs).hasPendingTasks.pipe((0,Vt.T)(i=>!i)),this._injector=$e(Pi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(u=>{i=this.isStable.subscribe({next:h=>{h&&u()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,u){const h=i instanceof Rw;if(!this._injector.get(EI).done)throw!h&&I(i),new de(405,!1);let w;w=h?i:this._injector.get(mp).resolveComponentFactory(i),this.componentTypes.push(w.componentType);const _=function GT(e){return e.isBoundToModule}(w)?void 0:this._injector.get(ma),S=w.create(Sr.NULL,[],u||w.selector,_),N=S.location.nativeElement,P=S.injector.get(mI,null);return P?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),zy(this.components,S),P?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new de(101,!1);const i=Z(null);try{this._runningTick=!0,this.synchronize()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1,Z(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(am,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let u=0;for(;0!==this.dirtyFlags&&u++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const u=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(u);for(let{_lView:h,notifyErrorHandler:m}of this._views)WT(h,m,u,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Lu(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;zy(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(Gy,[]);[...this._bootstrapListeners,...u].forEach(h=>h(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>zy(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new de(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zy(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}function WT(e,t,i,u){(i||Lu(e))&&jl(e,t,i&&!u?0:1)}class XT{constructor(t,i){this.ngModuleFactory=t,this.componentFactories=i}}let YT=(()=>{class e{compileModuleSync(i){return new kp(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),m=$r(A(i).declarations).reduce((w,_)=>{const b=v(_);return b&&w.push(new Zd(b)),w},[]);return new XT(u,m)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),KT=(()=>{class e{constructor(){this.zone=$e(Nn),this.changeDetectionScheduler=$e(pa),this.applicationRef=$e(Os)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function f_({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:i}){return e??=()=>new Nn({...h_(),scheduleInRootZone:i}),[{provide:Nn,useFactory:e},{provide:Oi,multi:!0,useFactory:()=>{const u=$e(KT,{optional:!0});return()=>u.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{const u=$e(JT);return()=>{u.initialize()}}},!0===t?{provide:Wo,useValue:!0}:[],{provide:Xo,useValue:i??u0}]}function h_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let JT=(()=>{class e{constructor(){this.subscription=new zt.yU,this.initialized=!1,this.zone=$e(Nn),this.pendingTasks=$e(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ig=(()=>{class e{constructor(){this.appRef=$e(Os),this.taskService=$e(hs),this.ngZone=$e(Nn),this.zonelessEnabled=$e(Zl),this.disableScheduling=$e(Wo,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new zt.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ju):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($e(Xo,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ht||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?f0:sh;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>u(()=>this.tick())):this.ngZone.runOutsideAngular(()=>u(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ju+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(u){throw this.taskService.remove(i),u}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const g_=new je("",{providedIn:"root",factory:()=>$e(g_,Ot.Optional|Ot.SkipSelf)||function eM(){return typeof $localize<"u"&&$localize.locale||Oy}()}),tM=new je("",{providedIn:"root",factory:()=>"USD"}),Wy=new je("");function Xy(e){return!e.moduleRef}let MI=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const h=u?.scheduleInRootZone,w=u?.ignoreChangesOutsideZone,_=[f_({ngZoneFactory:()=>function ti(e="zone.js",t){return"noop"===e?new Ht:"zone.js"===e?new Nn(t):e}(u?.ngZone,{...h_({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}),scheduleInRootZone:h}),ignoreChangesOutsideZone:w}),{provide:pa,useExisting:ig}],b=function uE(e,t,i){return new Op(e,t,i,!1)}(i.moduleType,this.injector,_);return function TI(e){const t=Xy(e)?e.r3Injector:e.moduleRef.injector,i=t.get(Nn);return i.run(()=>{Xy(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const u=t.get(Ii,null);let h;if(i.runOutsideAngular(()=>{h=i.onError.subscribe({next:m=>{u.handleError(m)}})}),Xy(e)){const m=()=>t.destroy(),w=e.platformInjector.get(Wy);w.add(m),t.onDestroy(()=>{h.unsubscribe(),w.delete(m)})}else{const m=()=>e.moduleRef.destroy(),w=e.platformInjector.get(Wy);w.add(m),e.moduleRef.onDestroy(()=>{zy(e.allPlatformModules,e.moduleRef),h.unsubscribe(),w.delete(m)})}return function $T(e,t,i){try{const u=i();return d_(u)?u.catch(h=>{throw t.runOutsideAngular(()=>e.handleError(h)),h}):u}catch(u){throw t.runOutsideAngular(()=>e.handleError(u)),u}}(u,i,()=>{const m=t.get(EI);return m.runInitializers(),m.donePromise.then(()=>{if(function xA(e){"string"==typeof e&&(Mb=e.toLowerCase().replace(/_/g,"-"))}(t.get(g_,Oy)||Oy),Xy(e)){const _=t.get(Os);return void 0!==e.rootComponent&&_.bootstrap(e.rootComponent),_}return function sM(e,t){const i=e.injector.get(Os);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(u=>i.bootstrap(u));else{if(!e.instance.ngDoBootstrap)throw new de(-403,!1);e.instance.ngDoBootstrap(i)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:b,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,u=[]){const h=xI({},u);return function ZT(e,t,i){const u=new kp(i);return Promise.resolve(u)}(0,0,i).then(m=>this.bootstrapModuleFactory(m,h))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new de(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(Wy,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||e)(On(Sr))}}static{this.\u0275prov=dn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Oc=null;const NI=new je("");function RI(e,t,i=[]){const u=`Platform: ${t}`,h=new je(u);return(m=[])=>{let w=m_();if(!w||w.injector.get(NI,!1)){const _=[...i,...m,{provide:h,useValue:!0}];e?e(_):function aM(e){if(Oc&&!Oc.get(NI,!1))throw new de(400,!1);(function _I(){!function ln(e){Ft=e}(()=>{throw new de(600,!1)})})(),Oc=e;const t=e.get(MI);(function kI(e){e.get(b0,null)?.forEach(i=>i())})(e)}(function OI(e=[],t){return Sr.create({name:t,providers:[{provide:eo,useValue:"platform"},{provide:Wy,useValue:new Set([()=>Oc=null])},...e]})}(_,u))}return function cM(){const t=m_();if(!t)throw new de(401,!1);return t}()}}function m_(){return Oc?.get(MI)??null}let PI=(()=>{class e{static{this.__NG_ELEMENT_ID__=uM}}return e})();function uM(e){return function dM(e,t,i){if(La(e)&&!i){const u=Jr(e.index,t);return new lc(u,u)}return 175&e.type?new lc(t[Dn],t):null}(hn(),he(),!(16&~e))}class VI{constructor(){}supports(t){return rf(t)}create(t){return new mM(t)}}const gM=(e,t)=>t;class mM{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||gM}forEachItem(t){let i;for(i=this._itHead;null!==i;i=i._next)t(i)}forEachOperation(t){let i=this._itHead,u=this._removalsHead,h=0,m=null;for(;i||u;){const w=!u||i&&i.currentIndex<HI(u,h,m)?i:u,_=HI(w,h,m),b=w.currentIndex;if(w===u)h--,u=u._nextRemoved;else if(i=i._next,null==w.previousIndex)h++;else{m||(m=[]);const S=_-h,N=b-h;if(S!=N){for(let H=0;H<S;H++){const q=H<m.length?m[H]:m[H]=0,ne=q+H;N<=ne&&ne<S&&(m[H]=q+1)}m[w.previousIndex]=N-S}}_!==b&&t(w,_,b)}}forEachPreviousItem(t){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachMovedItem(t){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}forEachIdentityChange(t){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)t(i)}diff(t){if(null==t&&(t=[]),!rf(t))throw new de(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let h,m,w,i=this._itHead,u=!1;if(Array.isArray(t)){this.length=t.length;for(let _=0;_<this.length;_++)m=t[_],w=this._trackByFn(_,m),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,m,w,_)),Object.is(i.item,m)||this._addIdentityChange(i,m)):(i=this._mismatch(i,m,w,_),u=!0),i=i._next}else h=0,function fE(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[Symbol.iterator]();let u;for(;!(u=i.next()).done;)t(u.value)}}(t,_=>{w=this._trackByFn(h,_),null!==i&&Object.is(i.trackById,w)?(u&&(i=this._verifyReinsertion(i,_,w,h)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,w,h),u=!0),i=i._next,h++}),this.length=h;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,i,u,h){let m;return null===t?m=this._itTail:(m=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._reinsertAfter(t,m,h)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(t.item,i)||this._addIdentityChange(t,i),this._moveAfter(t,m,h)):t=this._addAfter(new yM(i,u),m,h),t}_verifyReinsertion(t,i,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?t=this._reinsertAfter(m,t._prev,h):t.currentIndex!=h&&(t.currentIndex=h,this._addToMoves(t,h)),t}_truncate(t){for(;null!==t;){const i=t._next;this._addToRemovals(this._unlink(t)),t=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const h=t._prevRemoved,m=t._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(t,i,u),this._addToMoves(t,u),t}_moveAfter(t,i,u){return this._unlink(t),this._insertAfter(t,i,u),this._addToMoves(t,u),t}_addAfter(t,i,u){return this._insertAfter(t,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,i,u){const h=null===i?this._itHead:i._next;return t._next=h,t._prev=i,null===h?this._itTail=t:h._prev=t,null===i?this._itHead=t:i._next=t,null===this._linkedRecords&&(this._linkedRecords=new jI),this._linkedRecords.put(t),t.currentIndex=u,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const i=t._prev,u=t._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,t}_addToMoves(t,i){return t.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,i){return t.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class yM{constructor(t,i){this.item=t,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vM{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,t))return u;return null}remove(t){const i=t._prevDup,u=t._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class jI{constructor(){this.map=new Map}put(t){const i=t.trackById;let u=this.map.get(i);u||(u=new vM,this.map.set(i,u)),u.add(t)}get(t,i){const h=this.map.get(t);return h?h.get(t,i):null}remove(t){const i=t.trackById;return this.map.get(i).remove(t)&&this.map.delete(i),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HI(e,t,i){const u=e.previousIndex;if(null===u)return u;let h=0;return i&&u<i.length&&(h=i[u]),u+t+h}class GI{constructor(){}supports(t){return t instanceof Map||Pp(t)}create(){return new CM}}class CM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let i;for(i=this._mapHead;null!==i;i=i._next)t(i)}forEachPreviousItem(t){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)t(i)}forEachChangedItem(t){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)t(i)}forEachAddedItem(t){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)t(i)}forEachRemovedItem(t){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)t(i)}diff(t){if(t){if(!(t instanceof Map||Pp(t)))throw new de(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(t,(u,h)=>{if(i&&i.key===h)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const m=this._getOrCreateRecordForKey(h,u);i=this._insertBeforeOrAppend(i,m)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,i){if(t){const u=t._prev;return i._next=t,i._prev=u,t._prev=i,u&&(u._next=i),t===this._mapHead&&(this._mapHead=i),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(t,i){if(this._records.has(t)){const h=this._records.get(t);this._maybeAddToChanges(h,i);const m=h._prev,w=h._next;return m&&(m._next=w),w&&(w._prev=m),h._next=null,h._prev=null,h}const u=new wM(t);return this._records.set(t,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,i){Object.is(i,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=i,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,i){t instanceof Map?t.forEach(i):Object.keys(t).forEach(u=>i(t[u],u))}}class wM{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zI(){return new E_([new VI])}let E_=(()=>{class e{static{this.\u0275prov=dn({token:e,providedIn:"root",factory:zI})}constructor(i){this.factories=i}static create(i,u){if(null!=u){const h=u.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||zI()),deps:[[e,new Zr,new zs]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(null!=u)return u;throw new de(901,!1)}}return e})();function $I(){return new __([new GI])}let __=(()=>{class e{static{this.\u0275prov=dn({token:e,providedIn:"root",factory:$I})}constructor(i){this.factories=i}static create(i,u){if(u){const h=u.factories.slice();i=i.concat(h)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||$I()),deps:[[e,new Zr,new zs]]}}find(i){const u=this.factories.find(h=>h.supports(i));if(u)return u;throw new de(901,!1)}}return e})();const xM=RI(null,"core",[]);let bM=(()=>{class e{constructor(i){}static{this.\u0275fac=function(u){return new(u||e)(On(Os))}}static{this.\u0275mod=l({type:e})}static{this.\u0275inj=Ps({})}}return e})();function tN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function rN(e,t){Mr("NgSignals");const i=function te(e){const t=Object.create(we);t.computation=e;const i=()=>{if(Ee(t),se(t),t.value===Ie)throw t.error;return t.value};return i[X]=t,i}(e);return t?.equal&&(i[X].equal=t.equal),i}function iN(e){const t=Z(null);try{return e()}finally{Z(t)}}function uN(e){const t=v(e);if(!t)return null;const i=new Zd(t);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}}},tt=>{tt(tt.s=6576)}]);