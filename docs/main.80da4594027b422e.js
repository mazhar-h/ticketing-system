(self.webpackChunklogin_system=self.webpackChunklogin_system||[]).push([[792],{6426:(wt,me,G)=>{"use strict";var o=G(4438);let re=null;function N(){return re}class j{}const q=new o.nKC("");let ne=(()=>{class r{historyGo(t){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(ae),providedIn:"platform"})}}return r})();const Z=new o.nKC("");let ae=(()=>{class r extends ne{constructor(){super(),this._doc=(0,o.WQX)(q),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const s=N().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",t,!1),()=>s.removeEventListener("popstate",t)}onHashChange(t){const s=N().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",t,!1),()=>s.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,s,h){this._history.pushState(t,s,h)}replaceState(t,s,h){this._history.replaceState(t,s,h)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>new r,providedIn:"platform"})}}return r})();function te(r,a){if(0==r.length)return a;if(0==a.length)return r;let t=0;return r.endsWith("/")&&t++,a.startsWith("/")&&t++,2==t?r+a.substring(1):1==t?r+a:r+"/"+a}function _e(r){const a=r.match(/#|\?|$/),t=a&&a.index||r.length;return r.slice(0,t-("/"===r[t-1]?1:0))+r.slice(t)}function fe(r){return r&&"?"!==r[0]?"?"+r:r}let Re=(()=>{class r{historyGo(t){throw new Error("")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(at),providedIn:"root"})}}return r})();const Ve=new o.nKC("");let at=(()=>{class r extends Re{constructor(t,s){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??(0,o.WQX)(q).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return te(this._baseHref,t)}path(t=!1){const s=this._platformLocation.pathname+fe(this._platformLocation.search),h=this._platformLocation.hash;return h&&t?`${s}${h}`:s}pushState(t,s,h,y){const b=this.prepareExternalUrl(h+fe(y));this._platformLocation.pushState(t,s,b)}replaceState(t,s,h,y){const b=this.prepareExternalUrl(h+fe(y));this._platformLocation.replaceState(t,s,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(ne),o.KVO(Ve,8))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Oe=(()=>{class r extends Re{constructor(t,s){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(t){const s=te(this._baseHref,t);return s.length>0?"#"+s:s}pushState(t,s,h,y){let b=this.prepareExternalUrl(h+fe(y));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(t,s,b)}replaceState(t,s,h,y){let b=this.prepareExternalUrl(h+fe(y));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(t,s,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(ne),o.KVO(Ve,8))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})(),Ye=(()=>{class r{constructor(t){this._subject=new o.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const s=this._locationStrategy.getBaseHref();this._basePath=function We(r){if(new RegExp("^(https?:)?//").test(r)){const[,t]=r.split(/\/\/[^\/]+/);return t}return r}(_e(ke(s))),this._locationStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,s=""){return this.path()==this.normalize(t+fe(s))}normalize(t){return r.stripTrailingSlash(function Qe(r,a){if(!r||!a.startsWith(r))return a;const t=a.substring(r.length);return""===t||["/",";","?","#"].includes(t[0])?t:a}(this._basePath,ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,s="",h=null){this._locationStrategy.pushState(h,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),h)}replaceState(t,s="",h=null){this._locationStrategy.replaceState(h,"",t,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(s)),h)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",s){this._urlChangeListeners.forEach(h=>h(t,s))}subscribe(t,s,h){return this._subject.subscribe({next:t,error:s,complete:h})}static{this.normalizeQueryParams=fe}static{this.joinWithSlash=te}static{this.stripTrailingSlash=_e}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Re))}}static{this.\u0275prov=o.jDH({token:r,factory:()=>function ut(){return new Ye((0,o.KVO)(Re))}(),providedIn:"root"})}}return r})();function ke(r){return r.replace(/\/index.html$/,"")}const Ce={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Ne=function(r){return r[r.Decimal=0]="Decimal",r[r.Percent=1]="Percent",r[r.Currency=2]="Currency",r[r.Scientific=3]="Scientific",r}(Ne||{}),X=function(r){return r[r.Format=0]="Format",r[r.Standalone=1]="Standalone",r}(X||{}),le=function(r){return r[r.Narrow=0]="Narrow",r[r.Abbreviated=1]="Abbreviated",r[r.Wide=2]="Wide",r[r.Short=3]="Short",r}(le||{}),pe=function(r){return r[r.Short=0]="Short",r[r.Medium=1]="Medium",r[r.Long=2]="Long",r[r.Full=3]="Full",r}(pe||{});const J={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ct(r,a){return en((0,o.H5H)(r)[o.KH2.DateFormat],a)}function $e(r,a){return en((0,o.H5H)(r)[o.KH2.TimeFormat],a)}function Pe(r,a){return en((0,o.H5H)(r)[o.KH2.DateTimeFormat],a)}function Kt(r,a){const t=(0,o.H5H)(r),s=t[o.KH2.NumberSymbols][a];if(typeof s>"u"){if(a===J.CurrencyDecimal)return t[o.KH2.NumberSymbols][J.Decimal];if(a===J.CurrencyGroup)return t[o.KH2.NumberSymbols][J.Group]}return s}function Rt(r,a){return(0,o.H5H)(r)[o.KH2.NumberFormats][a]}function An(r){if(!r[o.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${r[o.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function en(r,a){for(let t=a;t>-1;t--)if(typeof r[t]<"u")return r[t];throw new Error("Locale data API: locale data undefined")}function Et(r){const[a,t]=r.split(":");return{hours:+a,minutes:+t}}const Pr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,or={},Bn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Yt=function(r){return r[r.Short=0]="Short",r[r.ShortGMT=1]="ShortGMT",r[r.Long=2]="Long",r[r.Extended=3]="Extended",r}(Yt||{}),$t=function(r){return r[r.FullYear=0]="FullYear",r[r.Month=1]="Month",r[r.Date=2]="Date",r[r.Hours=3]="Hours",r[r.Minutes=4]="Minutes",r[r.Seconds=5]="Seconds",r[r.FractionalSeconds=6]="FractionalSeconds",r[r.Day=7]="Day",r}($t||{}),st=function(r){return r[r.DayPeriods=0]="DayPeriods",r[r.Days=1]="Days",r[r.Months=2]="Months",r[r.Eras=3]="Eras",r}(st||{});function kn(r,a,t,s){let h=function yd(r){if(Za(r))return r;if("number"==typeof r&&!isNaN(r))return new Date(r);if("string"==typeof r){if(r=r.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(r)){const[h,y=1,b=1]=r.split("-").map(F=>+F);return sr(h,y-1,b)}const t=parseFloat(r);if(!isNaN(r-t))return new Date(t);let s;if(s=r.match(Pr))return function Yr(r){const a=new Date(0);let t=0,s=0;const h=r[8]?a.setUTCFullYear:a.setFullYear,y=r[8]?a.setUTCHours:a.setHours;r[9]&&(t=Number(r[9]+r[10]),s=Number(r[9]+r[11])),h.call(a,Number(r[1]),Number(r[2])-1,Number(r[3]));const b=Number(r[4]||0)-t,F=Number(r[5]||0)-s,U=Number(r[6]||0),k=Math.floor(1e3*parseFloat("0."+(r[7]||0)));return y.call(a,b,F,U,k),a}(s)}const a=new Date(r);if(!Za(a))throw new Error(`Unable to convert "${r}" into a date`);return a}(r);a=Un(t,a)||a;let F,b=[];for(;a;){if(F=Bn.exec(a),!F){b.push(a);break}{b=b.concat(F.slice(1));const ie=b.pop();if(!ie)break;a=ie}}let U=h.getTimezoneOffset();s&&(U=pr(s,U),h=function Mi(r,a,t){const s=t?-1:1,h=r.getTimezoneOffset();return function Ds(r,a){return(r=new Date(r.getTime())).setMinutes(r.getMinutes()+a),r}(r,s*(pr(a,h)-h))}(h,s,!0));let k="";return b.forEach(ie=>{const de=function Ai(r){if(Pt[r])return Pt[r];let a;switch(r){case"G":case"GG":case"GGG":a=yt(st.Eras,le.Abbreviated);break;case"GGGG":a=yt(st.Eras,le.Wide);break;case"GGGGG":a=yt(st.Eras,le.Narrow);break;case"y":a=gn($t.FullYear,1,0,!1,!0);break;case"yy":a=gn($t.FullYear,2,0,!0,!0);break;case"yyy":a=gn($t.FullYear,3,0,!1,!0);break;case"yyyy":a=gn($t.FullYear,4,0,!1,!0);break;case"Y":a=Sr(1);break;case"YY":a=Sr(2,!0);break;case"YYY":a=Sr(3);break;case"YYYY":a=Sr(4);break;case"M":case"L":a=gn($t.Month,1,1);break;case"MM":case"LL":a=gn($t.Month,2,1);break;case"MMM":a=yt(st.Months,le.Abbreviated);break;case"MMMM":a=yt(st.Months,le.Wide);break;case"MMMMM":a=yt(st.Months,le.Narrow);break;case"LLL":a=yt(st.Months,le.Abbreviated,X.Standalone);break;case"LLLL":a=yt(st.Months,le.Wide,X.Standalone);break;case"LLLLL":a=yt(st.Months,le.Narrow,X.Standalone);break;case"w":a=ca(1);break;case"ww":a=ca(2);break;case"W":a=ca(1,!0);break;case"d":a=gn($t.Date,1);break;case"dd":a=gn($t.Date,2);break;case"c":case"cc":a=gn($t.Day,1);break;case"ccc":a=yt(st.Days,le.Abbreviated,X.Standalone);break;case"cccc":a=yt(st.Days,le.Wide,X.Standalone);break;case"ccccc":a=yt(st.Days,le.Narrow,X.Standalone);break;case"cccccc":a=yt(st.Days,le.Short,X.Standalone);break;case"E":case"EE":case"EEE":a=yt(st.Days,le.Abbreviated);break;case"EEEE":a=yt(st.Days,le.Wide);break;case"EEEEE":a=yt(st.Days,le.Narrow);break;case"EEEEEE":a=yt(st.Days,le.Short);break;case"a":case"aa":case"aaa":a=yt(st.DayPeriods,le.Abbreviated);break;case"aaaa":a=yt(st.DayPeriods,le.Wide);break;case"aaaaa":a=yt(st.DayPeriods,le.Narrow);break;case"b":case"bb":case"bbb":a=yt(st.DayPeriods,le.Abbreviated,X.Standalone,!0);break;case"bbbb":a=yt(st.DayPeriods,le.Wide,X.Standalone,!0);break;case"bbbbb":a=yt(st.DayPeriods,le.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":a=yt(st.DayPeriods,le.Abbreviated,X.Format,!0);break;case"BBBB":a=yt(st.DayPeriods,le.Wide,X.Format,!0);break;case"BBBBB":a=yt(st.DayPeriods,le.Narrow,X.Format,!0);break;case"h":a=gn($t.Hours,1,-12);break;case"hh":a=gn($t.Hours,2,-12);break;case"H":a=gn($t.Hours,1);break;case"HH":a=gn($t.Hours,2);break;case"m":a=gn($t.Minutes,1);break;case"mm":a=gn($t.Minutes,2);break;case"s":a=gn($t.Seconds,1);break;case"ss":a=gn($t.Seconds,2);break;case"S":a=gn($t.FractionalSeconds,1);break;case"SS":a=gn($t.FractionalSeconds,2);break;case"SSS":a=gn($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":a=nn(Yt.Short);break;case"ZZZZZ":a=nn(Yt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":a=nn(Yt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":a=nn(Yt.Long);break;default:return null}return Pt[r]=a,a}(ie);k+=de?de(h,t,U):"''"===ie?"'":ie.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),k}function sr(r,a,t){const s=new Date(0);return s.setFullYear(r,a,t),s.setHours(0,0,0),s}function Un(r,a){const t=function Se(r){return(0,o.H5H)(r)[o.KH2.LocaleId]}(r);if(or[t]??={},or[t][a])return or[t][a];let s="";switch(a){case"shortDate":s=ct(r,pe.Short);break;case"mediumDate":s=ct(r,pe.Medium);break;case"longDate":s=ct(r,pe.Long);break;case"fullDate":s=ct(r,pe.Full);break;case"shortTime":s=$e(r,pe.Short);break;case"mediumTime":s=$e(r,pe.Medium);break;case"longTime":s=$e(r,pe.Long);break;case"fullTime":s=$e(r,pe.Full);break;case"short":const h=Un(r,"shortTime"),y=Un(r,"shortDate");s=Xr(Pe(r,pe.Short),[h,y]);break;case"medium":const b=Un(r,"mediumTime"),F=Un(r,"mediumDate");s=Xr(Pe(r,pe.Medium),[b,F]);break;case"long":const U=Un(r,"longTime"),k=Un(r,"longDate");s=Xr(Pe(r,pe.Long),[U,k]);break;case"full":const ie=Un(r,"fullTime"),de=Un(r,"fullDate");s=Xr(Pe(r,pe.Full),[ie,de])}return s&&(or[t][a]=s),s}function Xr(r,a){return a&&(r=r.replace(/\{([^}]+)}/g,function(t,s){return null!=a&&s in a?a[s]:t})),r}function Wt(r,a,t="-",s,h){let y="";(r<0||h&&r<=0)&&(h?r=1-r:(r=-r,y=t));let b=String(r);for(;b.length<a;)b="0"+b;return s&&(b=b.slice(b.length-a)),y+b}function gn(r,a,t=0,s=!1,h=!1){return function(y,b){let F=function Lt(r,a){switch(r){case $t.FullYear:return a.getFullYear();case $t.Month:return a.getMonth();case $t.Date:return a.getDate();case $t.Hours:return a.getHours();case $t.Minutes:return a.getMinutes();case $t.Seconds:return a.getSeconds();case $t.FractionalSeconds:return a.getMilliseconds();case $t.Day:return a.getDay();default:throw new Error(`Unknown DateType value "${r}".`)}}(r,y);if((t>0||F>-t)&&(F+=t),r===$t.Hours)0===F&&-12===t&&(F=12);else if(r===$t.FractionalSeconds)return function Xe(r,a){return Wt(r,3).substring(0,a)}(F,a);const U=Kt(b,J.MinusSign);return Wt(F,a,U,s,h)}}function yt(r,a,t=X.Format,s=!1){return function(h,y){return function Oo(r,a,t,s,h,y){switch(t){case st.Months:return function Ae(r,a,t){const s=(0,o.H5H)(r),y=en([s[o.KH2.MonthsFormat],s[o.KH2.MonthsStandalone]],a);return en(y,t)}(a,h,s)[r.getMonth()];case st.Days:return function ht(r,a,t){const s=(0,o.H5H)(r),y=en([s[o.KH2.DaysFormat],s[o.KH2.DaysStandalone]],a);return en(y,t)}(a,h,s)[r.getDay()];case st.DayPeriods:const b=r.getHours(),F=r.getMinutes();if(y){const k=function xn(r){const a=(0,o.H5H)(r);return An(a),(a[o.KH2.ExtraData][2]||[]).map(s=>"string"==typeof s?Et(s):[Et(s[0]),Et(s[1])])}(a),ie=function pn(r,a,t){const s=(0,o.H5H)(r);An(s);const y=en([s[o.KH2.ExtraData][0],s[o.KH2.ExtraData][1]],a)||[];return en(y,t)||[]}(a,h,s),de=k.findIndex(Ge=>{if(Array.isArray(Ge)){const[je,tt]=Ge,nt=b>=je.hours&&F>=je.minutes,rt=b<tt.hours||b===tt.hours&&F<tt.minutes;if(je.hours<tt.hours){if(nt&&rt)return!0}else if(nt||rt)return!0}else if(Ge.hours===b&&Ge.minutes===F)return!0;return!1});if(-1!==de)return ie[de]}return function ze(r,a,t){const s=(0,o.H5H)(r),y=en([s[o.KH2.DayPeriodsFormat],s[o.KH2.DayPeriodsStandalone]],a);return en(y,t)}(a,h,s)[b<12?0:1];case st.Eras:return function gt(r,a){return en((0,o.H5H)(r)[o.KH2.Eras],a)}(a,s)[r.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(h,y,r,a,t,s)}}function nn(r){return function(a,t,s){const h=-1*s,y=Kt(t,J.MinusSign),b=h>0?Math.floor(h/60):Math.ceil(h/60);switch(r){case Yt.Short:return(h>=0?"+":"")+Wt(b,2,y)+Wt(Math.abs(h%60),2,y);case Yt.ShortGMT:return"GMT"+(h>=0?"+":"")+Wt(b,1,y);case Yt.Long:return"GMT"+(h>=0?"+":"")+Wt(b,2,y)+":"+Wt(Math.abs(h%60),2,y);case Yt.Extended:return 0===s?"Z":(h>=0?"+":"")+Wt(b,2,y)+":"+Wt(Math.abs(h%60),2,y);default:throw new Error(`Unknown zone width "${r}"`)}}}const Wa=0,kt=4;function kc(r){const a=r.getDay(),t=0===a?-3:kt-a;return sr(r.getFullYear(),r.getMonth(),r.getDate()+t)}function ca(r,a=!1){return function(t,s){let h;if(a){const y=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,b=t.getDate();h=1+Math.floor((b+y)/7)}else{const y=kc(t),b=function Ro(r){const a=sr(r,Wa,1).getDay();return sr(r,0,1+(a<=kt?kt:kt+7)-a)}(y.getFullYear()),F=y.getTime()-b.getTime();h=1+Math.round(F/6048e5)}return Wt(h,r,Kt(s,J.MinusSign))}}function Sr(r,a=!1){return function(t,s){return Wt(kc(t).getFullYear(),r,Kt(s,J.MinusSign),a)}}const Pt={};function pr(r,a){r=r.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+r)/6e4;return isNaN(t)?a:t}function Za(r){return r instanceof Date&&!isNaN(r.valueOf())}const gr=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ct=22,Gi=".",dt="0",ts=";",la=",",qr="#";function ns(r,a,t,s,h,y,b=!1){let F="",U=!1;if(isFinite(r)){let k=function ko(r){let s,h,y,b,F,a=Math.abs(r)+"",t=0;for((h=a.indexOf(Gi))>-1&&(a=a.replace(Gi,"")),(y=a.search(/e/i))>0?(h<0&&(h=y),h+=+a.slice(y+1),a=a.substring(0,y)):h<0&&(h=a.length),y=0;a.charAt(y)===dt;y++);if(y===(F=a.length))s=[0],h=1;else{for(F--;a.charAt(F)===dt;)F--;for(h-=y,s=[],b=0;y<=F;y++,b++)s[b]=Number(a.charAt(y))}return h>Ct&&(s=s.splice(0,Ct-1),t=h-1,h=1),{digits:s,exponent:t,integerLen:h}}(r);b&&(k=function Rn(r){if(0===r.digits[0])return r;const a=r.digits.length-r.integerLen;return r.exponent?r.exponent+=2:(0===a?r.digits.push(0,0):1===a&&r.digits.push(0),r.integerLen+=2),r}(k));let ie=a.minInt,de=a.minFrac,Ge=a.maxFrac;if(y){const qn=y.match(gr);if(null===qn)throw new Error(`${y} is not a valid digit info`);const un=qn[1],er=qn[3],Vr=qn[5];null!=un&&(ie=ri(un)),null!=er&&(de=ri(er)),null!=Vr?Ge=ri(Vr):null!=er&&de>Ge&&(Ge=de)}!function co(r,a,t){if(a>t)throw new Error(`The minimum number of digits after fraction (${a}) is higher than the maximum (${t}).`);let s=r.digits,h=s.length-r.integerLen;const y=Math.min(Math.max(a,h),t);let b=y+r.integerLen,F=s[b];if(b>0){s.splice(Math.max(r.integerLen,b));for(let de=b;de<s.length;de++)s[de]=0}else{h=Math.max(0,h),r.integerLen=1,s.length=Math.max(1,b=y+1),s[0]=0;for(let de=1;de<b;de++)s[de]=0}if(F>=5)if(b-1<0){for(let de=0;de>b;de--)s.unshift(0),r.integerLen++;s.unshift(1),r.integerLen++}else s[b-1]++;for(;h<Math.max(0,y);h++)s.push(0);let U=0!==y;const k=a+r.integerLen,ie=s.reduceRight(function(de,Ge,je,tt){return tt[je]=(Ge+=de)<10?Ge:Ge-10,U&&(0===tt[je]&&je>=k?tt.pop():U=!1),Ge>=10?1:0},0);ie&&(s.unshift(ie),r.integerLen++)}(k,de,Ge);let je=k.digits,tt=k.integerLen;const nt=k.exponent;let rt=[];for(U=je.every(qn=>!qn);tt<ie;tt++)je.unshift(0);for(;tt<0;tt++)je.unshift(0);tt>0?rt=je.splice(tt,je.length):(rt=je,je=[0]);const Ot=[];for(je.length>=a.lgSize&&Ot.unshift(je.splice(-a.lgSize,je.length).join(""));je.length>a.gSize;)Ot.unshift(je.splice(-a.gSize,je.length).join(""));je.length&&Ot.unshift(je.join("")),F=Ot.join(Kt(t,s)),rt.length&&(F+=Kt(t,h)+rt.join("")),nt&&(F+=Kt(t,J.Exponential)+"+"+nt)}else F=Kt(t,J.Infinity);return F=r<0&&!U?a.negPre+F+a.negSuf:a.posPre+F+a.posSuf,F}function Pc(r,a="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=r.split(ts),h=s[0],y=s[1],b=-1!==h.indexOf(Gi)?h.split(Gi):[h.substring(0,h.lastIndexOf(dt)+1),h.substring(h.lastIndexOf(dt)+1)],F=b[0],U=b[1]||"";t.posPre=F.substring(0,F.indexOf(qr));for(let ie=0;ie<U.length;ie++){const de=U.charAt(ie);de===dt?t.minFrac=t.maxFrac=ie+1:de===qr?t.maxFrac=ie+1:t.posSuf+=de}const k=F.split(la);if(t.gSize=k[1]?k[1].length:0,t.lgSize=k[2]||k[1]?(k[2]||k[1]).length:0,y){const ie=h.length-t.posPre.length-t.posSuf.length,de=y.indexOf(qr);t.negPre=y.substring(0,de).replace(/'/g,""),t.negSuf=y.slice(de+ie).replace(/'/g,"")}else t.negPre=a+t.posPre,t.negSuf=t.posSuf;return t}function ri(r){const a=parseInt(r);if(isNaN(a))throw new Error("Invalid integer literal when parsing "+r);return a}function ui(r,a){a=encodeURIComponent(a);for(const t of r.split(";")){const s=t.indexOf("="),[h,y]=-1==s?[t,""]:[t.slice(0,s),t.slice(s+1)];if(h.trim()===a)return decodeURIComponent(y)}return null}const $i=/\s+/,mn=[];let _n=(()=>{class r{constructor(t,s){this._ngEl=t,this._renderer=s,this.initialClasses=mn,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split($i):mn}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split($i):t}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const s of t)this._updateState(s,!0);else if(null!=t)for(const s of Object.keys(t))this._updateState(s,!!t[s]);this._applyStateDiff()}_updateState(t,s){const h=this.stateMap.get(t);void 0!==h?(h.enabled!==s&&(h.changed=!0,h.enabled=s),h.touched=!0):this.stateMap.set(t,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const s=t[0],h=t[1];h.changed?(this._toggleClass(s,h.enabled),h.changed=!1):h.touched||(h.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),h.touched=!1}}_toggleClass(t,s){(t=t.trim()).length>0&&t.split($i).forEach(h=>{s?this._renderer.addClass(this._ngEl.nativeElement,h):this._renderer.removeClass(this._ngEl.nativeElement,h)})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.aKT),o.rXU(o.sFG))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return r})();class Pn{constructor(a,t,s,h){this.$implicit=a,this.ngForOf=t,this.index=s,this.count=h}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ar=(()=>{class r{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,s,h){this._viewContainer=t,this._template=s,this._differs=h,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const s=this._viewContainer;t.forEachOperation((h,y,b)=>{if(null==h.previousIndex)s.createEmbeddedView(this._template,new Pn(h.item,this._ngForOf,-1,-1),null===b?void 0:b);else if(null==b)s.remove(null===y?void 0:y);else if(null!==y){const F=s.get(y);s.move(F,b),Vn(F,h)}});for(let h=0,y=s.length;h<y;h++){const F=s.get(h).context;F.index=h,F.count=y,F.ngForOf=this._ngForOf}t.forEachIdentityChange(h=>{Vn(s.get(h.currentIndex),h)})}static ngTemplateContextGuard(t,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.c1b),o.rXU(o.C4Q),o.rXU(o._q3))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return r})();function Vn(r,a){r.context.$implicit=a.item}let Mn=(()=>{class r{constructor(t,s){this._viewContainer=t,this._context=new xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Zn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Zn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,s){return!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.c1b),o.rXU(o.C4Q))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return r})();class xt{constructor(){this.$implicit=null,this.ngIf=null}}function Zn(r,a){if(a&&!a.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,o.Tbb)(a)}'.`)}function Tt(r,a){return new o.wOt(2100,!1)}const br=new o.nKC(""),lt=new o.nKC("");let lo=(()=>{class r{constructor(t,s,h){this.locale=t,this.defaultTimezone=s,this.defaultOptions=h}transform(t,s,h,y){if(null==t||""===t||t!=t)return null;try{return kn(t,s??this.defaultOptions?.dateFormat??"mediumDate",y||this.locale,h??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(b){throw Tt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16),o.rXU(br,24),o.rXU(lt,24))}}static{this.\u0275pipe=o.EJ8({name:"date",type:r,pure:!0,standalone:!0})}}return r})(),Tr=(()=>{class r{constructor(t){this._locale=t}transform(t,s,h){if(!fa(t))return null;h||=this._locale;try{return function wd(r,a,t){return ns(r,Pc(Rt(a,Ne.Decimal),Kt(a,J.MinusSign)),a,J.Group,J.Decimal,t)}(Kn(t),h,s)}catch(y){throw Tt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16))}}static{this.\u0275pipe=o.EJ8({name:"number",type:r,pure:!0,standalone:!0})}}return r})(),Lr=(()=>{class r{constructor(t,s="USD"){this._locale=t,this._defaultCurrencyCode=s}transform(t,s=this._defaultCurrencyCode,h="symbol",y,b){if(!fa(t))return null;b||=this._locale,"boolean"==typeof h&&(h=h?"symbol":"code");let F=s||this._defaultCurrencyCode;"code"!==h&&(F="symbol"===h||"symbol-narrow"===h?function xr(r,a,t="en"){const s=function mt(r){return(0,o.H5H)(r)[o.KH2.Currencies]}(t)[r]||Ce[r]||[],h=s[1];return"narrow"===a&&"string"==typeof h?h:s[0]||r}(F,"symbol"===h?"wide":"narrow",b):h);try{return function Zl(r,a,t,s,h){const b=Pc(Rt(a,Ne.Currency),Kt(a,J.MinusSign));return b.minFrac=function tr(r){let a;const t=Ce[r];return t&&(a=t[2]),"number"==typeof a?a:2}(s),b.maxFrac=b.minFrac,ns(r,b,a,J.CurrencyGroup,J.CurrencyDecimal,h).replace("\xa4",t).replace("\xa4","").trim()}(Kn(t),b,F,s,y)}catch(U){throw Tt()}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.xe9,16),o.rXU(o.Ocv,16))}}static{this.\u0275pipe=o.EJ8({name:"currency",type:r,pure:!0,standalone:!0})}}return r})();function fa(r){return!(null==r||""===r||r!=r)}function Kn(r){if("string"==typeof r&&!isNaN(Number(r)-parseFloat(r)))return Number(r);if("number"!=typeof r)throw new Error(`${r} is not a number`);return r}let is=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();const rn="browser";function os(r){return"server"===r}let Ln=(()=>{class r{static{this.\u0275prov=(0,o.jDH)({token:r,providedIn:"root",factory:()=>function wi(r){return r===rn}((0,o.WQX)(o.Agw))?new Po((0,o.WQX)(q),window):new hi})}}return r})();class Po{constructor(a,t){this.document=a,this.window=t,this.offset=()=>[0,0]}setOffset(a){this.offset=Array.isArray(a)?()=>a:a}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(a){this.window.scrollTo(a[0],a[1])}scrollToAnchor(a){const t=function pa(r,a){const t=r.getElementById(a)||r.getElementsByName(a)[0];if(t)return t;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let h=s.currentNode;for(;h;){const y=h.shadowRoot;if(y){const b=y.getElementById(a)||y.querySelector(`[name="${a}"]`);if(b)return b}h=s.nextNode()}}return null}(this.document,a);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(a){this.window.history.scrollRestoration=a}scrollToElement(a){const t=a.getBoundingClientRect(),s=t.left+this.window.pageXOffset,h=t.top+this.window.pageYOffset,y=this.offset();this.window.scrollTo(s-y[0],h-y[1])}}class hi{setOffset(a){}getScrollPosition(){return[0,0]}scrollToPosition(a){}scrollToAnchor(a){}setHistoryScrollRestoration(a){}}class Bc{}class xd extends j{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wr extends xd{static makeCurrent(){!function P(r){re??=r}(new wr)}onAndCancel(a,t,s){return a.addEventListener(t,s),()=>{a.removeEventListener(t,s)}}dispatchEvent(a,t){a.dispatchEvent(t)}remove(a){a.remove()}createElement(a,t){return(t=t||this.getDefaultDocument()).createElement(a)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(a){return a.nodeType===Node.ELEMENT_NODE}isShadowRoot(a){return a instanceof DocumentFragment}getGlobalEventTarget(a,t){return"window"===t?window:"document"===t?a:"body"===t?a.body:null}getBaseHref(a){const t=function bd(){return Ps=Ps||document.querySelector("base"),Ps?Ps.getAttribute("href"):null}();return null==t?null:function nc(r){return new URL(r,document.baseURI).pathname}(t)}resetBaseElement(){Ps=null}getUserAgent(){return window.navigator.userAgent}getCookie(a){return ui(document.cookie,a)}}let Ps=null,v=(()=>{class r{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const x=new o.nKC("");let M=(()=>{class r{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(h=>{h.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,s,h){return this._findPluginFor(s).addEventListener(t,s,h)}getZone(){return this._zone}_findPluginFor(t){let s=this._eventNameToPlugin.get(t);if(s)return s;if(s=this._plugins.find(y=>y.supports(t)),!s)throw new o.wOt(5101,!1);return this._eventNameToPlugin.set(t,s),s}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(x),o.KVO(o.SKi))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class B{constructor(a){this._doc=a}}const $="ng-app-id";let ce=(()=>{class r{constructor(t,s,h,y={}){this.doc=t,this.appId=s,this.nonce=h,this.platformId=y,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=os(y),this.resetHostNodes()}addStyles(t){for(const s of t)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(t){for(const s of t)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(s=>s.remove()),t.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const s of this.getAllStyles())this.addStyleToHost(t,s)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const s of this.hostNodes)this.addStyleToHost(s,t)}onStyleRemoved(t){const s=this.styleRef;s.get(t)?.elements?.forEach(h=>h.remove()),s.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${$}="${this.appId}"]`);if(t?.length){const s=new Map;return t.forEach(h=>{null!=h.textContent&&s.set(h.textContent,h)}),s}return null}changeUsageCount(t,s){const h=this.styleRef;if(h.has(t)){const y=h.get(t);return y.usage+=s,y.usage}return h.set(t,{usage:s,elements:[]}),s}getStyleElement(t,s){const h=this.styleNodesInDOM,y=h?.get(s);if(y?.parentNode===t)return h.delete(s),y.removeAttribute($),y;{const b=this.doc.createElement("style");return this.nonce&&b.setAttribute("nonce",this.nonce),b.textContent=s,this.platformIsServer&&b.setAttribute($,this.appId),t.appendChild(b),b}}addStyleToHost(t,s){const h=this.getStyleElement(t,s),y=this.styleRef,b=y.get(s)?.elements;b?b.push(h):y.set(s,{elements:[h],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(q),o.KVO(o.sZ2),o.KVO(o.BIS,8),o.KVO(o.Agw))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const we={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ee=/%COMP%/g,Nn=new o.nKC("",{providedIn:"root",factory:()=>!0});function sn(r,a){return a.map(t=>t.replace(Ee,r))}let Hn=(()=>{class r{constructor(t,s,h,y,b,F,U,k=null){this.eventManager=t,this.sharedStylesHost=s,this.appId=h,this.removeStylesOnCompDestroy=y,this.doc=b,this.platformId=F,this.ngZone=U,this.nonce=k,this.rendererByCompId=new Map,this.platformIsServer=os(F),this.defaultRenderer=new ki(t,b,U,this.platformIsServer)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===o.gXe.ShadowDom&&(s={...s,encapsulation:o.gXe.Emulated});const h=this.getOrCreateRenderer(t,s);return h instanceof Gn?h.applyToHost(t):h instanceof zn&&h.applyStyles(),h}getOrCreateRenderer(t,s){const h=this.rendererByCompId;let y=h.get(s.id);if(!y){const b=this.doc,F=this.ngZone,U=this.eventManager,k=this.sharedStylesHost,ie=this.removeStylesOnCompDestroy,de=this.platformIsServer;switch(s.encapsulation){case o.gXe.Emulated:y=new Gn(U,k,s,this.appId,ie,b,F,de);break;case o.gXe.ShadowDom:return new wa(U,k,t,s,b,F,this.nonce,de);default:y=new zn(U,k,s,ie,b,F,de)}h.set(s.id,y)}return y}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(M),o.KVO(ce),o.KVO(o.sZ2),o.KVO(Nn),o.KVO(q),o.KVO(o.Agw),o.KVO(o.SKi),o.KVO(o.BIS))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class ki{constructor(a,t,s,h){this.eventManager=a,this.doc=t,this.ngZone=s,this.platformIsServer=h,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(a,t){return t?this.doc.createElementNS(we[t]||t,a):this.doc.createElement(a)}createComment(a){return this.doc.createComment(a)}createText(a){return this.doc.createTextNode(a)}appendChild(a,t){(Xc(a)?a.content:a).appendChild(t)}insertBefore(a,t,s){a&&(Xc(a)?a.content:a).insertBefore(t,s)}removeChild(a,t){t.remove()}selectRootElement(a,t){let s="string"==typeof a?this.doc.querySelector(a):a;if(!s)throw new o.wOt(-5104,!1);return t||(s.textContent=""),s}parentNode(a){return a.parentNode}nextSibling(a){return a.nextSibling}setAttribute(a,t,s,h){if(h){t=h+":"+t;const y=we[h];y?a.setAttributeNS(y,t,s):a.setAttribute(t,s)}else a.setAttribute(t,s)}removeAttribute(a,t,s){if(s){const h=we[s];h?a.removeAttributeNS(h,t):a.removeAttribute(`${s}:${t}`)}else a.removeAttribute(t)}addClass(a,t){a.classList.add(t)}removeClass(a,t){a.classList.remove(t)}setStyle(a,t,s,h){h&(o.czy.DashCase|o.czy.Important)?a.style.setProperty(t,s,h&o.czy.Important?"important":""):a.style[t]=s}removeStyle(a,t,s){s&o.czy.DashCase?a.style.removeProperty(t):a.style[t]=""}setProperty(a,t,s){null!=a&&(a[t]=s)}setValue(a,t){a.nodeValue=t}listen(a,t,s){if("string"==typeof a&&!(a=N().getGlobalEventTarget(this.doc,a)))throw new Error(`Unsupported event target ${a} for event ${t}`);return this.eventManager.addEventListener(a,t,this.decoratePreventDefault(s))}decoratePreventDefault(a){return t=>{if("__ngUnwrap__"===t)return a;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>a(t)):a(t))&&t.preventDefault()}}}function Xc(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class wa extends ki{constructor(a,t,s,h,y,b,F,U){super(a,y,b,U),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const k=sn(h.id,h.styles);for(const ie of k){const de=document.createElement("style");F&&de.setAttribute("nonce",F),de.textContent=ie,this.shadowRoot.appendChild(de)}}nodeOrShadowRoot(a){return a===this.hostEl?this.shadowRoot:a}appendChild(a,t){return super.appendChild(this.nodeOrShadowRoot(a),t)}insertBefore(a,t,s){return super.insertBefore(this.nodeOrShadowRoot(a),t,s)}removeChild(a,t){return super.removeChild(null,t)}parentNode(a){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(a)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zn extends ki{constructor(a,t,s,h,y,b,F,U){super(a,y,b,F),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=h,this.styles=U?sn(U,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Gn extends zn{constructor(a,t,s,h,y,b,F,U){const k=h+"-"+s.id;super(a,t,s,y,b,F,U,k),this.contentAttr=function In(r){return"_ngcontent-%COMP%".replace(Ee,r)}(k),this.hostAttr=function Gr(r){return"_nghost-%COMP%".replace(Ee,r)}(k)}applyToHost(a){this.applyStyles(),this.setAttribute(a,this.hostAttr,"")}createElement(a,t){const s=super.createElement(a,t);return super.setAttribute(s,this.contentAttr,""),s}}let Uo=(()=>{class r extends B{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,h){return t.addEventListener(s,h,!1),()=>this.removeEventListener(t,s,h)}removeEventListener(t,s,h){return t.removeEventListener(s,h)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(q))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const vo=["alt","control","meta","shift"],Ea={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Id={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let yo=(()=>{class r extends B{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,s,h){const y=r.parseEventName(s),b=r.eventCallback(y.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,y.domEventName,b))}static parseEventName(t){const s=t.toLowerCase().split("."),h=s.shift();if(0===s.length||"keydown"!==h&&"keyup"!==h)return null;const y=r._normalizeKey(s.pop());let b="",F=s.indexOf("code");if(F>-1&&(s.splice(F,1),b="code."),vo.forEach(k=>{const ie=s.indexOf(k);ie>-1&&(s.splice(ie,1),b+=k+".")}),b+=y,0!=s.length||0===y.length)return null;const U={};return U.domEventName=h,U.fullKey=b,U}static matchEventFullKeyCode(t,s){let h=Ea[t.key]||t.key,y="";return s.indexOf("code.")>-1&&(h=t.code,y="code."),!(null==h||!h)&&(h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),vo.forEach(b=>{b!==h&&(0,Id[b])(t)&&(y+=b+".")}),y+=h,y===s)}static eventCallback(t,s,h){return y=>{r.matchEventFullKeyCode(y,t)&&h.runGuarded(()=>s(y))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(q))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const Ar=(0,o.oH4)(o.fpN,"browser",[{provide:o.Agw,useValue:rn},{provide:o.PLl,useValue:function Ql(){wr.makeCurrent()},multi:!0},{provide:q,useFactory:function Dd(){return(0,o.TL$)(document),document},deps:[]}]),Sd=new o.nKC(""),Br=[{provide:o.e01,useClass:class d{addToWindow(a){o.JZv.getAngularTestability=(s,h=!0)=>{const y=a.findTestabilityInTree(s,h);if(null==y)throw new o.wOt(5103,!1);return y},o.JZv.getAllAngularTestabilities=()=>a.getAllTestabilities(),o.JZv.getAllAngularRootElements=()=>a.getAllRootElements(),o.JZv.frameworkStabilizers||(o.JZv.frameworkStabilizers=[]),o.JZv.frameworkStabilizers.push(s=>{const h=o.JZv.getAllAngularTestabilities();let y=h.length;const b=function(){y--,0==y&&s()};h.forEach(F=>{F.whenStable(b)})})}findTestabilityInTree(a,t,s){return null==t?null:a.getTestability(t)??(s?N().isShadowRoot(t)?this.findTestabilityInTree(a,t.host,!0):this.findTestabilityInTree(a,t.parentElement,!0):null)}},deps:[]},{provide:o.WHO,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]},{provide:o.NYb,useClass:o.NYb,deps:[o.SKi,o.giA,o.e01]}],oi=[{provide:o.H8p,useValue:"root"},{provide:o.zcH,useFactory:function ls(){return new o.zcH},deps:[]},{provide:x,useClass:Uo,multi:!0,deps:[q,o.SKi,o.Agw]},{provide:x,useClass:yo,multi:!0,deps:[q]},Hn,ce,M,{provide:o._9s,useExisting:Hn},{provide:Bc,useClass:v,deps:[]},[]];let mf=(()=>{class r{constructor(t){}static withServerTransition(t){return{ngModule:r,providers:[{provide:o.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Sd,12))}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({providers:[...oi,...Br],imports:[is,o.Hbi]})}}return r})(),Vo=(()=>{class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(q))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Kr=G(1985),gi=G(8071);function us(r){return this instanceof us?(this.v=r,this):new us(r)}function xf(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=r[Symbol.asyncIterator];return a?a.call(r):(r=function Ef(r){var a="function"==typeof Symbol&&Symbol.iterator,t=a&&r[a],s=0;if(t)return t.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(y){t[y]=r[y]&&function(b){return new Promise(function(F,U){!function h(y,b,F,U){Promise.resolve(U).then(function(k){y({value:k,done:F})},b)}(F,U,(b=r[y](b)).done,b.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Df=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function ay(r){return(0,gi.T)(r?.then)}var wm=G(3494);function Em(r){return(0,gi.T)(r[wm.s])}function xm(r){return Symbol.asyncIterator&&(0,gi.T)(r?.[Symbol.asyncIterator])}function Sf(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bm=function sc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Im(r){return(0,gi.T)(r?.[bm])}function Dm(r){return function _m(r,a,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h,s=t.apply(r,a||[]),y=[];return h=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),F("next"),F("throw"),F("return",function b(je){return function(tt){return Promise.resolve(tt).then(je,de)}}),h[Symbol.asyncIterator]=function(){return this},h;function F(je,tt){s[je]&&(h[je]=function(nt){return new Promise(function(rt,Ot){y.push([je,nt,rt,Ot])>1||U(je,nt)})},tt&&(h[je]=tt(h[je])))}function U(je,tt){try{!function k(je){je.value instanceof us?Promise.resolve(je.value.v).then(ie,de):Ge(y[0][2],je)}(s[je](tt))}catch(nt){Ge(y[0][3],nt)}}function ie(je){U("next",je)}function de(je){U("throw",je)}function Ge(je,tt){je(tt),y.shift(),y.length&&U(y[0][0],y[0][1])}}(this,arguments,function*(){const t=r.getReader();try{for(;;){const{value:s,done:h}=yield us(t.read());if(h)return yield us(void 0);yield yield us(s)}}finally{t.releaseLock()}})}function Sm(r){return(0,gi.T)(r?.getReader)}var cy=G(5334);function Me(r){if(r instanceof Kr.c)return r;if(null!=r){if(Em(r))return function hn(r){return new Kr.c(a=>{const t=r[wm.s]();if((0,gi.T)(t.subscribe))return t.subscribe(a);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(Df(r))return function Tm(r){return new Kr.c(a=>{for(let t=0;t<r.length&&!a.closed;t++)a.next(r[t]);a.complete()})}(r);if(ay(r))return function Am(r){return new Kr.c(a=>{r.then(t=>{a.closed||(a.next(t),a.complete())},t=>a.error(t)).then(null,cy.m)})}(r);if(xm(r))return Tf(r);if(Im(r))return function $n(r){return new Kr.c(a=>{for(const t of r)if(a.next(t),a.closed)return;a.complete()})}(r);if(Sm(r))return function Jl(r){return Tf(Dm(r))}(r)}throw Sf(r)}function Tf(r){return new Kr.c(a=>{(function jo(r,a){var t,s,h,y;return function Dn(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function*(){try{for(t=xf(r);!(s=yield t.next()).done;)if(a.next(s.value),a.closed)return}catch(b){h={error:b}}finally{try{s&&!s.done&&(y=t.return)&&(yield y.call(t))}finally{if(h)throw h.error}}a.complete()})})(r,a).catch(t=>a.error(t))})}function Ho(r,a,t,s=0,h=!1){const y=a.schedule(function(){t(),h?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(y),!h)return y}var Mr=G(9974),Nr=G(4360);function ly(r,a=0){return(0,Mr.N)((t,s)=>{t.subscribe((0,Nr._)(s,h=>Ho(s,r,()=>s.next(h),a),()=>Ho(s,r,()=>s.complete(),a),h=>Ho(s,r,()=>s.error(h),a)))})}function uy(r,a=0){return(0,Mr.N)((t,s)=>{s.add(r.schedule(()=>t.subscribe(s),a))})}function ds(r,a){if(!r)throw new Error("Iterable cannot be null");return new Kr.c(t=>{Ho(t,a,()=>{const s=r[Symbol.asyncIterator]();Ho(t,a,()=>{s.next().then(h=>{h.done?t.complete():t.next(h.value)})},0,!0)})})}function Jn(r,a){return a?function zo(r,a){if(null!=r){if(Em(r))return function Mm(r,a){return Me(r).pipe(uy(a),ly(a))}(r,a);if(Df(r))return function Om(r,a){return new Kr.c(t=>{let s=0;return a.schedule(function(){s===r.length?t.complete():(t.next(r[s++]),t.closed||this.schedule())})})}(r,a);if(ay(r))return function Nm(r,a){return Me(r).pipe(uy(a),ly(a))}(r,a);if(xm(r))return ds(r,a);if(Im(r))return function Ii(r,a){return new Kr.c(t=>{let s;return Ho(t,a,()=>{s=r[bm](),Ho(t,a,()=>{let h,y;try{({value:h,done:y}=s.next())}catch(b){return void t.error(b)}y?t.complete():t.next(h)},0,!0)}),()=>(0,gi.T)(s?.return)&&s.return()})}(r,a);if(Sm(r))return function Rm(r,a){return ds(Dm(r),a)}(r,a)}throw Sf(r)}(r,a):Me(r)}function kd(r){return r[r.length-1]}function km(r){return(0,gi.T)(kd(r))?r.pop():void 0}function Pd(r){return function dy(r){return r&&(0,gi.T)(r.schedule)}(kd(r))?r.pop():void 0}function Nt(...r){return Jn(r,Pd(r))}var Qr=G(4412);const{isArray:Ld}=Array,{getPrototypeOf:hy,prototype:Lm,keys:Af}=Object;function Mf(r){if(1===r.length){const a=r[0];if(Ld(a))return{args:a,keys:null};if(function Fm(r){return r&&"object"==typeof r&&hy(r)===Lm}(a)){const t=Af(a);return{args:t.map(s=>a[s]),keys:t}}}return{args:r,keys:null}}var xa=G(3669),Sn=G(6354);const{isArray:Nf}=Array;function Jr(r){return(0,Sn.T)(a=>function fy(r,a){return Nf(a)?r(...a):r(a)}(r,a))}function ba(r,a){return r.reduce((t,s,h)=>(t[s]=a[h],t),{})}function Xn(...r){const a=Pd(r),t=km(r),{args:s,keys:h}=Mf(r);if(0===s.length)return Jn([],a);const y=new Kr.c(function Bm(r,a,t=xa.D){return s=>{Um(a,()=>{const{length:h}=r,y=new Array(h);let b=h,F=h;for(let U=0;U<h;U++)Um(a,()=>{const k=Jn(r[U],a);let ie=!1;k.subscribe((0,Nr._)(s,de=>{y[U]=de,ie||(ie=!0,F--),F||s.next(t(y.slice()))},()=>{--b||s.complete()}))},s)},s)}}(s,a,h?b=>ba(h,b):xa.D));return t?y.pipe(Jr(t)):y}function Um(r,a,t){r?Ho(t,r,a):a()}const eu=(0,G(1853).L)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function si(r,a,t=1/0){return(0,gi.T)(a)?si((s,h)=>(0,Sn.T)((y,b)=>a(s,y,h,b))(Me(r(s,h))),t):("number"==typeof a&&(t=a),(0,Mr.N)((s,h)=>function jm(r,a,t,s,h,y,b,F){const U=[];let k=0,ie=0,de=!1;const Ge=()=>{de&&!U.length&&!k&&a.complete()},je=nt=>k<s?tt(nt):U.push(nt),tt=nt=>{y&&a.next(nt),k++;let rt=!1;Me(t(nt,ie++)).subscribe((0,Nr._)(a,Ot=>{h?.(Ot),y?je(Ot):a.next(Ot)},()=>{rt=!0},void 0,()=>{if(rt)try{for(k--;U.length&&k<s;){const Ot=U.shift();b?Ho(a,b,()=>tt(Ot)):tt(Ot)}Ge()}catch(Ot){a.error(Ot)}}))};return r.subscribe((0,Nr._)(a,je,()=>{de=!0,Ge()})),()=>{F?.()}}(s,h,r,t)))}function Bs(r=1/0){return si(xa.D,r)}function Of(...r){return function hs(){return Bs(1)}()(Jn(r,Pd(r)))}function tu(r){return new Kr.c(a=>{Me(r()).subscribe(a)})}var Fd=G(1203);function Us(r,a){const t=(0,gi.T)(r)?r:()=>r,s=h=>h.error(t());return new Kr.c(a?h=>a.schedule(s,0,h):s)}const wo=new Kr.c(r=>r.complete());var Bd=G(8359);function Ia(){return(0,Mr.N)((r,a)=>{let t=null;r._refCount++;const s=(0,Nr._)(a,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(t=null);const h=r._connection,y=t;t=null,h&&(!y||h===y)&&h.unsubscribe(),a.unsubscribe()});r.subscribe(s),s.closed||(t=r.connect())})}class el extends Kr.c{constructor(a,t){super(),this.source=a,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mr.S)(a)&&(this.lift=a.lift)}_subscribe(a){return this.getSubject().subscribe(a)}getSubject(){const a=this._subject;return(!a||a.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:a}=this;this._subject=this._connection=null,a?.unsubscribe()}connect(){let a=this._connection;if(!a){a=this._connection=new Bd.yU;const t=this.getSubject();a.add(this.source.subscribe((0,Nr._)(t,void 0,()=>{this._teardown(),t.complete()},s=>{this._teardown(),t.error(s)},()=>this._teardown()))),a.closed&&(this._connection=null,a=Bd.yU.EMPTY)}return a}refCount(){return Ia()(this)}}var Vs=G(1413);function Ur(r,a){return(0,Mr.N)((t,s)=>{let h=null,y=0,b=!1;const F=()=>b&&!h&&s.complete();t.subscribe((0,Nr._)(s,U=>{h?.unsubscribe();let k=0;const ie=y++;Me(r(U,ie)).subscribe(h=(0,Nr._)(s,de=>s.next(a?a(U,de,ie,k++):de),()=>{h=null,F()}))},()=>{b=!0,F()}))})}function Da(r){return r<=0?()=>wo:(0,Mr.N)((a,t)=>{let s=0;a.subscribe((0,Nr._)(t,h=>{++s<=r&&(t.next(h),r<=s&&t.complete())}))})}function fs(r,a){return(0,Mr.N)((t,s)=>{let h=0;t.subscribe((0,Nr._)(s,y=>r.call(a,y,h++)&&s.next(y)))})}function Ud(r){return(0,Mr.N)((a,t)=>{let s=!1;a.subscribe((0,Nr._)(t,h=>{s=!0,t.next(h)},()=>{s||t.next(r),t.complete()}))})}function my(r=Ix){return(0,Mr.N)((a,t)=>{let s=!1;a.subscribe((0,Nr._)(t,h=>{s=!0,t.next(h)},()=>s?t.complete():t.error(r())))})}function Ix(){return new eu}function js(r,a){const t=arguments.length>=2;return s=>s.pipe(r?fs((h,y)=>r(h,y,s)):xa.D,Da(1),t?Ud(a):my(()=>new eu))}function Eo(r,a){return(0,gi.T)(a)?si(r,a,1):si(r,1)}function ei(r,a,t){const s=(0,gi.T)(r)||a||t?{next:r,error:a,complete:t}:r;return s?(0,Mr.N)((h,y)=>{var b;null===(b=s.subscribe)||void 0===b||b.call(s);let F=!0;h.subscribe((0,Nr._)(y,U=>{var k;null===(k=s.next)||void 0===k||k.call(s,U),y.next(U)},()=>{var U;F=!1,null===(U=s.complete)||void 0===U||U.call(s),y.complete()},U=>{var k;F=!1,null===(k=s.error)||void 0===k||k.call(s,U),y.error(U)},()=>{var U,k;F&&(null===(U=s.unsubscribe)||void 0===U||U.call(s)),null===(k=s.finalize)||void 0===k||k.call(s)}))}):xa.D}function mi(r){return(0,Mr.N)((a,t)=>{let y,s=null,h=!1;s=a.subscribe((0,Nr._)(t,void 0,void 0,b=>{y=Me(r(b,mi(r)(a))),s?(s.unsubscribe(),s=null,y.subscribe(t)):h=!0})),h&&(s.unsubscribe(),s=null,y.subscribe(t))})}function Rf(r){return r<=0?()=>wo:(0,Mr.N)((a,t)=>{let s=[];a.subscribe((0,Nr._)(t,h=>{s.push(h),r<s.length&&s.shift()},()=>{for(const h of s)t.next(h);t.complete()},void 0,()=>{s=null}))})}function jd(r){return(0,Mr.N)((a,t)=>{try{a.subscribe(t)}finally{t.add(r)}})}var zm=G(5343);const ln="primary",Pi=Symbol("RouteTitle");class vy{constructor(a){this.params=a||{}}has(a){return Object.prototype.hasOwnProperty.call(this.params,a)}get(a){if(this.has(a)){const t=this.params[a];return Array.isArray(t)?t[0]:t}return null}getAll(a){if(this.has(a)){const t=this.params[a];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hs(r){return new vy(r)}function Pf(r,a,t){const s=t.path.split("/");if(s.length>r.length||"full"===t.pathMatch&&(a.hasChildren()||s.length<r.length))return null;const h={};for(let y=0;y<s.length;y++){const b=s[y],F=r[y];if(":"===b[0])h[b.substring(1)]=F;else if(b!==F.path)return null}return{consumed:r.slice(0,s.length),posParams:h}}function no(r,a){const t=r?ru(r):void 0,s=a?ru(a):void 0;if(!t||!s||t.length!=s.length)return!1;let h;for(let y=0;y<t.length;y++)if(h=t[y],!Wm(r[h],a[h]))return!1;return!0}function ru(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Wm(r,a){if(Array.isArray(r)&&Array.isArray(a)){if(r.length!==a.length)return!1;const t=[...r].sort(),s=[...a].sort();return t.every((h,y)=>s[y]===h)}return r===a}function Lf(r){return r.length>0?r[r.length-1]:null}function zs(r){return function yf(r){return!!r&&(r instanceof Kr.c||(0,gi.T)(r.lift)&&(0,gi.T)(r.subscribe))}(r)?r:(0,o.jNT)(r)?Jn(Promise.resolve(r)):Nt(r)}const Zm={exact:function Sa(r,a,t){if(!$s(r.segments,a.segments)||!Gs(r.segments,a.segments,t)||r.numberOfChildren!==a.numberOfChildren)return!1;for(const s in a.children)if(!r.children[s]||!Sa(r.children[s],a.children[s],t))return!1;return!0},subset:Bf},Ff={exact:function Hd(r,a){return no(r,a)},subset:function yy(r,a){return Object.keys(a).length<=Object.keys(r).length&&Object.keys(a).every(t=>Wm(r[t],a[t]))},ignored:()=>!0};function Xm(r,a,t){return Zm[t.paths](r.root,a.root,t.matrixParams)&&Ff[t.queryParams](r.queryParams,a.queryParams)&&!("exact"===t.fragment&&r.fragment!==a.fragment)}function Bf(r,a,t){return Uf(r,a,a.segments,t)}function Uf(r,a,t,s){if(r.segments.length>t.length){const h=r.segments.slice(0,t.length);return!(!$s(h,t)||a.hasChildren()||!Gs(h,t,s))}if(r.segments.length===t.length){if(!$s(r.segments,t)||!Gs(r.segments,t,s))return!1;for(const h in a.children)if(!r.children[h]||!Bf(r.children[h],a.children[h],s))return!1;return!0}{const h=t.slice(0,r.segments.length),y=t.slice(r.segments.length);return!!($s(r.segments,h)&&Gs(r.segments,h,s)&&r.children[ln])&&Uf(r.children[ln],a,y,s)}}function Gs(r,a,t){return a.every((s,h)=>Ff[t](r[h].parameters,s.parameters))}class xo{constructor(a=new Zt([],{}),t={},s=null){this.root=a,this.queryParams=t,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return wy.serialize(this)}}class Zt{constructor(a,t){this.segments=a,this.children=t,this.parent=null,Object.values(t).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ou(this)}}class iu{constructor(a,t){this.path=a,this.parameters=t}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return qm(this)}}function $s(r,a){return r.length===a.length&&r.every((t,s)=>t.path===a[s].path)}let ac=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>new cc,providedIn:"root"})}}return r})();class cc{parse(a){const t=new t0(a);return new xo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(a){const t=`/${lc(a.root,!0)}`,s=function xy(r){const a=Object.entries(r).map(([t,s])=>Array.isArray(s)?s.map(h=>`${au(t)}=${au(h)}`).join("&"):`${au(t)}=${au(s)}`).filter(t=>t);return a.length?`?${a.join("&")}`:""}(a.queryParams);return`${t}${s}${"string"==typeof a.fragment?`#${function Ey(r){return encodeURI(r)}(a.fragment)}`:""}`}}const wy=new cc;function ou(r){return r.segments.map(a=>qm(a)).join("/")}function lc(r,a){if(!r.hasChildren())return ou(r);if(a){const t=r.children[ln]?lc(r.children[ln],!1):"",s=[];return Object.entries(r.children).forEach(([h,y])=>{h!==ln&&s.push(`${h}:${lc(y,!1)}`)}),s.length>0?`${t}(${s.join("//")})`:t}{const t=function Cy(r,a){let t=[];return Object.entries(r.children).forEach(([s,h])=>{s===ln&&(t=t.concat(a(h,s)))}),Object.entries(r.children).forEach(([s,h])=>{s!==ln&&(t=t.concat(a(h,s)))}),t}(r,(s,h)=>h===ln?[lc(r.children[ln],!1)]:[`${h}:${lc(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[ln]?`${ou(r)}/${t[0]}`:`${ou(r)}/(${t.join("//")})`}}function su(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function au(r){return su(r).replace(/%3B/gi,";")}function Vf(r){return su(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zd(r){return decodeURIComponent(r)}function jf(r){return zd(r.replace(/\+/g,"%20"))}function qm(r){return`${Vf(r.path)}${function Km(r){return Object.entries(r).map(([a,t])=>`;${Vf(a)}=${Vf(t)}`).join("")}(r.parameters)}`}const by=/^[^\/()?;#]+/;function Qm(r){const a=r.match(by);return a?a[0]:""}const Jm=/^[^\/()?;=#]+/,_i=/^[^=?&#]+/,Iy=/^[^&#]+/;class t0{constructor(a){this.url=a,this.remaining=a}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const a={};if(this.consumeOptional("?"))do{this.parseQueryParam(a)}while(this.consumeOptional("&"));return a}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const a=[];for(this.peekStartsWith("(")||a.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),a.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(a.length>0||Object.keys(t).length>0)&&(s[ln]=new Zt(a,t)),s}parseSegment(){const a=Qm(this.remaining);if(""===a&&this.peekStartsWith(";"))throw new o.wOt(4009,!1);return this.capture(a),new iu(zd(a),this.parseMatrixParams())}parseMatrixParams(){const a={};for(;this.consumeOptional(";");)this.parseParam(a);return a}parseParam(a){const t=function e0(r){const a=r.match(Jm);return a?a[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const h=Qm(this.remaining);h&&(s=h,this.capture(s))}a[zd(t)]=zd(s)}parseQueryParam(a){const t=function Dx(r){const a=r.match(_i);return a?a[0]:""}(this.remaining);if(!t)return;this.capture(t);let s="";if(this.consumeOptional("=")){const b=function Sx(r){const a=r.match(Iy);return a?a[0]:""}(this.remaining);b&&(s=b,this.capture(s))}const h=jf(t),y=jf(s);if(a.hasOwnProperty(h)){let b=a[h];Array.isArray(b)||(b=[b],a[h]=b),b.push(y)}else a[h]=y}parseParens(a){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Qm(this.remaining),h=this.remaining[s.length];if("/"!==h&&")"!==h&&";"!==h)throw new o.wOt(4010,!1);let y;s.indexOf(":")>-1?(y=s.slice(0,s.indexOf(":")),this.capture(y),this.capture(":")):a&&(y=ln);const b=this.parseChildren();t[y]=1===Object.keys(b).length?b[ln]:new Zt([],b),this.consumeOptional("//")}return t}peekStartsWith(a){return this.remaining.startsWith(a)}consumeOptional(a){return!!this.peekStartsWith(a)&&(this.remaining=this.remaining.substring(a.length),!0)}capture(a){if(!this.consumeOptional(a))throw new o.wOt(4011,!1)}}function Dy(r){return r.segments.length>0?new Zt([],{[ln]:r}):r}function Gd(r){const a={};for(const[s,h]of Object.entries(r.children)){const y=Gd(h);if(s===ln&&0===y.segments.length&&y.hasChildren())for(const[b,F]of Object.entries(y.children))a[b]=F;else(y.segments.length>0||y.hasChildren())&&(a[s]=y)}return function n0(r){if(1===r.numberOfChildren&&r.children[ln]){const a=r.children[ln];return new Zt(r.segments.concat(a.segments),a.children)}return r}(new Zt(r.segments,a))}function Go(r){return r instanceof xo}function r0(r){let a;const h=Dy(function t(y){const b={};for(const U of y.children){const k=t(U);b[U.outlet]=k}const F=new Zt(y.url,b);return y===r&&(a=F),F}(r.root));return a??h}function Ta(r,a,t,s){let h=r;for(;h.parent;)h=h.parent;if(0===a.length)return bo(h,h,h,t,s);const y=function o0(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new zf(!0,0,r);let a=0,t=!1;const s=r.reduce((h,y,b)=>{if("object"==typeof y&&null!=y){if(y.outlets){const F={};return Object.entries(y.outlets).forEach(([U,k])=>{F[U]="string"==typeof k?k.split("/"):k}),[...h,{outlets:F}]}if(y.segmentPath)return[...h,y.segmentPath]}return"string"!=typeof y?[...h,y]:0===b?(y.split("/").forEach((F,U)=>{0==U&&"."===F||(0==U&&""===F?t=!0:".."===F?a++:""!=F&&h.push(F))}),h):[...h,y]},[]);return new zf(t,a,s)}(a);if(y.toRoot())return bo(h,h,new Zt([],{}),t,s);const b=function $f(r,a,t){if(r.isAbsolute)return new Gf(a,!0,0);if(!t)return new Gf(a,!1,NaN);if(null===t.parent)return new Gf(t,!0,0);const s=Hf(r.commands[0])?0:1;return function $d(r,a,t){let s=r,h=a,y=t;for(;y>h;){if(y-=h,s=s.parent,!s)throw new o.wOt(4005,!1);h=s.segments.length}return new Gf(s,!1,h-y)}(t,t.segments.length-1+s,r.numberOfDoubleDots)}(y,h,r),F=b.processChildren?uu(b.segmentGroup,b.index,y.commands):dr(b.segmentGroup,b.index,y.commands);return bo(h,b.segmentGroup,F,t,s)}function Hf(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function cu(r){return"object"==typeof r&&null!=r&&r.outlets}function bo(r,a,t,s,h){let b,y={};s&&Object.entries(s).forEach(([U,k])=>{y[U]=Array.isArray(k)?k.map(ie=>`${ie}`):`${k}`}),b=r===a?t:lu(r,a,t);const F=Dy(Gd(b));return new xo(F,y,h)}function lu(r,a,t){const s={};return Object.entries(r.children).forEach(([h,y])=>{s[h]=y===a?t:lu(y,a,t)}),new Zt(r.segments,s)}class zf{constructor(a,t,s){if(this.isAbsolute=a,this.numberOfDoubleDots=t,this.commands=s,a&&s.length>0&&Hf(s[0]))throw new o.wOt(4003,!1);const h=s.find(cu);if(h&&h!==Lf(s))throw new o.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gf{constructor(a,t,s){this.segmentGroup=a,this.processChildren=t,this.index=s}}function dr(r,a,t){if(r??=new Zt([],{}),0===r.segments.length&&r.hasChildren())return uu(r,a,t);const s=function Wf(r,a,t){let s=0,h=a;const y={match:!1,pathIndex:0,commandIndex:0};for(;h<r.segments.length;){if(s>=t.length)return y;const b=r.segments[h],F=t[s];if(cu(F))break;const U=`${F}`,k=s<t.length-1?t[s+1]:null;if(h>0&&void 0===U)break;if(U&&k&&"object"==typeof k&&void 0===k.outlets){if(!Xf(U,k,b))return y;s+=2}else{if(!Xf(U,{},b))return y;s++}h++}return{match:!0,pathIndex:h,commandIndex:s}}(r,a,t),h=t.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const y=new Zt(r.segments.slice(0,s.pathIndex),{});return y.children[ln]=new Zt(r.segments.slice(s.pathIndex),r.children),uu(y,0,h)}return s.match&&0===h.length?new Zt(r.segments,{}):s.match&&!r.hasChildren()?Zf(r,a,t):s.match?uu(r,0,h):Zf(r,a,t)}function uu(r,a,t){if(0===t.length)return new Zt(r.segments,{});{const s=function Ty(r){return cu(r[0])?r[0].outlets:{[ln]:r}}(t),h={};if(Object.keys(s).some(y=>y!==ln)&&r.children[ln]&&1===r.numberOfChildren&&0===r.children[ln].segments.length){const y=uu(r.children[ln],a,t);return new Zt(r.segments,y.children)}return Object.entries(s).forEach(([y,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(h[y]=dr(r.children[y],a,b))}),Object.entries(r.children).forEach(([y,b])=>{void 0===s[y]&&(h[y]=b)}),new Zt(r.segments,h)}}function Zf(r,a,t){const s=r.segments.slice(0,a);let h=0;for(;h<t.length;){const y=t[h];if(cu(y)){const U=Ay(y.outlets);return new Zt(s,U)}if(0===h&&Hf(t[0])){s.push(new iu(r.segments[a].path,Wd(t[0]))),h++;continue}const b=cu(y)?y.outlets[ln]:`${y}`,F=h<t.length-1?t[h+1]:null;b&&F&&Hf(F)?(s.push(new iu(b,Wd(F))),h+=2):(s.push(new iu(b,{})),h++)}return new Zt(s,{})}function Ay(r){const a={};return Object.entries(r).forEach(([t,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(a[t]=Zf(new Zt([],{}),0,s))}),a}function Wd(r){const a={};return Object.entries(r).forEach(([t,s])=>a[t]=`${s}`),a}function Xf(r,a,t){return r==t.path&&no(a,t.parameters)}const tl="imperative";var yn=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(yn||{});class ps{constructor(a,t){this.id=a,this.url=t}}class Zd extends ps{constructor(a,t,s="imperative",h=null){super(a,t),this.type=yn.NavigationStart,this.navigationTrigger=s,this.restoredState=h}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $o extends ps{constructor(a,t,s){super(a,t),this.urlAfterRedirects=s,this.type=yn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ro=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(ro||{}),Io=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Io||{});class uc extends ps{constructor(a,t,s,h){super(a,t),this.reason=s,this.code=h,this.type=yn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dc extends ps{constructor(a,t,s,h){super(a,t),this.reason=s,this.code=h,this.type=yn.NavigationSkipped}}class s0 extends ps{constructor(a,t,s,h){super(a,t),this.error=s,this.target=h,this.type=yn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class My extends ps{constructor(a,t,s,h){super(a,t),this.urlAfterRedirects=s,this.state=h,this.type=yn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tx extends ps{constructor(a,t,s,h){super(a,t),this.urlAfterRedirects=s,this.state=h,this.type=yn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ax extends ps{constructor(a,t,s,h,y){super(a,t),this.urlAfterRedirects=s,this.state=h,this.shouldActivate=y,this.type=yn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mx extends ps{constructor(a,t,s,h){super(a,t),this.urlAfterRedirects=s,this.state=h,this.type=yn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ny extends ps{constructor(a,t,s,h){super(a,t),this.urlAfterRedirects=s,this.state=h,this.type=yn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nl{constructor(a){this.route=a,this.type=yn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class du{constructor(a){this.route=a,this.type=yn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class a0{constructor(a){this.snapshot=a,this.type=yn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oy{constructor(a){this.snapshot=a,this.type=yn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yf{constructor(a){this.snapshot=a,this.type=yn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(a){this.snapshot=a,this.type=yn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class c0{constructor(a,t,s){this.routerEvent=a,this.position=t,this.anchor=s,this.type=yn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fu{}class pu{constructor(a,t){this.url=a,this.navigationBehaviorOptions=t}}function fr(r){return r.outlet||ln}function rl(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let a=r.parent;a;a=a.parent){const t=a.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Yd{get injector(){return rl(this.route?.snapshot)??this.rootInjector}set injector(a){}constructor(a){this.rootInjector=a,this.outlet=null,this.route=null,this.children=new qd(this.rootInjector),this.attachRef=null}}let qd=(()=>{class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,s){const h=this.getOrCreateContext(t);h.outlet=s,this.contexts.set(t,h)}onChildOutletDestroyed(t){const s=this.getContext(t);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let s=this.getContext(t);return s||(s=new Yd(this.rootInjector),this.contexts.set(t,s)),s}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class Fy{constructor(a){this._root=a}get root(){return this._root.value}parent(a){const t=this.pathFromRoot(a);return t.length>1?t[t.length-2]:null}children(a){const t=ti(a,this._root);return t?t.children.map(s=>s.value):[]}firstChild(a){const t=ti(a,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(a){const t=Aa(a,this._root);return t.length<2?[]:t[t.length-2].children.map(h=>h.value).filter(h=>h!==a)}pathFromRoot(a){return Aa(a,this._root).map(t=>t.value)}}function ti(r,a){if(r===a.value)return a;for(const t of a.children){const s=ti(r,t);if(s)return s}return null}function Aa(r,a){if(r===a.value)return[a];for(const t of a.children){const s=Aa(r,t);if(s.length)return s.unshift(a),s}return[]}class Do{constructor(a,t){this.value=a,this.children=t}toString(){return`TreeNode(${this.value})`}}function hc(r){const a={};return r&&r.children.forEach(t=>a[t.value.outlet]=t),a}class u0 extends Fy{constructor(a,t){super(a),this.snapshot=t,Jf(this,a)}toString(){return this.snapshot.toString()}}function Qf(r){const a=function By(r){const y=new mu([],{},{},"",{},ln,r,null,{});return new d0("",new Do(y,[]))}(r),t=new Qr.t([new iu("",{})]),s=new Qr.t({}),h=new Qr.t({}),y=new Qr.t({}),b=new Qr.t(""),F=new vi(t,s,y,b,h,ln,r,a.root);return F.snapshot=a.root,new u0(new Do(F,[]),a)}class vi{constructor(a,t,s,h,y,b,F,U){this.urlSubject=a,this.paramsSubject=t,this.queryParamsSubject=s,this.fragmentSubject=h,this.dataSubject=y,this.outlet=b,this.component=F,this._futureSnapshot=U,this.title=this.dataSubject?.pipe((0,Sn.T)(k=>k[Pi]))??Nt(void 0),this.url=a,this.params=t,this.queryParams=s,this.fragment=h,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Sn.T)(a=>Hs(a))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Sn.T)(a=>Hs(a))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kd(r,a,t="emptyOnly"){let s;const{routeConfig:h}=r;return s=null===a||"always"!==t&&""!==h?.path&&(a.component||a.routeConfig?.loadComponent)?{params:{...r.params},data:{...r.data},resolve:{...r.data,...r._resolvedData??{}}}:{params:{...a.params,...r.params},data:{...a.data,...r.data},resolve:{...r.data,...a.data,...h?.data,...r._resolvedData}},h&&tp(h)&&(s.resolve[Pi]=h.title),s}class mu{get title(){return this.data?.[Pi]}constructor(a,t,s,h,y,b,F,U,k){this.url=a,this.params=t,this.queryParams=s,this.fragment=h,this.data=y,this.outlet=b,this.component=F,this.routeConfig=U,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class d0 extends Fy{constructor(a,t){super(t),this.url=a,Jf(this,t)}toString(){return h0(this._root)}}function Jf(r,a){a.value._routerState=r,a.children.forEach(t=>Jf(r,t))}function h0(r){const a=r.children.length>0?` { ${r.children.map(h0).join(", ")} } `:"";return`${r.value}${a}`}function ep(r){if(r.snapshot){const a=r.snapshot,t=r._futureSnapshot;r.snapshot=t,no(a.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),a.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),no(a.params,t.params)||r.paramsSubject.next(t.params),function $m(r,a){if(r.length!==a.length)return!1;for(let t=0;t<r.length;++t)if(!no(r[t],a[t]))return!1;return!0}(a.url,t.url)||r.urlSubject.next(t.url),no(a.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Qd(r,a){const t=no(r.params,a.params)&&function Ym(r,a){return $s(r,a)&&r.every((t,s)=>no(t.parameters,a[s].parameters))}(r.url,a.url);return t&&!(!r.parent!=!a.parent)&&(!r.parent||Qd(r.parent,a.parent))}function tp(r){return"string"==typeof r.title||null===r.title}let Jd=(()=>{class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new o.bkB,this.deactivateEvents=new o.bkB,this.attachEvents=new o.bkB,this.detachEvents=new o.bkB,this.parentContexts=(0,o.WQX)(qd),this.location=(0,o.WQX)(o.c1b),this.changeDetector=(0,o.WQX)(o.gRc),this.inputBinder=(0,o.WQX)(_u,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:s,previousValue:h}=t.name;if(s)return;this.isTrackedInParentContexts(h)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(h)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,s){this.activated=t,this._activatedRoute=s,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,s){if(this.isActivated)throw new o.wOt(4013,!1);this._activatedRoute=t;const h=this.location,b=t.snapshot.component,F=this.parentContexts.getOrCreateContext(this.name).children,U=new il(t,F,h.injector);this.activated=h.createComponent(b,{index:h.length,injector:U,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[o.OA$]})}}return r})();class il{__ngOutletInjector(a){return new il(this.route,this.childContexts,a)}constructor(a,t,s){this.route=a,this.childContexts=t,this.parent=s}get(a,t){return a===vi?this.route:a===qd?this.childContexts:this.parent.get(a,t)}}const _u=new o.nKC("");let np=(()=>{class r{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:s}=t,h=Xn([s.queryParams,s.params,s.data]).pipe(Ur(([y,b,F],U)=>(F={...y,...b,...F},0===U?Nt(F):Promise.resolve(F)))).subscribe(y=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(t);const b=(0,o.HJs)(s.component);if(b)for(const{templateName:F}of b.inputs)t.activatedComponentRef.setInput(F,y[F]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,h)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function ol(r,a,t){if(t&&r.shouldReuseRoute(a.value,t.value.snapshot)){const s=t.value;s._futureSnapshot=a.value;const h=function Uy(r,a,t){return a.children.map(s=>{for(const h of t.children)if(r.shouldReuseRoute(s.value,h.value.snapshot))return ol(r,s,h);return ol(r,s)})}(r,a,t);return new Do(s,h)}{if(r.shouldAttach(a.value)){const y=r.retrieve(a.value);if(null!==y){const b=y.route;return b.value._futureSnapshot=a.value,b.children=a.children.map(F=>ol(r,F)),b}}const s=function Vy(r){return new vi(new Qr.t(r.url),new Qr.t(r.params),new Qr.t(r.queryParams),new Qr.t(r.fragment),new Qr.t(r.data),r.outlet,r.component,r)}(a.value),h=a.children.map(y=>ol(r,y));return new Do(s,h)}}class rp{constructor(a,t){this.redirectTo=a,this.navigationBehaviorOptions=t}}const p0="ngNavigationCancelingError";function vu(r,a){const{redirectTo:t,navigationBehaviorOptions:s}=Go(a)?{redirectTo:a,navigationBehaviorOptions:void 0}:a,h=jy(!1,ro.Redirect);return h.url=t,h.navigationBehaviorOptions=s,h}function jy(r,a){const t=new Error(`NavigationCancelingError: ${r||""}`);return t[p0]=!0,t.cancellationCode=a,t}function m0(r){return!!r&&r[p0]}class Hy{constructor(a,t,s,h,y){this.routeReuseStrategy=a,this.futureState=t,this.currState=s,this.forwardEvent=h,this.inputBindingEnabled=y}activate(a){const t=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,s,a),ep(this.futureState.root),this.activateChildRoutes(t,s,a)}deactivateChildRoutes(a,t,s){const h=hc(t);a.children.forEach(y=>{const b=y.value.outlet;this.deactivateRoutes(y,h[b],s),delete h[b]}),Object.values(h).forEach(y=>{this.deactivateRouteAndItsChildren(y,s)})}deactivateRoutes(a,t,s){const h=a.value,y=t?t.value:null;if(h===y)if(h.component){const b=s.getContext(h.outlet);b&&this.deactivateChildRoutes(a,t,b.children)}else this.deactivateChildRoutes(a,t,s);else y&&this.deactivateRouteAndItsChildren(t,s)}deactivateRouteAndItsChildren(a,t){a.value.component&&this.routeReuseStrategy.shouldDetach(a.value.snapshot)?this.detachAndStoreRouteSubtree(a,t):this.deactivateRouteAndOutlet(a,t)}detachAndStoreRouteSubtree(a,t){const s=t.getContext(a.value.outlet),h=s&&a.value.component?s.children:t,y=hc(a);for(const b of Object.values(y))this.deactivateRouteAndItsChildren(b,h);if(s&&s.outlet){const b=s.outlet.detach(),F=s.children.onOutletDeactivated();this.routeReuseStrategy.store(a.value.snapshot,{componentRef:b,route:a,contexts:F})}}deactivateRouteAndOutlet(a,t){const s=t.getContext(a.value.outlet),h=s&&a.value.component?s.children:t,y=hc(a);for(const b of Object.values(y))this.deactivateRouteAndItsChildren(b,h);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(a,t,s){const h=hc(t);a.children.forEach(y=>{this.activateRoutes(y,h[y.value.outlet],s),this.forwardEvent(new hu(y.value.snapshot))}),a.children.length&&this.forwardEvent(new Oy(a.value.snapshot))}activateRoutes(a,t,s){const h=a.value,y=t?t.value:null;if(ep(h),h===y)if(h.component){const b=s.getOrCreateContext(h.outlet);this.activateChildRoutes(a,t,b.children)}else this.activateChildRoutes(a,t,s);else if(h.component){const b=s.getOrCreateContext(h.outlet);if(this.routeReuseStrategy.shouldAttach(h.snapshot)){const F=this.routeReuseStrategy.retrieve(h.snapshot);this.routeReuseStrategy.store(h.snapshot,null),b.children.onOutletReAttached(F.contexts),b.attachRef=F.componentRef,b.route=F.route.value,b.outlet&&b.outlet.attach(F.componentRef,F.route.value),ep(F.route.value),this.activateChildRoutes(a,null,b.children)}else b.attachRef=null,b.route=h,b.outlet&&b.outlet.activateWith(h,b.injector),this.activateChildRoutes(a,null,b.children)}else this.activateChildRoutes(a,null,s)}}class ip{constructor(a){this.path=a,this.route=this.path[this.path.length-1]}}class sl{constructor(a,t){this.component=a,this.route=t}}function zy(r,a,t){const s=r._root;return yu(s,a?a._root:null,t,[s.value])}function Ws(r,a){const t=Symbol(),s=a.get(r,t);return s===t?"function"!=typeof r||(0,o.LfX)(r)?a.get(r):r:s}function yu(r,a,t,s,h={canDeactivateChecks:[],canActivateChecks:[]}){const y=hc(a);return r.children.forEach(b=>{(function _0(r,a,t,s,h={canDeactivateChecks:[],canActivateChecks:[]}){const y=r.value,b=a?a.value:null,F=t?t.getContext(r.value.outlet):null;if(b&&y.routeConfig===b.routeConfig){const U=function eh(r,a,t){if("function"==typeof t)return t(r,a);switch(t){case"pathParamsChange":return!$s(r.url,a.url);case"pathParamsOrQueryParamsChange":return!$s(r.url,a.url)||!no(r.queryParams,a.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qd(r,a)||!no(r.queryParams,a.queryParams);default:return!Qd(r,a)}}(b,y,y.routeConfig.runGuardsAndResolvers);U?h.canActivateChecks.push(new ip(s)):(y.data=b.data,y._resolvedData=b._resolvedData),yu(r,a,y.component?F?F.children:null:t,s,h),U&&F&&F.outlet&&F.outlet.isActivated&&h.canDeactivateChecks.push(new sl(F.outlet.component,b))}else b&&th(a,F,h),h.canActivateChecks.push(new ip(s)),yu(r,null,y.component?F?F.children:null:t,s,h)})(b,y[b.value.outlet],t,s.concat([b.value]),h),delete y[b.value.outlet]}),Object.entries(y).forEach(([b,F])=>th(F,t.getContext(b),h)),h}function th(r,a,t){const s=hc(r),h=r.value;Object.entries(s).forEach(([y,b])=>{th(b,h.component?a?a.children.getContext(y):null:a,t)}),t.canDeactivateChecks.push(new sl(h.component&&a&&a.outlet&&a.outlet.isActivated?a.outlet.component:null,h))}function Cu(r){return"function"==typeof r}function v0(r){return r instanceof eu||"EmptyError"===r?.name}const al=Symbol("INITIAL_VALUE");function Na(){return Ur(r=>Xn(r.map(a=>a.pipe(Da(1),function gy(...r){const a=Pd(r);return(0,Mr.N)((t,s)=>{(a?Of(r,t,a):Of(r,t)).subscribe(s)})}(al)))).pipe((0,Sn.T)(a=>{for(const t of a)if(!0!==t){if(t===al)return al;if(!1===t||cl(t))return t}return!0}),fs(a=>a!==al),Da(1)))}function cl(r){return Go(r)||r instanceof rp}function Zy(r){return(0,Fd.F)(ei(a=>{if("boolean"!=typeof a)throw vu(0,a)}),(0,Sn.T)(a=>!0===a))}class fc{constructor(a){this.segmentGroup=a||null}}class sh extends Error{constructor(a){super(),this.urlTree=a}}function pc(r){return Us(new fc(r))}class y0{constructor(a,t){this.urlSerializer=a,this.urlTree=t}lineralizeSegments(a,t){let s=[],h=t.root;for(;;){if(s=s.concat(h.segments),0===h.numberOfChildren)return Nt(s);if(h.numberOfChildren>1||!h.children[ln])return Us(new o.wOt(4e3,!1));h=h.children[ln]}}applyRedirectCommands(a,t,s,h,y){if("string"!=typeof t){const F=t,{queryParams:U,fragment:k,routeConfig:ie,url:de,outlet:Ge,params:je,data:tt,title:nt}=h,rt=(0,o.N4e)(y,()=>F({params:je,data:tt,queryParams:U,fragment:k,routeConfig:ie,url:de,outlet:Ge,title:nt}));if(rt instanceof xo)throw new sh(rt);t=rt}const b=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),a,s);if("/"===t[0])throw new sh(b);return b}applyRedirectCreateUrlTree(a,t,s,h){const y=this.createSegmentGroup(a,t.root,s,h);return new xo(y,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(a,t){const s={};return Object.entries(a).forEach(([h,y])=>{if("string"==typeof y&&":"===y[0]){const F=y.substring(1);s[h]=t[F]}else s[h]=y}),s}createSegmentGroup(a,t,s,h){const y=this.createSegments(a,t.segments,s,h);let b={};return Object.entries(t.children).forEach(([F,U])=>{b[F]=this.createSegmentGroup(a,U,s,h)}),new Zt(y,b)}createSegments(a,t,s,h){return t.map(y=>":"===y.path[0]?this.findPosParam(a,y,h):this.findOrReturn(y,s))}findPosParam(a,t,s){const h=s[t.path.substring(1)];if(!h)throw new o.wOt(4001,!1);return h}findOrReturn(a,t){let s=0;for(const h of t){if(h.path===a.path)return t.splice(s),h;s++}return a}}const up={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yy(r,a,t,s,h){const y=ul(r,a,t);return y.matched?(s=function gu(r,a){return r.providers&&!r._injector&&(r._injector=(0,o.Ol2)(r.providers,a,`Route: ${r.path}`)),r._injector??a}(a,s),function cp(r,a,t,s){const h=a.canMatch;return h&&0!==h.length?Nt(h.map(b=>{const F=Ws(b,r);return zs(function nh(r){return r&&Cu(r.canMatch)}(F)?F.canMatch(a,t):(0,o.N4e)(r,()=>F(a,t)))})).pipe(Na(),Zy()):Nt(!0)}(s,a,t).pipe((0,Sn.T)(b=>!0===b?y:{...up}))):Nt(y)}function ul(r,a,t){if("**"===a.path)return function C0(r){return{matched:!0,parameters:r.length>0?Lf(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===a.path)return"full"===a.pathMatch&&(r.hasChildren()||t.length>0)?{...up}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const h=(a.matcher||Pf)(t,r,a);if(!h)return{...up};const y={};Object.entries(h.posParams??{}).forEach(([F,U])=>{y[F]=U.path});const b=h.consumed.length>0?{...y,...h.consumed[h.consumed.length-1].parameters}:y;return{matched:!0,consumedSegments:h.consumed,remainingSegments:t.slice(h.consumed.length),parameters:b,positionalParamSegments:h.posParams??{}}}function ah(r,a,t,s){return t.length>0&&function Ux(r,a,t){return t.some(s=>ch(r,a,s)&&fr(s)!==ln)}(r,t,s)?{segmentGroup:new Zt(a,Bx(s,new Zt(t,r.children))),slicedSegments:[]}:0===t.length&&function xu(r,a,t){return t.some(s=>ch(r,a,s))}(r,t,s)?{segmentGroup:new Zt(r.segments,qy(r,t,s,r.children)),slicedSegments:t}:{segmentGroup:new Zt(r.segments,r.children),slicedSegments:t}}function qy(r,a,t,s){const h={};for(const y of t)if(ch(r,a,y)&&!s[fr(y)]){const b=new Zt([],{});h[fr(y)]=b}return{...s,...h}}function Bx(r,a){const t={};t[ln]=a;for(const s of r)if(""===s.path&&fr(s)!==ln){const h=new Zt([],{});t[fr(s)]=h}return t}function ch(r,a,t){return(!(r.hasChildren()||a.length>0)||"full"!==t.pathMatch)&&""===t.path}class dp{}class E0{constructor(a,t,s,h,y,b,F){this.injector=a,this.configLoader=t,this.rootComponentType=s,this.config=h,this.urlTree=y,this.paramsInheritanceStrategy=b,this.urlSerializer=F,this.applyRedirects=new y0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(a){return new o.wOt(4002,`'${a.segmentGroup}'`)}recognize(){const a=ah(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(a).pipe((0,Sn.T)(({children:t,rootSnapshot:s})=>{const h=new Do(s,t),y=new d0("",h),b=function Sy(r,a,t=null,s=null){return Ta(r0(r),a,t,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return b.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(b),{state:y,tree:b}}))}match(a){const t=new mu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),ln,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,a,ln,t).pipe((0,Sn.T)(s=>({children:s,rootSnapshot:t})),mi(s=>{if(s instanceof sh)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof fc?this.noMatchError(s):s}))}processSegmentGroup(a,t,s,h,y){return 0===s.segments.length&&s.hasChildren()?this.processChildren(a,t,s,y):this.processSegment(a,t,s,s.segments,h,!0,y).pipe((0,Sn.T)(b=>b instanceof Do?[b]:[]))}processChildren(a,t,s,h){const y=[];for(const b of Object.keys(s.children))"primary"===b?y.unshift(b):y.push(b);return Jn(y).pipe(Eo(b=>{const F=s.children[b],U=function Kf(r,a){const t=r.filter(s=>fr(s)===a);return t.push(...r.filter(s=>fr(s)!==a)),t}(t,b);return this.processSegmentGroup(a,U,F,b,h)}),function nu(r,a){return(0,Mr.N)(function _y(r,a,t,s,h){return(y,b)=>{let F=t,U=a,k=0;y.subscribe((0,Nr._)(b,ie=>{const de=k++;U=F?r(U,ie,de):(F=!0,ie),s&&b.next(U)},h&&(()=>{F&&b.next(U),b.complete()})))}}(r,a,arguments.length>=2,!0))}((b,F)=>(b.push(...F),b)),Ud(null),function kf(r,a){const t=arguments.length>=2;return s=>s.pipe(r?fs((h,y)=>r(h,y,s)):xa.D,Rf(1),t?Ud(a):my(()=>new eu))}(),si(b=>{if(null===b)return pc(s);const F=Oa(b);return function hp(r){r.sort((a,t)=>a.value.outlet===ln?-1:t.value.outlet===ln?1:a.value.outlet.localeCompare(t.value.outlet))}(F),Nt(F)}))}processSegment(a,t,s,h,y,b,F){return Jn(t).pipe(Eo(U=>this.processSegmentAgainstRoute(U._injector??a,t,U,s,h,y,b,F).pipe(mi(k=>{if(k instanceof fc)return Nt(null);throw k}))),js(U=>!!U),mi(U=>{if(v0(U))return function lh(r,a,t){return 0===a.length&&!r.children[t]}(s,h,y)?Nt(new dp):pc(s);throw U}))}processSegmentAgainstRoute(a,t,s,h,y,b,F,U){return fr(s)===b||b!==ln&&ch(h,y,s)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(a,h,s,y,b,U):this.allowRedirects&&F?this.expandSegmentAgainstRouteUsingRedirect(a,h,t,s,y,b,U):pc(h):pc(h)}expandSegmentAgainstRouteUsingRedirect(a,t,s,h,y,b,F){const{matched:U,parameters:k,consumedSegments:ie,positionalParamSegments:de,remainingSegments:Ge}=ul(t,h,y);if(!U)return pc(t);"string"==typeof h.redirectTo&&"/"===h.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const je=new mu(y,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bu(h),fr(h),h.component??h._loadedComponent??null,h,fp(h)),tt=Kd(je,F,this.paramsInheritanceStrategy);je.params=Object.freeze(tt.params),je.data=Object.freeze(tt.data);const nt=this.applyRedirects.applyRedirectCommands(ie,h.redirectTo,de,je,a);return this.applyRedirects.lineralizeSegments(h,nt).pipe(si(rt=>this.processSegment(a,s,t,rt.concat(Ge),b,!1,F)))}matchSegmentAgainstRoute(a,t,s,h,y,b){const F=Yy(t,s,h,a);return"**"===s.path&&(t.children={}),F.pipe(Ur(U=>U.matched?this.getChildConfig(a=s._injector??a,s,h).pipe(Ur(({routes:k})=>{const ie=s._loadedInjector??a,{parameters:de,consumedSegments:Ge,remainingSegments:je}=U,tt=new mu(Ge,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bu(s),fr(s),s.component??s._loadedComponent??null,s,fp(s)),nt=Kd(tt,b,this.paramsInheritanceStrategy);tt.params=Object.freeze(nt.params),tt.data=Object.freeze(nt.data);const{segmentGroup:rt,slicedSegments:Ot}=ah(t,Ge,je,k);if(0===Ot.length&&rt.hasChildren())return this.processChildren(ie,k,rt,tt).pipe((0,Sn.T)(un=>new Do(tt,un)));if(0===k.length&&0===Ot.length)return Nt(new Do(tt,[]));const qn=fr(s)===y;return this.processSegment(ie,k,rt,Ot,qn?ln:y,!0,tt).pipe((0,Sn.T)(un=>new Do(tt,un instanceof Do?[un]:[])))})):pc(t)))}getChildConfig(a,t,s){return t.children?Nt({routes:t.children,injector:a}):t.loadChildren?void 0!==t._loadedRoutes?Nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function ap(r,a,t,s){const h=a.canLoad;return void 0===h||0===h.length?Nt(!0):Nt(h.map(b=>{const F=Ws(b,r);return zs(function $y(r){return r&&Cu(r.canLoad)}(F)?F.canLoad(a,t):(0,o.N4e)(r,()=>F(a,t)))})).pipe(Na(),Zy())}(a,t,s).pipe(si(h=>h?this.configLoader.loadChildren(a,t).pipe(ei(y=>{t._loadedRoutes=y.routes,t._loadedInjector=y.injector})):function lp(){return Us(jy(!1,ro.GuardRejected))}())):Nt({routes:[],injector:a})}}function x0(r){const a=r.value.routeConfig;return a&&""===a.path}function Oa(r){const a=[],t=new Set;for(const s of r){if(!x0(s)){a.push(s);continue}const h=a.find(y=>s.value.routeConfig===y.value.routeConfig);void 0!==h?(h.children.push(...s.children),t.add(h)):a.push(s)}for(const s of t){const h=Oa(s.children);a.push(new Do(s.value,h))}return a.filter(s=>!t.has(s))}function bu(r){return r.data||{}}function fp(r){return r.resolve||{}}function uh(r){const a=r.children.map(t=>uh(t)).flat();return[r,...a]}function Ra(r){return Ur(a=>{const t=r(a);return t?Jn(t).pipe((0,Sn.T)(()=>a)):Nt(a)})}let S0=(()=>{class r{buildTitle(t){let s,h=t.root;for(;void 0!==h;)s=this.getResolvedTitleForRoute(h)??s,h=h.children.find(y=>y.outlet===ln);return s}getResolvedTitleForRoute(t){return t.data[Pi]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(Jy),providedIn:"root"})}}return r})(),Jy=(()=>{class r extends S0{constructor(t){super(),this.title=t}updateTitle(t){const s=this.buildTitle(t);void 0!==s&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Vo))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Iu=new o.nKC("",{providedIn:"root",factory:()=>({})});let Du=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["ng-component"]],standalone:!0,features:[o.aNF],decls:1,vars:0,template:function(s,h){1&s&&o.nrm(0,"router-outlet")},dependencies:[Jd],encapsulation:2})}}return r})();function Su(r){const a=r.children&&r.children.map(Su),t=a?{...r,children:a}:{...r};return!t.component&&!t.loadComponent&&(a||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=Du),t}const gc=new o.nKC("");let hh=(()=>{class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,o.WQX)(o.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const s=zs(t.loadComponent()).pipe((0,Sn.T)(M0),ei(y=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=y}),jd(()=>{this.componentLoaders.delete(t)})),h=new el(s,()=>new Vs.B).pipe(Ia());return this.componentLoaders.set(t,h),h}loadChildren(t,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Nt({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const y=function T0(r,a,t,s){return zs(r.loadChildren()).pipe((0,Sn.T)(M0),si(h=>h instanceof o.Co$||Array.isArray(h)?Nt(h):Jn(a.compileModuleAsync(h))),(0,Sn.T)(h=>{s&&s(r);let y,b,F=!1;return Array.isArray(h)?(b=h,!0):(y=h.create(t).injector,b=y.get(gc,[],{optional:!0,self:!0}).flat()),{routes:b.map(Su),injector:y}}))}(s,this.compiler,t,this.onLoadEndListener).pipe(jd(()=>{this.childrenLoaders.delete(s)})),b=new el(y,()=>new Vs.B).pipe(Ia());return this.childrenLoaders.set(s,b),b}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function M0(r){return function A0(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let gp=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(eC),providedIn:"root"})}}return r})(),eC=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,s){return t}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const N0=new o.nKC(""),O0=new o.nKC("");function ka(r,a,t){const s=r.get(O0),h=r.get(q);return r.get(o.SKi).runOutsideAngular(()=>{if(!h.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(k=>setTimeout(k));let y;const b=new Promise(k=>{y=k}),F=h.startViewTransition(()=>(y(),function Tu(r){return new Promise(a=>{(0,o.mal)({read:()=>setTimeout(a)},{injector:r})})}(r))),{onViewTransitionCreated:U}=s;return U&&(0,o.N4e)(r,()=>U({transition:F,from:a,to:t})),b})}const R0=new o.nKC("");let mp=(()=>{class r{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vs.B,this.transitionAbortSubject=new Vs.B,this.configLoader=(0,o.WQX)(hh),this.environmentInjector=(0,o.WQX)(o.uvJ),this.urlSerializer=(0,o.WQX)(ac),this.rootContexts=(0,o.WQX)(qd),this.location=(0,o.WQX)(Ye),this.inputBindingEnabled=null!==(0,o.WQX)(_u,{optional:!0}),this.titleStrategy=(0,o.WQX)(S0),this.options=(0,o.WQX)(Iu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,o.WQX)(gp),this.createViewTransition=(0,o.WQX)(N0,{optional:!0}),this.navigationErrorHandler=(0,o.WQX)(R0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=h=>this.events.next(new du(h)),this.configLoader.onLoadStartListener=h=>this.events.next(new nl(h))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:s})}setupNavigations(t,s,h){return this.transitions=new Qr.t({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:tl,restoredState:null,currentSnapshot:h.snapshot,targetSnapshot:null,currentRouterState:h,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fs(y=>0!==y.id),(0,Sn.T)(y=>({...y,extractedUrl:this.urlHandlingStrategy.extract(y.rawUrl)})),Ur(y=>{let b=!1,F=!1;return Nt(y).pipe(Ur(U=>{if(this.navigationId>y.id)return this.cancelNavigationTransition(y,"",ro.SupersededByNewNavigation),wo;this.currentTransition=y,this.currentNavigation={id:U.id,initialUrl:U.rawUrl,extractedUrl:U.extractedUrl,targetBrowserUrl:"string"==typeof U.extras.browserUrl?this.urlSerializer.parse(U.extras.browserUrl):U.extras.browserUrl,trigger:U.source,extras:U.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const k=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!k&&"reload"!==(U.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const de="";return this.events.next(new dc(U.id,this.urlSerializer.serialize(U.rawUrl),de,Io.IgnoredSameUrlNavigation)),U.resolve(!1),wo}if(this.urlHandlingStrategy.shouldProcessUrl(U.rawUrl))return Nt(U).pipe(Ur(de=>{const Ge=this.transitions?.getValue();return this.events.next(new Zd(de.id,this.urlSerializer.serialize(de.extractedUrl),de.source,de.restoredState)),Ge!==this.transitions?.getValue()?wo:Promise.resolve(de)}),function b0(r,a,t,s,h,y){return si(b=>function w0(r,a,t,s,h,y,b="emptyOnly"){return new E0(r,a,t,s,h,b,y).recognize()}(r,a,t,s,b.extractedUrl,h,y).pipe((0,Sn.T)(({state:F,tree:U})=>({...b,targetSnapshot:F,urlAfterRedirects:U}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ei(de=>{y.targetSnapshot=de.targetSnapshot,y.urlAfterRedirects=de.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:de.urlAfterRedirects};const Ge=new My(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(Ge)}));if(k&&this.urlHandlingStrategy.shouldProcessUrl(U.currentRawUrl)){const{id:de,extractedUrl:Ge,source:je,restoredState:tt,extras:nt}=U,rt=new Zd(de,this.urlSerializer.serialize(Ge),je,tt);this.events.next(rt);const Ot=Qf(this.rootComponentType).snapshot;return this.currentTransition=y={...U,targetSnapshot:Ot,urlAfterRedirects:Ge,extras:{...nt,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Ge,Nt(y)}{const de="";return this.events.next(new dc(U.id,this.urlSerializer.serialize(U.extractedUrl),de,Io.IgnoredByUrlHandlingStrategy)),U.resolve(!1),wo}}),ei(U=>{const k=new Tx(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next(k)}),(0,Sn.T)(U=>(this.currentTransition=y={...U,guards:zy(U.targetSnapshot,U.currentSnapshot,this.rootContexts)},y)),function rh(r,a){return si(t=>{const{targetSnapshot:s,currentSnapshot:h,guards:{canActivateChecks:y,canDeactivateChecks:b}}=t;return 0===b.length&&0===y.length?Nt({...t,guardsResult:!0}):function op(r,a,t,s){return Jn(r).pipe(si(h=>function Eu(r,a,t,s,h){const y=a&&a.routeConfig?a.routeConfig.canDeactivate:null;return y&&0!==y.length?Nt(y.map(F=>{const U=rl(a)??h,k=Ws(F,U);return zs(function Lx(r){return r&&Cu(r.canDeactivate)}(k)?k.canDeactivate(r,a,t,s):(0,o.N4e)(U,()=>k(r,a,t,s))).pipe(js())})).pipe(Na()):Nt(!0)}(h.component,h.route,t,a,s)),js(h=>!0!==h,!0))}(b,s,h,r).pipe(si(F=>F&&function Gy(r){return"boolean"==typeof r}(F)?function wu(r,a,t,s){return Jn(a).pipe(Eo(h=>Of(function ll(r,a){return null!==r&&a&&a(new a0(r)),Nt(!0)}(h.route.parent,s),function ih(r,a){return null!==r&&a&&a(new Yf(r)),Nt(!0)}(h.route,s),function oh(r,a,t){const s=a[a.length-1],y=a.slice(0,a.length-1).reverse().map(b=>function Ma(r){const a=r.routeConfig?r.routeConfig.canActivateChild:null;return a&&0!==a.length?{node:r,guards:a}:null}(b)).filter(b=>null!==b).map(b=>tu(()=>Nt(b.guards.map(U=>{const k=rl(b.node)??t,ie=Ws(U,k);return zs(function Px(r){return r&&Cu(r.canActivateChild)}(ie)?ie.canActivateChild(s,r):(0,o.N4e)(k,()=>ie(s,r))).pipe(js())})).pipe(Na())));return Nt(y).pipe(Na())}(r,h.path,t),function sp(r,a,t){const s=a.routeConfig?a.routeConfig.canActivate:null;if(!s||0===s.length)return Nt(!0);const h=s.map(y=>tu(()=>{const b=rl(a)??t,F=Ws(y,b);return zs(function Wy(r){return r&&Cu(r.canActivate)}(F)?F.canActivate(a,r):(0,o.N4e)(b,()=>F(a,r))).pipe(js())}));return Nt(h).pipe(Na())}(r,h.route,t))),js(h=>!0!==h,!0))}(s,y,r,a):Nt(F)),(0,Sn.T)(F=>({...t,guardsResult:F})))})}(this.environmentInjector,U=>this.events.next(U)),ei(U=>{if(y.guardsResult=U.guardsResult,U.guardsResult&&"boolean"!=typeof U.guardsResult)throw vu(0,U.guardsResult);const k=new Ax(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot,!!U.guardsResult);this.events.next(k)}),fs(U=>!!U.guardsResult||(this.cancelNavigationTransition(U,"",ro.GuardRejected),!1)),Ra(U=>{if(U.guards.canActivateChecks.length)return Nt(U).pipe(ei(k=>{const ie=new Mx(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(ie)}),Ur(k=>{let ie=!1;return Nt(k).pipe(function I0(r,a){return si(t=>{const{targetSnapshot:s,guards:{canActivateChecks:h}}=t;if(!h.length)return Nt(t);const y=new Set(h.map(U=>U.route)),b=new Set;for(const U of y)if(!b.has(U))for(const k of uh(U))b.add(k);let F=0;return Jn(b).pipe(Eo(U=>y.has(U)?function D0(r,a,t,s){const h=r.routeConfig,y=r._resolve;return void 0!==h?.title&&!tp(h)&&(y[Pi]=h.title),function dh(r,a,t,s){const h=ru(r);if(0===h.length)return Nt({});const y={};return Jn(h).pipe(si(b=>function pp(r,a,t,s){const h=rl(a)??s,y=Ws(r,h);return zs(y.resolve?y.resolve(a,t):(0,o.N4e)(h,()=>y(a,t)))}(r[b],a,t,s).pipe(js(),ei(F=>{if(F instanceof rp)throw vu(new cc,F);y[b]=F}))),Rf(1),function Vd(r){return(0,Sn.T)(()=>r)}(y),mi(b=>v0(b)?wo:Us(b)))}(y,r,a,s).pipe((0,Sn.T)(b=>(r._resolvedData=b,r.data=Kd(r,r.parent,t).resolve,null)))}(U,s,r,a):(U.data=Kd(U,U.parent,r).resolve,Nt(void 0))),ei(()=>F++),Rf(1),si(U=>F===b.size?Nt(t):wo))})}(this.paramsInheritanceStrategy,this.environmentInjector),ei({next:()=>ie=!0,complete:()=>{ie||this.cancelNavigationTransition(k,"",ro.NoDataFromResolver)}}))}),ei(k=>{const ie=new Ny(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(ie)}))}),Ra(U=>{const k=ie=>{const de=[];ie.routeConfig?.loadComponent&&!ie.routeConfig._loadedComponent&&de.push(this.configLoader.loadComponent(ie.routeConfig).pipe(ei(Ge=>{ie.component=Ge}),(0,Sn.T)(()=>{})));for(const Ge of ie.children)de.push(...k(Ge));return de};return Xn(k(U.targetSnapshot.root)).pipe(Ud(null),Da(1))}),Ra(()=>this.afterPreactivation()),Ur(()=>{const{currentSnapshot:U,targetSnapshot:k}=y,ie=this.createViewTransition?.(this.environmentInjector,U.root,k.root);return ie?Jn(ie).pipe((0,Sn.T)(()=>y)):Nt(y)}),(0,Sn.T)(U=>{const k=function f0(r,a,t){const s=ol(r,a._root,t?t._root:void 0);return new u0(s,a)}(t.routeReuseStrategy,U.targetSnapshot,U.currentRouterState);return this.currentTransition=y={...U,targetRouterState:k},this.currentNavigation.targetRouterState=k,y}),ei(()=>{this.events.next(new fu)}),((r,a,t,s)=>(0,Sn.T)(h=>(new Hy(a,h.targetRouterState,h.currentRouterState,t,s).activate(r),h)))(this.rootContexts,t.routeReuseStrategy,U=>this.events.next(U),this.inputBindingEnabled),Da(1),ei({next:U=>{b=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $o(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects))),this.titleStrategy?.updateTitle(U.targetRouterState.snapshot),U.resolve(!0)},complete:()=>{b=!0}}),function Gm(r){return(0,Mr.N)((a,t)=>{Me(r).subscribe((0,Nr._)(t,()=>t.complete(),zm.l)),!t.closed&&a.subscribe(t)})}(this.transitionAbortSubject.pipe(ei(U=>{throw U}))),jd(()=>{!b&&!F&&this.cancelNavigationTransition(y,"",ro.SupersededByNewNavigation),this.currentTransition?.id===y.id&&(this.currentNavigation=null,this.currentTransition=null)}),mi(U=>{if(F=!0,m0(U))this.events.next(new uc(y.id,this.urlSerializer.serialize(y.extractedUrl),U.message,U.cancellationCode)),function g0(r){return m0(r)&&Go(r.url)}(U)?this.events.next(new pu(U.url,U.navigationBehaviorOptions)):y.resolve(!1);else{const k=new s0(y.id,this.urlSerializer.serialize(y.extractedUrl),U,y.targetSnapshot??void 0);try{const ie=(0,o.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(k));if(ie instanceof rp){const{message:de,cancellationCode:Ge}=vu(0,ie);this.events.next(new uc(y.id,this.urlSerializer.serialize(y.extractedUrl),de,Ge)),this.events.next(new pu(ie.redirectTo,ie.navigationBehaviorOptions))}else{this.events.next(k);const de=t.errorHandler(U);y.resolve(!!de)}}catch(ie){this.options.resolveNavigationPromiseOnError?y.resolve(!1):y.reject(ie)}}return wo}))}))}cancelNavigationTransition(t,s,h){const y=new uc(t.id,this.urlSerializer.serialize(t.extractedUrl),s,h);this.events.next(y),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Vx(r){return r!==tl}let jx=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(zx),providedIn:"root"})}}return r})();class Hx{shouldDetach(a){return!1}store(a,t){}shouldAttach(a){return!1}retrieve(a){return null}shouldReuseRoute(a,t){return a.routeConfig===t.routeConfig}}let zx=(()=>{class r extends Hx{static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),_p=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:()=>(0,o.WQX)(tC),providedIn:"root"})}}return r})(),tC=(()=>{class r extends _p{constructor(){super(...arguments),this.location=(0,o.WQX)(Ye),this.urlSerializer=(0,o.WQX)(ac),this.options=(0,o.WQX)(Iu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,o.WQX)(gp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Qf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(s=>{"popstate"===s.type&&t(s.url,s.state)})}handleRouterEvent(t,s){if(t instanceof Zd)this.stateMemento=this.createStateMemento();else if(t instanceof dc)this.rawUrlTree=s.initialUrl;else if(t instanceof My){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const h=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??h,s)}}else t instanceof fu?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):t instanceof uc&&(t.code===ro.GuardRejected||t.code===ro.NoDataFromResolver)?this.restoreHistory(s):t instanceof s0?this.restoreHistory(s,!0):t instanceof $o&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,s){const h=t instanceof xo?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(h)||s.extras.replaceUrl){const b={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(h,"",b)}else{const y={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(h,"",y)}}restoreHistory(t,s=!1){if("computed"===this.canceledNavigationResolution){const y=this.currentPageId-this.browserPageId;0!==y?this.location.historyGo(y):this.currentUrlTree===t.finalUrl&&0===y&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,s){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:s}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Au=function(r){return r[r.COMPLETE=0]="COMPLETE",r[r.FAILED=1]="FAILED",r[r.REDIRECTING=2]="REDIRECTING",r}(Au||{});function k0(r,a){r.events.pipe(fs(t=>t instanceof $o||t instanceof uc||t instanceof s0||t instanceof dc),(0,Sn.T)(t=>t instanceof $o||t instanceof dc?Au.COMPLETE:t instanceof uc&&(t.code===ro.Redirect||t.code===ro.SupersededByNewNavigation)?Au.REDIRECTING:Au.FAILED),fs(t=>t!==Au.REDIRECTING),Da(1)).subscribe(()=>{a()})}function nC(r){throw r}const vp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cn=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,o.WQX)(o.H3F),this.stateManager=(0,o.WQX)(_p),this.options=(0,o.WQX)(Iu,{optional:!0})||{},this.pendingTasks=(0,o.WQX)(o.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,o.WQX)(mp),this.urlSerializer=(0,o.WQX)(ac),this.location=(0,o.WQX)(Ye),this.urlHandlingStrategy=(0,o.WQX)(gp),this._events=new Vs.B,this.errorHandler=this.options.errorHandler||nC,this.navigated=!1,this.routeReuseStrategy=(0,o.WQX)(jx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,o.WQX)(gc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,o.WQX)(_u,{optional:!0}),this.eventsSubscription=new Bd.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(s=>{try{const h=this.navigationTransitions.currentTransition,y=this.navigationTransitions.currentNavigation;if(null!==h&&null!==y)if(this.stateManager.handleRouterEvent(s,y),s instanceof uc&&s.code!==ro.Redirect&&s.code!==ro.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof $o)this.navigated=!0;else if(s instanceof pu){const b=s.navigationBehaviorOptions,F=this.urlHandlingStrategy.merge(s.url,h.currentRawUrl),U={browserUrl:h.extras.browserUrl,info:h.extras.info,skipLocationChange:h.extras.skipLocationChange,replaceUrl:h.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Vx(h.source),...b};this.scheduleNavigation(F,tl,null,U,{resolve:h.resolve,reject:h.reject,promise:h.promise})}(function L0(r){return!(r instanceof fu||r instanceof pu)})(s)&&this._events.next(s)}catch(h){this.navigationTransitions.transitionAbortSubject.next(h)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",s)},0)})}navigateToSyncWithBrowser(t,s,h){const y={replaceUrl:!0},b=h?.navigationId?h:null;if(h){const U={...h};delete U.navigationId,delete U.\u0275routerPageId,0!==Object.keys(U).length&&(y.state=U)}const F=this.parseUrl(t);this.scheduleNavigation(F,s,b,y)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Su),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,s={}){const{relativeTo:h,queryParams:y,fragment:b,queryParamsHandling:F,preserveFragment:U}=s,k=U?this.currentUrlTree.fragment:b;let de,ie=null;switch(F??this.options.defaultQueryParamsHandling){case"merge":ie={...this.currentUrlTree.queryParams,...y};break;case"preserve":ie=this.currentUrlTree.queryParams;break;default:ie=y||null}null!==ie&&(ie=this.removeEmptyProps(ie));try{de=r0(h?h.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),de=this.currentUrlTree.root}return Ta(de,t,ie,k??null)}navigateByUrl(t,s={skipLocationChange:!1}){const h=Go(t)?t:this.parseUrl(t),y=this.urlHandlingStrategy.merge(h,this.rawUrlTree);return this.scheduleNavigation(y,tl,null,s)}navigate(t,s={skipLocationChange:!1}){return function P0(r){for(let a=0;a<r.length;a++)if(null==r[a])throw new o.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,s),s)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,s){let h;if(h=!0===s?{...vp}:!1===s?{...Zs}:s,Go(t))return Xm(this.currentUrlTree,t,h);const y=this.parseUrl(t);return Xm(this.currentUrlTree,y,h)}removeEmptyProps(t){return Object.entries(t).reduce((s,[h,y])=>(null!=y&&(s[h]=y),s),{})}scheduleNavigation(t,s,h,y,b){if(this.disposed)return Promise.resolve(!1);let F,U,k;b?(F=b.resolve,U=b.reject,k=b.promise):k=new Promise((de,Ge)=>{F=de,U=Ge});const ie=this.pendingTasks.add();return k0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ie))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:h,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:y,resolve:F,reject:U,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(de=>Promise.reject(de))}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Xs=(()=>{class r{constructor(t,s,h,y,b,F){this.router=t,this.route=s,this.tabIndexAttribute=h,this.renderer=y,this.el=b,this.locationStrategy=F,this.href=null,this.onChanges=new Vs.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const U=b.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===U||"area"===U,this.isAnchorElement?this.subscription=t.events.subscribe(k=>{k instanceof $o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Go(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,s,h,y,b){const F=this.urlTree;return!!(null===F||this.isAnchorElement&&(0!==t||s||h||y||b||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(F,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const s=null===this.href?null:(0,o.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(t,s){const h=this.renderer,y=this.el.nativeElement;null!==s?h.setAttribute(y,t,s):h.removeAttribute(y,t)}get urlTree(){return null===this.routerLinkInput?null:Go(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn),o.rXU(vi),o.kS0("tabindex"),o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(Re))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,h){1&s&&o.bIt("click",function(b){return h.onClick(b.button,b.ctrlKey,b.shiftKey,b.altKey,b.metaKey)}),2&s&&o.BMQ("target",h.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",o.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",o.L39],replaceUrl:[2,"replaceUrl","replaceUrl",o.L39],routerLink:"routerLink"},standalone:!0,features:[o.GFd,o.OA$]})}}return r})();class rC{}let Wx=(()=>{class r{constructor(t,s,h,y,b){this.router=t,this.injector=h,this.preloadingStrategy=y,this.loader=b}setUpPreloading(){this.subscription=this.router.events.pipe(fs(t=>t instanceof $o),Eo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,s){const h=[];for(const y of s){y.providers&&!y._injector&&(y._injector=(0,o.Ol2)(y.providers,t,`Route: ${y.path}`));const b=y._injector??t,F=y._loadedInjector??b;(y.loadChildren&&!y._loadedRoutes&&void 0===y.canLoad||y.loadComponent&&!y._loadedComponent)&&h.push(this.preloadConfig(b,y)),(y.children||y._loadedRoutes)&&h.push(this.processRoutes(F,y.children??y._loadedRoutes))}return Jn(h).pipe(Bs())}preloadConfig(t,s){return this.preloadingStrategy.preload(s,()=>{let h;h=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(t,s):Nt(null);const y=h.pipe(si(b=>null===b?Nt(void 0):(s._loadedRoutes=b.routes,s._loadedInjector=b.injector,this.processRoutes(b.injector??t,b.routes))));return s.loadComponent&&!s._loadedComponent?Jn([y,this.loader.loadComponent(s)]).pipe(Bs()):y})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Cn),o.KVO(o.Ql9),o.KVO(o.uvJ),o.KVO(rC),o.KVO(hh))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const U0=new o.nKC("");let yp=(()=>{class r{constructor(t,s,h,y,b={}){this.urlSerializer=t,this.transitions=s,this.viewportScroller=h,this.zone=y,this.options=b,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},b.scrollPositionRestoration||="disabled",b.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof $o?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof dc&&t.code===Io.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof c0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new c0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(s){o.QTQ()}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function gs(r,a){return{\u0275kind:r,\u0275providers:a}}function j0(){const r=(0,o.WQX)(o.zZn);return a=>{const t=r.get(o.o8S);if(a!==t.components[0])return;const s=r.get(Cn),h=r.get(H0);1===r.get(fh)&&s.initialNavigation(),r.get(G0,null,o.$GK.Optional)?.setUpPreloading(),r.get(U0,null,o.$GK.Optional)?.init(),s.resetRootComponentType(t.componentTypes[0]),h.closed||(h.next(),h.complete(),h.unsubscribe())}}const H0=new o.nKC("",{factory:()=>new Vs.B}),fh=new o.nKC("",{providedIn:"root",factory:()=>1}),G0=new o.nKC("");function dl(r){return gs(0,[{provide:G0,useExisting:Wx},{provide:rC,useExisting:r}])}function cC(r){return gs(9,[{provide:N0,useValue:ka},{provide:O0,useValue:{skipNextTransition:!!r?.skipInitialTransition,...r}}])}const Cp=new o.nKC("ROUTER_FORROOT_GUARD"),lC=[Ye,{provide:ac,useClass:cc},Cn,qd,{provide:vi,useFactory:function V0(r){return r.routerState.root},deps:[Cn]},hh,[]];let wp=(()=>{class r{constructor(t){}static forRoot(t,s){return{ngModule:r,providers:[lC,[],{provide:gc,multi:!0,useValue:t},{provide:Cp,useFactory:uC,deps:[[Cn,new o.Xx1,new o.kdw]]},{provide:Iu,useValue:s||{}},s?.useHash?{provide:Re,useClass:Oe}:{provide:Re,useClass:at},{provide:U0,useFactory:()=>{const r=(0,o.WQX)(Ln),a=(0,o.WQX)(o.SKi),t=(0,o.WQX)(Iu),s=(0,o.WQX)(mp),h=(0,o.WQX)(ac);return t.scrollOffset&&r.setOffset(t.scrollOffset),new yp(h,s,r,a,t)}},s?.preloadingStrategy?dl(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?dC(s):[],s?.bindToComponentInputs?gs(8,[np,{provide:_u,useExisting:np}]).\u0275providers:[],s?.enableViewTransitions?cC().\u0275providers:[],[{provide:Z0,useFactory:j0},{provide:o.iLQ,multi:!0,useExisting:Z0}]]}}static forChild(t){return{ngModule:r,providers:[{provide:gc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Cp,8))}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();function uC(r){return"guarded"}function dC(r){return["disabled"===r.initialNavigation?gs(3,[{provide:o.hnV,multi:!0,useFactory:()=>{const a=(0,o.WQX)(Cn);return()=>{a.setUpLocationChangeListener()}}},{provide:fh,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?gs(2,[{provide:fh,useValue:0},{provide:o.hnV,multi:!0,deps:[o.zZn],useFactory:a=>{const t=a.get(Z,Promise.resolve());return()=>t.then(()=>new Promise(s=>{const h=a.get(Cn),y=a.get(H0);k0(h,()=>{s(!0)}),a.get(mp).afterPreactivation=()=>(s(!0),y.closed?Nt(void 0):y),h.initialNavigation()}))}}]).\u0275providers:[]]}const Z0=new o.nKC("");let hC=(()=>{class r{constructor(t,s){this._renderer=t,this._elementRef=s,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(t,s){this._renderer.setProperty(this._elementRef.nativeElement,t,s)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.sFG),o.rXU(o.aKT))}}static{this.\u0275dir=o.FsC({type:r})}}return r})(),hl=(()=>{class r extends hC{static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,features:[o.Vt3]})}}return r})();const So=new o.nKC(""),ab={provide:So,useExisting:(0,o.Rfq)(()=>ai),multi:!0},lb=new o.nKC("");let ai=(()=>{class r extends hC{constructor(t,s,h){super(t,s),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cb(){const r=N()?N().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.sFG),o.rXU(o.aKT),o.rXU(lb,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(s,h){1&s&&o.bIt("input",function(b){return h._handleInput(b.target.value)})("blur",function(){return h.onTouched()})("compositionstart",function(){return h._compositionStart()})("compositionend",function(b){return h._compositionEnd(b.target.value)})},features:[o.Jv_([ab]),o.Vt3]})}}return r})();function Wo(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function Nu(r){return null!=r&&"number"==typeof r.length}const ci=new o.nKC(""),Ys=new o.nKC(""),Y0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class On{static min(a){return function xp(r){return a=>{if(Wo(a.value)||Wo(r))return null;const t=parseFloat(a.value);return!isNaN(t)&&t<r?{min:{min:r,actual:a.value}}:null}}(a)}static max(a){return function bp(r){return a=>{if(Wo(a.value)||Wo(r))return null;const t=parseFloat(a.value);return!isNaN(t)&&t>r?{max:{max:r,actual:a.value}}:null}}(a)}static required(a){return mc(a)}static requiredTrue(a){return function Li(r){return!0===r.value?null:{required:!0}}(a)}static email(a){return function Fi(r){return Wo(r.value)||Y0.test(r.value)?null:{email:!0}}(a)}static minLength(a){return function Ip(r){return a=>Wo(a.value)||!Nu(a.value)?null:a.value.length<r?{minlength:{requiredLength:r,actualLength:a.value.length}}:null}(a)}static maxLength(a){return function pC(r){return a=>Nu(a.value)&&a.value.length>r?{maxlength:{requiredLength:r,actualLength:a.value.length}}:null}(a)}static pattern(a){return function q0(r){if(!r)return Dp;let a,t;return"string"==typeof r?(t="","^"!==r.charAt(0)&&(t+="^"),t+=r,"$"!==r.charAt(r.length-1)&&(t+="$"),a=new RegExp(t)):(t=r.toString(),a=r),s=>{if(Wo(s.value))return null;const h=s.value;return a.test(h)?null:{pattern:{requiredPattern:t,actualValue:h}}}}(a)}static nullValidator(a){return null}static compose(a){return _h(a)}static composeAsync(a){return _c(a)}}function mc(r){return Wo(r.value)?{required:!0}:null}function Dp(r){return null}function gC(r){return null!=r}function Sp(r){return(0,o.jNT)(r)?Jn(r):r}function Tp(r){let a={};return r.forEach(t=>{a=null!=t?{...a,...t}:a}),0===Object.keys(a).length?null:a}function mC(r,a){return a.map(t=>t(r))}function mh(r){return r.map(a=>function gh(r){return!r.validate}(a)?a:t=>a.validate(t))}function _h(r){if(!r)return null;const a=r.filter(gC);return 0==a.length?null:function(t){return Tp(mC(t,a))}}function Ap(r){return null!=r?_h(mh(r)):null}function _c(r){if(!r)return null;const a=r.filter(gC);return 0==a.length?null:function(t){return function Ep(...r){const a=km(r),{args:t,keys:s}=Mf(r),h=new Kr.c(y=>{const{length:b}=t;if(!b)return void y.complete();const F=new Array(b);let U=b,k=b;for(let ie=0;ie<b;ie++){let de=!1;Me(t[ie]).subscribe((0,Nr._)(y,Ge=>{de||(de=!0,k--),F[ie]=Ge},()=>U--,void 0,()=>{(!U||!de)&&(k||y.next(s?ba(s,F):F),y.complete())}))}});return a?h.pipe(Jr(a)):h}(mC(t,a).map(Sp)).pipe((0,Sn.T)(Tp))}}function Ou(r){return null!=r?_c(mh(r)):null}function Mp(r,a){return null===r?[a]:Array.isArray(r)?[...r,a]:[r,a]}function vh(r){return r._rawValidators}function Ru(r){return r._rawAsyncValidators}function Np(r){return r?Array.isArray(r)?r:[r]:[]}function yh(r,a){return Array.isArray(r)?r.includes(a):r===a}function Op(r,a){const t=Np(a);return Np(r).forEach(h=>{yh(t,h)||t.push(h)}),t}function K0(r,a){return Np(a).filter(t=>!yh(r,t))}class Q0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=Ap(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=Ou(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a=void 0){this.control&&this.control.reset(a)}hasError(a,t){return!!this.control&&this.control.hasError(a,t)}getError(a,t){return this.control?this.control.getError(a,t):null}}class yi extends Q0{get formDirective(){return null}get path(){return null}}class ms extends Q0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fl{constructor(a){this._cd=a}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Di=(()=>{class r extends fl{constructor(t){super(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ms,2))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(s,h){2&s&&o.AVh("ng-untouched",h.isUntouched)("ng-touched",h.isTouched)("ng-pristine",h.isPristine)("ng-dirty",h.isDirty)("ng-valid",h.isValid)("ng-invalid",h.isInvalid)("ng-pending",h.isPending)},features:[o.Vt3]})}}return r})(),Zo=(()=>{class r extends fl{constructor(t){super(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yi,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(s,h){2&s&&o.AVh("ng-untouched",h.isUntouched)("ng-touched",h.isTouched)("ng-pristine",h.isPristine)("ng-dirty",h.isDirty)("ng-valid",h.isValid)("ng-invalid",h.isInvalid)("ng-pending",h.isPending)("ng-submitted",h.isSubmitted)},features:[o.Vt3]})}}return r})();const Cc="VALID",wc="INVALID",pl="PENDING",gl="DISABLED";class ml{}class i1 extends ml{constructor(a,t){super(),this.value=a,this.source=t}}class Lp extends ml{constructor(a,t){super(),this.pristine=a,this.source=t}}class Eh extends ml{constructor(a,t){super(),this.touched=a,this.source=t}}class Lu extends ml{constructor(a,t){super(),this.status=a,this.source=t}}class qt extends ml{constructor(a){super(),this.source=a}}class o1 extends ml{constructor(a){super(),this.source=a}}function xh(r){return(Ih(r)?r.validators:r)||null}function bh(r,a){return(Ih(a)?a.asyncValidators:r)||null}function Ih(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}function Fu(r,a,t){const s=r.controls;if(!(a?Object.keys(s):s).length)throw new o.wOt(1e3,"");if(!s[t])throw new o.wOt(1001,"")}function Pa(r,a,t){r._forEachChild((s,h)=>{if(void 0===t[h])throw new o.wOt(1002,"")})}class vl{constructor(a,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,o.EWP)(()=>this.statusReactive()),this.statusReactive=(0,o.vPA)(void 0),this._pristine=(0,o.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,o.vPA)(!0),this._touched=(0,o.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,o.vPA)(!1),this._events=new Vs.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(a),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get status(){return(0,o.O8t)(this.statusReactive)}set status(a){(0,o.O8t)(()=>this.statusReactive.set(a))}get valid(){return this.status===Cc}get invalid(){return this.status===wc}get pending(){return this.status==pl}get disabled(){return this.status===gl}get enabled(){return this.status!==gl}get pristine(){return(0,o.O8t)(this.pristineReactive)}set pristine(a){(0,o.O8t)(()=>this.pristineReactive.set(a))}get dirty(){return!this.pristine}get touched(){return(0,o.O8t)(this.touchedReactive)}set touched(a){(0,o.O8t)(()=>this.touchedReactive.set(a))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._assignValidators(a)}setAsyncValidators(a){this._assignAsyncValidators(a)}addValidators(a){this.setValidators(Op(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(Op(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(K0(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(K0(a,this._rawAsyncValidators))}hasValidator(a){return yh(this._rawValidators,a)}hasAsyncValidator(a){return yh(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){const t=!1===this.touched;this.touched=!0;const s=a.sourceControl??this;this._parent&&!a.onlySelf&&this._parent.markAsTouched({...a,sourceControl:s}),t&&!1!==a.emitEvent&&this._events.next(new Eh(!0,s))}markAllAsTouched(a={}){this.markAsTouched({onlySelf:!0,emitEvent:a.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(a))}markAsUntouched(a={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=a.sourceControl??this;this._forEachChild(h=>{h.markAsUntouched({onlySelf:!0,emitEvent:a.emitEvent,sourceControl:s})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a,s),t&&!1!==a.emitEvent&&this._events.next(new Eh(!1,s))}markAsDirty(a={}){const t=!0===this.pristine;this.pristine=!1;const s=a.sourceControl??this;this._parent&&!a.onlySelf&&this._parent.markAsDirty({...a,sourceControl:s}),t&&!1!==a.emitEvent&&this._events.next(new Lp(!1,s))}markAsPristine(a={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=a.sourceControl??this;this._forEachChild(h=>{h.markAsPristine({onlySelf:!0,emitEvent:a.emitEvent})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a,s),t&&!1!==a.emitEvent&&this._events.next(new Lp(!0,s))}markAsPending(a={}){this.status=pl;const t=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new Lu(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.markAsPending({...a,sourceControl:t})}disable(a={}){const t=this._parentMarkedDirty(a.onlySelf);this.status=gl,this.errors=null,this._forEachChild(h=>{h.disable({...a,onlySelf:!0})}),this._updateValue();const s=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new i1(this.value,s)),this._events.next(new Lu(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...a,skipPristineCheck:t},this),this._onDisabledChange.forEach(h=>h(!0))}enable(a={}){const t=this._parentMarkedDirty(a.onlySelf);this.status=Cc,this._forEachChild(s=>{s.enable({...a,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors({...a,skipPristineCheck:t},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(a,t){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(a){this._parent=a}getRawValue(){return this.value}updateValueAndValidity(a={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cc||this.status===pl)&&this._runAsyncValidator(s,a.emitEvent)}const t=a.sourceControl??this;!1!==a.emitEvent&&(this._events.next(new i1(this.value,t)),this._events.next(new Lu(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity({...a,sourceControl:t})}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gl:Cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a,t){if(this.asyncValidator){this.status=pl,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const s=Sp(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(h=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(h,{emitEvent:t,shouldHaveEmitted:a})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const a=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,a}return!1}setErrors(a,t={}){this.errors=a,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(a){let t=a;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((s,h)=>s&&s._find(h),this)}getError(a,t){const s=t?this.get(t):this;return s&&s.errors?s.errors[a]:null}hasError(a,t){return!!this.getError(a,t)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a,t,s){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),(a||s)&&this._events.next(new Lu(this.status,t)),this._parent&&this._parent._updateControlsErrors(a,t,s)}_initObservables(){this.valueChanges=new o.bkB,this.statusChanges=new o.bkB}_calculateStatus(){return this._allControlsDisabled()?gl:this.errors?wc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pl)?pl:this._anyControlsHaveStatus(wc)?wc:Cc}_anyControlsHaveStatus(a){return this._anyControls(t=>t.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a,t){const s=!this._anyControlsDirty(),h=this.pristine!==s;this.pristine=s,this._parent&&!a.onlySelf&&this._parent._updatePristine(a,t),h&&this._events.next(new Lp(this.pristine,t))}_updateTouched(a={},t){this.touched=this._anyControlsTouched(),this._events.next(new Eh(this.touched,t)),this._parent&&!a.onlySelf&&this._parent._updateTouched(a,t)}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){Ih(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(a){return null}_assignValidators(a){this._rawValidators=Array.isArray(a)?a.slice():a,this._composedValidatorFn=function _l(r){return Array.isArray(r)?Ap(r):r||null}(this._rawValidators)}_assignAsyncValidators(a){this._rawAsyncValidators=Array.isArray(a)?a.slice():a,this._composedAsyncValidatorFn=function s1(r){return Array.isArray(r)?Ou(r):r||null}(this._rawAsyncValidators)}}class qs extends vl{constructor(a,t,s){super(xh(t),bh(s,t)),this.controls=a,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,t){return this.controls[a]?this.controls[a]:(this.controls[a]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(a,t,s={}){this.registerControl(a,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(a,t={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(a,t,s={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],t&&this.registerControl(a,t),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,t={}){Pa(this,0,a),Object.keys(a).forEach(s=>{Fu(this,!0,s),this.controls[s].setValue(a[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(a,t={}){null!=a&&(Object.keys(a).forEach(s=>{const h=this.controls[s];h&&h.patchValue(a[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(a={},t={}){this._forEachChild((s,h)=>{s.reset(a?a[h]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(a,t,s)=>(a[s]=t.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(t,s)=>!!s._syncPendingControls()||t);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){Object.keys(this.controls).forEach(t=>{const s=this.controls[t];s&&a(s,t)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const[t,s]of Object.entries(this.controls))if(this.contains(t)&&a(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,s,h)=>((s.enabled||this.disabled)&&(t[h]=s.value),t))}_reduceChildren(a,t){let s=a;return this._forEachChild((h,y)=>{s=t(s,h,y)}),s}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(a){return this.controls.hasOwnProperty(a)?this.controls[a]:null}}class Dh extends qs{}const Ks=new o.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Bu}),Bu="always";function Sh(r,a){return[...a.path,r]}function Uu(r,a,t=Bu){Fp(r,a),a.valueAccessor.writeValue(r.value),(r.disabled||"always"===t)&&a.valueAccessor.setDisabledState?.(r.disabled),function l1(r,a){a.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&d1(r,a)})}(r,a),function DC(r,a){const t=(s,h)=>{a.valueAccessor.writeValue(s),h&&a.viewToModelUpdate(s)};r.registerOnChange(t),a._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,a),function u1(r,a){a.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&d1(r,a),"submit"!==r.updateOn&&r.markAsTouched()})}(r,a),function IC(r,a){if(a.valueAccessor.setDisabledState){const t=s=>{a.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(t),a._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,a)}function Vu(r,a,t=!0){const s=()=>{};a.valueAccessor&&(a.valueAccessor.registerOnChange(s),a.valueAccessor.registerOnTouched(s)),Ah(r,a),r&&(a._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Th(r,a){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(a)})}function Fp(r,a){const t=vh(r);null!==a.validator?r.setValidators(Mp(t,a.validator)):"function"==typeof t&&r.setValidators([t]);const s=Ru(r);null!==a.asyncValidator?r.setAsyncValidators(Mp(s,a.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const h=()=>r.updateValueAndValidity();Th(a._rawValidators,h),Th(a._rawAsyncValidators,h)}function Ah(r,a){let t=!1;if(null!==r){if(null!==a.validator){const h=vh(r);if(Array.isArray(h)&&h.length>0){const y=h.filter(b=>b!==a.validator);y.length!==h.length&&(t=!0,r.setValidators(y))}}if(null!==a.asyncValidator){const h=Ru(r);if(Array.isArray(h)&&h.length>0){const y=h.filter(b=>b!==a.asyncValidator);y.length!==h.length&&(t=!0,r.setAsyncValidators(y))}}}const s=()=>{};return Th(a._rawValidators,s),Th(a._rawAsyncValidators,s),t}function d1(r,a){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Si(r,a){Fp(r,a)}function Bp(r,a){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(a,t.currentValue)}function Up(r,a){r._syncPendingControls(),a.forEach(t=>{const s=t.control;"submit"===s.updateOn&&s._pendingChange&&(t.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function Vp(r,a){if(!a)return null;let t,s,h;return Array.isArray(a),a.forEach(y=>{y.constructor===ai?t=y:function AC(r){return Object.getPrototypeOf(r.constructor)===hl}(y)?s=y:h=y}),h||s||t||null}const NC={provide:yi,useExisting:(0,o.Rfq)(()=>La)},Hu=Promise.resolve();let La=(()=>{class r extends yi{get submitted(){return(0,o.O8t)(this.submittedReactive)}constructor(t,s,h){super(),this.callSetDisabledState=h,this._submitted=(0,o.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,o.vPA)(!1),this._directives=new Set,this.ngSubmit=new o.bkB,this.form=new qs({},Ap(t),Ou(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hu.then(()=>{const s=this._findContainer(t.path);t.control=s.registerControl(t.name,t.control),Uu(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hu.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hu.then(()=>{const s=this._findContainer(t.path),h=new qs({});Si(h,t),s.registerControl(t.name,h),h.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hu.then(()=>{const s=this._findContainer(t.path);s&&s.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,s){Hu.then(()=>{this.form.get(t.path).setValue(s)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Up(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ci,10),o.rXU(Ys,10),o.rXU(Ks,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,h){1&s&&o.bIt("submit",function(b){return h.onSubmit(b)})("reset",function(){return h.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([NC]),o.Vt3]})}}return r})();function f1(r,a){const t=r.indexOf(a);t>-1&&r.splice(t,1)}function p1(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const Bi=class extends vl{constructor(a=null,t,s){super(xh(t),bh(s,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(a),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ih(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=p1(a)?a.value:a)}setValue(a,t={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(a,t={}){this.setValue(a,t)}reset(a=this.defaultValue,t={}){this._applyFormState(a),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){f1(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){f1(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){p1(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}};let m1=(()=>{class r extends yi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Sh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,features:[o.Vt3]})}}return r})();const v1={provide:ms,useExisting:(0,o.Rfq)(()=>Ui)},zp=Promise.resolve();let Ui=(()=>{class r extends ms{constructor(t,s,h,y,b,F){super(),this._changeDetectorRef=b,this.callSetDisabledState=F,this.control=new Bi,this._registered=!1,this.name="",this.update=new o.bkB,this._parent=t,this._setValidators(s),this._setAsyncValidators(h),this.valueAccessor=Vp(0,y)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const s=t.name.previousValue;this.formDirective.removeControl({name:s,path:this._getPath(s)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Bp(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Uu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const s=t.isDisabled.currentValue,h=0!==s&&(0,o.L39)(s);zp.then(()=>{h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Sh(t,this._parent):[t]}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yi,9),o.rXU(ci,10),o.rXU(Ys,10),o.rXU(So,10),o.rXU(o.gRc,8),o.rXU(Ks,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o.Jv_([v1]),o.Vt3,o.OA$]})}}return r})(),io=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return r})();const Qs={provide:So,useExisting:(0,o.Rfq)(()=>Mh),multi:!0};let Mh=(()=>{class r extends hl{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=s=>{t(""==s?null:parseFloat(s))}}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(s,h){1&s&&o.bIt("input",function(b){return h.onChange(b.target.value)})("blur",function(){return h.onTouched()})},features:[o.Jv_([Qs]),o.Vt3]})}}return r})();const Ba=new o.nKC(""),w1={provide:yi,useExisting:(0,o.Rfq)(()=>Js)};let Js=(()=>{class r extends yi{get submitted(){return(0,o.O8t)(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,s,h){super(),this.callSetDisabledState=h,this._submitted=(0,o.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,o.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.bkB,this._setValidators(t),this._setAsyncValidators(s)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ah(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const s=this.form.get(t.path);return Uu(s,t,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),s}getControl(t){return this.form.get(t.path)}removeControl(t){Vu(t.control||null,t,!1),function MC(r,a){const t=r.indexOf(a);t>-1&&r.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,s){this.form.get(t.path).setValue(s)}onSubmit(t){return this._submittedReactive.set(!0),Up(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new qt(this.control)),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new o1(this.form))}_updateDomValue(){this.directives.forEach(t=>{const s=t.control,h=this.form.get(t.path);s!==h&&(Vu(s||null,t),(r=>r instanceof Bi)(h)&&(Uu(h,t,this.callSetDisabledState),t.control=h))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const s=this.form.get(t.path);Si(s,t),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const s=this.form.get(t.path);s&&function SC(r,a){return Ah(r,a)}(s,t)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Fp(this.form,this),this._oldForm&&Ah(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ci,10),o.rXU(Ys,10),o.rXU(Ks,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroup",""]],hostBindings:function(s,h){1&s&&o.bIt("submit",function(b){return h.onSubmit(b)})("reset",function(){return h.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o.Jv_([w1]),o.Vt3,o.OA$]})}}return r})();const FC={provide:yi,useExisting:(0,o.Rfq)(()=>zu)};let zu=(()=>{class r extends m1{constructor(t,s,h){super(),this.name=null,this._parent=t,this._setValidators(s),this._setAsyncValidators(h)}_checkParentType(){E1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yi,13),o.rXU(ci,10),o.rXU(Ys,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[o.Jv_([FC]),o.Vt3]})}}return r})();const BC={provide:yi,useExisting:(0,o.Rfq)(()=>Gu)};let Gu=(()=>{class r extends yi{constructor(t,s,h){super(),this.name=null,this._parent=t,this._setValidators(s),this._setAsyncValidators(h)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Sh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){E1(this._parent)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yi,13),o.rXU(ci,10),o.rXU(Ys,10))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[o.Jv_([BC]),o.Vt3]})}}return r})();function E1(r){return!(r instanceof zu||r instanceof Js||r instanceof Gu)}const UC={provide:ms,useExisting:(0,o.Rfq)(()=>Ua)};let Ua=(()=>{class r extends ms{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,s,h,y,b){super(),this._ngModelWarningConfig=b,this._added=!1,this.name=null,this.update=new o.bkB,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(s),this._setAsyncValidators(h),this.valueAccessor=Vp(0,y)}ngOnChanges(t){this._added||this._setUpControl(),Bp(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Sh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(yi,13),o.rXU(ci,10),o.rXU(Ys,10),o.rXU(So,10),o.rXU(Ba,8))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[o.Jv_([UC]),o.Vt3,o.OA$]})}}return r})();const VC={provide:So,useExisting:(0,o.Rfq)(()=>xc),multi:!0};function $u(r,a){return null==r?`${a}`:(a&&"object"==typeof a&&(a="Object"),`${r}: ${a}`.slice(0,50))}let xc=(()=>{class r extends hl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const h=$u(this._getOptionId(t),t);this.setProperty("value",h)}registerOnChange(t){this.onChange=s=>{this.value=this._getOptionValue(s),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s),t))return s;return null}_getOptionValue(t){const s=function jC(r){return r.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s):t}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(s,h){1&s&&o.bIt("change",function(b){return h.onChange(b.target.value)})("blur",function(){return h.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([VC]),o.Vt3]})}}return r})(),Nh=(()=>{class r{constructor(t,s,h){this._element=t,this._renderer=s,this._select=h,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($u(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(xc,9))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})();const x1={provide:So,useExisting:(0,o.Rfq)(()=>Wu),multi:!0};function b1(r,a){return null==r?`${a}`:("string"==typeof a&&(a=`'${a}'`),a&&"object"==typeof a&&(a="Object"),`${r}: ${a}`.slice(0,50))}let Wu=(()=>{class r extends hl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let s;if(this.value=t,Array.isArray(t)){const h=t.map(y=>this._getOptionId(y));s=(y,b)=>{y._setSelected(h.indexOf(b.toString())>-1)}}else s=(h,y)=>{h._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(t){this.onChange=s=>{const h=[],y=s.selectedOptions;if(void 0!==y){const b=y;for(let F=0;F<b.length;F++){const k=this._getOptionValue(b[F].value);h.push(k)}}else{const b=s.options;for(let F=0;F<b.length;F++){const U=b[F];if(U.selected){const k=this._getOptionValue(U.value);h.push(k)}}}this.value=h,t(h)}}_registerOption(t){const s=(this._idCounter++).toString();return this._optionMap.set(s,t),s}_getOptionId(t){for(const s of this._optionMap.keys())if(this._compareWith(this._optionMap.get(s)._value,t))return s;return null}_getOptionValue(t){const s=function HC(r){return r.split(":")[0]}(t);return this._optionMap.has(s)?this._optionMap.get(s)._value:t}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(s,h){1&s&&o.bIt("change",function(b){return h.onChange(b.target)})("blur",function(){return h.onTouched()})},inputs:{compareWith:"compareWith"},features:[o.Jv_([x1]),o.Vt3]})}}return r})(),Zu=(()=>{class r{constructor(t,s,h){this._element=t,this._renderer=s,this._select=h,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(b1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(b1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(o.aKT),o.rXU(o.sFG),o.rXU(Wu,9))}}static{this.\u0275dir=o.FsC({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return r})(),Xo=(()=>{class r{constructor(){this._validator=Dp}ngOnChanges(t){if(this.inputName in t){const s=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(s),this._validator=this._enabled?this.createValidator(s):Dp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275dir=o.FsC({type:r,features:[o.OA$]})}}return r})();const $p={provide:ci,useExisting:(0,o.Rfq)(()=>_s),multi:!0};let _s=(()=>{class r extends Xo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.L39,this.createValidator=t=>mc}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(h){return(t||(t=o.xGo(r)))(h||r)}})()}static{this.\u0275dir=o.FsC({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(s,h){2&s&&o.BMQ("required",h._enabled?"":null)},inputs:{required:"required"},features:[o.Jv_([$p]),o.Vt3]})}}return r})(),Yu=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({})}}return r})();class Wp extends vl{constructor(a,t,s){super(xh(t),bh(s,t)),this.controls=a,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[this._adjustIndex(a)]}push(a,t={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(a,t,s={}){this.controls.splice(a,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(a,t={}){let s=this._adjustIndex(a);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(a,t,s={}){let h=this._adjustIndex(a);h<0&&(h=0),this.controls[h]&&this.controls[h]._registerOnCollectionChange(()=>{}),this.controls.splice(h,1),t&&(this.controls.splice(h,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,t={}){Pa(this,0,a),a.forEach((s,h)=>{Fu(this,!1,h),this.at(h).setValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(a,t={}){null!=a&&(a.forEach((s,h)=>{this.at(h)&&this.at(h).patchValue(s,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(a=[],t={}){this._forEachChild((s,h)=>{s.reset(a[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(a=>a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_adjustIndex(a){return a<0?a+this.length:a}_syncPendingControls(){let a=this.controls.reduce((t,s)=>!!s._syncPendingControls()||t,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){this.controls.forEach((t,s)=>{a(t,s)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(t=>t.enabled&&a(t))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}_find(a){return this.at(a)??null}}function O1(r){return!!r&&(void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn)}let ea=(()=>{class r{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new r;return t.useNonNullable=!0,t}group(t,s=null){const h=this._reduceControls(t);let y={};return O1(s)?y=s:null!==s&&(y.validators=s.validator,y.asyncValidators=s.asyncValidator),new qs(h,y)}record(t,s=null){const h=this._reduceControls(t);return new Dh(h,s)}control(t,s,h){let y={};return this.useNonNullable?(O1(s)?y=s:(y.validators=s,y.asyncValidators=h),new Bi(t,{...y,nonNullable:!0})):new Bi(t,s,h)}array(t,s,h){const y=t.map(b=>this._createControl(b));return new Wp(y,s,h)}_reduceControls(t){const s={};return Object.keys(t).forEach(h=>{s[h]=this._createControl(t[h])}),s}_createControl(t){return t instanceof Bi||t instanceof vl?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),R1=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:Ks,useValue:t.callSetDisabledState??Bu}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[Yu]})}}return r})(),ew=(()=>{class r{static withConfig(t){return{ngModule:r,providers:[{provide:Ba,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ks,useValue:t.callSetDisabledState??Bu}]}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[Yu]})}}return r})();const oo_apiUrl="https://mazharhossain.com/api/v1",oo_stripePublishableKey="pk_test_51QCCOIKH1UdL2G8klFomufbtt6Bb2wTBji1M7qML3lJ1afTtKYHDNXOxpHmeRm0CtNcnKuIOEtmSgJpob4T9FKXd00zL0H71ce";function k1(r,a,t,s,h,y,b){try{var F=r[y](b),U=F.value}catch(k){return void t(k)}F.done?a(U):Promise.resolve(U).then(s,h)}function Er(r){return function(){var a=this,t=arguments;return new Promise(function(s,h){var y=r.apply(a,t);function b(U){k1(y,s,h,b,F,"next",U)}function F(U){k1(y,s,h,b,F,"throw",U)}b(void 0)})}}class kh{}class Ph{}class so{constructor(a){this.normalizedNames=new Map,this.lazyUpdate=null,a?"string"==typeof a?this.lazyInit=()=>{this.headers=new Map,a.split("\n").forEach(t=>{const s=t.indexOf(":");if(s>0){const h=t.slice(0,s),y=h.toLowerCase(),b=t.slice(s+1).trim();this.maybeSetNormalizedName(h,y),this.headers.has(y)?this.headers.get(y).push(b):this.headers.set(y,[b])}})}:typeof Headers<"u"&&a instanceof Headers?(this.headers=new Map,a.forEach((t,s)=>{this.setHeaderEntries(s,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(a).forEach(([t,s])=>{this.setHeaderEntries(t,s)})}:this.headers=new Map}has(a){return this.init(),this.headers.has(a.toLowerCase())}get(a){this.init();const t=this.headers.get(a.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(a){return this.init(),this.headers.get(a.toLowerCase())||null}append(a,t){return this.clone({name:a,value:t,op:"a"})}set(a,t){return this.clone({name:a,value:t,op:"s"})}delete(a,t){return this.clone({name:a,value:t,op:"d"})}maybeSetNormalizedName(a,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,a)}init(){this.lazyInit&&(this.lazyInit instanceof so?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(a=>this.applyUpdate(a)),this.lazyUpdate=null))}copyFrom(a){a.init(),Array.from(a.headers.keys()).forEach(t=>{this.headers.set(t,a.headers.get(t)),this.normalizedNames.set(t,a.normalizedNames.get(t))})}clone(a){const t=new so;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof so?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([a]),t}applyUpdate(a){const t=a.name.toLowerCase();switch(a.op){case"a":case"s":let s=a.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(a.name,t);const h=("a"===a.op?this.headers.get(t):void 0)||[];h.push(...s),this.headers.set(t,h);break;case"d":const y=a.value;if(y){let b=this.headers.get(t);if(!b)return;b=b.filter(F=>-1===y.indexOf(F)),0===b.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,b)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(a,t){const s=(Array.isArray(t)?t:[t]).map(y=>y.toString()),h=a.toLowerCase();this.headers.set(h,s),this.maybeSetNormalizedName(a,h)}forEach(a){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>a(this.normalizedNames.get(t),this.headers.get(t)))}}class P1{encodeKey(a){return Xp(a)}encodeValue(a){return Xp(a)}decodeKey(a){return decodeURIComponent(a)}decodeValue(a){return decodeURIComponent(a)}}const F1=/%(\d[a-f0-9])/gi,tw={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xp(r){return encodeURIComponent(r).replace(F1,(a,t)=>tw[t]??a)}function El(r){return`${r}`}class Yo{constructor(a={}){if(this.updates=null,this.cloneFrom=null,this.encoder=a.encoder||new P1,a.fromString){if(a.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function L1(r,a){const t=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(h=>{const y=h.indexOf("="),[b,F]=-1==y?[a.decodeKey(h),""]:[a.decodeKey(h.slice(0,y)),a.decodeValue(h.slice(y+1))],U=t.get(b)||[];U.push(F),t.set(b,U)}),t}(a.fromString,this.encoder)}else a.fromObject?(this.map=new Map,Object.keys(a.fromObject).forEach(t=>{const s=a.fromObject[t],h=Array.isArray(s)?s.map(El):[El(s)];this.map.set(t,h)})):this.map=null}has(a){return this.init(),this.map.has(a)}get(a){this.init();const t=this.map.get(a);return t?t[0]:null}getAll(a){return this.init(),this.map.get(a)||null}keys(){return this.init(),Array.from(this.map.keys())}append(a,t){return this.clone({param:a,value:t,op:"a"})}appendAll(a){const t=[];return Object.keys(a).forEach(s=>{const h=a[s];Array.isArray(h)?h.forEach(y=>{t.push({param:s,value:y,op:"a"})}):t.push({param:s,value:h,op:"a"})}),this.clone(t)}set(a,t){return this.clone({param:a,value:t,op:"s"})}delete(a,t){return this.clone({param:a,value:t,op:"d"})}toString(){return this.init(),this.keys().map(a=>{const t=this.encoder.encodeKey(a);return this.map.get(a).map(s=>t+"="+this.encoder.encodeValue(s)).join("&")}).filter(a=>""!==a).join("&")}clone(a){const t=new Yo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(a),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(a=>this.map.set(a,this.cloneFrom.map.get(a))),this.updates.forEach(a=>{switch(a.op){case"a":case"s":const t=("a"===a.op?this.map.get(a.param):void 0)||[];t.push(El(a.value)),this.map.set(a.param,t);break;case"d":if(void 0===a.value){this.map.delete(a.param);break}{let s=this.map.get(a.param)||[];const h=s.indexOf(El(a.value));-1!==h&&s.splice(h,1),s.length>0?this.map.set(a.param,s):this.map.delete(a.param)}}}),this.cloneFrom=this.updates=null)}}class nw{constructor(){this.map=new Map}set(a,t){return this.map.set(a,t),this}get(a){return this.map.has(a)||this.map.set(a,a.defaultValue()),this.map.get(a)}delete(a){return this.map.delete(a),this}has(a){return this.map.has(a)}keys(){return this.map.keys()}}function B1(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function U1(r){return typeof Blob<"u"&&r instanceof Blob}function V1(r){return typeof FormData<"u"&&r instanceof FormData}class ta{constructor(a,t,s,h){let y;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=a.toUpperCase(),function rw(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||h?(this.body=void 0!==s?s:null,y=h):y=s,y&&(this.reportProgress=!!y.reportProgress,this.withCredentials=!!y.withCredentials,y.responseType&&(this.responseType=y.responseType),y.headers&&(this.headers=y.headers),y.context&&(this.context=y.context),y.params&&(this.params=y.params),this.transferCache=y.transferCache),this.headers??=new so,this.context??=new nw,this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=t;else{const F=t.indexOf("?");this.urlWithParams=t+(-1===F?"?":F<t.length-1?"&":"")+b}}else this.params=new Yo,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||B1(this.body)||U1(this.body)||V1(this.body)||function Yp(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Yo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||V1(this.body)?null:U1(this.body)?this.body.type||null:B1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(a={}){const t=a.method||this.method,s=a.url||this.url,h=a.responseType||this.responseType,y=a.transferCache??this.transferCache,b=void 0!==a.body?a.body:this.body,F=a.withCredentials??this.withCredentials,U=a.reportProgress??this.reportProgress;let k=a.headers||this.headers,ie=a.params||this.params;const de=a.context??this.context;return void 0!==a.setHeaders&&(k=Object.keys(a.setHeaders).reduce((Ge,je)=>Ge.set(je,a.setHeaders[je]),k)),a.setParams&&(ie=Object.keys(a.setParams).reduce((Ge,je)=>Ge.set(je,a.setParams[je]),ie)),new ta(t,s,b,{params:ie,headers:k,context:de,reportProgress:U,responseType:h,withCredentials:F,transferCache:y})}}var na=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(na||{});class Lh{constructor(a,t=200,s="OK"){this.headers=a.headers||new so,this.status=void 0!==a.status?a.status:t,this.statusText=a.statusText||s,this.url=a.url||null,this.ok=this.status>=200&&this.status<300}}class Fh extends Lh{constructor(a={}){super(a),this.type=na.ResponseHeader}clone(a={}){return new Fh({headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class qo extends Lh{constructor(a={}){super(a),this.type=na.Response,this.body=void 0!==a.body?a.body:null}clone(a={}){return new qo({body:void 0!==a.body?a.body:this.body,headers:a.headers||this.headers,status:void 0!==a.status?a.status:this.status,statusText:a.statusText||this.statusText,url:a.url||this.url||void 0})}}class ra extends Lh{constructor(a){super(a,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${a.url||"(unknown url)"}`:`Http failure response for ${a.url||"(unknown url)"}: ${a.status} ${a.statusText}`,this.error=a.error||null}}function qu(r,a){return{body:a,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}let vs=(()=>{class r{constructor(t){this.handler=t}request(t,s,h={}){let y;if(t instanceof ta)y=t;else{let U,k;U=h.headers instanceof so?h.headers:new so(h.headers),h.params&&(k=h.params instanceof Yo?h.params:new Yo({fromObject:h.params})),y=new ta(t,s,void 0!==h.body?h.body:null,{headers:U,context:h.context,params:k,reportProgress:h.reportProgress,responseType:h.responseType||"json",withCredentials:h.withCredentials,transferCache:h.transferCache})}const b=Nt(y).pipe(Eo(U=>this.handler.handle(U)));if(t instanceof ta||"events"===h.observe)return b;const F=b.pipe(fs(U=>U instanceof qo));switch(h.observe||"body"){case"body":switch(y.responseType){case"arraybuffer":return F.pipe((0,Sn.T)(U=>{if(null!==U.body&&!(U.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return U.body}));case"blob":return F.pipe((0,Sn.T)(U=>{if(null!==U.body&&!(U.body instanceof Blob))throw new Error("Response is not a Blob.");return U.body}));case"text":return F.pipe((0,Sn.T)(U=>{if(null!==U.body&&"string"!=typeof U.body)throw new Error("Response is not a string.");return U.body}));default:return F.pipe((0,Sn.T)(U=>U.body))}case"response":return F;default:throw new Error(`Unreachable: unhandled observe type ${h.observe}}`)}}delete(t,s={}){return this.request("DELETE",t,s)}get(t,s={}){return this.request("GET",t,s)}head(t,s={}){return this.request("HEAD",t,s)}jsonp(t,s){return this.request("JSONP",t,{params:(new Yo).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,s={}){return this.request("OPTIONS",t,s)}patch(t,s,h={}){return this.request("PATCH",t,qu(h,s))}post(t,s,h={}){return this.request("POST",t,qu(h,s))}put(t,s,h={}){return this.request("PUT",t,qu(h,s))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(kh))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const H1=/^\)\]\}',?\n/;function qp(r){if(r.url)return r.url;const a="X-Request-URL".toLocaleLowerCase();return r.headers.get(a)}let Bh=(()=>{class r{constructor(){this.fetchImpl=(0,o.WQX)(z1,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=(0,o.WQX)(o.SKi)}handle(t){return new Kr.c(s=>{const h=new AbortController;return this.doRequest(t,h.signal,s).then(Ku,y=>s.error(new ra({error:y}))),()=>h.abort()})}doRequest(t,s,h){var y=this;return Er(function*(){const b=y.createRequestInit(t);let F;try{const tt=y.ngZone.runOutsideAngular(()=>y.fetchImpl(t.urlWithParams,{signal:s,...b}));(function aw(r){r.then(Ku,Ku)})(tt),h.next({type:na.Sent}),F=yield tt}catch(tt){return void h.error(new ra({error:tt,status:tt.status??0,statusText:tt.statusText,url:t.urlWithParams,headers:tt.headers}))}const U=new so(F.headers),k=F.statusText,ie=qp(F)??t.urlWithParams;let de=F.status,Ge=null;if(t.reportProgress&&h.next(new Fh({headers:U,status:de,statusText:k,url:ie})),F.body){const tt=F.headers.get("content-length"),nt=[],rt=F.body.getReader();let qn,un,Ot=0;const er=typeof Zone<"u"&&Zone.current;yield y.ngZone.runOutsideAngular(Er(function*(){for(;;){const{done:Ti,value:Rc}=yield rt.read();if(Ti)break;if(nt.push(Rc),Ot+=Rc.length,t.reportProgress){un="text"===t.responseType?(un??"")+(qn??=new TextDecoder).decode(Rc,{stream:!0}):void 0;const Dv=()=>h.next({type:na.DownloadProgress,total:tt?+tt:void 0,loaded:Ot,partialText:un});er?er.run(Dv):Dv()}}}));const Vr=y.concatChunks(nt,Ot);try{const Ti=F.headers.get("Content-Type")??"";Ge=y.parseBody(t,Vr,Ti)}catch(Ti){return void h.error(new ra({error:Ti,headers:new so(F.headers),status:F.status,statusText:F.statusText,url:qp(F)??t.urlWithParams}))}}0===de&&(de=Ge?200:0),de>=200&&de<300?(h.next(new qo({body:Ge,headers:U,status:de,statusText:k,url:ie})),h.complete()):h.error(new ra({error:Ge,headers:U,status:de,statusText:k,url:ie}))})()}parseBody(t,s,h){switch(t.responseType){case"json":const y=(new TextDecoder).decode(s).replace(H1,"");return""===y?null:JSON.parse(y);case"text":return(new TextDecoder).decode(s);case"blob":return new Blob([s],{type:h});case"arraybuffer":return s.buffer}}createRequestInit(t){const s={},h=t.withCredentials?"include":void 0;if(t.headers.forEach((y,b)=>s[y]=b.join(",")),t.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&(s["Content-Type"]=y)}return{body:t.serializeBody(),method:t.method,headers:s,credentials:h}}concatChunks(t,s){const h=new Uint8Array(s);let y=0;for(const b of t)h.set(b,y),y+=b.length;return h}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class z1{}function Ku(){}function G1(r,a){return a(r)}function cw(r,a){return(t,s)=>a.intercept(t,{handle:h=>r(h,s)})}const $1=new o.nKC(""),Qu=new o.nKC(""),Uh=new o.nKC(""),W1=new o.nKC("",{providedIn:"root",factory:()=>!0});function uw(){let r=null;return(a,t)=>{null===r&&(r=((0,o.WQX)($1,{optional:!0})??[]).reduceRight(cw,G1));const s=(0,o.WQX)(o.TgB);if((0,o.WQX)(W1)){const y=s.add();return r(a,t).pipe(jd(()=>s.remove(y)))}return r(a,t)}}let bl=(()=>{class r extends kh{constructor(t,s){super(),this.backend=t,this.injector=s,this.chain=null,this.pendingTasks=(0,o.WQX)(o.TgB),this.contributeToStability=(0,o.WQX)(W1)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Qu),...this.injector.get(Uh,[])]));this.chain=s.reduceRight((h,y)=>function lw(r,a,t){return(s,h)=>(0,o.N4e)(t,()=>a(s,y=>r(y,h)))}(h,y,this.injector),G1)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(t,h=>this.backend.handle(h)).pipe(jd(()=>this.pendingTasks.remove(s)))}return this.chain(t,s=>this.backend.handle(s))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Ph),o.KVO(o.uvJ))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const _w=/^\)\]\}',?\n/;let ed=(()=>{class r{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new o.wOt(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?Jn(s.\u0275loadImpl()):Nt(null)).pipe(Ur(()=>new Kr.c(y=>{const b=s.build();if(b.open(t.method,t.urlWithParams),t.withCredentials&&(b.withCredentials=!0),t.headers.forEach((nt,rt)=>b.setRequestHeader(nt,rt.join(","))),t.headers.has("Accept")||b.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const nt=t.detectContentTypeHeader();null!==nt&&b.setRequestHeader("Content-Type",nt)}if(t.responseType){const nt=t.responseType.toLowerCase();b.responseType="json"!==nt?nt:"text"}const F=t.serializeBody();let U=null;const k=()=>{if(null!==U)return U;const nt=b.statusText||"OK",rt=new so(b.getAllResponseHeaders()),Ot=function q1(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(b)||t.url;return U=new Fh({headers:rt,status:b.status,statusText:nt,url:Ot}),U},ie=()=>{let{headers:nt,status:rt,statusText:Ot,url:qn}=k(),un=null;204!==rt&&(un=typeof b.response>"u"?b.responseText:b.response),0===rt&&(rt=un?200:0);let er=rt>=200&&rt<300;if("json"===t.responseType&&"string"==typeof un){const Vr=un;un=un.replace(_w,"");try{un=""!==un?JSON.parse(un):null}catch(Ti){un=Vr,er&&(er=!1,un={error:Ti,text:un})}}er?(y.next(new qo({body:un,headers:nt,status:rt,statusText:Ot,url:qn||void 0})),y.complete()):y.error(new ra({error:un,headers:nt,status:rt,statusText:Ot,url:qn||void 0}))},de=nt=>{const{url:rt}=k(),Ot=new ra({error:nt,status:b.status||0,statusText:b.statusText||"Unknown Error",url:rt||void 0});y.error(Ot)};let Ge=!1;const je=nt=>{Ge||(y.next(k()),Ge=!0);let rt={type:na.DownloadProgress,loaded:nt.loaded};nt.lengthComputable&&(rt.total=nt.total),"text"===t.responseType&&b.responseText&&(rt.partialText=b.responseText),y.next(rt)},tt=nt=>{let rt={type:na.UploadProgress,loaded:nt.loaded};nt.lengthComputable&&(rt.total=nt.total),y.next(rt)};return b.addEventListener("load",ie),b.addEventListener("error",de),b.addEventListener("timeout",de),b.addEventListener("abort",de),t.reportProgress&&(b.addEventListener("progress",je),null!==F&&b.upload&&b.upload.addEventListener("progress",tt)),b.send(F),y.next({type:na.Sent}),()=>{b.removeEventListener("error",de),b.removeEventListener("abort",de),b.removeEventListener("load",ie),b.removeEventListener("timeout",de),t.reportProgress&&(b.removeEventListener("progress",je),null!==F&&b.upload&&b.upload.removeEventListener("progress",tt)),b.readyState!==b.DONE&&b.abort()}})))}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Bc))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();const Kp=new o.nKC(""),Qp=new o.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),K1=new o.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Va{}let bc=(()=>{class r{constructor(t,s,h){this.doc=t,this.platform=s,this.cookieName=h,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ui(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(q),o.KVO(o.Agw),o.KVO(Qp))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();function td(r,a){const t=r.url.toLowerCase();if(!(0,o.WQX)(Kp)||"GET"===r.method||"HEAD"===r.method||t.startsWith("http://")||t.startsWith("https://"))return a(r);const s=(0,o.WQX)(Va).getToken(),h=(0,o.WQX)(K1);return null!=s&&!r.headers.has(h)&&(r=r.clone({headers:r.headers.set(h,s)})),a(r)}var ia=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(ia||{});function oa(r,a){return{\u0275kind:r,\u0275providers:a}}function Cw(...r){const a=[vs,ed,bl,{provide:kh,useExisting:bl},{provide:Ph,useFactory:()=>(0,o.WQX)(Bh,{optional:!0})??(0,o.WQX)(ed)},{provide:Qu,useValue:td,multi:!0},{provide:Kp,useValue:!0},{provide:Va,useClass:bc}];for(const t of r)a.push(...t.\u0275providers);return(0,o.EmA)(a)}const Q1=new o.nKC(""),ng=new o.nKC("JWT_OPTIONS");let o_=(()=>{class r{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let s=t.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(s)}b64decode(t){let h="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let b,F,y=0,U=0;F=t.charAt(U++);~F&&(b=y%4?64*b+F:F,y++%4)?h+=String.fromCharCode(255&b>>(-2*y&6)):0)F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(F);return h}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){return t instanceof Promise?t.then(s=>this._decodeToken(s)):this._decodeToken(t)}_decodeToken(t){if(!t||""===t)return null;const s=t.split(".");if(3!==s.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const h=this.urlBase64Decode(s[1]);if(!h)throw new Error("Cannot decode the token.");return JSON.parse(h)}getTokenExpirationDate(t=this.tokenGetter()){return t instanceof Promise?t.then(s=>this._getTokenExpirationDate(s)):this._getTokenExpirationDate(t)}_getTokenExpirationDate(t){let s;if(s=this.decodeToken(t),!s||!s.hasOwnProperty("exp"))return null;const h=new Date(0);return h.setUTCSeconds(s.exp),h}isTokenExpired(t=this.tokenGetter(),s){return t instanceof Promise?t.then(h=>this._isTokenExpired(h,s)):this._isTokenExpired(t,s)}_isTokenExpired(t,s){if(!t||""===t)return!0;const h=this.getTokenExpirationDate(t);return s=s||0,null!==h&&!(h.valueOf()>(new Date).valueOf()+1e3*s)}getAuthScheme(t,s){return"function"==typeof t?t(s):t}}return r.\u0275fac=function(t){return new(t||r)(o.KVO(ng))},r.\u0275prov=o.jDH({token:r,factory:r.\u0275fac}),r})(),Ir=(()=>{class r{constructor(t,s,h){this.http=t,this.jwtHelper=s,this.router=h,this.baseUrl=oo_apiUrl,this.loggedIn=new Qr.t(this.getStoredLoginStatus()),this.currentUser=new Qr.t(this.getStoredUsername()),this.currentRoles=new Qr.t(this.getRoles())}loginWithGoogle(t){return this.http.post(`${this.baseUrl}/auth/google`,t,{withCredentials:!0})}registerWithGoogle(t,s){return this.http.post(`${this.baseUrl}/auth/google/register`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}getGoogleExistingUser(t){return this.http.get(`${this.baseUrl}/auth/google/user`,{headers:{Authorization:"Bearer "+t}})}linkGoogleAccount(t,s){return this.http.post(`${this.baseUrl}/auth/google/link`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}loginWithFacebook(t){return this.http.post(`${this.baseUrl}/auth/facebook`,t,{withCredentials:!0})}registerWithFacebook(t,s){return this.http.post(`${this.baseUrl}/auth/facebook/register`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}getFacebookExistingUser(t){return this.http.get(`${this.baseUrl}/auth/facebook/user`,{headers:{Authorization:"Bearer "+t}})}linkFacebookAccount(t,s){return this.http.post(`${this.baseUrl}/auth/facebook/link`,s,{headers:{Authorization:"Bearer "+t},withCredentials:!0})}login(t,s){return this.http.post(`${this.baseUrl}/login`,{username:t,password:s},{withCredentials:!0})}refreshToken(){return this.http.post(`${this.baseUrl}/refresh-token`,{},{withCredentials:!0}).pipe(ei(t=>{t&&t.accessToken&&this.saveAccessToken(t.accessToken)}),mi(()=>Nt(null)))}processLogout(){return this.http.post(`${this.baseUrl}/logout`,{},{headers:{Authorization:"Bearer "+localStorage.getItem("token")},withCredentials:!0})}isAuthenticated(){const t=localStorage.getItem("token");return!(!t||this.jwtHelper.isTokenExpired(t))}isTokenExpired(t){try{if(this.jwtHelper.isTokenExpired(t))return!0}catch{localStorage.removeItem("token")}return!1}saveRoles(t){this.currentRoles.next(t),localStorage.setItem("roles",JSON.stringify(t))}saveAccessToken(t){localStorage.setItem("token",t)}getToken(){return localStorage.getItem("token")}getRoles(){let t=localStorage.getItem("roles");return JSON.parse(t)}login2(t){this.loggedIn.next(!0),this.currentUser.next(t),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("username",t)}logout(){this.processLogout().subscribe({}),localStorage.removeItem("token"),this.loggedIn.next(!1),this.currentUser.next(""),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("username"),localStorage.removeItem("roles")}get isLoggedIn(){return this.loggedIn.asObservable()}get user(){return this.currentUser.asObservable()}get roles(){return this.currentRoles.asObservable()}getStoredLoginStatus(){return"true"===localStorage.getItem("isLoggedIn")}getStoredUsername(){return localStorage.getItem("username")||""}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(o_),o.KVO(Cn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),ys=(()=>{class r{constructor(t){this.http=t,this.baseUrl=oo_apiUrl}login(){return this.http.get(`${this.baseUrl}/hello`,this.getOptions())}register(t){return this.http.post(`${this.baseUrl}/users/register`,t,{responseType:"text"})}getUsers(){return this.http.get(`${this.baseUrl}/admin/users`)}getUser(){return this.http.get(`${this.baseUrl}/users`)}getUserEmail(){return this.http.get(`${this.baseUrl}/users/email`)}createUser(t){return this.http.post(`${this.baseUrl}/admin/users`,t,{responseType:"text"})}updateUser(t){return this.http.put(`${this.baseUrl}/admin/users`,t,{responseType:"text"})}confirmEmail(t){return this.http.post(`${this.baseUrl}/users/confirm-email`,{token:t},{responseType:"text"})}updateUserEmail(t){return this.http.put(`${this.baseUrl}/users/update-email`,t,{responseType:"text"})}updateUserPassword(t){return this.http.put(`${this.baseUrl}/users/password`,t,{responseType:"text"})}deleteUser(t){return this.http.delete(`${this.baseUrl}/admin/users/${t}`,this.getOptions())}deleteUser2(){return this.http.delete(`${this.baseUrl}/users`,this.getOptions())}processForgotPassword(t){return this.http.post(`${this.baseUrl}/users/forgot-password`,{email:t},{responseType:"text"})}processResetPassword(t,s){return this.http.post(`${this.baseUrl}/users/reset-password`,{token:t,newPassword:s},{responseType:"text"})}processForgotUsername(t){return this.http.post(`${this.baseUrl}/users/forgot-username`,{email:t},{responseType:"text"})}resendVerificationLink(t){return this.http.post(`${this.baseUrl}/users/resend-verification`,{username:t},{responseType:"text"})}verifyEmail(t){return this.http.get(`${this.baseUrl}/users/verify-email?token=${t}`,{responseType:"text"})}getOptions(){return{headers:new so({"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}),responseType:"text"}}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function bw(r,a){1&r&&(o.j41(0,"div",7),o.EFF(1," Error creating username! "),o.k0s())}function s_(r,a){1&r&&(o.j41(0,"div")(1,"div",5),o.EFF(2,"Create a username for your Google login."),o.k0s()())}function a_(r,a){1&r&&(o.j41(0,"div")(1,"div",5),o.EFF(2,"Create a username for your Facebook login."),o.k0s()())}function rg(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",8),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.submitGoogleUsername())}),o.EFF(2,"Submit"),o.k0s()()}}function c_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",8),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.submitFacebookUsername())}),o.EFF(2,"Submit"),o.k0s()()}}function Iw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2),o.DNE(2,bw,2,0,"div",3),o.j41(3,"h2"),o.EFF(4,"Add username"),o.k0s(),o.DNE(5,s_,3,0,"div",4)(6,a_,3,0,"div",4),o.j41(7,"div",5)(8,"input",6),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.username,h)||(y.username=h),o.Njj(h)}),o.k0s()(),o.j41(9,"div",5),o.DNE(10,rg,3,0,"div",4)(11,c_,3,0,"div",4),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(2),o.Y8G("ngIf",t.googleUsernameCreatedError||t.facebookUsernameCreatedError),o.R7$(3),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType),o.R7$(2),o.R50("ngModel",t.username),o.R7$(2),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType)}}let l_=(()=>{class r{constructor(){this.username="",this.showModal=!0,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.socialType="",this.googleUsernameCreated=new o.bkB,this.facebookUsernameCreated=new o.bkB}submitGoogleUsername(){this.username&&this.googleUsernameCreated.emit(this.username)}submitFacebookUsername(){this.username&&this.facebookUsernameCreated.emit(this.username)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-username-modal"]],inputs:{googleUsernameCreatedError:"googleUsernameCreatedError",facebookUsernameCreatedError:"facebookUsernameCreatedError",socialType:"socialType"},outputs:{googleUsernameCreated:"googleUsernameCreated",facebookUsernameCreated:"facebookUsernameCreated"},decls:1,vars:1,consts:[["class","modal-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal-container"],["class","usernameCreatedError form-group",4,"ngIf"],[4,"ngIf"],[1,"form-group"],["type","text","placeholder","Enter your username",1,"form-control",3,"ngModelChange","ngModel"],[1,"usernameCreatedError","form-group"],[1,"btn",3,"click"]],template:function(s,h){1&s&&o.DNE(0,Iw,12,6,"div",0),2&s&&o.Y8G("ngIf",h.showModal)},dependencies:[Mn,ai,Di,Ui],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:999}.modal-container[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;width:400px;max-width:90vw}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:375px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.usernameCreatedError[_ngcontent-%COMP%]{color:red}"]})}}return r})();function ig(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2," This account already exists. To link it with your Google account, please enter your password. "),o.k0s()())}function u_(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2," This account already exists. To link it with your Facebook account, please enter your password. "),o.k0s()())}function d_(r,a){if(1&r&&(o.j41(0,"p",12),o.EFF(1),o.k0s()),2&r){const t=o.XpG(2);o.R7$(),o.JRh(t.errorMessage)}}function Dw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"h2"),o.EFF(3,"Link your account"),o.k0s(),o.j41(4,"p"),o.EFF(5," Username: "),o.j41(6,"strong"),o.EFF(7),o.k0s()(),o.DNE(8,ig,3,0,"div",3)(9,u_,3,0,"div",3),o.j41(10,"form",4),o.bIt("ngSubmit",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.linkAccount())}),o.j41(11,"div",5)(12,"label",6),o.EFF(13,"Password:"),o.k0s(),o.j41(14,"input",7),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.password,h)||(y.password=h),o.Njj(h)}),o.k0s()(),o.j41(15,"div",8)(16,"button",9),o.EFF(17,"Link Account"),o.k0s(),o.j41(18,"button",10),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.closeModal())}),o.EFF(19," Cancel "),o.k0s()()(),o.DNE(20,d_,2,1,"p",11),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(7),o.JRh(t.username),o.R7$(),o.Y8G("ngIf","google"===t.socialType),o.R7$(),o.Y8G("ngIf","facebook"===t.socialType),o.R7$(5),o.R50("ngModel",t.password),o.R7$(6),o.Y8G("ngIf",t.errorMessage)}}let Sw=(()=>{class r{constructor(t,s,h){this.authService=t,this.cdr=s,this.router=h,this.showModal=!1,this.username="",this.idToken="",this.socialType="",this.modalClosed=new o.bkB,this.password="",this.errorMessage=""}linkAccount(){console.log(this.socialType),"google"===this.socialType&&this.authService.linkGoogleAccount(this.idToken,{password:this.password}).subscribe({next:t=>{this.closeModal(),localStorage.setItem("token",t.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:t=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}}),"facebook"===this.socialType&&this.authService.linkFacebookAccount(this.idToken,{password:this.password}).subscribe({next:t=>{this.closeModal(),localStorage.setItem("token",t.accessToken),this.password="",localStorage.getItem("token")&&this.router.navigate(["/dashboard"])},error:t=>{this.errorMessage="Password is incorrect. Please try again.",this.cdr.detectChanges()}})}closeModal(){this.password="",this.errorMessage="",this.showModal=!1,this.modalClosed.emit(),this.cdr.detectChanges()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Ir),o.rXU(o.gRc),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-user-link-modal"]],inputs:{showModal:"showModal",username:"username",idToken:"idToken",socialType:"socialType"},outputs:{modalClosed:"modalClosed"},decls:1,vars:1,consts:[["class","modal-container",4,"ngIf"],[1,"modal-container"],[1,"modal-content"],[4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","password"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-buttons"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-secondary",3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(s,h){1&s&&o.DNE(0,Dw,21,5,"div",0),2&s&&o.Y8G("ngIf",h.showModal)},dependencies:[Mn,io,ai,Di,Zo,_s,Ui,La],styles:[".modal-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;width:300px;border:1px solid #ccc;box-shadow:0 4px 8px #0003;text-align:center}.error-message[_ngcontent-%COMP%]{color:red;margin-top:10px}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px}.modal-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}"]})}}return r})();function Tw(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-username-modal",19),o.bIt("googleUsernameCreated",function(h){o.eBV(t);const y=o.XpG();return o.Njj(y.handleGoogleUsernameCreated(h))})("facebookUsernameCreated",function(h){o.eBV(t);const y=o.XpG();return o.Njj(y.handleFacebookUsernameCreated(h))}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("googleUsernameCreatedError",t.googleUsernameCreatedError)("facebookUsernameCreatedError",t.facebookUsernameCreatedError)("socialType",t.socialType)}}function og(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",22),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.resendVerification())}),o.EFF(2," Resend verification link "),o.k0s()()}}function sg(r,a){if(1&r&&(o.j41(0,"div",20),o.EFF(1),o.DNE(2,og,3,0,"div",21),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI(" ",t.errorMessage," "),o.R7$(),o.Y8G("ngIf",t.userDisabled)}}function h_(r,a){1&r&&(o.j41(0,"div",23),o.EFF(1," Username is required. "),o.k0s())}function ag(r,a){1&r&&(o.j41(0,"div",23),o.EFF(1," Password is required. "),o.k0s())}let cg=(()=>{class r{constructor(t,s,h,y,b){this.formBuilder=t,this.authService=s,this.userService=h,this.router=y,this.cdr=b,this.errorMessage="",this.userDisabled=!1,this.username="",this.showUsernameModal=!1,this.googleUsernameCreatedError=!1,this.facebookUsernameCreatedError=!1,this.idToken="",this.existingUsername="",this.showUserLinkModal=!1,this.socialType=""}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",On.required],password:["",On.required]}),this.redirectDashboard(),typeof google<"u"?(google.accounts.id.initialize({client_id:"906845008131-5ikdeenbsvm8250aebuhpbm7657eol49.apps.googleusercontent.com",callback:this.handleCredentialResponse.bind(this),use_fedcm_for_prompt:!0}),google.accounts.id.renderButton(document.getElementById("gooogle-signin-btn"),{theme:"outline",size:"large",width:"300"})):console.error("Google API is not available.")}handleCredentialResponse(t){this.idToken=t.credential,this.authService.loginWithGoogle(this.idToken).subscribe({next:s=>{s.accessToken?(this.authService.login2(""),localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="google",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getGoogleExistingUser(this.idToken).subscribe({next:h=>{this.existingUsername=h.username,this.authService.login2(this.existingUsername),this.idToken=t.credential,this.socialType="google",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}onModalClosed(){this.showUserLinkModal=!1}redirectDashboard(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onLogin(){if(this.loginForm.valid){const{username:t,password:s}=this.loginForm.value;this.authService.login(t,s).subscribe({next:h=>{this.authService.login2(t),this.authService.saveAccessToken(h.accessToken),this.router.navigate(["/dashboard"])},error:h=>{403===h.status&&"User is not verified"===h.error?(this.errorMessage="Your account is not verified. Please check your email to verify your account.",this.userDisabled=!0,this.username=t):this.errorMessage="Invalid credentials or login failed."}})}}resendVerification(){this.userService.resendVerificationLink(this.username).subscribe({next:()=>{alert("Verification link has been resent to your email.")},error:()=>{alert("Failed to resend the verification link.")}})}openUsernameModal(){this.showUsernameModal=!0,this.cdr.detectChanges()}handleGoogleUsernameCreated(t){this.authService.registerWithGoogle(this.idToken,{username:t}).subscribe({next:s=>{this.authService.login2(t),localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}handleFacebookUsernameCreated(t){this.authService.registerWithFacebook(this.idToken,{username:t}).subscribe({next:s=>{this.authService.login2(t),localStorage.setItem("token",s.accessToken),this.redirectDashboard()},error:s=>{this.googleUsernameCreatedError=!0,this.cdr.detectChanges()}})}facebookLogin(){FB.login(t=>{t.authResponse?this.sendFacebookTokenToBackend(t.authResponse.accessToken):console.log("User canceled login or did not fully authorize.")},{scope:"email"})}sendFacebookTokenToBackend(t){this.idToken=t,this.authService.loginWithFacebook(t).subscribe({next:s=>{s.accessToken?(this.authService.login2(""),localStorage.setItem("token",s.accessToken),this.redirectDashboard()):(this.socialType="facebook",this.openUsernameModal())},error:s=>{"User already exists"===s.error&&this.authService.getFacebookExistingUser(this.idToken).subscribe({next:h=>{this.existingUsername=h.username,this.authService.login2(this.existingUsername),this.idToken=t,this.socialType="facebook",this.showUserLinkModal=!0,this.cdr.detectChanges()}})}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ea),o.rXU(Ir),o.rXU(ys),o.rXU(Cn),o.rXU(o.gRc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-login"]],decls:34,vars:10,consts:[[3,"googleUsernameCreatedError","facebookUsernameCreatedError","socialType","googleUsernameCreated","facebookUsernameCreated",4,"ngIf"],[3,"modalClosed","showModal","username","idToken","socialType"],[1,"login-container"],["class","error-message",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required","",1,"form-control"],["class","error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required","",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["id","gooogle-signin-btn"],[1,"loginBtn","loginBtn-facebook",3,"click"],[1,"links"],[1,"no-bullets"],["routerLink","/register"],["routerLink","/forgot-username"],["routerLink","/forgot-password"],[3,"googleUsernameCreated","facebookUsernameCreated","googleUsernameCreatedError","facebookUsernameCreatedError","socialType"],[1,"error-message"],[4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"error"]],template:function(s,h){if(1&s&&(o.DNE(0,Tw,1,3,"app-username-modal",0),o.j41(1,"app-user-link-modal",1),o.bIt("modalClosed",function(){return h.onModalClosed()}),o.k0s(),o.j41(2,"div",2)(3,"h2"),o.EFF(4,"Login"),o.k0s(),o.DNE(5,sg,3,2,"div",3),o.j41(6,"form",4),o.bIt("ngSubmit",function(){return h.onLogin()}),o.j41(7,"div",5)(8,"label",6),o.EFF(9,"Username"),o.k0s(),o.nrm(10,"input",7),o.DNE(11,h_,2,0,"div",8),o.k0s(),o.j41(12,"div",5)(13,"label",9),o.EFF(14,"Password"),o.k0s(),o.nrm(15,"input",10),o.DNE(16,ag,2,0,"div",8),o.k0s(),o.j41(17,"div",5)(18,"button",11),o.EFF(19," Login "),o.k0s()()(),o.nrm(20,"div",12),o.j41(21,"button",13),o.bIt("click",function(){return h.facebookLogin()}),o.EFF(22,"Sign in with Facebook"),o.k0s(),o.j41(23,"div",14)(24,"ul",15)(25,"li")(26,"a",16),o.EFF(27,"Don't have an account? Register"),o.k0s()(),o.j41(28,"li")(29,"a",17),o.EFF(30,"Forgot your username?"),o.k0s()(),o.j41(31,"li")(32,"a",18),o.EFF(33,"Forgot your password?"),o.k0s()()()()()),2&s){let y,b;o.Y8G("ngIf",h.showUsernameModal),o.R7$(),o.Y8G("showModal",h.showUserLinkModal)("username",h.existingUsername)("idToken",h.idToken)("socialType",h.socialType),o.R7$(4),o.Y8G("ngIf",h.errorMessage),o.R7$(),o.Y8G("formGroup",h.loginForm),o.R7$(5),o.Y8G("ngIf",(null==(y=h.loginForm.get("username"))?null:y.invalid)&&(null==(y=h.loginForm.get("username"))?null:y.touched)),o.R7$(5),o.Y8G("ngIf",(null==(b=h.loginForm.get("password"))?null:b.invalid)&&(null==(b=h.loginForm.get("password"))?null:b.touched)),o.R7$(2),o.Y8G("disabled",h.loginForm.invalid)}},dependencies:[Mn,Xs,io,ai,Di,Zo,_s,Js,Ua,l_,Sw],styles:['.login-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:.9em}.error-message[_ngcontent-%COMP%]{color:red;margin-bottom:15px;text-align:center}.links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:10px;text-decoration:none;color:#007bff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}ul.no-bullets[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.loginBtn[_ngcontent-%COMP%]{box-sizing:border-box;position:relative;width:295px;margin:.2em;padding:0 15px 0 46px;border:none;text-align:center;line-height:34px;white-space:nowrap;border-radius:.2em;font-size:16px;color:#fff}.loginBtn[_ngcontent-%COMP%]:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:34px;height:100%}.loginBtn[_ngcontent-%COMP%]:focus{outline:none}.loginBtn[_ngcontent-%COMP%]:active{box-shadow:inset 0 0 0 32px #0000001a}.loginBtn-facebook[_ngcontent-%COMP%]{background-color:#4c69ba;background-image:linear-gradient(#4c69ba,#3b55a0);text-shadow:0 -1px 0 #354C8C}.loginBtn-facebook[_ngcontent-%COMP%]:before{border-right:#364e92 1px solid;background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/14082/icon_facebook.png) 6px 6px no-repeat}.loginBtn-facebook[_ngcontent-%COMP%]:hover, .loginBtn-facebook[_ngcontent-%COMP%]:focus{cursor:pointer;background-color:#5b7bd5;background-image:linear-gradient(#5b7bd5,#4864b1)}']})}}return r})(),f_=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.venueUrl=oo_apiUrl+"/ticketing/venues"}register(t){return this.http.post(`${this.venueUrl}/register`,t,{responseType:"text"})}getAddress(){return this.http.get(`${this.venueUrl}/address`)}updateAddress(t){return this.http.post(`${this.venueUrl}/address`,t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),lg=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.performerUrl=oo_apiUrl+"/ticketing/performers"}searchPerformers(t){return this.http.get(`${this.performerUrl}/search?keyword=${t}`)}register(t){return this.http.post(`${this.performerUrl}/register`,t,{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Aw(r,a){1&r&&(o.j41(0,"div",2)(1,"label",21),o.EFF(2,"Display Name "),o.j41(3,"span",9),o.EFF(4,"*"),o.k0s()(),o.nrm(5,"input",22),o.k0s())}function Mw(r,a){1&r&&(o.j41(0,"div",23),o.EFF(1," Your emails are not matching. "),o.k0s())}function p_(r,a){1&r&&(o.j41(0,"div",24),o.EFF(1," Your passwords are not matching. "),o.k0s())}let ug=(()=>{class r{constructor(t,s,h,y,b){this.fb=t,this.userService=s,this.venueService=h,this.performerService=y,this.router=b,this.registrationType="User",this.passwordMatchError=!1,this.emailMatchError=!1,this.isCompany=!1,this.isIndividual=!1,this.registerForm=this.fb.group({registrationType:["User",On.required],username:["",On.required],displayName:[""],email:["",[On.required,On.email]],retypeEmail:["",[On.required,On.email]],password:["",On.required],retypePassword:["",On.required]})}ngOnInit(){this.registerForm.get("registrationType")?.valueChanges.subscribe(t=>{this.registrationType=t,this.checkRegistrationType()}),this.registerForm.valueChanges.subscribe(()=>{this.checkPasswordMatch(),this.checkEmailMatch()})}checkRegistrationType(){"Performer"===this.registrationType||"Venue"===this.registrationType?this.registerForm.get("displayName")?.setValidators(On.required):this.registerForm.get("displayName")?.clearValidators(),this.registerForm.get("displayName")?.updateValueAndValidity(),this.registerForm.get("businessType")?.updateValueAndValidity()}checkPasswordMatch(){const t=this.registerForm.get("password")?.value,s=this.registerForm.get("retypePassword")?.value;this.passwordMatchError=t&&s&&t!==s}checkEmailMatch(){const t=this.registerForm.get("email")?.value,s=this.registerForm.get("retypeEmail")?.value;this.emailMatchError=t&&s&&t!==s}onRegistrationTypeChange(t){const h=t.target.value;this.registrationType=h,this.registerForm.patchValue({displayName:"",address:"",state:"",zipCode:""}),this.registerForm.get("displayName")?.clearValidators(),this.registerForm.get("address")?.clearValidators(),this.registerForm.get("state")?.clearValidators(),this.registerForm.get("zipCode")?.clearValidators(),("Performer"===h||"Venue"===h)&&this.registerForm.get("displayName")?.setValidators([On.required]),"Venue"===h&&(this.registerForm.get("address")?.setValidators([]),this.registerForm.get("state")?.setValidators([]),this.registerForm.get("zipCode")?.setValidators([])),this.registerForm.get("displayName")?.updateValueAndValidity(),this.registerForm.get("address")?.updateValueAndValidity(),this.registerForm.get("state")?.updateValueAndValidity(),this.registerForm.get("zipCode")?.updateValueAndValidity()}onSubmit(t){if(t.preventDefault(),this.registerForm.value.password!==this.registerForm.value.retypePassword)return void(this.passwordMatchError=!0);this.passwordMatchError=!1,console.log("Registration form submitted:",this.registerForm.value);let s=this.registerForm.value.username,h=this.registerForm.value.displayName,y=this.registerForm.value.email,b=this.registerForm.value.password;switch(this.registrationType){case"User":this.userService.register({username:s,email:y,password:b}).subscribe({next:F=>{this.router.navigate(["/"])},error:F=>{console.error("Registration failed:",F)}});break;case"Performer":this.performerService.register({name:h,username:s,email:y,password:b}).subscribe({next:F=>{this.router.navigate(["/"])},error:F=>{console.error("Registration failed:",F)}});break;case"Venue":this.venueService.register({name:h,username:s,email:y,password:b}).subscribe({next:F=>{this.router.navigate(["/"])},error:F=>{console.error("Registration failed:",F)}})}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ea),o.rXU(ys),o.rXU(f_),o.rXU(lg),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-register"]],decls:39,vars:5,consts:[[1,"register-container"],[3,"submit","formGroup"],[1,"form-group"],["for","registrationType"],["id","registrationType","formControlName","registrationType",3,"change"],["value","User"],["value","Performer"],["value","Venue"],["for","username"],[1,"required"],["type","text","id","username","formControlName","username","placeholder","Enter your username","required",""],["class","form-group",4,"ngIf"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email","required",""],["type","email","id","retypeEmail","formControlName","retypeEmail","placeholder","Re-Enter your email","required",""],["class","email-match-error",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password","required",""],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Re-type your password","required",""],["class","password-match-error",4,"ngIf"],["type","submit",3,"disabled"],["for","displayName"],["type","text","id","displayName","formControlName","displayName","placeholder","Enter your display name","required",""],[1,"email-match-error"],[1,"password-match-error"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Register"),o.k0s(),o.j41(3,"form",1),o.bIt("submit",function(b){return h.onSubmit(b)}),o.j41(4,"div",2)(5,"label",3),o.EFF(6,"Register as"),o.k0s(),o.j41(7,"select",4),o.bIt("change",function(b){return h.onRegistrationTypeChange(b)}),o.j41(8,"option",5),o.EFF(9,"User"),o.k0s(),o.j41(10,"option",6),o.EFF(11,"Performer"),o.k0s(),o.j41(12,"option",7),o.EFF(13,"Venue"),o.k0s()()(),o.j41(14,"div",2)(15,"label",8),o.EFF(16,"Username "),o.j41(17,"span",9),o.EFF(18,"*"),o.k0s()(),o.nrm(19,"input",10),o.k0s(),o.DNE(20,Aw,6,0,"div",11),o.j41(21,"div",2)(22,"label",12),o.EFF(23,"Email "),o.j41(24,"span",9),o.EFF(25,"*"),o.k0s()(),o.nrm(26,"input",13)(27,"input",14),o.DNE(28,Mw,2,0,"div",15),o.k0s(),o.j41(29,"div",2)(30,"label",16),o.EFF(31,"Password "),o.j41(32,"span",9),o.EFF(33,"*"),o.k0s()(),o.nrm(34,"input",17)(35,"input",18),o.DNE(36,p_,2,0,"div",19),o.k0s(),o.j41(37,"button",20),o.EFF(38,"Register"),o.k0s()()()),2&s&&(o.R7$(3),o.Y8G("formGroup",h.registerForm),o.R7$(17),o.Y8G("ngIf","Performer"===h.registrationType||"Venue"===h.registrationType),o.R7$(8),o.Y8G("ngIf",h.emailMatchError),o.R7$(8),o.Y8G("ngIf",h.passwordMatchError),o.R7$(),o.Y8G("disabled",!h.registerForm.valid))},dependencies:[Mn,io,Nh,Zu,ai,xc,Di,Zo,_s,Js,Ua],styles:[".register-container[_ngcontent-%COMP%]{max-width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.required[_ngcontent-%COMP%]{color:red;margin-left:2px;font-weight:700}.password[_ngcontent-%COMP%]{margin-bottom:10px}.password-match-error[_ngcontent-%COMP%], .email-match-error[_ngcontent-%COMP%]{color:#dc3545}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),od=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.weatherUrl=oo_apiUrl+"/weather"}getWeather(){return this.http.get(`${this.weatherUrl}`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}getLocation(){return this.http.get(`${oo_apiUrl}/location`)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function To(r,a){const t="object"==typeof a;return new Promise((s,h)=>{let b,y=!1;r.subscribe({next:F=>{b=F,y=!0},error:h,complete:()=>{y?s(b):t?s(a.defaultValue):h(new eu)}})})}var Sl,dg="https://js.stripe.com/v3",g_=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,m_="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",v_=function(a){var t=a&&!a.advancedFraudSignals?"?advancedFraudSignals=false":"",s=document.createElement("script");s.src="".concat(dg).concat(t);var h=document.head||document.body;if(!h)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return h.appendChild(s),s},Dl=null,sd=null,$r=null,fg=!1,zh=function(){return Sl||(Sl=(a=null,null!==Dl?Dl:(Dl=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u")t(null);else if(window.Stripe&&a&&console.warn(m_),window.Stripe)t(window.Stripe);else try{var h=function(){for(var a=document.querySelectorAll('script[src^="'.concat(dg,'"]')),t=0;t<a.length;t++){var s=a[t];if(g_.test(s.src))return s}return null}();if(h&&a)console.warn(m_);else if(h){if(h&&null!==$r&&null!==sd){var y;h.removeEventListener("load",$r),h.removeEventListener("error",sd),null===(y=h.parentNode)||void 0===y||y.removeChild(h),h=v_(a)}}else h=v_(a);$r=function(a,t){return function(){window.Stripe?a(window.Stripe):t(new Error("Stripe.js not available"))}}(t,s),sd=function(a){return function(){a(new Error("Failed to load Stripe.js"))}}(s),h.addEventListener("load",$r),h.addEventListener("error",sd)}catch(b){return void s(b)}})).catch(function(t){return Dl=null,Promise.reject(t)})).catch(function(a){return Sl=null,Promise.reject(a)}));var a};Promise.resolve().then(function(){return zh()}).catch(function(r){fg||console.warn(r)});const E_={setOnLoadError:r=>{},setOnLoaderStart:r=>{}},pg={"account-onboarding":{setFullTermsOfServiceUrl:r=>{},setRecipientTermsOfServiceUrl:r=>{},setPrivacyPolicyUrl:r=>{},setSkipTermsOfServiceCollection:r=>{},setCollectionOptions:r=>{},setOnExit:r=>{},setOnStepChange:r=>{}},"account-management":{setCollectionOptions:r=>{}},"notification-banner":{setCollectionOptions:r=>{},setOnNotificationsChange:r=>{}},payments:{setDefaultFilters:r=>{}},"payment-details":{setPayment:r=>{},setOnClose:r=>{}},"tax-settings":{setHideProductTaxCodeSelector:r=>{},setDisplayHeadOfficeCountries:r=>{},setOnTaxSettingsUpdated:r=>{}},"tax-registrations":{setOnAfterTaxRegistrationAdded:r=>{},setDisplayCountries:r=>{}}},x_={"account-onboarding":"stripe-connect-account-onboarding",payments:"stripe-connect-payments","payment-details":"stripe-connect-payment-details",payouts:"stripe-connect-payouts","payouts-list":"stripe-connect-payouts-list",balances:"stripe-connect-balances","account-management":"stripe-connect-account-management","notification-banner":"stripe-connect-notification-banner",documents:"stripe-connect-documents","tax-registrations":"stripe-connect-tax-registrations","tax-settings":"stripe-connect-tax-settings"},b_="loadConnect was called but an existing Connect.js script already exists in the document; existing script parameters will be used",Nw="https://connect-js.stripe.com/v1.0/connect.js";let gg=null;const Lb=(r,a)=>{var t;const s=(()=>{try{return a.fetchClientSecret()}catch(b){return Promise.reject(b)}})(),h=null!==(t=a.metaOptions)&&void 0!==t?t:{},y=r.then(b=>b.initialize(Object.assign(Object.assign({},a),{metaOptions:Object.assign(Object.assign({},h),{eagerClientSecretPromise:s})})));return{create:b=>{let F=x_[b];F||(F=b);const U=document.createElement(F),k=(r=>r in pg)(b)?pg[b]:{},ie=Object.assign(Object.assign({},k),E_);for(const de in ie)U[de]=function(Ge){y.then(()=>{this[`${de}InternalOnly`](Ge)})};return y.then(de=>{if(!U.isConnected&&!U.setConnector){const Ge=U.style.display;U.style.display="none",document.body.appendChild(U),document.body.removeChild(U),U.style.display=Ge}if(!U||!U.setConnector)throw new Error(`Element ${b} was not transformed into a custom element. Are you using a documented component? See https://docs.stripe.com/connect/supported-embedded-components for a list of supported components`);U.setConnector(de.connect)}),U},update:b=>{y.then(F=>{F.update(b)})},debugInstance:()=>y,logout:()=>y.then(b=>b.logout())}},mg=r=>(window.StripeConnect=window.StripeConnect||{},window.StripeConnect.optimizedLoading=!0,{initialize:t=>{var s;const h=null!==(s=t.metaOptions)&&void 0!==s?s:{};return r.init(Object.assign(Object.assign({},t),{metaOptions:Object.assign(Object.assign({},h),{sdk:!0,sdkOptions:{sdkVersion:"3.3.15"}})}))}}),_g=Promise.resolve().then(()=>(null!==gg||(gg=new Promise((r,a)=>{if(typeof window>"u")a("ConnectJS won't load when rendering code in the server - it can only be loaded on a browser. This error is expected when loading ConnectJS in SSR environments, like NextJS. It will have no impact in the UI, however if you wish to avoid it, you can switch to the `pure` version of the connect.js loader: https://github.com/stripe/connect-js#importing-loadconnect-without-side-effects.");else if(window.StripeConnect&&console.warn(b_),window.StripeConnect){const t=mg(window.StripeConnect);r(t)}else try{let t=document.querySelectorAll(`script[src="${Nw}"]`)[0]||document.querySelectorAll('script[src="https://connect-js.stripe.com/v0.1/connect.js"]')[0]||null;t?console.warn(b_):t||(t=(()=>{const r=document.createElement("script");if(r.src=Nw,!document.head)throw new Error("Expected document.head not to be null. Connect.js requires a <head> element.");return document.head.appendChild(r),r})()),t.addEventListener("load",()=>{if(window.StripeConnect){const s=mg(window.StripeConnect);r(s)}else a(new Error("Connect.js did not load the necessary objects"))}),t.addEventListener("error",()=>{a(new Error("Failed to load Connect.js"))})}catch(t){a(t)}})),gg));let Ow=!1;_g.catch(r=>{Ow||console.warn(r)});let Gh=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.paymentUrl=oo_apiUrl+"/payments",this.stripe=null,this.stripeConnectInstance=null}initializeStripe(){var t=this;return Er(function*(){t.stripe=yield function(){for(var a=arguments.length,t=new Array(a),s=0;s<a;s++)t[s]=arguments[s];fg=!0;var h=Date.now();return zh().then(function(y){return function(a,t,s){if(null===a)return null;var h=a.apply(void 0,t);return function(a,t){!a||!a._registerWrapper||a._registerWrapper({name:"stripe-js",version:"4.7.0",startTime:t})}(h,s),h}(y,t,h)})}(oo_stripePublishableKey)})()}initializeStripeConnect(){var t=this;return Er(function*(){t.stripeConnectInstance=(r=>(Ow=!0,Lb(_g,r)))({publishableKey:oo_stripePublishableKey,fetchClientSecret:t.fetchClientSecret.bind(t),appearance:{variables:{colorPrimary:"#000000"}}})})()}getStripe(){return this.stripe}getStripeConnectInstance(){return this.stripeConnectInstance}fetchClientSecret(){var t=this;return Er(function*(){try{return(yield To(t.getStripeConnectSession())).clientSecret}catch{return""}})()}getStripeConnectSession(){return this.http.get(`${this.paymentUrl}/stripe/session`)}getStripeExpressDashboardLink(){return this.http.get(`${this.paymentUrl}/stripe/express-dashboard`)}getStripeOnboardingLink(){return this.http.get(`${this.paymentUrl}/stripe/onboarding`)}getStripeOnboardingStatus(){return this.http.get(`${this.paymentUrl}/stripe/onboarding/status`)}getStripeTotalAndFee(t){return this.http.post(`${this.paymentUrl}/stripe/total-and-fee`,{ticketIds:t})}getStripeGuestTotalAndFee(t,s){return this.http.post(`${this.paymentUrl}/stripe/guest/total-and-fee`,{ticketIds:t},{headers:{Authorization:"Bearer "+s}})}createPaymentIntent(t,s){return this.http.post(`${this.paymentUrl}/stripe/create-payment-intent`,{ticketIds:t,venueId:s},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}createGuestPaymentIntent(t,s,h){return this.http.post(`${this.paymentUrl}/stripe/guest/create-payment-intent`,{ticketIds:t,venueId:s},{headers:{Authorization:"Bearer "+h}})}confirmPayment(t){return this.stripe?.confirmPayment({elements:t,confirmParams:{},redirect:"if_required"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Bb=(()=>{class r{constructor(t){this.router=t,this.searchTerm="",this.search=new o.bkB}submitSearch(){this.search.emit(this.searchTerm),this.router.navigate(["/search"],{queryParams:{q:this.searchTerm}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-search-bar"]],outputs:{search:"search"},decls:4,vars:1,consts:[[1,"container"],["type","text","placeholder","Search for events, venues, or performers",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"input",1),o.mxI("ngModelChange",function(b){return o.DH7(h.searchTerm,b)||(h.searchTerm=b),b}),o.bIt("keyup.enter",function(){return h.submitSearch()}),o.k0s(),o.j41(2,"button",2),o.bIt("click",function(){return h.submitSearch()}),o.EFF(3,"Search"),o.k0s()()),2&s&&(o.R7$(),o.R50("ngModel",h.searchTerm))},dependencies:[ai,Di,Ui],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center}input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;border-radius:4px;width:100%}button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#333}"]})}}return r})();function Ub(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",4),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.login())}),o.EFF(2,"Login"),o.k0s(),o.j41(3,"button",4),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.signUp())}),o.EFF(4,"Sign Up"),o.k0s()()}}function Vb(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",4),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.goToCreateEvent())}),o.EFF(2,"+ Create Event"),o.k0s()()}}function jb(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToBookings())}),o.EFF(1,"Bookings"),o.k0s()}}function Hb(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToVenueEvents())}),o.EFF(1,"Events"),o.k0s()}}function zb(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToScanner())}),o.EFF(1,"Scanner"),o.k0s()}}function Rw(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToPayments())}),o.EFF(1,"Payments"),o.k0s()}}function Tl(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",5)(1,"span",6),o.EFF(2),o.k0s(),o.nrm(3,"span",7),o.j41(4,"div",8)(5,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.goToDashboard())}),o.EFF(6,"Dashboard"),o.k0s(),o.DNE(7,jb,2,0,"button",10)(8,Hb,2,0,"button",10)(9,zb,2,0,"button",10)(10,Rw,2,0,"button",10),o.j41(11,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.goToSettings())}),o.EFF(12,"Settings"),o.k0s(),o.j41(13,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.logout())}),o.EFF(14,"Logout"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(2),o.JRh(t.username),o.R7$(5),o.Y8G("ngIf",(null==t.roles?null:t.roles.includes("ROLE_ADMIN"))||(null==t.roles?null:t.roles.includes("ROLE_USER"))),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE")),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE")),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE"))}}function ad(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToBookings())}),o.EFF(1,"Bookings"),o.k0s()}}function kw(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToVenueEvents())}),o.EFF(1,"Events"),o.k0s()}}function Gb(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToScanner())}),o.EFF(1,"Scanner"),o.k0s()}}function I_(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.goToPayments())}),o.EFF(1,"Payments"),o.k0s()}}function Pw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",11),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleDropdown())}),o.j41(1,"span",12),o.qSk(),o.j41(2,"svg",13),o.nrm(3,"circle",14)(4,"path",15),o.k0s()(),o.joV(),o.j41(5,"div",8)(6,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.goToDashboard())}),o.EFF(7,"Dashboard"),o.k0s(),o.DNE(8,ad,2,0,"button",10)(9,kw,2,0,"button",10)(10,Gb,2,0,"button",10)(11,I_,2,0,"button",10),o.j41(12,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.goToSettings())}),o.EFF(13,"Settings"),o.k0s(),o.j41(14,"button",9),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.logout())}),o.EFF(15,"Logout"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(5),o.AVh("show",t.isDropdownOpen),o.R7$(3),o.Y8G("ngIf",(null==t.roles?null:t.roles.includes("ROLE_ADMIN"))||(null==t.roles?null:t.roles.includes("ROLE_USER"))),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE")),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE")),o.R7$(),o.Y8G("ngIf",null==t.roles?null:t.roles.includes("ROLE_VENUE"))}}let $b=(()=>{class r{constructor(t,s,h){this.authService=t,this.router=s,this.elementRef=h,this.isLoggedIn=!1,this.username="",this.roles=[],this.isDropdownOpen=!1}ngOnInit(){this.authService.isLoggedIn.subscribe(t=>{this.isLoggedIn=t}),this.authService.user.subscribe(t=>{this.username=t}),this.authService.roles.subscribe(t=>{this.roles=t})}goToCreateEvent(){this.router.navigate(["/venue/events/create"])}goToBookings(){this.router.navigate(["/bookings"])}goToScanner(){this.router.navigate(["/scanner"])}goToPayments(){this.router.navigate(["/payments"])}goToVenueEvents(){this.router.navigate(["/venue/events"])}goToSettings(){this.router.navigate(["/settings"])}goToDashboard(){this.router.navigate(["/dashboard"])}login(){this.router.navigate(["/login"])}signUp(){this.router.navigate(["/register"])}logout(){this.authService.logout(),this.router.navigate(["/"])}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen}onClickOutside(t){this.elementRef.nativeElement.contains(t)||(this.isDropdownOpen=!1)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Ir),o.rXU(Cn),o.rXU(o.aKT))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-auth-button"]],hostBindings:function(s,h){1&s&&o.bIt("click",function(b){return h.onClickOutside(b.target)},!1,o.EBC)},decls:5,vars:4,consts:[[1,"auth-buttons"],[4,"ngIf"],["class","username-dropdown desktop",4,"ngIf"],["class","username-dropdown mobile",3,"click",4,"ngIf"],[1,"regular-btn",3,"click"],[1,"username-dropdown","desktop"],[1,"username"],[1,"arrow"],[1,"dropdown-menu"],[3,"click"],[3,"click",4,"ngIf"],[1,"username-dropdown","mobile",3,"click"],[1,"profile-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","#333"],["cx","12","cy","8","r","4"],["d","M12 14c-5 0-8 3-8 6v2h16v-2c0-3-3-6-8-6z"]],template:function(s,h){1&s&&(o.j41(0,"div",0),o.DNE(1,Ub,5,0,"div",1)(2,Vb,3,0,"div",1)(3,Tl,15,5,"div",2)(4,Pw,16,6,"div",3),o.k0s()),2&s&&(o.R7$(),o.Y8G("ngIf",!h.isLoggedIn),o.R7$(),o.Y8G("ngIf",h.isLoggedIn&&(null==h.roles?null:h.roles.includes("ROLE_VENUE"))),o.R7$(),o.Y8G("ngIf",h.isLoggedIn),o.R7$(),o.Y8G("ngIf",h.isLoggedIn))},dependencies:[Mn],styles:[".username[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:700;font-style:italic}.regular-btn[_ngcontent-%COMP%]{padding:8px 16px;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-left:10px}.regular-btn[_ngcontent-%COMP%]:hover{background-color:#333}@media (min-width: 768px){.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.username-dropdown[_ngcontent-%COMP%]{position:relative;cursor:pointer;display:flex;align-items:center}.username[_ngcontent-%COMP%]{padding:8px;color:#333}.arrow[_ngcontent-%COMP%]{margin-left:4px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid #333}.dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;right:0;background-color:#f9f9f9;box-shadow:0 8px 16px #0003;border-radius:4px;min-width:120px;z-index:1000}.username-dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;padding:8px;width:100%;text-align:left;cursor:pointer;color:#333}.dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.mobile[_ngcontent-%COMP%]{display:none}}@media (max-width: 767px){.profile-icon[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:4px;margin-left:10px}.desktop[_ngcontent-%COMP%]{display:none}.mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}.auth-buttons[_ngcontent-%COMP%]{display:flex;align-items:center}.username-dropdown[_ngcontent-%COMP%]{position:relative;cursor:pointer}.username-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{display:none;position:absolute;top:100%;right:0;background-color:#fff;box-shadow:0 4px 8px #0000001a;border-radius:4px;overflow:hidden;z-index:1000;min-width:150px}.username-dropdown.mobile[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{display:block;width:100%}.username-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;width:100%;padding:10px;background:none;border:none;text-align:left;cursor:pointer}.username-dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}}"]})}}return r})(),Cs=(()=>{class r{constructor(t){this.router=t,this.search=new o.bkB}goToHome(){this.router.navigate(["/"])}onSearch(t){this.search.emit(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-top-bar"]],outputs:{search:"search"},decls:15,vars:0,consts:[[1,"top-bar-desktop"],[1,"logo",3,"click"],[1,"search-container"],[3,"search"],[1,"auth-buttons"],[1,"top-bar-mobile"],[1,"top-bar-header"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1),o.bIt("click",function(){return h.goToHome()}),o.EFF(2,"turnstile ticket"),o.k0s(),o.j41(3,"div",2)(4,"app-search-bar",3),o.bIt("search",function(b){return h.onSearch(b)}),o.k0s()(),o.j41(5,"div",4),o.nrm(6,"app-auth-button"),o.k0s()(),o.j41(7,"div",5)(8,"div",6)(9,"div",1),o.bIt("click",function(){return h.goToHome()}),o.EFF(10,"turnstile ticket"),o.k0s(),o.j41(11,"div",4),o.nrm(12,"app-auth-button"),o.k0s()(),o.j41(13,"div",2)(14,"app-search-bar",3),o.bIt("search",function(b){return h.onSearch(b)}),o.k0s()()())},dependencies:[Bb,$b],styles:[".top-bar-desktop[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 20px;background-color:#fff}.logo[_ngcontent-%COMP%]{font-size:1.5em;color:#000;cursor:pointer;margin-right:5%;font-family:Poppins,sans-serif;font-weight:700;font-style:italic}.search-container[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;gap:10px}.search-container[_ngcontent-%COMP%]   app-search-bar[_ngcontent-%COMP%]{flex:1}.auth-buttons[_ngcontent-%COMP%]{margin-left:20%;display:flex;gap:10px}.auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer}.auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#333}.top-bar-mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 767px){.top-bar-desktop[_ngcontent-%COMP%]{display:none}.top-bar-mobile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;padding:10px 20px;background-color:#fff;color:#333;white-space:nowrap}.top-bar-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.auth-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}}"]})}}return r})();var D_=function(r){return r.Alternative="KnvZfZ7vAvv",r["Ballads/Romantic"]="KnvZfZ7vAve",r.Blues="KnvZfZ7vAvd",r["Children's Music"]="KnvZfZ7vAvk",r.Classical="KnvZfZ7vAeJ",r.Country="KnvZfZ7vAv6",r["Dance/Electronic"]="KnvZfZ7vAvF",r.Folk="KnvZfZ7vAva",r["Hip-Hop/Rap"]="KnvZfZ7vAv1",r.Holiday="KnvZfZ7vAvJ",r.Jazz="KnvZfZ7vAvE",r.Latin="KnvZfZ7vAJ6",r["Medieval/Renaissance"]="KnvZfZ7vAvI",r.Metal="KnvZfZ7vAvt",r["New Age"]="KnvZfZ7vAvn",r.Other="KnvZfZ7vAvl",r.Pop="KnvZfZ7vAev",r["R&B"]="KnvZfZ7vAee",r.Reggae="KnvZfZ7vAed",r.Religious="KnvZfZ7vAe7",r.Rock="KnvZfZ7vAeA",r.World="KnvZfZ7vAeF",r}(D_||{}),Vi=function(r){return r.o="o",r.tm="tm",r}(Vi||{});let ws=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.eventUrl=oo_apiUrl+"/ticketing/events"}getCuratedEvents(t,s=20){return this.http.get(`${this.eventUrl}/search?keyword=&original=true&location=true&classificationId=&page=${t}&size=${s}&sort=date,asc&radius=30&unit=miles`)}getEventsByVenue(){return this.http.get(`${this.eventUrl}/venue`)}createEvent(t){return this.http.post(`${this.eventUrl}`,t)}getEvent(t,s=Vi.o){return this.http.get(`${this.eventUrl}/${t}?&source=${s}`)}updateEvent(t,s){return this.http.put(`${this.eventUrl}/${t}`,s)}getAllEvents(){return this.http.get(`${this.eventUrl}`)}searchEvents(t,s){return this.http.get(`${this.eventUrl}/search?keyword=${t}&original=true&location=false&classificationId=&page=${s}&size=50&sort=date,asc&radius=&unit=`)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),vg=(()=>{class r{constructor(){this.eventsSource=new Qr.t([]),this.events$=this.eventsSource.asObservable()}updateEvents(t){this.eventsSource.next(t)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Lw(r,a){if(1&r&&(o.j41(0,"a",5),o.nrm(1,"img",6),o.j41(2,"p",7),o.EFF(3),o.k0s(),o.j41(4,"p",8),o.EFF(5),o.k0s(),o.j41(6,"p",9),o.EFF(7),o.nI1(8,"date"),o.k0s()()),2&r){const t=a.$implicit,s=o.XpG();o.Y8G("routerLink",s.routerLinkGenerator(t)),o.R7$(),o.FS9("alt",t.name),o.Y8G("src",s.findGoodImage(t),o.B4B),o.R7$(2),o.JRh(t.name),o.R7$(2),o.JRh(t.venue.name),o.R7$(2),o.JRh(o.i5U(8,6,t.date,"longDate"))}}function S_(r,a){1&r&&(o.j41(0,"div",10)(1,"p"),o.EFF(2,"Loading more events..."),o.k0s()())}function Wb(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",11)(1,"button",12),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.loadEvents())}),o.EFF(2,"Load More"),o.k0s()()}}let T_=(()=>{class r{constructor(t,s){this.eventService=t,this.eventMapService=s,this.events=[],this.eventsLoaded=new o.bkB,this.currentPage=0,this.loading=!1,this.moreResultsAvailable=!0}ngOnInit(){const t=sessionStorage.getItem("curated"),s=sessionStorage.getItem("currentCuratedPage");t&&s?(this.events=JSON.parse(t),this.currentPage=Number(s),this.eventsLoaded.emit(this.events)):this.loadEvents()}findGoodImage(t){return t.type===Vi.tm?t.images.find(s=>s.height>300).url:t.type===Vi.o?"/assets/placeholder_concert.jpg":void 0}routerLinkGenerator(t){return t.type===Vi.tm?["/event","tm",t.id]:t.type===Vi.o?["/event","o",t.id]:null}toDistinct(t){var s={};return t.filter(function(h){return!s.hasOwnProperty(h.id)&&(s[h.id]=!0)})}loadEvents(){this.loading=!0,this.eventService.getCuratedEvents(this.currentPage).subscribe({next:t=>{let s=t.original.filter(y=>"OPEN"===y.status).map(y=>this.createOriginalEvent(y)),h=t.ticketmaster._embedded?.events.filter(y=>"onsale"===y.dates.status.code).map(y=>this.createTicketmasterEvent(y));h||(h=[]),this.events=[...this.events,...s,...h],this.events=this.toDistinct(this.events),this.eventMapService.updateEvents(this.events),this.eventsLoaded.emit(this.events);try{this.events.sort((y,b)=>y.date.getTime()-b.date.getTime())}catch{this.events.sort((b,F)=>new Date(b.date).getTime()-new Date(F.date).getTime())}this.currentPage++,this.moreResultsAvailable=t?.ticketmaster.page.totalPages-1-this.currentPage>0,this.loading=!1,sessionStorage.setItem("curated",JSON.stringify(this.events)),sessionStorage.setItem("currentCuratedPage",String(this.currentPage))},error:()=>{console.error("Error loading events"),this.loading=!1}})}createOriginalEvent(t){return{id:t.id,name:t.name,date:new Date(t.date),venue:t.venue,type:Vi.o,description:"",status:"",performers:[],url:"",tickets:[],images:[]}}createTicketmasterEvent(t){let s=t?._embedded?.attractions?.map(y=>{let b=[];return y?.classifications?.forEach(F=>{F.genre&&b.push(F.genre.name)}),b});return{id:t.id,name:t.name,date:new Date(t.dates.start.dateTime),venue:t._embedded.venues[0]||"",images:t.images,location:null!==t._embedded.venues?t._embedded.venues[0].location:null,genres:s?.flat()??[],type:Vi.tm,description:"",status:"",performers:[],url:"",tickets:[]}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ws),o.rXU(vg))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-curated-events"]],inputs:{events:"events"},outputs:{eventsLoaded:"eventsLoaded"},decls:7,vars:3,consts:[[1,"curated-events"],[1,"event-grid"],["class","event-card",3,"routerLink",4,"ngFor","ngForOf"],["class","loading-spinner",4,"ngIf"],["class","load-button",4,"ngIf"],[1,"event-card",3,"routerLink"],[1,"event-image",3,"src","alt"],[1,"event-name"],[1,"event-venue"],[1,"event-date"],[1,"loading-spinner"],[1,"load-button"],[3,"click"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"h3"),o.EFF(2,"Events near you"),o.k0s(),o.j41(3,"div",1),o.DNE(4,Lw,9,9,"a",2),o.k0s(),o.DNE(5,S_,3,0,"div",3)(6,Wb,3,0,"div",4),o.k0s()),2&s&&(o.R7$(4),o.Y8G("ngForOf",h.events),o.R7$(),o.Y8G("ngIf",h.loading),o.R7$(),o.Y8G("ngIf",h.moreResultsAvailable))},dependencies:[ar,Mn,Xs,lo],styles:[".event-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);gap:16px}.event-card[_ngcontent-%COMP%]{text-align:center;background-color:#f9f9f9;border:1px solid #ddd;border-radius:8px;padding:10px;box-shadow:0 4px 8px #0000001a;text-decoration:none;color:inherit;transition:transform .2s}.event-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 6px 12px #0003}.event-image[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:cover;border-radius:4px}.event-name[_ngcontent-%COMP%]{margin-top:10px;font-weight:700;color:#333}.event-venue[_ngcontent-%COMP%]{color:#555;font-size:.9em}.event-date[_ngcontent-%COMP%]{color:#888;font-size:.85em}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:20px;font-size:1.2em;color:#888}.load-button[_ngcontent-%COMP%]{display:flex;justify-content:center}button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer;justify-content:center}@media (max-width: 768px){.event-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}button[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();var Al=G(8244),Fw=G(5770);G(6484),delete Al.Icon.Default.prototype._getIconUrl,Al.Icon.Default.mergeOptions({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});let yg=(()=>{class r{constructor(t,s){this.eventMapService=t,this.weatherService=s,this.events=[],this.markers=Al.markerClusterGroup({showCoverageOnHover:!1,zoomToBoundsOnClick:!1})}ngOnInit(){var t=this;return Er(function*(){t.eventMapService.events$.subscribe(s=>{t.events=s,t.map&&t.updateMarkers()})})()}ngAfterViewInit(){var t=this;return Er(function*(){yield t.initMap(),t.loadEventsFromSessionStorage()})()}initMap(){var t=this;return Er(function*(){let h=(yield To(t.weatherService.getLocation())).loc.split(",");t.map=Al.map("map").setView([h[0],h[1]],13),Al.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(t.map)})()}ngOnChanges(t){var s=this;return Er(function*(){s.map&&t.events&&s.updateMarkers()})()}loadEventsFromSessionStorage(){const t=sessionStorage.getItem("curated");t&&(this.events=JSON.parse(t),this.updateMarkers())}updateMarkers(){this.markers.clearLayers(),this.addMarkers()}toDistinct(t){var s={};return t.filter(function(h){return!s.hasOwnProperty(h.id)&&(s[h.id]=!0)})}addMarkers(){this.events=this.toDistinct(this.events),this.events.forEach(t=>{let s=null;if(t.type===Vi.tm&&(s=Al.marker([t.venue.location.latitude,t.venue.location.longitude])),t.type===Vi.o){const F=t.venue.geoHash,{latitude:U,longitude:k}=Fw.decode(F);s=Al.marker([U,k])}const y=new Date(t.date);let b="";t.venue.name&&(b=`Venue: ${t.venue.name}<br>`),s?.bindPopup(`\n        <b>${t.name}</b><br>\n        ${b}\n        Date: ${y.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})}<br>\n        <a href="/event/${t.type}/${t.id}" target="_blank">More details</a>\n      `),this.markers.addLayer(s)}),this.map.addLayer(this.markers)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vg),o.rXU(od))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-event-map"]],inputs:{events:"events"},features:[o.OA$],decls:1,vars:0,consts:[["id","map"]],template:function(s,h){1&s&&o.nrm(0,"div",0)},styles:["#map[_ngcontent-%COMP%]{height:75vh;width:100%}@media (max-width: 768px){#map[_ngcontent-%COMP%]{height:60vh}}@media (max-width: 480px){#map[_ngcontent-%COMP%]{height:50vh}}"]})}}return r})();function Uw(r,a){if(1&r&&(o.j41(0,"option",14),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.JRh(t)}}function Vw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",9)(1,"div",10)(2,"label"),o.EFF(3,"Start Date: "),o.j41(4,"input",11),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.startDate,h)||(y.startDate=h),o.Njj(h)}),o.k0s()(),o.j41(5,"label"),o.EFF(6,"End Date: "),o.j41(7,"input",11),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.endDate,h)||(y.endDate=h),o.Njj(h)}),o.k0s()(),o.j41(8,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyDateFilter())}),o.EFF(9,"Filter"),o.k0s()(),o.j41(10,"label"),o.EFF(11,"Genre: "),o.k0s(),o.j41(12,"select",12),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.selectedGenre,h)||(y.selectedGenre=h),o.Njj(h)}),o.bIt("change",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyGenreFilter())}),o.DNE(13,Uw,2,2,"option",13),o.k0s(),o.j41(14,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyGenreFilter())}),o.EFF(15,"Filter"),o.k0s(),o.j41(16,"div")(17,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.clearAllFilters())}),o.EFF(18,"Clear All Filters"),o.k0s()()()}if(2&r){const t=o.XpG(2);o.R7$(4),o.R50("ngModel",t.startDate),o.R7$(3),o.R50("ngModel",t.endDate),o.R7$(5),o.R50("ngModel",t.selectedGenre),o.R7$(),o.Y8G("ngForOf",t.genres)}}function $h(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleView())}),o.nrm(4,"i",4),o.k0s()(),o.j41(5,"button",5),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleFilterMenu())}),o.nrm(6,"i",6),o.k0s()(),o.DNE(7,Vw,19,4,"div",7),o.j41(8,"app-curated-events",8),o.bIt("eventsLoaded",function(h){o.eBV(t);const y=o.XpG();return o.Njj(y.receiveEvents(h))}),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(4),o.Y8G("ngClass",t.isGridView?"fa-map":"fa-th-large"),o.R7$(3),o.Y8G("ngIf",t.isFilterMenuOpen),o.R7$(),o.Y8G("events",t.filteredEvents)}}function jw(r,a){if(1&r&&(o.j41(0,"option",14),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.JRh(t)}}function Hw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",9)(1,"div",10)(2,"label"),o.EFF(3,"Start Date: "),o.j41(4,"input",11),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.startDate,h)||(y.startDate=h),o.Njj(h)}),o.k0s()(),o.j41(5,"label"),o.EFF(6,"End Date: "),o.j41(7,"input",11),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.endDate,h)||(y.endDate=h),o.Njj(h)}),o.k0s()(),o.j41(8,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyDateFilter())}),o.EFF(9,"Filter"),o.k0s()(),o.j41(10,"label"),o.EFF(11,"Genre: "),o.k0s(),o.j41(12,"select",12),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG(2);return o.DH7(y.selectedGenre,h)||(y.selectedGenre=h),o.Njj(h)}),o.bIt("change",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyGenreFilter())}),o.DNE(13,jw,2,2,"option",13),o.k0s(),o.j41(14,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.applyGenreFilter())}),o.EFF(15,"Filter"),o.k0s(),o.j41(16,"div")(17,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG(2);return o.Njj(h.clearAllFilters())}),o.EFF(18,"Clear All Filters"),o.k0s()()()}if(2&r){const t=o.XpG(2);o.R7$(4),o.R50("ngModel",t.startDate),o.R7$(3),o.R50("ngModel",t.endDate),o.R7$(5),o.R50("ngModel",t.selectedGenre),o.R7$(),o.Y8G("ngForOf",t.genres)}}function zw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"div",1)(2,"div",2)(3,"button",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleView())}),o.nrm(4,"i",4),o.k0s()(),o.j41(5,"button",5),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleFilterMenu())}),o.nrm(6,"i",6),o.k0s()(),o.DNE(7,Hw,19,4,"div",7),o.nrm(8,"app-event-map",15),o.k0s()}if(2&r){const t=o.XpG();o.R7$(4),o.Y8G("ngClass",t.isGridView?"fa-map":"fa-th-large"),o.R7$(3),o.Y8G("ngIf",t.isFilterMenuOpen),o.R7$(),o.Y8G("events",t.filteredEvents)}}let A_=(()=>{class r{constructor(){this.isGridView=!0,this.isFilterMenuOpen=!1,this.events=[],this.filteredEvents=[],this.startDate="",this.endDate="",this.genres=Object.keys(D_),this.selectedGenre=null}toggleView(){this.isGridView=!this.isGridView}toggleFilterMenu(){this.isFilterMenuOpen=!this.isFilterMenuOpen}receiveEvents(t){this.events=t,this.filteredEvents=t}applyGenreFilter(){this.filteredEvents=this.events.filter(t=>t.genres?.includes(this.selectedGenre))}applyDateFilter(){this.filteredEvents=this.startDate&&this.endDate?this.events.filter(t=>{const s=new Date(t.date),h=new Date(this.startDate),y=new Date(h.getTime()+6e4*h.getTimezoneOffset()),b=new Date(this.endDate),F=new Date(b.getTime()+6e4*b.getTimezoneOffset());return F.setHours(23,59,59,999),s>=y&&s<=F}):this.events}clearAllFilters(){this.selectedGenre=null,this.startDate="",this.endDate="",this.filteredEvents=this.events}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-curated-grid-event-map"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"button-group"],[1,"view-toggle"],[3,"click"],[1,"fas",3,"ngClass"],[1,"filter-button",3,"click"],[1,"fas","fa-filter"],["class","filter-menu",4,"ngIf"],[3,"eventsLoaded","events"],[1,"filter-menu"],[1,"date-filter"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"events"]],template:function(s,h){1&s&&o.DNE(0,$h,9,3,"div",0)(1,zw,9,3,"div",0),2&s&&(o.Y8G("ngIf",h.isGridView),o.R7$(),o.Y8G("ngIf",!h.isGridView))},dependencies:[_n,ar,Mn,Nh,Zu,ai,xc,Di,Ui,T_,yg],styles:["button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer;margin-left:10px}.view-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%]{font-size:1em;padding:.5em;color:#fff}.date-filter[_ngcontent-%COMP%]{display:flex;gap:10px;margin-top:1em}button.clear-filter[_ngcontent-%COMP%]{margin-top:1em;padding:.5em;background-color:#000}.button-group[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}@media (max-width: 768px){.date-filter[_ngcontent-%COMP%]{flex-direction:column;align-items:start}.filter-button[_ngcontent-%COMP%]{text-align:center}}"]})}}return r})();function Gw(r,a){if(1&r&&(o.j41(0,"div")(1,"h3"),o.EFF(2),o.k0s(),o.j41(3,"p"),o.EFF(4),o.k0s(),o.j41(5,"p"),o.EFF(6),o.k0s(),o.j41(7,"p"),o.EFF(8),o.k0s(),o.j41(9,"p"),o.EFF(10),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.weatherData.name),o.R7$(2),o.SpI("Temperature: ",t.weatherData.main.temp,"\xb0F"),o.R7$(2),o.SpI("Weather: ",t.weatherData.weather[0].description,""),o.R7$(2),o.SpI("Humidity: ",t.weatherData.main.humidity,"%"),o.R7$(2),o.SpI("Wind Speed: ",t.weatherData.wind.speed," mph")}}function $w(r,a){if(1&r&&(o.j41(0,"div",10),o.EFF(1),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI(" ",t.errorMessage," ")}}function Ww(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",11)(1,"h3"),o.EFF(2,"Create New User"),o.k0s(),o.j41(3,"form",12),o.bIt("ngSubmit",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.createUser())}),o.j41(4,"div",13)(5,"label",14),o.EFF(6,"Username:"),o.k0s(),o.j41(7,"input",15),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.username,h)||(y.newUser.username=h),o.Njj(h)}),o.k0s()(),o.j41(8,"div",13)(9,"label",16),o.EFF(10,"Email:"),o.k0s(),o.j41(11,"input",17),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.email,h)||(y.newUser.email=h),o.Njj(h)}),o.k0s()(),o.j41(12,"div",13)(13,"label",18),o.EFF(14,"Role:"),o.k0s(),o.j41(15,"input",19),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.newUser.role,h)||(y.newUser.role=h),o.Njj(h)}),o.k0s()(),o.j41(16,"button",20),o.EFF(17,"Create User"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(7),o.R50("ngModel",t.newUser.username),o.R7$(4),o.R50("ngModel",t.newUser.email),o.R7$(4),o.R50("ngModel",t.newUser.role)}}function M_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",21)(1,"h3"),o.EFF(2,"Update User"),o.k0s(),o.j41(3,"form",12),o.bIt("ngSubmit",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.updateUser())}),o.j41(4,"div",13)(5,"label",22),o.EFF(6,"Current Username:"),o.k0s(),o.j41(7,"input",23),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.currentUsername,h)||(y.updateUserModel.currentUsername=h),o.Njj(h)}),o.k0s()(),o.j41(8,"div",13)(9,"label",24),o.EFF(10,"New Username:"),o.k0s(),o.j41(11,"input",25),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newUsername,h)||(y.updateUserModel.newUsername=h),o.Njj(h)}),o.k0s()(),o.j41(12,"div",13)(13,"label",26),o.EFF(14,"New Email:"),o.k0s(),o.j41(15,"input",27),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newEmail,h)||(y.updateUserModel.newEmail=h),o.Njj(h)}),o.k0s()(),o.j41(16,"div",13)(17,"label",28),o.EFF(18,"New Role:"),o.k0s(),o.j41(19,"input",29),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.updateUserModel.newRole,h)||(y.updateUserModel.newRole=h),o.Njj(h)}),o.k0s()(),o.j41(20,"button",20),o.EFF(21,"Update User"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(7),o.R50("ngModel",t.updateUserModel.currentUsername),o.R7$(4),o.R50("ngModel",t.updateUserModel.newUsername),o.R7$(4),o.R50("ngModel",t.updateUserModel.newEmail),o.R7$(4),o.R50("ngModel",t.updateUserModel.newRole)}}function N_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",30)(1,"div")(2,"h3"),o.EFF(3,"Delete a User"),o.k0s(),o.j41(4,"form",12),o.bIt("ngSubmit",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.onDeleteUser())}),o.j41(5,"div")(6,"label",14),o.EFF(7,"Username:"),o.k0s(),o.j41(8,"input",31),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.deleteUsername,h)||(y.deleteUsername=h),o.Njj(h)}),o.k0s()(),o.j41(9,"button",20),o.EFF(10,"Delete User"),o.k0s()()()()}if(2&r){const t=o.XpG();o.R7$(8),o.R50("ngModel",t.deleteUsername)}}function Zw(r,a){if(1&r&&(o.j41(0,"tr")(1,"td"),o.EFF(2),o.k0s(),o.j41(3,"td"),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(2),o.JRh(t.username),o.R7$(2),o.JRh(t.email)}}function Zb(r,a){if(1&r&&(o.j41(0,"table")(1,"thead")(2,"tr")(3,"th"),o.EFF(4,"Username"),o.k0s(),o.j41(5,"th"),o.EFF(6,"Email"),o.k0s()()(),o.j41(7,"tbody"),o.DNE(8,Zw,5,2,"tr",34),o.k0s()()),2&r){const t=o.XpG(2);o.R7$(8),o.Y8G("ngForOf",t.users)}}function O_(r,a){1&r&&(o.j41(0,"p"),o.EFF(1,"No users to display."),o.k0s())}function R_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",32)(1,"div")(2,"button",33),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.toggleUsers())}),o.EFF(3),o.k0s(),o.DNE(4,Zb,9,1,"table",4)(5,O_,2,0,"p",4),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(3),o.SpI(" ",t.isTableVisible?"Hide Users":"Show Users"," "),o.R7$(),o.Y8G("ngIf",t.isTableVisible&&t.users.length>0),o.R7$(),o.Y8G("ngIf",t.isTableVisible&&0===t.users.length)}}let Ic=(()=>{class r{constructor(t,s,h,y,b){this.userService=t,this.authService=s,this.weatherService=h,this.paymentService=y,this.router=b,this.message="Loading...",this.users=[],this.isTableVisible=!1,this.deleteUsername="",this.roles=[],this.searchText="",this.stripeConnectInstance=null,this.errorMessage=null,this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}ngOnInit(){this.authService.getRoles()?.includes("ROLE_VENUE")&&this.paymentService.initializeStripeConnect(),this.stripeConnectInstance=this.paymentService.getStripeConnectInstance(),this.checkUserRoles(),this.authService.getRoles()?.includes("ROLE_VENUE")&&this.buildNotificationsComponent(),this.getHelloMessage(),this.getWeather()}buildNotificationsComponent(){const t=this.stripeConnectInstance?.create("notification-banner");t?.setCollectionOptions({fields:"eventually_due",futureRequirements:"include"}),document.getElementById("notification-container")?.appendChild(t)}getHelloMessage(){this.userService.login().subscribe({next:t=>{this.message=t},error:t=>{console.error("Error fetching hello message:",t)}})}toggleUsers(){this.isTableVisible?this.isTableVisible=!1:this.userService.getUsers().subscribe({next:t=>{this.users=t,this.isTableVisible=!0},error:t=>{console.error("Error fetching users:",t)}})}createUser(){this.userService.createUser(this.newUser).subscribe({next:t=>{console.log("User created successfully:",t),alert("User created successfully!"),this.clearForm(),this.toggleUsers()},error:t=>{console.error("Error creating user:",t)}})}updateUser(){this.userService.updateUser(this.updateUserModel).subscribe({next:t=>{console.log("User updated successfully:",t),alert("User updated successfully!"),this.clearForm(),this.toggleUsers()},error:t=>{console.error("Error updating user:",t)}})}onDeleteUser(){this.deleteUsername&&this.userService.deleteUser(this.deleteUsername).subscribe({next:t=>{console.log("User deleted successfully:",t),alert("User deleted successfully"),this.deleteUsername=""},error:t=>{console.error("Error deleting user:",t),alert("Failed to delete user")}})}logout(){this.authService.logout(),this.router.navigate(["/"])}checkUserRoles(){this.userService.getUser().subscribe({next:t=>{t.roles.forEach(s=>{this.roles.push(s.name)}),this.authService.saveRoles(this.roles)}})}getWeather(){this.weatherService.getWeather().subscribe({next:t=>{this.weatherData=t,this.errorMessage=null},error:()=>{this.errorMessage="Could not fetch weather data. Please try again later.",this.weatherData=null}})}clearForm(){this.newUser={username:"",email:"",role:""},this.updateUserModel={currentUsername:null,newUsername:null,newEmail:null,newRole:null}}onSearchChange(){console.log(this.searchText)}searchEvents(){this.router.navigate(["/search"],{queryParams:{query:this.searchText}}),console.log("Searching events for:",this.searchText)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ys),o.rXU(Ir),o.rXU(od),o.rXU(Gh),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-dashboard"]],decls:16,vars:8,consts:[[1,"dashboard-container"],[3,"hidden"],["id","notification-container"],[1,"weather-dashboard"],[4,"ngIf"],["class","error-message",4,"ngIf"],["class","create-container",4,"ngIf"],["class","update-container",4,"ngIf"],["class","delete-container",4,"ngIf"],["class","get-container",4,"ngIf"],[1,"error-message"],[1,"create-container"],[3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","role"],["type","text","id","role","name","role","required","",3,"ngModelChange","ngModel"],["type","submit"],[1,"update-container"],["for","currentUsername"],["type","text","id","currentUsername","name","currentUsername","required","",3,"ngModelChange","ngModel"],["for","newUsername"],["type","text","id","newUsername","name","newUsername","required","",3,"ngModelChange","ngModel"],["for","newEmail"],["type","email","id","newEmail","name","newEmail","required","",3,"ngModelChange","ngModel"],["for","newRole"],["type","text","id","newRole","name","newRole","required","",3,"ngModelChange","ngModel"],[1,"delete-container"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],[1,"get-container"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"div",0)(2,"h2"),o.EFF(3,"Welcome to Your Dashboard"),o.k0s(),o.j41(4,"p"),o.EFF(5),o.k0s(),o.j41(6,"div",1),o.nrm(7,"div",2),o.k0s(),o.j41(8,"div",3),o.DNE(9,Gw,11,5,"div",4)(10,$w,2,1,"div",5),o.k0s(),o.DNE(11,Ww,18,3,"div",6)(12,M_,22,4,"div",7)(13,N_,11,1,"div",8)(14,R_,6,3,"div",9),o.nrm(15,"app-curated-grid-event-map"),o.k0s()),2&s&&(o.R7$(5),o.JRh(h.message),o.R7$(),o.Y8G("hidden",!h.roles.includes("ROLE_VENUE")),o.R7$(3),o.Y8G("ngIf",h.weatherData),o.R7$(),o.Y8G("ngIf",h.errorMessage),o.R7$(),o.Y8G("ngIf",h.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",h.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",h.roles.includes("ROLE_ADMIN")),o.R7$(),o.Y8G("ngIf",h.roles.includes("ROLE_ADMIN")))},dependencies:[ar,Mn,io,ai,Di,Zo,_s,Ui,La,Cs,A_],styles:[".search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;flex-direction:column;align-items:center}.create-container[_ngcontent-%COMP%], .update-container[_ngcontent-%COMP%], .delete-container[_ngcontent-%COMP%], .get-container[_ngcontent-%COMP%]{max-width:300px;margin:20px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.weather-dashboard[_ngcontent-%COMP%]{text-align:center;margin:20px}.error-message[_ngcontent-%COMP%]{color:red}"]})}}return r})(),k_=(()=>{class r{constructor(t){this.userService=t,this.email=""}onSubmit(){this.email&&this.userService.processForgotPassword(this.email).subscribe({next:t=>{console.log("Reset link sent:",t),alert("Reset link sent to your email."),this.email=""},error:t=>{console.error("Error sending reset link:",t),alert("Failed to send reset link. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ys))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-password"]],decls:11,vars:1,consts:[[1,"forgot-password-container"],[1,"forgot-password"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Forgot Password"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",5),o.mxI("ngModelChange",function(b){return o.DH7(h.email,b)||(h.email=b),b}),o.k0s()(),o.j41(9,"button",6),o.EFF(10,"Send Reset Link"),o.k0s()()()()),2&s&&(o.R7$(8),o.R50("ngModel",h.email))},dependencies:[io,ai,Di,Zo,_s,Ui,La],styles:[".forgot-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();function Xw(r,a){1&r&&(o.j41(0,"div")(1,"label",8),o.EFF(2,"Your passwords are not matching."),o.k0s()())}let Xb=(()=>{class r{constructor(t,s,h){this.route=t,this.userService=s,this.router=h,this.newPassword="",this.retypePassword="",this.token=null,this.passwordMatchError=!1}ngOnInit(){this.token=this.route.snapshot.paramMap.get("token")}onSubmit(){this.token&&this.newPassword===this.retypePassword&&this.userService.processResetPassword(this.token,this.newPassword).subscribe({next:t=>{console.log("Password reset successfully:",t),alert("Password has been reset successfully."),this.router.navigate(["/"])},error:t=>{console.error("Error resetting password:",t),alert("Failed to reset password. Please try again.")}}),this.newPassword!==this.retypePassword&&(this.passwordMatchError=!0)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vi),o.rXU(ys),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-reset-password"]],decls:11,vars:3,consts:[[1,"reset-password-container"],[1,"reset-password"],[3,"ngSubmit"],[1,"form-group"],[4,"ngIf"],["type","password","name","newPassword","placeholder","Enter your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","retypePassword","placeholder","Re-type your password here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"],[1,"password-match-error"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Reset Password"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.j41(5,"div",3),o.DNE(6,Xw,3,0,"div",4),o.j41(7,"input",5),o.mxI("ngModelChange",function(b){return o.DH7(h.newPassword,b)||(h.newPassword=b),b}),o.k0s(),o.j41(8,"input",6),o.mxI("ngModelChange",function(b){return o.DH7(h.retypePassword,b)||(h.retypePassword=b),b}),o.k0s()(),o.j41(9,"button",7),o.EFF(10,"Reset Password"),o.k0s()()()()),2&s&&(o.R7$(6),o.Y8G("ngIf",h.passwordMatchError),o.R7$(),o.R50("ngModel",h.newPassword),o.R7$(),o.R50("ngModel",h.retypePassword))},dependencies:[Mn,io,ai,Di,Zo,_s,Ui,La],styles:[".reset-password-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.password-match-error[_ngcontent-%COMP%]{color:#dc3545}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Cg=(()=>{class r{constructor(t,s){this.userService=t,this.router=s,this.email=""}onSubmit(){this.email&&this.userService.processForgotUsername(this.email).subscribe({next:t=>{console.log("Username sent to email:",t),alert("Your username has been sent to your email address."),this.email=""},error:t=>{console.error("Error sending username:",t),alert("Failed to send username. Please try again.")}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ys),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-username"]],decls:11,vars:1,consts:[[1,"forgot-username-container"],[1,"forgot-username"],[3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","name","email","placeholder","Enter your email here","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Forgot Username"),o.k0s(),o.j41(4,"form",2),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.j41(5,"div",3)(6,"label",4),o.EFF(7,"Email"),o.k0s(),o.j41(8,"input",5),o.mxI("ngModelChange",function(b){return o.DH7(h.email,b)||(h.email=b),b}),o.k0s()(),o.j41(9,"button",6),o.EFF(10,"Send Username"),o.k0s()()()()),2&s&&(o.R7$(8),o.R50("ngModel",h.email))},dependencies:[io,ai,Di,Zo,_s,Ui,La],styles:[".forgot-username-container[_ngcontent-%COMP%]{width:300px;margin:100px auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}.btn[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:3px;cursor:pointer}h2[_ngcontent-%COMP%]{text-align:center}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:280px;padding:10px;margin:5px 0 10px;border:1px solid #ccc;border-radius:3px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})();const wg=()=>["/"];function Yw(r,a){if(1&r&&(o.j41(0,"div",3)(1,"p"),o.EFF(2),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.verificationStatus)}}function P_(r,a){if(1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2),o.k0s()()),2&r){const t=o.XpG();o.R7$(2),o.JRh(t.errorMessage)}}function Eg(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2,"Your account is now verified! You can "),o.j41(3,"a",4),o.EFF(4,"login"),o.k0s(),o.EFF(5," now."),o.k0s()()),2&r&&(o.R7$(3),o.Y8G("routerLink",o.lJ4(1,wg)))}let qw=(()=>{class r{constructor(t,s){this.route=t,this.userService=s,this.verificationStatus="",this.errorMessage="",this.token=""}ngOnInit(){this.token=this.route.snapshot.params.token,this.verifyEmail()}verifyEmail(){this.userService.verifyEmail(this.token).subscribe({next:()=>{this.verificationStatus="Your email has been successfully verified!"},error:t=>{this.verificationStatus="Verification failed. Your email could not be verified.",this.errorMessage=t.error?.message||"An error occurred during verification."}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vi),o.rXU(ys))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-verify-email"]],decls:6,vars:3,consts:[[1,"verification-container"],["class","verification-status",4,"ngIf"],[4,"ngIf"],[1,"verification-status"],[3,"routerLink"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"h2"),o.EFF(2,"Email Verification"),o.k0s(),o.DNE(3,Yw,3,1,"div",1)(4,P_,3,1,"div",2)(5,Eg,6,2,"div",2),o.k0s()),2&s&&(o.R7$(3),o.Y8G("ngIf",h.verificationStatus),o.R7$(),o.Y8G("ngIf",h.errorMessage),o.R7$(),o.Y8G("ngIf",h.verificationStatus&&!h.errorMessage))},dependencies:[Mn,Xs],styles:[".verification-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;text-align:center}.verification-status[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{margin-top:10px}"]})}}return r})(),Yb=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-cookie-policy"]],decls:1,vars:0,consts:[["src",o.wXG`/policy/cookie-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,h){1&s&&o.nrm(0,"iframe",0)}})}}return r})(),Wh=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-privacy-policy"]],decls:1,vars:0,consts:[["src",o.wXG`/policy/privacy-policy.html`,1,"full-page-iframe",2,"position","fixed","top","0px","bottom","0px","right","0px","width","100%","border","none","margin","0","padding","0","overflow","hidden","z-index","999999","height","100%"]],template:function(s,h){1&s&&o.nrm(0,"iframe",0)}})}}return r})();function Kw(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"h2"),o.EFF(3,"Delete Account"),o.k0s(),o.j41(4,"p"),o.EFF(5," Are you sure you want to delete your account? This action cannot be undone. "),o.k0s(),o.j41(6,"div",3)(7,"button",4),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.onConfirm())}),o.EFF(8,"Yes"),o.k0s(),o.j41(9,"button",5),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.onCancel())}),o.EFF(10,"Cancel"),o.k0s()()()()}}let L_=(()=>{class r{constructor(){this.showModal=!1,this.confirmDelete=new o.bkB,this.cancelDelete=new o.bkB}openModal(){this.showModal=!0}closeModal(){this.showModal=!1}onConfirm(){this.confirmDelete.emit(),this.closeModal()}onCancel(){this.cancelDelete.emit(),this.closeModal()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-delete-account-modal"]],outputs:{confirmDelete:"confirmDelete",cancelDelete:"cancelDelete"},decls:1,vars:1,consts:[["class","modal-backdrop",4,"ngIf"],[1,"modal-backdrop"],[1,"modal-content"],[1,"modal-buttons"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(s,h){1&s&&o.DNE(0,Kw,11,0,"div",0),2&s&&o.Y8G("ngIf",h.showModal)},dependencies:[Mn],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;text-align:center;width:300px;box-shadow:0 5px 15px #0000004d}.modal-buttons[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:space-between}.btn[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268}"]})}}return r})();function xg(r,a){1&r&&(o.j41(0,"div")(1,"label",13),o.EFF(2,"Please check your new email to confirm your updated email."),o.k0s()())}function Qw(r,a){1&r&&(o.j41(0,"div")(1,"label",14),o.EFF(2,"Your password was changed!"),o.k0s()())}function Es(r,a){1&r&&(o.j41(0,"div")(1,"label",14),o.EFF(2,"Error updating your password."),o.k0s()())}function cd(r,a){1&r&&(o.j41(0,"div")(1,"label",14),o.EFF(2,"Your passwords are not matching."),o.k0s()())}function Or(r,a){1&r&&(o.j41(0,"div")(1,"label",18),o.EFF(2,"Your address was changed!"),o.k0s()())}function Dc(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",2)(1,"label",3),o.EFF(2),o.k0s(),o.DNE(3,Or,3,0,"div",4),o.j41(4,"input",15),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.address,h)||(y.address=h),o.Njj(h)}),o.k0s(),o.j41(5,"input",16),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.city,h)||(y.city=h),o.Njj(h)}),o.k0s(),o.j41(6,"input",17),o.mxI("ngModelChange",function(h){o.eBV(t);const y=o.XpG();return o.DH7(y.state,h)||(y.state=h),o.Njj(h)}),o.k0s(),o.j41(7,"button",6),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.updateVenueAddress())}),o.EFF(8,"Update Address"),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(2),o.SpI("Current address: ",t.currentAddress,""),o.R7$(),o.Y8G("ngIf",t.changedAddress),o.R7$(),o.R50("ngModel",t.address),o.R7$(),o.R50("ngModel",t.city),o.R7$(),o.R50("ngModel",t.state)}}let Zh=(()=>{class r{constructor(t,s,h){this.userService=t,this.venueService=s,this.authService=h,this.email="",this.currentEmail="",this.password="",this.currentPassword="",this.retypePassword="",this.initiatedUpdateEmail=!1,this.changedPassword=!1,this.errorPassword=!1,this.passwordMatchError=!1,this.address="",this.city="",this.state="",this.currentAddress="",this.changedAddress=!1,this.roles=null}ngOnInit(){this.getEmail(),this.roles=this.authService.getRoles(),this.roles?.includes("ROLE_VENUE")&&this.getVenueAddress()}getEmail(){this.userService.getUserEmail().subscribe({next:t=>{this.currentEmail=t.email}})}updateEmail(){this.userService.updateUserEmail({email:this.email}).subscribe({next:()=>{this.initiatedUpdateEmail=!0}})}getVenueAddress(){this.venueService.getAddress().subscribe({next:t=>{this.currentAddress=t.address}})}updateVenueAddress(){this.venueService.updateAddress({address:this.address,city:this.city,state:this.state}).subscribe({next:()=>{this.getVenueAddress(),this.changedAddress=!0}})}updatePassword(){this.password===this.retypePassword?this.userService.updateUserPassword({currentPassword:this.currentPassword,newPassword:this.password}).subscribe({next:s=>{this.password="",this.currentPassword="",this.retypePassword="",this.errorPassword=!1,this.passwordMatchError=!1,this.changedPassword=!0},error:s=>{this.changedPassword=!1,this.passwordMatchError=!1,this.errorPassword=!0}}):(this.errorPassword=!1,this.changedPassword=!1,this.passwordMatchError=!0)}openDeleteModal(){this.deleteAccountModal.openModal()}handleDelete(){this.userService.deleteUser2().subscribe(t=>{alert("Account deleted successfully.")})}handleCancel(){}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ys),o.rXU(f_),o.rXU(Ir))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-settings"]],viewQuery:function(s,h){if(1&s&&o.GBs(L_,5),2&s){let y;o.mGM(y=o.lsd())&&(h.deleteAccountModal=y.first)}},decls:27,vars:10,consts:[[3,"confirmDelete","cancelDelete"],[1,"settings-container"],[1,"setting-item"],["for","email"],[4,"ngIf"],["type","email","id","email","placeholder","New email",3,"ngModelChange","ngModel"],[3,"click"],[1,"setting-item-pass"],["type","password","id","currentPassword","placeholder","Current password",3,"ngModelChange","ngModel"],["type","password","id","password","placeholder","New password",3,"ngModelChange","ngModel"],["type","password","id","retypePassword","placeholder","Re-type password",3,"ngModelChange","ngModel"],["class","setting-item",4,"ngIf"],[1,"delete-account",3,"click"],["for","email",1,"label-email-msg"],[1,"label-password-msg"],["type","address","id","address","placeholder","Address",3,"ngModelChange","ngModel"],["type","city","id","city","placeholder","City",3,"ngModelChange","ngModel"],["type","state","id","state","placeholder","State",3,"ngModelChange","ngModel"],[1,"label-address-msg"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"app-delete-account-modal",0),o.bIt("confirmDelete",function(){return h.handleDelete()})("cancelDelete",function(){return h.handleCancel()}),o.k0s(),o.j41(2,"div",1)(3,"h2"),o.EFF(4,"Settings"),o.k0s(),o.j41(5,"div",2)(6,"label",3),o.EFF(7),o.k0s(),o.DNE(8,xg,3,0,"div",4),o.j41(9,"input",5),o.mxI("ngModelChange",function(b){return o.DH7(h.email,b)||(h.email=b),b}),o.k0s(),o.j41(10,"button",6),o.bIt("click",function(){return h.updateEmail()}),o.EFF(11,"Update Email"),o.k0s()(),o.DNE(12,Qw,3,0,"div",4)(13,Es,3,0,"div",4)(14,cd,3,0,"div",4),o.j41(15,"div",7)(16,"input",8),o.mxI("ngModelChange",function(b){return o.DH7(h.currentPassword,b)||(h.currentPassword=b),b}),o.k0s()(),o.j41(17,"div",7)(18,"input",9),o.mxI("ngModelChange",function(b){return o.DH7(h.password,b)||(h.password=b),b}),o.k0s()(),o.j41(19,"div",7)(20,"input",10),o.mxI("ngModelChange",function(b){return o.DH7(h.retypePassword,b)||(h.retypePassword=b),b}),o.k0s(),o.j41(21,"button",6),o.bIt("click",function(){return h.updatePassword()}),o.EFF(22,"Update Password"),o.k0s()(),o.DNE(23,Dc,9,5,"div",11),o.j41(24,"div",2)(25,"button",12),o.bIt("click",function(){return h.openDeleteModal()}),o.EFF(26," Delete Account "),o.k0s()()()),2&s&&(o.R7$(7),o.SpI("Current email: ",h.currentEmail,""),o.R7$(),o.Y8G("ngIf",h.initiatedUpdateEmail),o.R7$(),o.R50("ngModel",h.email),o.R7$(3),o.Y8G("ngIf",h.changedPassword),o.R7$(),o.Y8G("ngIf",h.errorPassword),o.R7$(),o.Y8G("ngIf",h.passwordMatchError),o.R7$(2),o.R50("ngModel",h.currentPassword),o.R7$(2),o.R50("ngModel",h.password),o.R7$(2),o.R50("ngModel",h.retypePassword),o.R7$(3),o.Y8G("ngIf",null==h.roles?null:h.roles.includes("ROLE_VENUE")))},dependencies:[Mn,ai,Di,Ui,L_,Cs],styles:[".settings-container[_ngcontent-%COMP%]{max-width:300px;margin:0 auto 15px;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center}.setting-item[_ngcontent-%COMP%]{margin-bottom:10px}.setting-item-pass[_ngcontent-%COMP%]{margin-bottom:5px}.label-email-msg[_ngcontent-%COMP%], .label-password-msg[_ngcontent-%COMP%], .label-address-msg[_ngcontent-%COMP%]{color:#dc3545}input[_ngcontent-%COMP%]{width:275px;padding:10px;margin-top:8px}button[_ngcontent-%COMP%]{padding:10px;margin-top:10px;width:100%;background-color:#000;color:#fff;border:none;cursor:pointer}button.delete-account[_ngcontent-%COMP%]{background-color:#dc3545}"]})}}return r})();function Ao(r,a){1&r&&(o.j41(0,"div",3)(1,"p"),o.EFF(2,"Confirming your email, please wait..."),o.k0s()())}function Ml(r,a){1&r&&(o.j41(0,"div")(1,"h2"),o.EFF(2,"Email Confirmation Successful"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Your email has been updated successfully."),o.k0s(),o.j41(5,"button",4),o.EFF(6,"Go to Login"),o.k0s()())}function Jw(r,a){1&r&&(o.j41(0,"div")(1,"h2"),o.EFF(2,"Email Confirmation Failed"),o.k0s(),o.j41(3,"p"),o.EFF(4,"Invalid or expired token. Please try again or contact support."),o.k0s(),o.j41(5,"button",5),o.EFF(6,"Go to Home"),o.k0s()())}let ld=(()=>{class r{constructor(t,s){this.route=t,this.userService=s,this.isLoading=!0,this.isConfirmed=!1}ngOnInit(){const t=this.route.snapshot.params.token;t&&this.confirmEmail(t)}confirmEmail(t){this.userService.confirmEmail(t).subscribe({next:s=>{this.isLoading=!1,this.isConfirmed=!0},error:s=>{this.isLoading=!1,this.isConfirmed=!1}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vi),o.rXU(ys))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-email-confirmation"]],decls:4,vars:3,consts:[[1,"email-confirmation-container"],["class","loading-message",4,"ngIf"],[4,"ngIf"],[1,"loading-message"],["routerLink","/login",1,"btn"],["routerLink","/",1,"btn"]],template:function(s,h){1&s&&(o.j41(0,"div",0),o.DNE(1,Ao,3,0,"div",1)(2,Ml,7,0,"div",2)(3,Jw,7,0,"div",2),o.k0s()),2&s&&(o.R7$(),o.Y8G("ngIf",h.isLoading),o.R7$(),o.Y8G("ngIf",!h.isLoading&&h.isConfirmed),o.R7$(),o.Y8G("ngIf",!h.isLoading&&!h.isConfirmed))},dependencies:[Mn,Xs],styles:[".email-confirmation-container[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.loading-message[_ngcontent-%COMP%]{color:#333}h2[_ngcontent-%COMP%]{color:#3c6bec}.btn[_ngcontent-%COMP%]{padding:10px 20px;margin-top:20px;color:#fff;background-color:#3c6bec;border:none;border-radius:5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#3c6bec}"]})}}return r})(),bg=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-data-deletion-policy"]],decls:2,vars:0,template:function(s,h){1&s&&(o.j41(0,"p"),o.EFF(1,"If you want to delete your user data, write to mh.testdev@gmail.com"),o.k0s())}})}}return r})(),F_=(()=>{class r{constructor(){}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-homepage"]],decls:3,vars:0,consts:[[1,"homepage-container"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"div",0),o.nrm(2,"app-curated-grid-event-map"),o.k0s())},dependencies:[Cs,A_],styles:[".homepage-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:50px}"]})}}return r})();function B_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"div")(2,"span"),o.EFF(3),o.nI1(4,"currency"),o.k0s(),o.j41(5,"span"),o.EFF(6),o.k0s(),o.j41(7,"span"),o.EFF(8),o.k0s()(),o.j41(9,"div")(10,"button",6),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.decrementTicket(h.price))}),o.EFF(11,"-"),o.k0s(),o.j41(12,"span"),o.EFF(13),o.k0s(),o.j41(14,"button",6),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.incrementTicket(h.price))}),o.EFF(15,"+"),o.k0s()()()}if(2&r){const t=a.$implicit;o.R7$(3),o.SpI("Price: ",o.bMT(4,6,t.price),""),o.R7$(3),o.SpI(" Total Available: ",t.totalAvailable,""),o.R7$(2),o.SpI(" Selected: ",t.selectedCount,""),o.R7$(2),o.Y8G("disabled",0===t.selectedCount),o.R7$(3),o.JRh(t.selectedCount),o.R7$(),o.Y8G("disabled",t.selectedCount>=t.totalAvailable)}}function eE(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.Lme(" Ticket ID: ",t.id," ",t.name," ")}}function tE(r,a){1&r&&(o.j41(0,"div"),o.EFF(1,"Sold Out"),o.k0s())}function Rr(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",1)(1,"div",2)(2,"span",3),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.close())}),o.EFF(3,"\xd7"),o.k0s(),o.j41(4,"h2"),o.EFF(5,"Select Tickets for Purchase"),o.k0s(),o.DNE(6,B_,16,8,"div",4),o.j41(7,"h3"),o.EFF(8,"Selected Tickets:"),o.k0s(),o.j41(9,"ul"),o.DNE(10,eE,2,2,"li",4),o.k0s(),o.DNE(11,tE,2,0,"div",5),o.j41(12,"button",6),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.openReserveModal())}),o.EFF(13,"Reserve Tickets"),o.k0s()()()}if(2&r){const t=o.XpG();o.R7$(6),o.Y8G("ngForOf",t.ticketsByPrice),o.R7$(4),o.Y8G("ngForOf",t.getSelectedTickets()),o.R7$(),o.Y8G("ngIf",0===t.ticketsByPrice.length),o.R7$(),o.Y8G("disabled",0===t.selectedTicketIds.length)}}let Ig=(()=>{class r{constructor(t,s,h){this.eventService=t,this.route=s,this.router=h,this.modalClosed=new o.bkB,this.ticketsByPrice=[],this.selectedTicketIds=[],this.rawTickets=[],this.showReserveModal=!1,this.venueId=null,this.showSelectionModal=!1,this.event=null,this.totalAmount=0}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id")}getSelectedTickets(){return this.rawTickets.filter(s=>this.selectedTicketIds.includes(s.id))}calculateTotalAmount(){this.totalAmount=this.ticketsByPrice.reduce((t,s)=>t+s.price*s.selectedCount,0),console.log("Total amount for selected tickets:",this.totalAmount)}fetchTickets(){this.eventService.getEvent(this.eventId).subscribe(t=>{this.venueId=t.venue.id,this.rawTickets=t?.tickets,this.aggregateTicketsByPrice()})}aggregateTicketsByPrice(){const t=this.rawTickets.filter(h=>"AVAILABLE"===h.status),s={};t.forEach(h=>{s[h.price]||(s[h.price]={price:h.price,totalAvailable:0,tickets:[],selectedCount:0}),s[h.price].totalAvailable++,s[h.price].tickets.push(h)}),this.ticketsByPrice=Object.values(s)}incrementTicket(t){const s=this.ticketsByPrice.find(h=>h.price===t);if(s&&s.selectedCount<s.totalAvailable){const h=s.tickets[Math.floor(Math.random()*s.tickets.length)];this.selectedTicketIds.push(h.id),s.tickets=s.tickets.filter(y=>y.id!==h.id),s.selectedCount++,this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}decrementTicket(t){const s=this.ticketsByPrice.find(h=>h.price===t);if(s&&s.selectedCount>0){const h=this.selectedTicketIds.pop();s.selectedCount--;const y=this.rawTickets.find(b=>b.id===h);y&&s.tickets.push(y),this.calculateTotalAmount(),console.log("Selected ticket IDs:",this.selectedTicketIds)}}removeTicket(t){this.selectedTicketIds=this.selectedTicketIds.filter(s=>s!==t),console.log("Updated selected ticket IDs:",this.selectedTicketIds)}close(){this.selectedTicketIds=[],this.modalClosed.emit()}openReserveModal(){this.goToReserveTickets()}goToReserveTickets(){const t=this.rawTickets.filter(s=>this.selectedTicketIds.includes(s.id));this.router.navigate(["/reserve"],{state:{data:{tickets:t,event:this.event}}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ws),o.rXU(vi),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-ticket-selection-modal"]],inputs:{venueId:"venueId",showSelectionModal:"showSelectionModal",event:"event"},outputs:{modalClosed:"modalClosed"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click","disabled"]],template:function(s,h){1&s&&o.DNE(0,Rr,14,4,"div",0),2&s&&o.Y8G("ngIf",h.showSelectionModal)},dependencies:[ar,Mn,Lr],styles:[".modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center}.modal-content[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px #0000004d;width:400px;max-width:90%;max-height:800px;overflow-y:auto}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function nE(r,a){if(1&r&&(o.j41(0,"div")(1,"p")(2,"strong"),o.EFF(3,"Performer:"),o.k0s(),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(4),o.SpI(" ",t.name,"")}}function kr(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",2)(1,"h2"),o.EFF(2),o.k0s(),o.j41(3,"p")(4,"strong"),o.EFF(5,"Description:"),o.k0s(),o.EFF(6),o.k0s(),o.j41(7,"p")(8,"strong"),o.EFF(9,"Venue:"),o.k0s(),o.EFF(10),o.k0s(),o.DNE(11,nE,5,1,"div",3),o.j41(12,"p")(13,"strong"),o.EFF(14,"Date:"),o.k0s(),o.EFF(15),o.nI1(16,"date"),o.k0s(),o.j41(17,"button",4),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.openTicketSelectionModal())}),o.EFF(18,"Purchase Tickets"),o.k0s()()}if(2&r){const t=o.XpG();o.R7$(2),o.JRh(t.eventDetails.name),o.R7$(4),o.SpI(" ",t.eventDetails.description,""),o.R7$(4),o.SpI(" ",t.eventDetails.venue.name,""),o.R7$(),o.Y8G("ngForOf",t.eventDetails.performers),o.R7$(4),o.SpI(" ",o.i5U(16,5,t.eventDetails.date,"medium"),"")}}let ud=(()=>{class r{constructor(t,s,h){this.eventService=t,this.route=s,this.router=h,this.showTicketSelectionModal=!1;const y=this.router.getCurrentNavigation()?.extras?.state?.data;this.eventDetails=y}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("id"),this.sourceId=this.route.snapshot.paramMap.get("sourceId"),this.fetchEventDetails(this.sourceId)}fetchEventDetails(t){this.eventService.getEvent(this.eventId,t).subscribe(s=>{switch(t){case Vi.o:this.eventDetails=s;break;case Vi.tm:this.eventDetails={};let h=[];s._embedded.attractions?.forEach(y=>{h.push(y)}),this.eventDetails.id=s.id,this.eventDetails.name=s.name,this.eventDetails.status=s.dates.status.code,this.eventDetails.date=new Date(s.dates.start.dateTime),this.eventDetails.venue=s._embedded.venues[0],this.eventDetails.performers=h,this.eventDetails.description="",this.eventDetails.url=s.url,this.eventDetails.type="ticketmaster",this.eventDetails.tickets=[]}},s=>{console.error("Error fetching event details:",s)})}openTicketSelectionModal(){"o"===this.sourceId?(setTimeout(()=>{this.ticketSelectionModal.fetchTickets()}),this.showTicketSelectionModal=!0):window.location.href=this.eventDetails.url}onModalClosed(){this.showTicketSelectionModal=!1}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ws),o.rXU(vi),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-event-details"]],viewQuery:function(s,h){if(1&s&&o.GBs(Ig,5),2&s){let y;o.mGM(y=o.lsd())&&(h.ticketSelectionModal=y.first)}},decls:3,vars:3,consts:[[3,"modalClosed","showSelectionModal","event"],["class","event-details-container",4,"ngIf"],[1,"event-details-container"],[4,"ngFor","ngForOf"],[1,"purchase-button",3,"click"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"app-ticket-selection-modal",0),o.bIt("modalClosed",function(){return h.onModalClosed()}),o.k0s(),o.DNE(2,kr,19,8,"div",1)),2&s&&(o.R7$(),o.Y8G("showSelectionModal",h.showTicketSelectionModal)("event",h.eventDetails),o.R7$(),o.Y8G("ngIf",h.eventDetails))},dependencies:[ar,Mn,Ig,Cs,lo],styles:[".event-details-container[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;background-color:#f9f9f9}.purchase-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1.2em;background-color:#007bff;color:#fff;border:none;cursor:pointer}.purchase-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return r})(),Sc=(()=>{class r{constructor(t,s){this.http=t,this.authService=s,this.bookingUrl=oo_apiUrl+"/ticketing/bookings"}getBookingsForUser(){return this.http.get(`${this.bookingUrl}/user`,{headers:{Authorization:"Bearer "+this.authService.getToken()}})}createReservation(t){return this.http.post(`${this.bookingUrl}/reserve`,{ticketIds:t},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}confirmReservation(t,s){return this.http.post(`${this.bookingUrl}/confirm`,{id:t,paymentIntentId:s},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}releaseReservation(t){return this.http.post(`${this.bookingUrl}/release`,{id:t},{headers:{Authorization:"Bearer "+this.authService.getToken()}})}startGuestCheckout(){return this.http.get(`${this.bookingUrl}/guest/start`)}createGuestReservation(t,s){return this.http.post(`${this.bookingUrl}/guest/reserve`,{ticketIds:t},{headers:{Authorization:"Bearer "+s}})}confirmGuestReservation(t,s,h,y){return this.http.post(`${this.bookingUrl}/guest/confirm`,{id:t,paymentIntentId:s,guestEmail:h},{headers:{Authorization:"Bearer "+y}})}releaseGuestReservation(t,s){return this.http.post(`${this.bookingUrl}/guest/release`,{id:t},{headers:{Authorization:"Bearer "+s}})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs),o.KVO(Ir))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var Xh=G(8314);function dd(r,a){if(1&r&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&r){const t=o.XpG().$implicit;o.R7$(),o.SpI(" ",t.status,"")}}function Yh(r,a){if(1&r&&(o.j41(0,"li"),o.EFF(1),o.nI1(2,"currency"),o.DNE(3,dd,2,1,"span",8),o.nrm(4,"canvas",9),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.E5c(" Ticket ID: ",t.id,", ",t.name," , Price: ",o.bMT(2,6,t.price)," "),o.R7$(2),o.Y8G("ngIf","REFUNDED"===t.status),o.R7$(),o.Mz_("id","ticket-",t.id,"")}}function U_(r,a){if(1&r&&(o.j41(0,"div",6)(1,"p")(2,"strong"),o.EFF(3,"Booking ID:"),o.k0s(),o.EFF(4),o.k0s(),o.j41(5,"p")(6,"strong"),o.EFF(7,"Booking Date:"),o.k0s(),o.EFF(8),o.nI1(9,"date"),o.k0s(),o.j41(10,"p")(11,"strong"),o.EFF(12,"Event:"),o.k0s(),o.EFF(13),o.k0s(),o.j41(14,"p")(15,"strong"),o.EFF(16,"Event Status:"),o.k0s(),o.EFF(17),o.k0s(),o.j41(18,"p")(19,"strong"),o.EFF(20,"Event Date:"),o.k0s(),o.EFF(21),o.nI1(22,"date"),o.k0s(),o.j41(23,"p")(24,"strong"),o.EFF(25,"Show Time:"),o.k0s(),o.EFF(26),o.k0s(),o.j41(27,"p")(28,"strong"),o.EFF(29,"Venue:"),o.k0s(),o.EFF(30),o.k0s(),o.j41(31,"p")(32,"strong"),o.EFF(33,"Total Amount:"),o.k0s(),o.EFF(34),o.nI1(35,"currency"),o.k0s(),o.j41(36,"h5"),o.EFF(37,"Tickets"),o.k0s(),o.j41(38,"ul"),o.DNE(39,Yh,5,8,"li",7),o.k0s()()),2&r){const t=o.XpG();o.R7$(4),o.SpI(" ",t.bookingDetails.id,""),o.R7$(4),o.SpI(" ",o.i5U(9,9,t.bookingDetails.date,"shortDate"),""),o.R7$(5),o.SpI(" ",t.bookingDetails.event.name,""),o.R7$(4),o.SpI(" ",t.bookingDetails.event.status,""),o.R7$(4),o.SpI(" ",o.i5U(22,12,t.bookingDetails.event.date,"shortDate"),""),o.R7$(5),o.SpI(" ",t.getTimeFromDate(t.bookingDetails.event.date),""),o.R7$(4),o.SpI(" ",t.bookingDetails.venue.name,""),o.R7$(4),o.SpI(" ",o.bMT(35,15,t.bookingDetails.totalPrice),""),o.R7$(5),o.Y8G("ngForOf",t.bookingDetails.tickets)}}let V_=(()=>{class r{constructor(){this.bookings=[],this.close=new o.bkB}ngOnInit(){this.loadBookingDetails()}ngAfterViewInit(){this.generateQRCode(this.bookingDetails.tickets)}generateQRCode(t){t.forEach(s=>{const h=document.getElementById("ticket-"+s.id);Xh.mo(h,s.token,{width:200},y=>{y&&console.error(y),console.log("QR code generated successfully")})})}getTimeFromDate(t){return new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}loadBookingDetails(){this.bookingDetails=this.bookings.find(t=>t.id===this.bookingId)}closeModal(){this.close.emit()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-booking-details-modal"]],inputs:{bookingId:"bookingId",bookings:"bookings"},outputs:{close:"close"},decls:8,vars:1,consts:[[1,"modal-overlay"],[1,"modal-container"],[1,"modal-header"],[1,"modal-title"],[1,"close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-body"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"id"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),o.EFF(4,"Booking Details"),o.k0s(),o.j41(5,"span",4),o.bIt("click",function(){return h.closeModal()}),o.EFF(6,"\xd7"),o.k0s()(),o.DNE(7,U_,40,17,"div",5),o.k0s()()),2&s&&(o.R7$(7),o.Y8G("ngIf",h.bookingDetails))},dependencies:[ar,Mn,Lr,lo],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:20px;width:80%;max-width:500px;border-radius:10px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-body[_ngcontent-%COMP%]{margin-top:20px}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}"]})}}return r})();function j_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",3)(1,"span"),o.EFF(2),o.k0s(),o.j41(3,"span"),o.EFF(4),o.nI1(5,"date"),o.k0s(),o.j41(6,"button",4),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG();return o.Njj(y.openBookingDetails(h.id))}),o.EFF(7,"View Details"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.SpI("Booking ID: ",t.id,""),o.R7$(2),o.SpI("Booking Date: ",o.i5U(5,2,t.date,"shortDate"),"")}}function qh(r,a){if(1&r){const t=o.RV6();o.j41(0,"app-booking-details-modal",5),o.bIt("close",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.closeModal())}),o.k0s()}if(2&r){const t=o.XpG();o.Y8G("bookingId",t.selectedBookingId)("bookings",t.bookings)}}let Dg=(()=>{class r{constructor(t){this.bookingsService=t,this.bookings=[],this.selectedBookingId=null,this.isModalOpen=!1}ngOnInit(){this.loadBookings()}loadBookings(){this.bookingsService.getBookingsForUser().subscribe(t=>{this.bookings=t})}openBookingDetails(t){this.selectedBookingId=t,this.isModalOpen=!0}closeModal(){this.isModalOpen=!1}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Sc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-bookings"]],decls:6,vars:2,consts:[[1,"booking-list"],["class","booking-item",4,"ngFor","ngForOf"],[3,"bookingId","bookings","close",4,"ngIf"],[1,"booking-item"],[3,"click"],[3,"close","bookingId","bookings"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"div",0)(2,"h2"),o.EFF(3,"Your Bookings"),o.k0s(),o.DNE(4,j_,8,5,"div",1),o.k0s(),o.DNE(5,qh,1,2,"app-booking-details-modal",2)),2&s&&(o.R7$(4),o.Y8G("ngForOf",h.bookings),o.R7$(),o.Y8G("ngIf",h.isModalOpen))},dependencies:[ar,Mn,V_,Cs,lo],styles:[".booking-list[_ngcontent-%COMP%]{margin:20px}.booking-item[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc;display:flex;justify-content:space-between}.booking-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}"]})}}return r})();class H_ extends Bd.yU{constructor(a,t){super()}schedule(a,t=0){return this}}const Sg={setInterval(r,a,...t){const{delegate:s}=Sg;return s?.setInterval?s.setInterval(r,a,...t):setInterval(r,a,...t)},clearInterval(r){const{delegate:a}=Sg;return(a?.clearInterval||clearInterval)(r)},delegate:void 0};var Nl=G(7908);const Ol={now:()=>(Ol.delegate||Date).now(),delegate:void 0};class hd{constructor(a,t=hd.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,s){return new this.schedulerActionCtor(this,a).schedule(s,t)}}hd.now=Ol.now;const Kh=new class rE extends hd{constructor(a,t=hd.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let s;this._active=!0;do{if(s=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,s){for(;a=t.shift();)a.unsubscribe();throw s}}}(class z_ extends H_{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var s;if(this.closed)return this;this.state=a;const h=this.id,y=this.scheduler;return null!=h&&(this.id=this.recycleAsyncId(y,h,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(y,this.id,t),this}requestAsyncId(a,t,s=0){return Sg.setInterval(a.flush.bind(a,this),s)}recycleAsyncId(a,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&Sg.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(a,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let h,s=!1;try{this.work(a)}catch(y){s=!0,h=y||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),h}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Nl.o)(s,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}});function Tg(r,a=Kh){return(0,Mr.N)((t,s)=>{let h=null,y=null,b=null;const F=()=>{if(h){h.unsubscribe(),h=null;const k=y;y=null,s.next(k)}};function U(){const k=b+r,ie=a.now();if(ie<k)return h=this.schedule(void 0,k-ie),void s.add(h);F()}t.subscribe((0,Nr._)(s,k=>{y=k,b=a.now(),h||(h=a.schedule(U,r),s.add(h))},()=>{F(),s.complete()},void 0,()=>{y=h=null}))})}function Ag(r,a=xa.D){return r=r??Qh,(0,Mr.N)((t,s)=>{let h,y=!0;t.subscribe((0,Nr._)(s,b=>{const F=a(b);(y||!r(h,F))&&(y=!1,h=F,s.next(b))}))})}function Qh(r,a){return r===a}var Tc=G(262),iE=G.t(Tc,2);let ji=(()=>{class r{constructor(){this._papa=iE}parse(t,s){return this._papa.parse(t,s)}unparse(t,s){return this._papa.unparse(t,s)}setLocalChunkSize(t){this._papa.LocalChunkSize=t}setRemoteChunkSize(t){this._papa.RemoteChunkSize=t}setDefaultDelimiter(t){this._papa.DefaultDelimiter=t}get badDelimiters(){return this._papa.BAD_DELIMITERS}get recordSeparator(){return this._papa.RECORD_SEP}get unitSeparator(){return this._papa.UNIT_SEP}get workersSupported(){return this._papa.WORKERS_SUPPORTED}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function oE(r,a){if(1&r){const t=o.RV6();o.j41(0,"li",20),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2).index,b=o.XpG();return o.Njj(b.selectPerformer(y,h))}),o.EFF(1),o.k0s()}if(2&r){const t=a.$implicit;o.R7$(),o.SpI(" ",t.name," ")}}function sE(r,a){if(1&r&&(o.j41(0,"ul",18),o.DNE(1,oE,2,1,"li",19),o.k0s()),2&r){const t=o.XpG().index,s=o.XpG();o.R7$(),o.Y8G("ngForOf",s.performerSearchResults[t])}}function Mg(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",15)(1,"input",16),o.bIt("input",function(){let h;const y=o.eBV(t),b=y.$implicit,F=y.index,U=o.XpG();return o.Njj(U.onSearchPerformer(F,null==(h=b.get("name"))?null:h.value))}),o.k0s(),o.DNE(2,sE,2,1,"ul",17),o.j41(3,"button",11),o.bIt("click",function(){const h=o.eBV(t).index,y=o.XpG();return o.Njj(y.removePerformer(h))}),o.EFF(4," Remove Performer "),o.k0s()()}if(2&r){const t=a.index,s=o.XpG();o.Y8G("formGroupName",t),o.R7$(2),o.Y8G("ngIf",null==s.performerSearchResults[t]?null:s.performerSearchResults[t].length)}}function G_(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",15)(1,"div",2)(2,"label",21),o.EFF(3,"Ticket Name: "),o.k0s(),o.nrm(4,"input",22),o.k0s(),o.j41(5,"div",2)(6,"label",21),o.EFF(7,"Ticket Price: "),o.k0s(),o.nrm(8,"input",23),o.k0s(),o.j41(9,"div",2)(10,"label",21),o.EFF(11,"Ticket Quantity: "),o.k0s(),o.nrm(12,"input",24),o.k0s(),o.j41(13,"button",11),o.bIt("click",function(){const h=o.eBV(t).index,y=o.XpG();return o.Njj(y.removeTicket(h))}),o.EFF(14,"Remove Ticket"),o.k0s()()}if(2&r){const t=a.index;o.Y8G("formGroupName",t),o.R7$(2),o.Mz_("for","ticketName-",t,""),o.R7$(2),o.Mz_("id","ticketName-",t,""),o.R7$(2),o.Mz_("for","ticketPrice-",t,""),o.R7$(2),o.Mz_("id","ticketPrice-",t,""),o.R7$(2),o.Mz_("for","ticketQuantity-",t,""),o.R7$(2),o.Mz_("id","ticketQuantity-",t,"")}}let $_=(()=>{class r{constructor(t,s,h,y,b){this.papa=t,this.fb=s,this.performerService=h,this.userService=y,this.eventService=b,this.performerSearchResults=[],this.selectedPerformerIds=[],this.searchTerms=new Vs.B,this.currentIndex=0,this.eventForm=this.fb.group({name:["",On.required],eventDate:[null,On.required],ticketExpirationDate:[null,On.required],performers:this.fb.array([]),tickets:this.fb.array([])}),this.performers.valueChanges.subscribe(()=>{this.performerSearchResults=this.performers.controls.map(()=>[])})}ngOnInit(){this.searchTerms.pipe(Tg(300),Ag(),Ur(t=>{const s=this.currentIndex;return t.length>1?this.performerService.searchPerformers(t):(this.performerSearchResults[s]=[],[])})).subscribe(t=>{this.performerSearchResults[this.currentIndex]=t})}onFileSelected(t){const s=t.target.files?.[0];if(s){const h=new FileReader;h.onload=y=>{const b=y.target?.result;this.papa.parse(b,{header:!0,complete:F=>{F.data.splice(F.data.length-1,1),this.addTickets(F.data)}})},h.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},h.readAsText(s)}}get performers(){return this.eventForm.get("performers")}get tickets(){return this.eventForm.get("tickets")}addPerformer(){const t=this.fb.group({name:["",On.required]});this.performers.push(t),this.performerSearchResults.push([])}onSearchPerformer(t,s){this.currentIndex=t,this.searchTerms.next(s)}selectPerformer(t,s){this.selectedPerformerIds.push(s.id);const h=this.performers.at(t).get("name");h&&h.setValue(s.name),this.performerSearchResults[t]=[]}removePerformer(t){this.performers.removeAt(t),this.selectedPerformerIds.splice(t,1)}addTicket(){const t=this.fb.group({name:["",On.required],price:[0,[On.required,On.min(0)]],quantity:[0,[On.required,On.min(1)]]});this.eventForm.get("tickets").push(t)}addTickets(t){t.forEach(s=>{const h=this.fb.group({name:[s.name,On.required],price:[s.price,On.required],quantity:[s.quantity,On.required]});this.eventForm.get("tickets").push(h)})}removeTicket(t){this.eventForm.get("tickets").removeAt(t)}formTicketsToRequestTickets(){if(this.eventForm.valid){let s=[];return this.eventForm.value.tickets.forEach(h=>{for(let y=0;y<h.quantity;y++)s.push({name:h.name,price:h.price})}),s}return[]}onSubmit(){if(this.eventForm.valid){const t=this.eventForm.value;this.userService.getUser().subscribe({next:s=>{let h={name:t.name,venueId:s.id,date:t.eventDate,ticketExpiry:t.ticketExpirationDate,tickets:this.formTicketsToRequestTickets(),performerIds:this.selectedPerformerIds};this.eventService.createEvent(h).subscribe({next:()=>{this.eventForm.reset(),alert("Event created!")}})}})}else console.log("Form is not valid")}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ji),o.rXU(ea),o.rXU(lg),o.rXU(ys),o.rXU(ws))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-create-event"]],decls:32,vars:4,consts:[[1,"container"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["id","name","formControlName","name","placeholder","Enter event name",1,"form-control"],["for","eventDate"],["id","eventDate","formControlName","eventDate","type","datetime-local"],["for","ticketExpirationDate"],["id","ticketExpirationDate","formControlName","ticketExpirationDate","type","datetime-local"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["formArrayName","tickets"],["type","submit",3,"disabled"],["type","file",3,"change"],[3,"formGroupName"],["type","text","formControlName","name","placeholder","Search Performer",3,"input"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],["class","performer-list-item",3,"click",4,"ngFor","ngForOf"],[1,"performer-list-item",3,"click"],[3,"for"],["formControlName","name","placeholder","Enter ticket name",1,"form-control",3,"id"],["formControlName","price","placeholder","Enter ticket price","type","number",1,"form-control",3,"id"],["formControlName","quantity","placeholder","Enter ticket quantity","type","number",1,"form-control",3,"id"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"div",0)(2,"h2"),o.EFF(3,"Create Event"),o.k0s(),o.j41(4,"form",1),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.j41(5,"div",2)(6,"label",3),o.EFF(7,"Event Name: "),o.k0s(),o.nrm(8,"input",4),o.k0s(),o.j41(9,"div")(10,"label",5),o.EFF(11,"Event Date: "),o.k0s(),o.nrm(12,"input",6),o.k0s(),o.j41(13,"div")(14,"label",7),o.EFF(15,"Ticket Expiration Date: "),o.k0s(),o.nrm(16,"input",8),o.k0s(),o.j41(17,"h3"),o.EFF(18,"Performers"),o.k0s(),o.j41(19,"div",9),o.DNE(20,Mg,5,2,"div",10),o.k0s(),o.j41(21,"button",11),o.bIt("click",function(){return h.addPerformer()}),o.EFF(22,"Add Performer"),o.k0s(),o.j41(23,"h3"),o.EFF(24,"Tickets"),o.k0s(),o.j41(25,"div",12),o.DNE(26,G_,15,13,"div",10),o.k0s(),o.j41(27,"button",11),o.bIt("click",function(){return h.addTicket()}),o.EFF(28,"Add Ticket"),o.k0s(),o.j41(29,"button",13),o.EFF(30,"Submit Event"),o.k0s()()(),o.j41(31,"input",14),o.bIt("change",function(b){return h.onFileSelected(b)}),o.k0s()),2&s&&(o.R7$(4),o.Y8G("formGroup",h.eventForm),o.R7$(16),o.Y8G("ngForOf",h.performers.controls),o.R7$(6),o.Y8G("ngForOf",h.tickets.controls),o.R7$(3),o.Y8G("disabled",!h.eventForm.valid))},dependencies:[ar,Mn,io,ai,Mh,Di,Zo,Js,Ua,zu,Gu,Cs],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}button[_ngcontent-%COMP%]{margin:5px 0}.performer-list-item[_ngcontent-%COMP%]{cursor:pointer}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();function aE(r,a){1&r&&(o.j41(0,"div")(1,"p"),o.EFF(2,"No events found for this venue."),o.k0s()())}function Kb(r,a){if(1&r){const t=o.RV6();o.j41(0,"li")(1,"span"),o.EFF(2),o.nI1(3,"date"),o.k0s(),o.j41(4,"button",2),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.editEvent(h.id))}),o.EFF(5,"Edit"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.E5c("",t.name," - ",o.i5U(3,3,t.date,"shortDate")," - ",t.status,"")}}function cE(r,a){if(1&r&&(o.j41(0,"ul")(1,"h2"),o.EFF(2),o.k0s(),o.DNE(3,Kb,6,6,"li",1),o.k0s()),2&r){const t=o.XpG();o.R7$(2),o.SpI("Events for ",null==t.events[0]?null:t.events[0].venue.name,""),o.R7$(),o.Y8G("ngForOf",t.events)}}let Jh=(()=>{class r{constructor(t,s,h){this.route=t,this.eventService=s,this.router=h,this.events=[]}ngOnInit(){this.venueId=this.route.snapshot.paramMap.get("venueId")||"",this.fetchEvents()}fetchEvents(){this.eventService.getEventsByVenue().subscribe(t=>{this.events=t},t=>{console.error("Error fetching events: ",t)})}editEvent(t){this.router.navigate(["/venue","events",t,"edit"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vi),o.rXU(ws),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-venue-event-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.DNE(1,aE,3,0,"div",0)(2,cE,4,2,"ul",0)),2&s&&(o.R7$(),o.Y8G("ngIf",0===h.events.length),o.R7$(),o.Y8G("ngIf",h.events.length>0))},dependencies:[ar,Mn,Cs,lo],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin-left:15px}"]})}}return r})();function Ng(r,a){if(1&r){const t=o.RV6();o.j41(0,"li",21),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2).index,b=o.XpG();return o.Njj(b.selectPerformer(y,h))}),o.EFF(1),o.k0s()}if(2&r){const t=a.$implicit;o.R7$(),o.SpI(" ",t.name," ")}}function Og(r,a){if(1&r&&(o.j41(0,"ul",19),o.DNE(1,Ng,2,1,"li",20),o.k0s()),2&r){const t=o.XpG().index,s=o.XpG();o.R7$(),o.Y8G("ngForOf",s.performerSuggestions[t])}}function Rl(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",16),o.nrm(1,"input",17),o.j41(2,"button",5),o.bIt("click",function(){const h=o.eBV(t).index,y=o.XpG();return o.Njj(y.removePerformer(h))}),o.EFF(3,"Remove"),o.k0s(),o.DNE(4,Og,2,1,"ul",18),o.k0s()}if(2&r){const t=a.index,s=o.XpG();o.Y8G("formGroupName",t),o.R7$(4),o.Y8G("ngIf",s.performerSuggestions[t].length>0)}}function W_(r,a){if(1&r&&(o.j41(0,"option",22),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.SpI(" ",t," ")}}function Z_(r,a){if(1&r&&(o.j41(0,"option",22),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.Y8G("value",t),o.R7$(),o.SpI(" ",t," ")}}function kl(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",16),o.nrm(1,"input",23)(2,"input",24)(3,"input",25),o.j41(4,"select",26),o.DNE(5,Z_,2,2,"option",10),o.k0s(),o.j41(6,"button",27),o.bIt("click",function(){const h=o.eBV(t).index,y=o.XpG();return o.Njj(y.removeTicket(h))}),o.EFF(7," Remove Ticket "),o.k0s()()}if(2&r){let t;const s=a.$implicit,h=a.index,y=o.XpG();o.Y8G("formGroupName",h),o.R7$(5),o.Y8G("ngForOf",y.ticketStatuses),o.R7$(),o.Y8G("hidden",null==(t=s.get("id"))?null:t.value)}}let Rg=(()=>{class r{constructor(t,s,h,y,b,F){this.papa=t,this.route=s,this.fb=h,this.eventService=y,this.performerService=b,this.router=F,this.performerSuggestions=[],this.statusOptions=["OPEN","CANCELED","CLOSED"],this.ticketStatuses=["AVAILABLE","UNAVAILABLE"],this.eventForm=this.fb.group({name:["",On.required],performers:this.fb.array([]),date:["",On.required],ticketExpirationDate:["",On.required],status:["",On.required],tickets:this.fb.array([])}),this.performersArray=this.eventForm.get("performers")}ngOnInit(){this.eventId=this.route.snapshot.paramMap.get("eventId")||"",this.loadEventDetails()}onFileSelected(t){const s=t.target.files?.[0];if(s){const h=new FileReader;h.onload=y=>{const b=y.target?.result;this.papa.parse(b,{header:!0,complete:F=>{F.data.splice(F.data.length-1,1),this.addTickets(F.data)}})},h.onerror=y=>{console.error("File could not be read! Code "+y.target?.error?.name)},h.readAsText(s)}}get tickets(){return this.eventForm.get("tickets")}loadEventDetails(){this.eventService.getEvent(this.eventId).subscribe(t=>{this.eventForm.patchValue({name:t.name,date:t.date,ticketExpirationDate:t.ticketExpiry,status:t.status||"OPEN"}),t.performers.forEach(s=>{this.addPerformer(s)}),this.tickets.clear(),t.tickets.forEach(s=>{if("UNAVAILABLE"===s.status){const h=this.createTicketForm(s);this.tickets.push(h)}})},t=>{console.error("Error loading event details: ",t)})}createTicketForm(t){return this.fb.group({id:[{value:t.id,disabled:!0}],name:[t.name],price:[t.price],status:[t.status]})}addPerformer(t={id:"",name:""}){const s=this.fb.group({id:[t.id],name:[t.name,On.required]});this.performersArray.push(s),this.performerSuggestions.push([]),this.setupPerformerAutoComplete(this.performersArray.length-1)}addTicket(t){const s=this.createTicketForm(t||{id:null,name:"",price:"",status:"AVAILABLE"});this.tickets.push(s)}addTickets(t){t.forEach(s=>{for(let h=0;h<s.quantity;h++){const y=this.fb.group({id:null,name:[s.name],price:[s.price],status:s.status||"AVAILABLE"});this.eventForm.get("tickets").push(y)}})}removeTicket(t){this.tickets.removeAt(t)}removePerformer(t){this.performersArray.removeAt(t),this.performerSuggestions.splice(t,1)}setupPerformerAutoComplete(t){this.performersArray.at(t).get("name").valueChanges.pipe(Tg(300),Ag(),Ur(s=>s?this.performerService.searchPerformers(s):Nt([]))).subscribe({next:s=>{this.performerSuggestions[t]=s},error:s=>{console.error("Error fetching performer suggestions: ",s)}})}selectPerformer(t,s){this.performersArray.at(t).patchValue({id:s.id,name:s.name}),this.performerSuggestions[t]=[]}onSubmit(){if(this.eventForm.valid){let t=[];this.eventForm.value.performers.map(h=>{t.push(h.id)});const s={name:this.eventForm.value.name,performerIds:t,date:this.eventForm.value.date,ticketExpiry:this.eventForm.value.ticketExpirationDate,status:this.eventForm.value.status,tickets:this.eventForm.getRawValue().tickets};this.eventService.updateEvent(this.eventId,s).subscribe({next:()=>{console.log("Event updated successfully"),this.router.navigate(["/venue","events"])},error:h=>{console.error("Error updating event: ",h)}})}}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ji),o.rXU(vi),o.rXU(ea),o.rXU(ws),o.rXU(lg),o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-venue-event-edit"]],decls:38,vars:5,consts:[[3,"ngSubmit","formGroup"],["for","name"],["id","name","formControlName","name"],["formArrayName","performers"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",3,"click"],["for","date"],["type","datetime-local","id","date","formControlName","date"],["for","status"],["id","status","formControlName","status"],[3,"value",4,"ngFor","ngForOf"],["for","ticketExpirationDate"],["type","datetime-local","id","ticketExpirationDate","formControlName","ticketExpirationDate"],["formArrayName","tickets"],["type","file",3,"change"],["type","submit",3,"disabled"],[3,"formGroupName"],["formControlName","name","placeholder","Performer Name"],["class","suggestions-list",4,"ngIf"],[1,"suggestions-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"value"],["type","text","formControlName","id","placeholder","Ticket ID","readonly",""],["type","text","formControlName","name","placeholder","Ticket Name"],["type","number","formControlName","price","placeholder","Price"],["formControlName","status"],["type","button",3,"click","hidden"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"h2"),o.EFF(2,"Edit Event"),o.k0s(),o.j41(3,"form",0),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.j41(4,"div")(5,"label",1),o.EFF(6,"Event Name:"),o.k0s(),o.nrm(7,"input",2),o.k0s(),o.j41(8,"div")(9,"label"),o.EFF(10,"Performers:"),o.k0s(),o.j41(11,"div",3),o.DNE(12,Rl,5,2,"div",4),o.k0s(),o.j41(13,"button",5),o.bIt("click",function(){return h.addPerformer()}),o.EFF(14,"Add Performer"),o.k0s()(),o.j41(15,"div")(16,"label",6),o.EFF(17,"Event Date & Time:"),o.k0s(),o.nrm(18,"input",7),o.k0s(),o.j41(19,"div")(20,"label",8),o.EFF(21,"Event Status:"),o.k0s(),o.j41(22,"select",9),o.DNE(23,W_,2,2,"option",10),o.k0s()(),o.j41(24,"div")(25,"label",11),o.EFF(26,"Ticket Expiration Date: "),o.k0s(),o.nrm(27,"input",12),o.k0s(),o.j41(28,"div",13)(29,"label"),o.EFF(30,"Tickets:"),o.k0s(),o.DNE(31,kl,8,3,"div",4),o.j41(32,"button",5),o.bIt("click",function(){return h.addTicket()}),o.EFF(33,"Add Ticket"),o.k0s()(),o.j41(34,"div")(35,"input",14),o.bIt("change",function(b){return h.onFileSelected(b)}),o.k0s()(),o.j41(36,"button",15),o.EFF(37,"Save Changes"),o.k0s()()),2&s&&(o.R7$(3),o.Y8G("formGroup",h.eventForm),o.R7$(9),o.Y8G("ngForOf",h.performersArray.controls),o.R7$(11),o.Y8G("ngForOf",h.statusOptions),o.R7$(8),o.Y8G("ngForOf",h.tickets.controls),o.R7$(5),o.Y8G("disabled",h.eventForm.invalid))},dependencies:[ar,Mn,io,Nh,Zu,ai,Mh,xc,Di,Zo,Js,Ua,zu,Gu,Cs],styles:["form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}label[_ngcontent-%COMP%]{margin-right:10px}button[_ngcontent-%COMP%]{margin-top:15px}.suggestions-list[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0;border:1px solid #ccc;max-height:150px;overflow-y:auto;background-color:#fff;position:absolute}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px;cursor:pointer}.suggestions-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#eee}"]})}}return r})();var vt=function(r){return r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",r}(vt||{}),kg=new Map([[vt.QR_CODE,"QR_CODE"],[vt.AZTEC,"AZTEC"],[vt.CODABAR,"CODABAR"],[vt.CODE_39,"CODE_39"],[vt.CODE_93,"CODE_93"],[vt.CODE_128,"CODE_128"],[vt.DATA_MATRIX,"DATA_MATRIX"],[vt.MAXICODE,"MAXICODE"],[vt.ITF,"ITF"],[vt.EAN_13,"EAN_13"],[vt.EAN_8,"EAN_8"],[vt.PDF_417,"PDF_417"],[vt.RSS_14,"RSS_14"],[vt.RSS_EXPANDED,"RSS_EXPANDED"],[vt.UPC_A,"UPC_A"],[vt.UPC_E,"UPC_E"],[vt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function Y_(r){return Object.values(vt).includes(r)}var Ac=function(r){return r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",r}(Ac||{}),Ko=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[Ac.SCAN_TYPE_CAMERA,Ac.SCAN_TYPE_FILE],r}(),Mc=function(){function r(a,t){this.format=a,this.formatName=t}return r.prototype.toString=function(){return this.formatName},r.create=function(a){if(!kg.has(a))throw"".concat(a," not in html5QrcodeSupportedFormatsTextMap");return new r(a,kg.get(a))},r}(),Pg=function(){function r(){}return r.createFromText=function(a){return{decodedText:a,result:{text:a}}},r.createFromQrcodeResult=function(a){return{decodedText:a.text,result:a}},r}(),q_=function(r){return r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",r}(q_||{}),K_=function(){function r(){}return r.createFrom=function(a){return{errorMessage:a,type:q_.UNKWOWN_ERROR}},r}(),Q_=function(){function r(a){this.verbose=a}return r.prototype.log=function(a){this.verbose&&console.log(a)},r.prototype.warn=function(a){this.verbose&&console.warn(a)},r.prototype.logError=function(a,t){(this.verbose||!0===t)&&console.error(a)},r.prototype.logErrors=function(a){if(0===a.length)throw"Logger#logError called without arguments";this.verbose&&console.error(a)},r}();function Qo(r){return typeof r>"u"||null===r}var Pl=function(){function r(){}return r.codeParseError=function(a){return"QR code parse error, error = ".concat(a)},r.errorGettingUserMedia=function(a){return"Error getting userMedia, error = ".concat(a)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),Yn=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(a){return"Last Match: ".concat(a)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),ev=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),ef=function(){function r(){}return r.isMediaStreamConstraintsValid=function(a,t){if("object"!=typeof a)return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof a,"."),!0),!1;for(var y=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),F=0,U=Object.keys(a);F<U.length;F++){var k=U[F];if(y.has(k))return t.logError("".concat(k," is not supported videoConstaints."),!0),!1}return!0},r}(),rr=G(5496),tv=function(){function r(a,t,s){if(this.formatMap=new Map([[vt.QR_CODE,rr.BarcodeFormat.QR_CODE],[vt.AZTEC,rr.BarcodeFormat.AZTEC],[vt.CODABAR,rr.BarcodeFormat.CODABAR],[vt.CODE_39,rr.BarcodeFormat.CODE_39],[vt.CODE_93,rr.BarcodeFormat.CODE_93],[vt.CODE_128,rr.BarcodeFormat.CODE_128],[vt.DATA_MATRIX,rr.BarcodeFormat.DATA_MATRIX],[vt.MAXICODE,rr.BarcodeFormat.MAXICODE],[vt.ITF,rr.BarcodeFormat.ITF],[vt.EAN_13,rr.BarcodeFormat.EAN_13],[vt.EAN_8,rr.BarcodeFormat.EAN_8],[vt.PDF_417,rr.BarcodeFormat.PDF_417],[vt.RSS_14,rr.BarcodeFormat.RSS_14],[vt.RSS_EXPANDED,rr.BarcodeFormat.RSS_EXPANDED],[vt.UPC_A,rr.BarcodeFormat.UPC_A],[vt.UPC_E,rr.BarcodeFormat.UPC_E],[vt.UPC_EAN_EXTENSION,rr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!rr)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=s;var h=this.createZXingFormats(a),y=new Map;y.set(rr.DecodeHintType.POSSIBLE_FORMATS,h),y.set(rr.DecodeHintType.TRY_HARDER,!1),this.hints=y}return r.prototype.decodeAsync=function(a){var t=this;return new Promise(function(s,h){try{s(t.decode(a))}catch(y){h(y)}})},r.prototype.decode=function(a){var t=new rr.MultiFormatReader(this.verbose,this.hints),s=new rr.HTMLCanvasElementLuminanceSource(a),h=new rr.BinaryBitmap(new rr.HybridBinarizer(s)),y=t.decode(h);return{text:y.text,format:Mc.create(this.toHtml5QrcodeSupportedFormats(y.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(t,s,h){a.set(t,s)}),a},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createZXingFormats=function(a){for(var t=[],s=0,h=a;s<h.length;s++){var y=h[s];this.formatMap.has(y)?t.push(this.formatMap.get(y)):this.logger.logError("".concat(y," is not supported by")+"ZXingHtml5QrcodeShim")}return t},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),nv=function(){function r(a,t,s){if(this.formatMap=new Map([[vt.QR_CODE,"qr_code"],[vt.AZTEC,"aztec"],[vt.CODABAR,"codabar"],[vt.CODE_39,"code_39"],[vt.CODE_93,"code_93"],[vt.CODE_128,"code_128"],[vt.DATA_MATRIX,"data_matrix"],[vt.ITF,"itf"],[vt.EAN_13,"ean_13"],[vt.EAN_8,"ean_8"],[vt.PDF_417,"pdf417"],[vt.UPC_A,"upc_a"],[vt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=s;var h=this.createBarcodeDetectorFormats(a);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},r.prototype.decodeAsync=function(a){return function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var t,s;return function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}}(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(a)];case 1:if(!(t=h.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(s=this.selectLargestBarcode(t)).rawValue,format:Mc.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(a){for(var t=null,s=0,h=0,y=a;h<y.length;h++){var b=y[h],F=b.boundingBox.width*b.boundingBox.height;F>s&&(s=F,t=b)}if(!t)throw"No largest barcode found";return t},r.prototype.createBarcodeDetectorFormats=function(a){for(var t=[],s=0,h=a;s<h.length;s++){var y=h[s];this.formatMap.has(y)?t.push(this.formatMap.get(y)):this.logger.warn("".concat(y," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},r.prototype.toHtml5QrcodeSupportedFormats=function(a){if(!this.reverseFormatMap.has(a))throw"reverseFormatMap doesn't have ".concat(a);return this.reverseFormatMap.get(a)},r.prototype.createReverseFormatMap=function(){var a=new Map;return this.formatMap.forEach(function(t,s,h){a.set(t,s)}),a},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),rv=function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})},iv=function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}},dE=function(){function r(a,t,s,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,t&&nv.isSupported()?(this.primaryDecoder=new nv(a,s,h),this.secondaryDecoder=new tv(a,s,h)):this.primaryDecoder=new tv(a,s,h)}return r.prototype.decodeAsync=function(a){return rv(this,void 0,void 0,function(){var t;return iv(this,function(s){switch(s.label){case 0:t=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(a)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(a){return rv(this,void 0,void 0,function(){var t,s;return iv(this,function(h){switch(h.label){case 0:t=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(a)];case 2:return[2,h.sent()];case 3:if(s=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(a)];throw s;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(a){if(this.verbose){var t=performance.now()-a;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var a=0,t=0,s=this.executionResults;t<s.length;t++)a+=s[t];console.log("".concat(a/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),Lg=function(){var r=function(a,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(s[y]=h[y])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),tf=function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})},nf=function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}},ov=function(){function r(a,t){this.name=a,this.track=t}return r.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},r.prototype.apply=function(a){var t={};return t[this.name]=a,this.track.applyConstraints({advanced:[t]})},r.prototype.value=function(){var a=this.track.getSettings();return this.name in a?a[this.name]:null},r}(),fE=function(r){function a(t){return r.call(this,"zoom",t)||this}return Lg(a,r),a}(function(r){function a(t,s){return r.call(this,t,s)||this}return Lg(a,r),a.prototype.min=function(){return this.getCapabilities().min},a.prototype.max=function(){return this.getCapabilities().max},a.prototype.step=function(){return this.getCapabilities().step},a.prototype.apply=function(t){var s={};return s[this.name]=t,this.track.applyConstraints({advanced:[s]})},a.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities()[this.name];return{min:s.min,max:s.max,step:s.step}},a.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},a}(ov)),pE=function(r){function a(t){return r.call(this,"torch",t)||this}return Lg(a,r),a}(ov),gE=function(){function r(a){this.track=a}return r.prototype.zoomFeature=function(){return new fE(this.track)},r.prototype.torchFeature=function(){return new pE(this.track)},r}(),mE=function(){function r(a,t,s){this.isClosed=!1,this.parentElement=a,this.mediaStream=t,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),a.append(this.surface)}return r.prototype.createVideoElement=function(a){var t=document.createElement("video");return t.style.width="".concat(a,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},r.prototype.setupSurface=function(){var a=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){a.callbacks.onRenderSurfaceReady(a.surface.clientWidth,a.surface.clientHeight),a.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(a,t,s,h){return tf(this,void 0,void 0,function(){var y,b;return nf(this,function(F){switch(F.label){case 0:return y=new r(a,t,h),s.aspectRatio?(b={aspectRatio:s.aspectRatio},[4,y.getFirstTrackOrFail().applyConstraints(b)]):[3,2];case 1:F.sent(),F.label=2;case 2:return y.setupSurface(),[2,y]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(a){this.failIfClosed();var t=this,s=function(){setTimeout(a,200),t.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(a){return tf(this,void 0,void 0,function(){return nf(this,function(t){if("aspectRatio"in a)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(a)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var a=this;return new Promise(function(t,s){var y=a.mediaStream.getVideoTracks().length,b=0;a.mediaStream.getVideoTracks().forEach(function(F){a.mediaStream.removeTrack(F),F.stop(),++b>=y&&(a.isClosed=!0,a.parentElement.removeChild(a.surface),t())})})},r.prototype.getCapabilities=function(){return new gE(this.getFirstTrackOrFail())},r}(),sv=function(){function r(a){this.mediaStream=a}return r.prototype.render=function(a,t,s){return tf(this,void 0,void 0,function(){return nf(this,function(h){return[2,mE.create(a,this.mediaStream,t,s)]})})},r.create=function(a){return tf(this,void 0,void 0,function(){return nf(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:a})];case 1:return[2,new r(h.sent())]}})})},r}(),Fg=function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})},sa=function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}},Bg=function(){function r(){}return r.failIfNotSupported=function(){return Fg(this,void 0,void 0,function(){return sa(this,function(a){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(a){return Fg(this,void 0,void 0,function(){return sa(this,function(t){return[2,sv.create(a)]})})},r}(),vE=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var a=MediaStreamTrack;return MediaStreamTrack&&a.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var a=Pl.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(a=Pl.insecureContextCameraQueryError()),Promise.reject(a)},r.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var a=location.host.split(":")[0];return"127.0.0.1"===a||"localhost"===a},r.getCamerasFromMediaDevices=function(){return function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var a,t,s,h,y,b,F;return function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}}(this,function(U){switch(U.label){case 0:return a=function(k){for(var de=0,Ge=k.getVideoTracks();de<Ge.length;de++){var je=Ge[de];je.enabled=!1,je.stop(),k.removeTrack(je)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=U.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=U.sent(),h=[],y=0,b=s;y<b.length;y++)"videoinput"===(F=b[y]).kind&&h.push({id:F.deviceId,label:F.label});return a(t),[2,h]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(a,t){MediaStreamTrack.getSources(function(y){for(var b=[],F=0,U=y;F<U.length;F++){var k=U[F];"video"===k.kind&&b.push({id:k.id,label:k.label})}a(b)})})},r}(),Dr=function(r){return r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED",r}(Dr||{}),cv=function(){function r(){this.state=Dr.NOT_STARTED,this.onGoingTransactionNewState=Dr.UNKNOWN}return r.prototype.directTransition=function(a){this.failIfTransitionOngoing(),this.validateTransition(a),this.state=a},r.prototype.startTransition=function(a){return this.failIfTransitionOngoing(),this.validateTransition(a),this.onGoingTransactionNewState=a,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===Dr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var a=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dr.UNKNOWN,this.directTransition(a)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dr.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(a){switch(this.state){case Dr.UNKNOWN:throw"Transition from unknown is not allowed";case Dr.NOT_STARTED:this.failIfNewStateIs(a,[Dr.PAUSED])}},r.prototype.failIfNewStateIs=function(a,t){for(var s=0,h=t;s<h.length;s++)if(a===h[s])throw"Cannot transition from ".concat(this.state," to ").concat(a)},r}(),fd=function(){function r(a){this.stateManager=a}return r.prototype.startTransition=function(a){return this.stateManager.startTransition(a)},r.prototype.directTransition=function(a){this.stateManager.directTransition(a)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===Dr.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==Dr.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dr.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===Dr.PAUSED},r}(),Ug=function(){function r(){}return r.create=function(){return new fd(new cv)},r}(),Ll=function(){var r=function(a,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,h){s.__proto__=h}||function(s,h){for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(s[y]=h[y])})(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=a}r(a,t),a.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}}(),Hi=function(r){function a(){return null!==r&&r.apply(this,arguments)||this}return Ll(a,r),a.DEFAULT_WIDTH=300,a.DEFAULT_WIDTH_OFFSET=2,a.FILE_SCAN_MIN_HEIGHT=300,a.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,a.MIN_QR_BOX_SIZE=50,a.SHADED_LEFT=1,a.SHADED_RIGHT=2,a.SHADED_TOP=3,a.SHADED_BOTTOM=4,a.SHADED_REGION_ELEMENT_ID="qr-shaded-region",a.VERBOSE=!1,a.BORDER_SHADER_DEFAULT_COLOR="#ffffff",a.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",a}(Ko),Fl=function(){function r(a,t){this.logger=t,this.fps=Hi.SCAN_DEFAULT_FPS,a?(a.fps&&(this.fps=a.fps),this.disableFlip=!0===a.disableFlip,this.qrbox=a.qrbox,this.aspectRatio=a.aspectRatio,this.videoConstraints=a.videoConstraints):this.disableFlip=Hi.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?ef.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!Qo(this.qrbox)},r.create=function(a,t){return new r(a,t)},r}(),pd=function(){function r(a,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");var h;this.elementId=a,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(this.verbose=!0===(h=t).verbose),this.logger=new Q_(this.verbose),this.qrcode=new dE(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(h),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=Ug.create()}return r.prototype.start=function(a,t,s,h){var b,y=this;if(!a)throw"cameraIdOrConfig is required";if(!s||"function"!=typeof s)throw"qrCodeSuccessCallback is required and should be a function.";b=h||(this.verbose?this.logger.log:function(){});var F=Fl.create(t,this.logger);this.clearElement();var U=!1;F.videoConstraints&&(F.isMediaStreamConstraintsValid()?U=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var k=U,ie=document.getElementById(this.elementId);ie.style.position="relative",this.shouldScan=!0,this.element=ie;var Ge=this,je=this.stateManagerProxy.startTransition(Dr.SCANNING);return new Promise(function(tt,nt){var rt=k?F.videoConstraints:Ge.createVideoConstraints(a);if(!rt)return je.cancel(),void nt("videoConstraints should be defined");var Ot={};(!k||F.aspectRatio)&&(Ot.aspectRatio=F.aspectRatio);var qn={onRenderSurfaceReady:function(un,er){Ge.setupUi(un,er,F),Ge.isScanning=!0,Ge.foreverScan(F,s,b)}};Bg.failIfNotSupported().then(function(un){un.create(rt).then(function(er){return er.render(y.element,Ot,qn).then(function(Vr){Ge.renderedCamera=Vr,je.execute(),tt(null)}).catch(function(Vr){je.cancel(),nt(Vr)})}).catch(function(er){je.cancel(),nt(Pl.errorGettingUserMedia(er))})}).catch(function(un){je.cancel(),nt(Pl.cameraStreamingNotSupported())})})},r.prototype.pause=function(a){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dr.PAUSED),this.showPausedState(),(Qo(a)||!0!==a)&&(a=!1),a&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var a=this,t=function(){a.stateManagerProxy.directTransition(Dr.SCANNING),a.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var a=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Dr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),function(){if(a.element){var y=document.getElementById(Hi.SHADED_REGION_ELEMENT_ID);y&&a.element.removeChild(y)}}(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),t.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(a,t){return this.scanFileV2(a,t).then(function(s){return s.decodedText})},r.prototype.scanFileV2=function(a,t){var s=this;if(!(a&&a instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Qo(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,y){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(a);var b=new Image;b.onload=function(){var F=b.width,U=b.height,k=document.getElementById(s.elementId),ie=k.clientWidth?k.clientWidth:Hi.DEFAULT_WIDTH,de=Math.max(k.clientHeight?k.clientHeight:U,Hi.FILE_SCAN_MIN_HEIGHT),Ge=s.computeCanvasDrawConfig(F,U,ie,de);if(t){var je=s.createCanvasElement(ie,de,"qr-canvas-visible");je.style.display="inline-block",k.appendChild(je);var tt=je.getContext("2d");if(!tt)throw"Unable to get 2d context from canvas";tt.canvas.width=ie,tt.canvas.height=de,tt.drawImage(b,0,0,F,U,Ge.x,Ge.y,Ge.width,Ge.height)}var nt=Hi.FILE_SCAN_HIDDEN_CANVAS_PADDING,rt=Math.max(b.width,Ge.width),Ot=Math.max(b.height,Ge.height),qn=rt+2*nt,un=Ot+2*nt,er=s.createCanvasElement(qn,un);k.appendChild(er);var Vr=er.getContext("2d");if(!Vr)throw"Unable to get 2d context from canvas";Vr.canvas.width=qn,Vr.canvas.height=un,Vr.drawImage(b,0,0,F,U,nt,nt,rt,Ot);try{s.qrcode.decodeRobustlyAsync(er).then(function(Ti){h(Pg.createFromQrcodeResult(Ti))}).catch(y)}catch(Ti){y("QR code parse error, error = ".concat(Ti))}},b.onerror=y,b.onabort=y,b.onstalled=y,b.onsuspend=y,b.src=URL.createObjectURL(a)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return vE.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(a){if(!a)throw"videoConstaints is required argument.";if(!ef.isMediaStreamConstraintsValid(a,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(a)},r.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(a){if(!a||"boolean"==typeof a||!a.formatsToSupport)return[vt.QR_CODE,vt.AZTEC,vt.CODABAR,vt.CODE_39,vt.CODE_93,vt.CODE_128,vt.DATA_MATRIX,vt.MAXICODE,vt.ITF,vt.EAN_13,vt.EAN_8,vt.PDF_417,vt.RSS_14,vt.RSS_EXPANDED,vt.UPC_A,vt.UPC_E,vt.UPC_EAN_EXTENSION];if(!Array.isArray(a.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===a.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],h=0,y=a.formatsToSupport;h<y.length;h++){var b=y[h];Y_(b)?s.push(b):this.logger.warn("Invalid format: ".concat(b," passed in config, ignoring."))}if(0===s.length)throw"None of formatsToSupport match supported values.";return s},r.prototype.getUseBarCodeDetectorIfSupported=function(a){if(Qo(a))return!0;if(!Qo(a.useBarCodeDetectorIfSupported))return!1!==a.useBarCodeDetectorIfSupported;if(Qo(a.experimentalFeatures))return!0;var t=a.experimentalFeatures;return!!Qo(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},r.prototype.validateQrboxSize=function(a,t,s){var y=s.qrbox;this.validateQrboxConfig(y);var k,b=this.toQrdimensions(a,t,y),F=function(k){if(k<Hi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Hi.MIN_QR_BOX_SIZE,"px.")};F(b.width),F(b.height),b.width=((k=b.width)>a&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),k=a),k)},r.prototype.validateQrboxConfig=function(a){if("number"!=typeof a&&"function"!=typeof a&&(void 0===a.width||void 0===a.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(a,t,s){if("number"==typeof s)return{width:s,height:s};if("function"==typeof s)try{return s(a,t)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return s},r.prototype.setupUi=function(a,t,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(a,t,s);var h=Qo(s.qrbox)?{width:a,height:t}:s.qrbox;this.validateQrboxConfig(h);var y=this.toQrdimensions(a,t,h);y.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var b=s.isShadedBoxEnabled()&&y.height<=t,F={x:0,y:0,width:a,height:t},U=b?this.getShadedRegionBounds(a,t,y):F,k=this.createCanvasElement(U.width,U.height),de=k.getContext("2d",{willReadFrequently:!0});de.canvas.width=U.width,de.canvas.height=U.height,this.element.append(k),b&&this.possiblyInsertShadingElement(this.element,a,t,y),this.createScannerPausedUiElement(this.element),this.qrRegion=U,this.context=de,this.canvasElement=k},r.prototype.createScannerPausedUiElement=function(a){var t=document.createElement("div");t.innerText=Pl.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",a.appendChild(t),this.scannerPausedUiElement=t},r.prototype.scanContext=function(a,t){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return a(h.text,Pg.createFromQrcodeResult(h)),s.possiblyUpdateShaders(!0),!0}).catch(function(h){s.possiblyUpdateShaders(!1);var y=Pl.codeParseError(h);return t(y,K_.createFrom(y)),!1})},r.prototype.foreverScan=function(a,t,s){var h=this;if(this.shouldScan&&this.renderedCamera){var y=this.renderedCamera.getSurface(),b=y.videoWidth/y.clientWidth,F=y.videoHeight/y.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(y,this.qrRegion.x*b,this.qrRegion.y*F,this.qrRegion.width*b,this.qrRegion.height*F,0,0,this.qrRegion.width,this.qrRegion.height);var Ge=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(a,t,s)},h.getTimeoutFps(a.fps))};this.scanContext(t,s).then(function(je){je||!0===a.disableFlip?Ge():(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(t,s).finally(function(){Ge()}))}).catch(function(je){h.logger.logError("Error happend while scanning context",je),Ge()})}},r.prototype.createVideoConstraints=function(a){if("string"==typeof a)return{deviceId:{exact:a}};if("object"==typeof a){var t="facingMode",s="deviceId",h={user:!0,environment:!0},y="exact",b=function(tt){if(tt in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(tt,"'")},F=Object.keys(a);if(1!==F.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(F.length," keys");var U=Object.keys(a)[0];if(U!==t&&U!==s)throw"Only '".concat(t,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(U!==t){var de=a.deviceId;if("string"==typeof de)return{deviceId:de};if("object"==typeof de){if(y in de)return{deviceId:{exact:de["".concat(y)]}};throw"'deviceId' should be string or object with"+" ".concat(y," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof de)}var k=a.facingMode;if("string"==typeof k){if(b(k))return{facingMode:k}}else{if("object"!=typeof k)throw"Invalid type of 'facingMode' = ".concat(typeof k);if(!(y in k))throw"'facingMode' should be string or object with"+" ".concat(y," as key.");if(b(k["".concat(y)]))return{facingMode:{exact:k["".concat(y)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof a)},r.prototype.computeCanvasDrawConfig=function(a,t,s,h){if(a<=s&&t<=h)return{x:(s-a)/2,y:(h-t)/2,width:a,height:t};var F=a,U=t;return a>s&&(t*=s/a,a=s),t>h&&(a*=h/t,t=h),this.logger.log("Image downsampled from "+"".concat(F,"X").concat(U)+" to ".concat(a,"X").concat(t,".")),this.computeCanvasDrawConfig(a,t,s,h)},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var a=document.getElementById(this.elementId);a&&(a.innerHTML="")},r.prototype.possiblyUpdateShaders=function(a){this.qrMatch!==a&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=a?Hi.BORDER_SHADER_MATCH_COLOR:Hi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=a)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(a,t,s){var h=a,y=t,b=document.createElement("canvas");return b.style.width="".concat(h,"px"),b.style.height="".concat(y,"px"),b.style.display="none",b.id=Qo(s)?"qr-canvas":s,b},r.prototype.getShadedRegionBounds=function(a,t,s){if(s.width>a||s.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(a-s.width)/2,y:(t-s.height)/2,width:s.width,height:s.height}},r.prototype.possiblyInsertShadingElement=function(a,t,s,h){if(!(t-h.width<1||s-h.height<1)){var y=document.createElement("div");y.style.position="absolute";var b=(t-h.width)/2,F=(s-h.height)/2;if(y.style.borderLeft="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderRight="".concat(b,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderTop="".concat(F,"px solid rgba(0, 0, 0, 0.48)"),y.style.borderBottom="".concat(F,"px solid rgba(0, 0, 0, 0.48)"),y.style.boxSizing="border-box",y.style.top="0px",y.style.bottom="0px",y.style.left="0px",y.style.right="0px",y.id="".concat(Hi.SHADED_REGION_ELEMENT_ID),t-h.width<11||s-h.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(y,40,5,-5,null,0,!0),this.insertShaderBorders(y,40,5,-5,null,0,!1),this.insertShaderBorders(y,40,5,null,-5,0,!0),this.insertShaderBorders(y,40,5,null,-5,0,!1),this.insertShaderBorders(y,5,45,-5,null,-5,!0),this.insertShaderBorders(y,5,45,null,-5,-5,!0),this.insertShaderBorders(y,5,45,-5,null,-5,!1),this.insertShaderBorders(y,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}a.append(y)}},r.prototype.insertShaderBorders=function(a,t,s,h,y,b,F){var U=document.createElement("div");U.style.position="absolute",U.style.backgroundColor=Hi.BORDER_SHADER_DEFAULT_COLOR,U.style.width="".concat(t,"px"),U.style.height="".concat(s,"px"),null!==h&&(U.style.top="".concat(h,"px")),null!==y&&(U.style.bottom="".concat(y,"px")),F?U.style.left="".concat(b,"px"):U.style.right="".concat(b,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(U),a.appendChild(U)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(a){return 1e3/a},r}(),za="data:image/svg+xml;base64,",Bl=za+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ul=za+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Nc=za+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Oc=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),jl=function(){function r(){this.data=Oc.createDefault();var a=localStorage.getItem(r.LOCAL_STORAGE_KEY);a?this.data=JSON.parse(a):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(a){this.data.hasPermission=a,this.flush()},r.prototype.setLastUsedCameraId=function(a){this.data.lastUsedCameraId=a,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=Oc.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),Hl=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(a){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ev.poweredBy();var t=document.createElement("a");t.innerText="ScanApp",t.href="https://scanapp.org",t.target="new",t.style.color="white",this.infoDiv.appendChild(t);var s=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(h);var y=document.createElement("a");y.innerText=ev.reportIssues(),y.href="https://github.com/mebjas/html5-qrcode/issues",y.target="new",y.style.color="white",this.infoDiv.appendChild(y),a.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),zl=function(){function r(a,t){this.isShowingInfoIcon=!0,this.onTapIn=a,this.onTapOut=t,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(a){var t=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Nc,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return t.onHoverIn()},this.infoIcon.onmouseout=function(s){return t.onHoverOut()},this.infoIcon.onclick=function(s){return t.onClick()},a.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Nc,this.infoIcon.style.opacity="0.6")},r}(),lv=function(){function r(){var a=this;this.infoDiv=new Hl,this.infoIcon=new zl(function(){a.infoDiv.show()},function(){a.infoDiv.hide()})}return r.prototype.renderInto=function(a){this.infoDiv.renderInto(a),this.infoIcon.renderInto(a)},r}(),Vg=function(){function r(){}return r.hasPermissions=function(){return function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})}(this,void 0,void 0,function(){var a,t,s,h;return function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}}(this,function(y){switch(y.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(a=y.sent(),t=0,s=a;t<s.length;t++)if("videoinput"===(h=s[t]).kind&&h.label)return[2,!0];return[2,!1]}})})},r}(),aa=function(){function r(a){this.supportedScanTypes=this.validateAndReturnScanTypes(a)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var a=0,t=this.supportedScanTypes;a<t.length;a++)if(r.isCameraScanType(t[a]))return!0;return!1},r.isCameraScanType=function(a){return a===Ac.SCAN_TYPE_CAMERA},r.isFileScanType=function(a){return a===Ac.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(a){if(!a||0===a.length)return Ko.DEFAULT_SUPPORTED_SCAN_TYPE;var t=Ko.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(a.length>t)throw"Max ".concat(t," values expected for ")+"supportedScanTypes";for(var s=0,h=a;s<h.length;s++){var y=h[s];if(!Ko.DEFAULT_SUPPORTED_SCAN_TYPE.includes(y))throw"Unsupported scan type ".concat(y)}return a},r}(),zi=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),xs=function(){function r(){}return r.createElement=function(a,t){var s=document.createElement(a);return s.id=t,s.classList.add(zi.ALL_ELEMENT_CLASS),"button"===a&&s.setAttribute("type","button"),s},r}(),jg=function(r,a,t,s){return new(t||(t=Promise))(function(y,b){function F(ie){try{k(s.next(ie))}catch(de){b(de)}}function U(ie){try{k(s.throw(ie))}catch(de){b(de)}}function k(ie){ie.done?y(ie.value):function h(y){return y instanceof t?y:new t(function(b){b(y)})}(ie.value).then(F,U)}k((s=s.apply(r,a||[])).next())})},Hg=function(r,a){var s,h,y,b,t={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return b={next:F(0),throw:F(1),return:F(2)},"function"==typeof Symbol&&(b[Symbol.iterator]=function(){return this}),b;function F(k){return function(ie){return function U(k){if(s)throw new TypeError("Generator is already executing.");for(;b&&(b=0,k[0]&&(t=0)),t;)try{if(s=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return t.label++,{value:k[1],done:!1};case 5:t.label++,h=k[1],k=[0];continue;case 7:k=t.ops.pop(),t.trys.pop();continue;default:if(!(y=(y=t.trys).length>0&&y[y.length-1])&&(6===k[0]||2===k[0])){t=0;continue}if(3===k[0]&&(!y||k[1]>y[0]&&k[1]<y[3])){t.label=k[1];break}if(6===k[0]&&t.label<y[1]){t.label=y[1],y=k;break}if(y&&t.label<y[2]){t.label=y[2],t.ops.push(k);break}y[2]&&t.ops.pop(),t.trys.pop();continue}k=a.call(r,t)}catch(ie){k=[6,ie],h=0}finally{s=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([k,ie])}}},gd=function(){function r(a,t,s){this.isTorchOn=!1,this.torchCapability=a,this.buttonController=t,this.onTorchActionFailureCallback=s}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return jg(this,void 0,void 0,function(){var a,t;return Hg(this,function(s){switch(s.label){case 0:this.buttonController.disable(),a=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(a)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),a),[3,4];case 3:return t=s.sent(),this.propagateFailure(a,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(a,t){a===t?(this.buttonController.setText(t?Yn.torchOffButton():Yn.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},r.prototype.propagateFailure=function(a,t){var s=a?Yn.torchOnFailedMessage():Yn.torchOffFailedMessage();t&&(s+="; Error = "+t),this.onTorchActionFailureCallback(s)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),Ga=function(){function r(a,t){this.onTorchActionFailureCallback=t,this.torchButton=xs.createElement("button",zi.TORCH_BUTTON_ID),this.torchController=new gd(a,this,t)}return r.prototype.render=function(a,t){var s=this;this.torchButton.innerText=Yn.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var h=this;this.torchButton.addEventListener("click",function(y){return jg(s,void 0,void 0,function(){return Hg(this,function(b){switch(b.label){case 0:return[4,h.torchController.flipState()];case 1:return b.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(zi.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(zi.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(zi.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(zi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),a.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(a){this.torchController=new gd(a,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(a){this.torchButton.innerText=a},r.prototype.reset=function(){this.torchButton.innerText=Yn.torchOnButton(),this.torchController.reset()},r.create=function(a,t,s,h){var y=new r(t,h);return y.render(a,s),y},r}(),yE=function(){function r(a,t,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?"block":"none",a.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=xs.createElement("button",zi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(F){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=xs.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var y=this;this.fileScanInput.addEventListener("change",function(F){if(null!=F&&null!=F.target){var U=F.target;if(!U.files||0!==U.files.length){var ie=U.files[0];y.setImageNameToButton(ie.name),s(ie)}}});var b=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(b),this.fileBasedScanRegion.addEventListener("dragenter",function(F){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),F.stopPropagation(),F.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(F){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder(),F.stopPropagation(),F.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(F){y.fileBasedScanRegion.style.border=y.fileBasedScanRegionActiveBorder(),F.stopPropagation(),F.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(F){F.stopPropagation(),F.preventDefault(),y.fileBasedScanRegion.style.border=y.fileBasedScanRegionDefaultBorder();var U=F.dataTransfer;if(U){var k=U.files;if(!k||0===k.length)return;for(var ie=!1,de=0;de<k.length;++de){var Ge=k.item(de);if(Ge&&Ge.type.match(/image.*/)){ie=!0,y.setImageNameToButton(Ge.name),s(Ge),b.innerText=Yn.dragAndDropMessage();break}}ie||(b.innerText=Yn.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var a=document.createElement("div");return a.style.textAlign="center",a.style.margin="auto",a.style.width="80%",a.style.maxWidth="600px",a.style.border=this.fileBasedScanRegionDefaultBorder(),a.style.padding="10px",a.style.marginBottom="10px",a},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var a=document.createElement("div");return a.innerText=Yn.dragAndDropMessage(),a.style.fontWeight="400",a},r.prototype.setImageNameToButton=function(a){if(a.length>20){var s=a.substring(0,8),h=a.length,y=a.substring(h-8,h);a="".concat(s,"....").concat(y)}var b=Yn.fileSelectionChooseAnother()+" - "+a;this.fileSelectionButton.innerText=b},r.prototype.setInitialValueToButton=function(){var a=Yn.fileSelectionChooseImage()+" - "+Yn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=a},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(a,t,s){return new r(a,t,s)},r}(),CE=function(){function r(a){this.selectElement=xs.createElement("select",zi.CAMERA_SELECTION_SELECT_ID),this.cameras=a,this.options=[]}return r.prototype.render=function(a){var t=document.createElement("span");t.style.marginRight="10px";var s=this.cameras.length;if(0===s)throw new Error("No cameras found");if(1===s)t.style.display="none";else{var h=Yn.selectCamera();t.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var y=1,b=0,F=this.cameras;b<F.length;b++){var U=F[b],k=U.id,ie=null==U.label?k:U.label;(!ie||""===ie)&&(ie=[Yn.anonymousCameraPrefix(),y++].join(" "));var de=document.createElement("option");de.value=k,de.innerText=ie,this.options.push(de),this.selectElement.appendChild(de)}t.appendChild(this.selectElement),a.appendChild(t)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return!0===this.selectElement.disabled},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(a){for(var t=0,s=this.options;t<s.length;t++)if(s[t].value===a)return!0;return!1},r.prototype.setValue=function(a){if(!this.hasValue(a))throw new Error("".concat(a," is not present in the camera list."));this.selectElement.value=a},r.prototype.hasSingleItem=function(){return 1===this.cameras.length},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(a,t){var s=new r(t);return s.render(a),s},r}(),zg=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=xs.createElement("input",zi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(a,t){this.zoomElementContainer.style.display=t?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",a.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=Yn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var a=Yn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(a,t,s,h){this.rangeInput.min=a.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(a){this.onChangeCallback=a},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(a,t){var s=new r;return s.render(a,t),s},r}(),ni=function(r){return r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",r}(ni||{});!function(){function r(a,t,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=a,this.config=this.createConfig(t),this.verbose=!0===s,!document.getElementById(a))throw"HTML Element with id=".concat(a," not found");this.scanTypeSelector=new aa(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Q_(this.verbose),this.persistedDataManager=new jl,!0!==t.rememberLastUsedCamera&&this.persistedDataManager.reset()}r.prototype.render=function(a,t){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(y,b){if(a)a(y,b);else{if(s.lastMatchFound===y)return;s.lastMatchFound=y,s.setHeaderMessage(Yn.lastMatch(y),ni.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(y,b){t&&t(y,b)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new pd(this.getScanRegionId(),function wE(r,a){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:a}}(this.config,this.verbose))},r.prototype.pause=function(a){(Qo(a)||!0!==a)&&(a=!1),this.getHtml5QrcodeOrFail().pause(a)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var a=this,t=function(){var s=document.getElementById(a.elementId);s&&(s.innerHTML="",a.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,h){a.html5Qrcode?a.html5Qrcode.isScanning?a.html5Qrcode.stop().then(function(y){a.html5Qrcode?(a.html5Qrcode.clear(),t(),s()):s()}).catch(function(y){a.verbose&&a.logger.logError("Unable to stop qrcode scanner",y),h(y)}):(a.html5Qrcode.clear(),t(),s()):s()}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(a){return this.getHtml5QrcodeOrFail().applyVideoConstraints(a)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(a){return a?(a.fps||(a.fps=Ko.SCAN_DEFAULT_FPS),a.rememberLastUsedCamera!==!Ko.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(a.rememberLastUsedCamera=Ko.DEFAULT_REMEMBER_LAST_CAMERA_USED),a.supportedScanTypes||(a.supportedScanTypes=Ko.DEFAULT_SUPPORTED_SCAN_TYPE),a):{fps:Ko.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ko.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ko.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(a){a.style.position="relative",a.style.padding="0px",a.style.border="1px solid silver",this.createHeader(a);var t=document.createElement("div"),s=this.getScanRegionId();t.id=s,t.style.width="100%",t.style.minHeight="100px",t.style.textAlign="center",a.appendChild(t),aa.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),y=this.getDashboardId();h.id=y,h.style.width="100%",a.appendChild(h),this.setupInitialDashboard(h)},r.prototype.resetBasicLayout=function(a){a.style.border="none"},r.prototype.setupInitialDashboard=function(a){this.createSection(a),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(a){var t=document.createElement("div");t.style.textAlign="left",t.style.margin="0px",a.appendChild(t),(new lv).renderInto(t);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",t.appendChild(h)},r.prototype.createSection=function(a){var t=document.createElement("div");t.id=this.getDashboardSectionId(),t.style.width="100%",t.style.padding="10px 0px 10px 0px",t.style.textAlign="left",a.appendChild(t)},r.prototype.createCameraListUi=function(a,t,s){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(Yn.cameraPermissionRequesting());var y=function(){s||h.createPermissionButton(a,t)};pd.getCameras().then(function(b){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),b&&b.length>0?(a.removeChild(t),h.renderCameraSelection(b)):(h.setHeaderMessage(Yn.noCameraFound(),ni.STATUS_WARNING),y())}).catch(function(b){h.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:y(),h.setHeaderMessage(b,ni.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(a,t){var s=this,h=xs.createElement("button",this.getCameraPermissionButtonId());h.innerText=Yn.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,s.createCameraListUi(a,t,h)}),t.appendChild(h)},r.prototype.createPermissionsUi=function(a,t){var s=this;aa.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?Vg.hasPermissions().then(function(h){h?s.createCameraListUi(a,t):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(a,t))}).catch(function(h){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(a,t)}):this.createPermissionButton(a,t)},r.prototype.createSectionControlPanel=function(){var a=document.getElementById(this.getDashboardSectionId()),t=document.createElement("div");a.appendChild(t);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=aa.isCameraScanType(this.currentScanType)?"block":"none",t.appendChild(s);var h=document.createElement("div");h.style.textAlign="center",s.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,h),this.renderFileScanUi(t)},r.prototype.renderFileScanUi=function(a){var t=aa.isFileScanType(this.currentScanType),s=this;this.fileSelectionUi=yE.create(a,t,function(y){if(!s.html5Qrcode)throw"html5Qrcode not defined";aa.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(Yn.loadingImage()),s.html5Qrcode.scanFileV2(y,!0).then(function(b){s.resetHeaderMessage(),s.qrCodeSuccessCallback(b.decodedText,b)}).catch(function(b){s.setHeaderMessage(b,ni.STATUS_WARNING),s.qrCodeErrorCallback(b,K_.createFrom(b))}))})},r.prototype.renderCameraSelection=function(a){var t=this,s=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var y=zg.create(h,!1),F=CE.create(h,a),U=document.createElement("span"),k=xs.createElement("button",zi.CAMERA_START_BUTTON_ID);k.innerText=Yn.scanButtonStartScanningText(),U.appendChild(k);var de,ie=xs.createElement("button",zi.CAMERA_STOP_BUTTON_ID);ie.innerText=Yn.scanButtonStopScanningText(),ie.style.display="none",ie.disabled=!0,U.appendChild(ie),h.appendChild(U);var je=function(nt){nt||(k.style.display="none"),k.innerText=Yn.scanButtonStartScanningText(),k.style.opacity="1",k.disabled=!1,nt&&(k.style.display="inline-block")};if(k.addEventListener("click",function(nt){k.innerText=Yn.scanButtonScanningStarting(),F.disable(),k.disabled=!0,k.style.opacity="0.5",t.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var rt=F.getValue();s.persistedDataManager.setLastUsedCameraId(rt),s.html5Qrcode.start(rt,function Gg(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(Ot){ie.disabled=!1,ie.style.display="inline-block",je(!1);var qn=s.html5Qrcode.getRunningTrackCameraCapabilities();!0===t.config.showTorchButtonIfSupported&&function(nt){nt.torchFeature().isSupported()?(de?de.updateTorchCapability(nt.torchFeature()):de=Ga.create(U,nt.torchFeature(),{display:"none",marginLeft:"5px"},function(rt){s.setHeaderMessage(rt,ni.STATUS_WARNING)}),de.show()):de&&de.hide()}(qn),!0===t.config.showZoomSliderIfSupported&&function(nt){var rt=nt.zoomFeature();if(rt.isSupported()){y.setOnCameraZoomValueChangeCallback(function(qn){rt.apply(qn)});var Ot=1;t.config.defaultZoomValueIfSupported&&(Ot=t.config.defaultZoomValueIfSupported),Ot=function J_(r,a,t){return r>t?t:r<a?a:r}(Ot,rt.min(),rt.max()),y.setValues(rt.min(),rt.max(),Ot,rt.step()),y.show()}}(qn)}).catch(function(Ot){s.showHideScanTypeSwapLink(!0),F.enable(),je(!0),s.setHeaderMessage(Ot,ni.STATUS_WARNING)})}),F.hasSingleItem()&&k.click(),ie.addEventListener("click",function(nt){if(!s.html5Qrcode)throw"html5Qrcode not defined";ie.disabled=!0,s.html5Qrcode.stop().then(function(rt){t.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),F.enable(),k.disabled=!1,ie.style.display="none",k.style.display="inline-block",de&&(de.reset(),de.hide()),y.removeOnCameraZoomValueChangeCallback(),y.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(rt){ie.disabled=!1,s.setHeaderMessage(rt,ni.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var tt=s.persistedDataManager.getLastUsedCameraId();F.hasValue(tt)?(F.setValue(tt),k.click()):s.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var a=this,t=Yn.textIfCameraScanSelected(),s=Yn.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),y=document.createElement("div");y.style.textAlign="center";var b=xs.createElement("span",this.getDashboardSectionSwapLinkId());b.style.textDecoration="underline",b.style.cursor="pointer",b.innerText=aa.isCameraScanType(this.currentScanType)?t:s,b.addEventListener("click",function(){a.sectionSwapAllowed?(a.resetHeaderMessage(),a.fileSelectionUi.resetValue(),a.sectionSwapAllowed=!1,aa.isCameraScanType(a.currentScanType)?(a.clearScanRegion(),a.getCameraScanRegion().style.display="none",a.fileSelectionUi.show(),b.innerText=s,a.currentScanType=Ac.SCAN_TYPE_FILE,a.insertFileScanImageToScanRegion()):(a.clearScanRegion(),a.getCameraScanRegion().style.display="block",a.fileSelectionUi.hide(),b.innerText=t,a.currentScanType=Ac.SCAN_TYPE_CAMERA,a.insertCameraScanImageToScanRegion(),a.startCameraScanIfPermissionExistsOnSwap()),a.sectionSwapAllowed=!0):a.verbose&&a.logger.logError("Section swap called when not allowed")}),y.appendChild(b),h.appendChild(y)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var a=this,t=this;this.persistedDataManager.hasCameraPermissions()&&Vg.hasPermissions().then(function(s){if(s){var h=document.getElementById(t.getCameraPermissionButtonId());if(!h)throw a.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(s){t.persistedDataManager.setHasPermission(!1)})},r.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},r.prototype.setHeaderMessage=function(a,t){t||(t=ni.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=a,s.style.display="block",t){case ni.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case ni.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)"}},r.prototype.showHideScanTypeSwapLink=function(a){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==a&&(a=!1),this.sectionSwapAllowed=a,this.getDashboardSectionSwapLink().style.display=a?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var a=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return t.innerHTML="<br>",void t.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){t.innerHTML="<br>",t.appendChild(a.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Bl,this.cameraScanImage.alt=Yn.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var a=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return t.innerHTML="<br>",void t.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(s){t.innerHTML="<br>",t.appendChild(a.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ul,this.fileScanImage.alt=Yn.fileScanAltText()},r.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return zi.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return zi.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let Qb=(()=>{class r{constructor(t){this.http=t,this.ticketUrl=oo_apiUrl+"/ticketing/tickets"}validateTicket(t){return this.http.post(`${this.ticketUrl}/validate`,{encryptedTicketData:t},{responseType:"text"})}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(vs))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Jb(r,a){1&r&&o.nrm(0,"img",8)}function EE(r,a){1&r&&(o.j41(0,"div",9),o.EFF(1,"PASS"),o.k0s())}function xE(r,a){1&r&&o.nrm(0,"img",10)}function fv(r,a){1&r&&(o.j41(0,"div",11),o.EFF(1,"INVALID"),o.k0s())}function bE(r,a){if(1&r&&(o.j41(0,"div",12),o.EFF(1),o.k0s()),2&r){const t=o.XpG();o.R7$(),o.SpI("Reason: ",t.invalidMessage,"")}}let Wr=(()=>{class r{constructor(t){this.ticketService=t,this.scannerId="reader",this.isScanning=!1,this.isDetermined=!1,this.isValid=!1,this.invalidMessage=""}ngOnInit(){}ngAfterViewInit(){this.qrCodeScanner=new pd(this.scannerId)}ngOnDestroy(){this.stopScanner()}toggleScanner(){this.isScanning?this.stopScanner():this.startScanner()}startScanner(){if(this.isDetermined=!1,!this.qrCodeScanner)return;const s=window.innerWidth<600?300:500;this.qrCodeScanner.start({facingMode:"environment"},{fps:10,qrbox:{width:s,height:s}},h=>this.handleQrCodeSuccess(h),h=>console.log("QR Code scan error:",h)).then(()=>{this.isScanning=!0,console.log("QR Code scanning started.")}).catch(h=>{console.log("QR Code start error:",h),this.isScanning=!1})}stopScanner(){!this.qrCodeScanner||!this.isScanning||this.qrCodeScanner.stop().then(()=>{this.isScanning=!1,console.log("QR Code scanning stopped.")}).catch(t=>{console.log("Error stopping the scanner:",t),this.isScanning=!1})}handleQrCodeSuccess(t){console.log("QR code detected:",t),this.validateTicket(t),this.stopScanner()}validateTicket(t){this.ticketService.validateTicket(t).subscribe({next:s=>{this.isValid=!0,this.isDetermined=!0},error:s=>{console.log(s),this.isValid=!1,this.isDetermined=!0,this.invalidMessage=403!==s.status?s.error:"Unauthorized scanning"}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Qb))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-scanner"]],decls:9,vars:6,consts:[[1,"scanner-container"],["id","reader",1,"scanner-box"],[1,"scanner-btn",3,"click"],["src","assets/checkmark.svg","alt","PASS","class","checkmark-image",4,"ngIf"],["class","ticket-pass",4,"ngIf"],["src","assets/invalid.svg","alt","INVALID","class","invalid-image",4,"ngIf"],["class","ticket-fail",4,"ngIf"],["class","invalid-msg",4,"ngIf"],["src","assets/checkmark.svg","alt","PASS",1,"checkmark-image"],[1,"ticket-pass"],["src","assets/invalid.svg","alt","INVALID",1,"invalid-image"],[1,"ticket-fail"],[1,"invalid-msg"]],template:function(s,h){1&s&&(o.j41(0,"div",0),o.nrm(1,"div",1),o.j41(2,"button",2),o.bIt("click",function(){return h.toggleScanner()}),o.EFF(3),o.k0s(),o.DNE(4,Jb,1,0,"img",3)(5,EE,2,0,"div",4)(6,xE,1,0,"img",5)(7,fv,2,0,"div",6)(8,bE,2,1,"div",7),o.k0s()),2&s&&(o.R7$(3),o.SpI(" ",h.isScanning?"Stop Scanner":"Start Scanner"," "),o.R7$(),o.Y8G("ngIf",h.isValid&&h.isDetermined),o.R7$(),o.Y8G("ngIf",h.isValid&&h.isDetermined),o.R7$(),o.Y8G("ngIf",!h.isValid&&h.isDetermined),o.R7$(),o.Y8G("ngIf",!h.isValid&&h.isDetermined),o.R7$(),o.Y8G("ngIf",!h.isValid&&h.isDetermined))},dependencies:[Mn],styles:[".scanner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:10px;height:100vh;background-color:#f4f4f9;text-align:center}.scanner-box[_ngcontent-%COMP%]{width:100%;max-width:1200px;height:auto;aspect-ratio:1;border:2px solid #333;margin:20px 0}#reader[_ngcontent-%COMP%]{overflow:hidden}#reader[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover}.scanner-btn[_ngcontent-%COMP%]{position:absolute;bottom:100px}.checkmark-image[_ngcontent-%COMP%]{width:45%;max-width:300px;position:absolute;bottom:400px}.ticket-pass[_ngcontent-%COMP%]{position:absolute;color:#43a047;font-size:50px;font-weight:1000;font-family:Arial,Helvetica,sans-serif;bottom:365px}.invalid-image[_ngcontent-%COMP%]{width:45%;max-width:300px;position:absolute;bottom:400px}.ticket-fail[_ngcontent-%COMP%]{position:absolute;color:#d50000;font-size:50px;font-weight:1000;font-family:Arial,Helvetica,sans-serif;bottom:365px}.invalid-msg[_ngcontent-%COMP%]{position:absolute;bottom:350px}button[_ngcontent-%COMP%]{background-color:#4a90e2;color:#fff;border:none;padding:12px 24px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#357abd}@media (max-width: 600px){.scanner-box[_ngcontent-%COMP%]{width:100%;height:auto}button[_ngcontent-%COMP%]{width:100%}}"]})}}return r})(),$g=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(Ur(()=>this.checkAuthenticatedAndNavigate()),mi(()=>(this.router.navigate(["/forbidden"]),Nt(!1)))):this.checkAuthenticatedAndNavigate()}checkAuthenticatedAndNavigate(){const t=this.authService.isAuthenticated();return t||this.router.navigate(["/forbidden"]),Nt(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Ir),o.KVO(Cn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),IE=(()=>{class r{constructor(t){this.router=t}goToHome(){this.router.navigate(["/"])}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-forbidden"]],decls:11,vars:0,consts:[[1,"forbidden-container"],[1,"forbidden-content"],["src","assets/turnstile-vector.svg","alt","Forbidden",1,"forbidden-image"],[3,"click"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h1"),o.EFF(3,"403"),o.k0s(),o.j41(4,"h2"),o.EFF(5,"Access Forbidden"),o.k0s(),o.j41(6,"p"),o.EFF(7,"You don\u2019t have permission to access this page."),o.k0s(),o.nrm(8,"img",2),o.j41(9,"button",3),o.bIt("click",function(){return h.goToHome()}),o.EFF(10,"Go to Homepage"),o.k0s()()())},styles:[".forbidden-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;text-align:center;background-color:#f4f4f9}.forbidden-content[_ngcontent-%COMP%]{max-width:400px;padding:20px}.forbidden-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5rem;color:#ff6b6b;margin-bottom:.5rem}.forbidden-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem;color:#333;margin-bottom:1rem}.forbidden-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px}.forbidden-image[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:20px auto}button[_ngcontent-%COMP%]{background-color:#000;color:#fff;border:none;padding:10px 20px;font-size:1rem;border-radius:5px;cursor:pointer;transition:background-color .3s;width:200px}button[_ngcontent-%COMP%]:hover{background-color:#333}"]})}}return r})(),Gl=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(Ur(()=>this.checkRoleAndNavigate()),mi(()=>(this.router.navigate(["/forbidden"]),Nt(!1)))):this.checkRoleAndNavigate()}checkRoleAndNavigate(){const t=this.authService.isAuthenticated()&&this.authService.getRoles()?.includes("ROLE_VENUE");return t||this.router.navigate(["/forbidden"]),Nt(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Ir),o.KVO(Cn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),pv=(()=>{class r{constructor(t,s){this.authService=t,this.router=s}canActivate(){const t=this.authService.getToken();return t&&this.authService.isTokenExpired(t)?this.authService.refreshToken().pipe(Ur(()=>this.checkAuthenticatedAndNavigate()),mi(()=>(this.router.navigate(["/forbidden"]),Nt(!1)))):this.checkAuthenticatedAndNavigate()}checkAuthenticatedAndNavigate(){const t=this.authService.isAuthenticated()&&(this.authService.getRoles()?.includes("ROLE_USER")||this.authService.getRoles()?.includes("ROLE_ADMIN"));return t||this.router.navigate(["/forbidden"]),Nt(t)}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Ir),o.KVO(Cn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const rf=r=>({active:r});function gv(r,a){if(1&r&&(o.j41(0,"div")(1,"h2"),o.EFF(2,"Dashboard"),o.k0s(),o.j41(3,"a",9),o.EFF(4," Open Stripe Express Dashboard "),o.k0s()()),2&r){const t=o.XpG();o.R7$(3),o.FS9("href",t.stripeExpressDashboardLink,o.B4B)}}function mv(r,a){if(1&r){const t=o.RV6();o.j41(0,"div")(1,"button",2),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.enableStripe())}),o.EFF(2,"Enable Stripe"),o.k0s()()}}let $l=(()=>{class r{constructor(t,s){this.paymentService=t,this.authService=s,this.stripeExpressDashboardLink=null,this.stripeConnectInstance=null,this.showPayouts=!1,this.showPayments=!0,this.showAccountManagement=!1,this.selectedTab="payments",this.isStripeOnboarded=!1}ngOnInit(){var t=this;return Er(function*(){t.authService.getRoles()?.includes("ROLE_VENUE")&&t.paymentService.initializeStripeConnect(),t.stripeConnectInstance=t.paymentService.getStripeConnectInstance(),t.buildPayoutComponent(),t.buildPaymentsComponent(),t.buildAccountManagement(),t.getStripeExpressDashboard(),t.checkStripeOnboarding()})()}selectTab(t){switch(t){case"payments":this.showPayments=!0;break;case"payout":this.showPayouts=!0;break;case"settings":this.showAccountManagement=!0}this.selectedTab=t}enableStripe(){this.paymentService.getStripeOnboardingLink().subscribe({next:t=>{window.location.replace(t.url)}})}checkStripeOnboarding(){this.paymentService.getStripeOnboardingStatus().subscribe({next:t=>{this.isStripeOnboarded=t.onboarded,t.onboarded||this.selectTab("settings")},error:()=>{this.isStripeOnboarded=!1,this.selectTab("settings")}})}getStripeExpressDashboard(){this.paymentService.getStripeExpressDashboardLink().subscribe({next:t=>{this.stripeExpressDashboardLink=t.url}})}buildPayoutComponent(){const t=this.stripeConnectInstance?.create("payouts");document.getElementById("payout-container")?.appendChild(t)}buildPaymentsComponent(){const t=this.stripeConnectInstance?.create("payments");document.getElementById("payments-container")?.appendChild(t)}buildAccountManagement(){const t=this.stripeConnectInstance?.create("account-management");t?.setCollectionOptions({fields:"eventually_due",futureRequirements:"include"}),document.getElementById("accManagement-container")?.appendChild(t)}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Gh),o.rXU(Ir))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-payments"]],decls:30,vars:24,consts:[[1,"payments-page"],[1,"sidebar"],[3,"click"],[1,"content"],[3,"hidden"],["id","payments-container"],["id","payout-container"],[4,"ngIf"],["id","accManagement-container"],["target","_blank",3,"href"]],template:function(s,h){1&s&&(o.nrm(0,"app-top-bar"),o.j41(1,"div",0)(2,"div",1)(3,"ul")(4,"li",2),o.bIt("click",function(){return h.selectTab("payments")}),o.EFF(5,"Payments"),o.k0s(),o.j41(6,"li",2),o.bIt("click",function(){return h.selectTab("payout")}),o.EFF(7,"Payout"),o.k0s(),o.j41(8,"li",2),o.bIt("click",function(){return h.selectTab("dashboard")}),o.EFF(9,"Dashboard"),o.k0s(),o.j41(10,"li",2),o.bIt("click",function(){return h.selectTab("settings")}),o.EFF(11,"Settings"),o.k0s()()(),o.j41(12,"div",3)(13,"div",4)(14,"h2"),o.EFF(15,"Payments"),o.k0s(),o.j41(16,"div",4),o.nrm(17,"div",5),o.k0s()(),o.j41(18,"div",4)(19,"h2"),o.EFF(20,"Payout"),o.k0s(),o.j41(21,"div",4),o.nrm(22,"div",6),o.k0s()(),o.DNE(23,gv,5,1,"div",7),o.j41(24,"div",4)(25,"h2"),o.EFF(26,"Settings"),o.k0s(),o.DNE(27,mv,3,0,"div",7),o.j41(28,"div",4),o.nrm(29,"div",8),o.k0s()()()()),2&s&&(o.R7$(4),o.HbH(o.eq3(16,rf,"payments"===h.selectedTab)),o.R7$(2),o.HbH(o.eq3(18,rf,"payout"===h.selectedTab)),o.R7$(2),o.HbH(o.eq3(20,rf,"dashboard"===h.selectedTab)),o.R7$(2),o.HbH(o.eq3(22,rf,"settings"===h.selectedTab)),o.R7$(3),o.Y8G("hidden","payments"!==h.selectedTab),o.R7$(3),o.Y8G("hidden",!h.showPayments),o.R7$(2),o.Y8G("hidden","payout"!==h.selectedTab),o.R7$(3),o.Y8G("hidden",!h.showPayouts),o.R7$(2),o.Y8G("ngIf","dashboard"===h.selectedTab),o.R7$(),o.Y8G("hidden","settings"!==h.selectedTab),o.R7$(3),o.Y8G("ngIf",!h.isStripeOnboarded),o.R7$(),o.Y8G("hidden",!h.showAccountManagement))},dependencies:[Mn,Cs],styles:[".payments-page[_ngcontent-%COMP%]{display:flex;height:100vh}.sidebar[_ngcontent-%COMP%]{max-width:200px;min-width:50px;background-color:#f4f4f4;padding:20px;border-right:1px solid #ddd}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;cursor:pointer;color:#333}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.sidebar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{font-weight:700;color:#333}.content[_ngcontent-%COMP%]{flex:1;padding:20px}"]})}}return r})(),DE=(()=>{class r{constructor(t){this.paymentService=t}ngOnInit(){this.paymentService.getStripeOnboardingLink().subscribe({next:t=>{window.location.replace(t.url)}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Gh))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-stripe-reauth"]],decls:0,vars:0,template:function(s,h){}})}}return r})();function SE(r,a){if(1&r&&(o.j41(0,"div",6)(1,"span",7),o.EFF(2),o.k0s(),o.j41(3,"span",8),o.EFF(4),o.k0s()()),2&r){const t=a.$implicit;o.R7$(2),o.SpI("1 x ",t.name,""),o.R7$(2),o.SpI("$",t.price.toFixed(2),"")}}let _v=(()=>{class r{constructor(){this.tickets=[],this.total=0,this.platformFee=0}ngOnInit(){}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-checkout"]],inputs:{tickets:"tickets",total:"total",platformFee:"platformFee"},decls:16,vars:3,consts:[[1,"checkout-container"],[1,"inner-container"],["class","ticket-item",4,"ngFor","ngForOf"],[1,"summary"],[1,"fee-row"],[1,"total-row"],[1,"ticket-item"],[1,"ticket-name"],[1,"ticket-price"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Checkout Summary"),o.k0s(),o.DNE(4,SE,5,2,"div",2),o.j41(5,"div",3)(6,"div",4)(7,"span"),o.EFF(8,"Platform Fee"),o.k0s(),o.j41(9,"span"),o.EFF(10),o.k0s()(),o.j41(11,"div",5)(12,"strong"),o.EFF(13,"Total"),o.k0s(),o.j41(14,"strong"),o.EFF(15),o.k0s()()()()()),2&s&&(o.R7$(4),o.Y8G("ngForOf",h.tickets),o.R7$(6),o.SpI("$",h.platformFee.toFixed(2),""),o.R7$(5),o.SpI("$",h.total.toFixed(2),""))},dependencies:[ar],styles:[".checkout-container[_ngcontent-%COMP%]{border:1px solid #ddd;width:100%;background-color:#f9f9f9}.inner-container[_ngcontent-%COMP%]{padding:20px}.ticket-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #eee}.ticket-name[_ngcontent-%COMP%], .ticket-price[_ngcontent-%COMP%]{font-size:16px}.summary[_ngcontent-%COMP%]{padding-top:10px;font-size:18px}.fee-row[_ngcontent-%COMP%], .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:5px 0}.total-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700}"]})}}return r})();function TE(r,a){1&r&&(o.j41(0,"div")(1,"div",12)(2,"label",13),o.EFF(3,"Email"),o.k0s(),o.nrm(4,"input",14),o.k0s(),o.j41(5,"div",12)(6,"label",15),o.EFF(7,"Confirm Email"),o.k0s(),o.nrm(8,"input",16),o.k0s()())}function vv(r,a){1&r&&(o.j41(0,"span"),o.EFF(1,"Pay"),o.k0s())}function eI(r,a){1&r&&(o.j41(0,"span"),o.nrm(1,"div",18),o.k0s())}function Wg(r,a){if(1&r&&(o.j41(0,"div")(1,"button",17),o.DNE(2,vv,2,0,"span",4)(3,eI,2,0,"span",4),o.k0s()()),2&r){const t=o.XpG();o.R7$(),o.Y8G("disabled",!t.paymentForm.valid||!t.timerActive||t.isLoading),o.R7$(),o.Y8G("ngIf",!t.isLoading),o.R7$(),o.Y8G("ngIf",t.isLoading)}}function Zg(r,a){1&r&&(o.j41(0,"span"),o.EFF(1,"Confirm tickets"),o.k0s())}function yv(r,a){1&r&&(o.j41(0,"span"),o.nrm(1,"div",18),o.k0s())}function Xg(r,a){if(1&r&&(o.j41(0,"div")(1,"button",17),o.DNE(2,Zg,2,0,"span",4)(3,yv,2,0,"span",4),o.k0s()()),2&r){const t=o.XpG();o.R7$(),o.Y8G("disabled",!t.timerActive||t.isLoading),o.R7$(),o.Y8G("ngIf",!t.isLoading),o.R7$(),o.Y8G("ngIf",t.isLoading)}}function bs(r,a){if(1&r&&(o.j41(0,"span"),o.EFF(1),o.k0s()),2&r){const t=a.$implicit;o.R7$(),o.SpI(" ",t," ")}}let AE=(()=>{class r{constructor(t,s,h,y,b,F){this.route=t,this.router=s,this.fb=h,this.paymentService=y,this.authService=b,this.bookingService=F,this.venueId=2,this.venueName="Venue Name",this.eventName="Event Name",this.eventTime="Event Date & Time",this.performers=null,this.tickets=null,this.platformFee=0,this.total=0,this.minutes=5,this.seconds=0,this.timerActive=!0,this.eventId=null,this.sourceId=null,this.isLoggedIn=!1,this.sessionToken=null,this.paymentIntentId=null,this.clientSecret="",this.customerSessionClientSecret=null,this.guestEmail=null,this.isDirectAccess=!1,this.isLoading=!1;try{const U=this.router.getCurrentNavigation()?.extras?.state?.data;this.tickets=U.tickets,this.venueId=U.event.venue.id,this.venueName=U.event.venue.name,this.eventName=U.event.name,this.eventTime=U.event.date,this.performers=U.event.performers.map(k=>k.name),this.sourceId="o",this.eventId=U.event.id}catch{this.isDirectAccess=!0,s.navigate(["/"])}}ngOnInit(){var t=this;return Er(function*(){if(t.checkLoginStatus(),t.isLoggedIn){t.paymentForm=t.fb.group({});try{yield t.cancelReservation(),yield t.setUpCheckout(),t.total>0&&(yield t.setupStripe())}catch{clearInterval(t.intervalId),sessionStorage.removeItem("bookingId"),alert("An Error Occurred"),t.router.navigate([`/event/${t.sourceId}/${t.eventId}`])}}else{t.paymentForm=t.fb.group({email:["",[On.required,On.email]],retypeEmail:["",[On.required,On.email]]});try{yield t.cancelGuestReservation(),yield t.startGuestSession(),yield t.setUpGuestCheckout(),t.total>0&&(yield t.setupStripe())}catch(s){401===s.status&&localStorage.removeItem("guestSessionToken"),clearInterval(t.intervalId),sessionStorage.removeItem("bookingId"),alert("An Error Occurred"),t.router.navigate([`/event/${t.sourceId}/${t.eventId}`])}}})()}goToConfirmation(t){this.router.navigate(["/confirm"],{state:{data:{tickets:this.tickets,bookingId:t,platformFee:this.platformFee,totalAmount:this.total}}})}checkLoginStatus(){this.isLoggedIn=this.authService.isAuthenticated()}setupStripe(){var t=this;return Er(function*(){const h={clientSecret:t.clientSecret,customerSessionClientSecret:t.customerSessionClientSecret,appearance:{}};yield t.paymentService.initializeStripe(),t.stripe=t.paymentService.getStripe(),t.elements=t.stripe.elements(h),t.paymentElement=t.elements.create("payment"),t.paymentElement.mount("#payment-element")})()}startGuestSession(){var t=this;return Er(function*(){try{let s=localStorage.getItem("guestSessionToken");if(!s||t.authService.isTokenExpired(s)){const h=yield To(t.bookingService.startGuestCheckout());t.sessionToken=h.guestCheckoutToken,t.sessionToken&&localStorage.setItem("guestSessionToken",t.sessionToken)}else t.sessionToken=s}catch{console.log("there was an error starting your guest session")}})()}setUpGuestCheckout(){var t=this;return Er(function*(){let s=t.tickets.map(k=>k.id);const{paymentIntentId:h,clientSecret:y}=yield To(t.paymentService.createGuestPaymentIntent(s,t.venueId,t.sessionToken)),{total:b,platformFee:F}=yield To(t.paymentService.getStripeGuestTotalAndFee(s,t.sessionToken)),{id:U}=yield To(t.bookingService.createGuestReservation(s,t.sessionToken));t.startTimer(),sessionStorage.setItem("bookingId",String(U)),t.total=b,t.platformFee=F,t.paymentIntentId=h,t.clientSecret=y})()}cancelGuestReservation(){var t=this;return Er(function*(){const s=sessionStorage.getItem("bookingId"),h=localStorage.getItem("guestSessionToken");if(s&&h){try{yield To(t.bookingService.releaseGuestReservation(Number(s),h))}catch(y){401===y.status&&t.startGuestSession()}sessionStorage.removeItem("bookingId")}})()}setUpCheckout(){var t=this;return Er(function*(){let s=t.tickets.map(ie=>ie.id);const{paymentIntentId:h,clientSecret:y,customerSessionClientSecret:b}=yield To(t.paymentService.createPaymentIntent(s,t.venueId)),{total:F,platformFee:U}=yield To(t.paymentService.getStripeTotalAndFee(s)),{id:k}=yield To(t.bookingService.createReservation(s));t.startTimer(),sessionStorage.setItem("bookingId",String(k)),t.total=F,t.platformFee=U,t.paymentIntentId=h,t.clientSecret=y,t.customerSessionClientSecret=b})()}cancelReservation(){var t=this;return Er(function*(){const s=sessionStorage.getItem("bookingId");s&&(yield To(t.bookingService.releaseReservation(Number(s))),sessionStorage.removeItem("bookingId"))})()}startTimer(){var t=this;this.intervalId=setInterval(Er(function*(){0===t.seconds?0===t.minutes?(t.timerActive=!1,clearInterval(t.intervalId),t.isLoggedIn?yield t.cancelReservation():yield t.cancelGuestReservation()):(t.minutes--,t.seconds=59):t.seconds--}),1e3)}pay(){0!==this.total?this.isLoggedIn?this.paymentService.confirmPayment(this.elements)?.then(t=>{if(t.error)switch(t.error.code){case"expired_card":console.log("your card is expired");break;case"incorrect_cvc":console.log("incorrect cvc");break;case"processing_error":console.log("there was an error processing your card");break;case"incorrect_number":console.log("your card number is incorrect");break;default:console.log("your card was declined")}else this.confirmPurchase(this.paymentIntentId),console.log("Payment successful! ",t)}):this.paymentService.confirmPayment(this.elements)?.then(t=>{if(t.error)switch(t.error.code){case"expired_card":console.log("your card is expired");break;case"incorrect_cvc":console.log("incorrect cvc");break;case"processing_error":console.log("there was an error processing your card");break;case"incorrect_number":console.log("your card number is incorrect");break;default:console.log("your card was declined")}else this.confirmGuestPurchase(this.paymentIntentId),console.log("Payment successful! ",t)}):this.isLoggedIn?this.confirmPurchase(null):this.confirmGuestPurchase(null)}confirmPurchase(t){const s=sessionStorage.getItem("bookingId");this.bookingService.confirmReservation(Number(s),t).subscribe({next:h=>{sessionStorage.removeItem("bookingId"),console.log("Tickets purchased:",h),this.goToConfirmation(Number(s))},error:h=>{console.error("Error confirming purchase:",h)}})}confirmGuestPurchase(t){const s=sessionStorage.getItem("bookingId");this.bookingService.confirmGuestReservation(Number(s),t,this.guestEmail,this.sessionToken).subscribe({next:h=>{sessionStorage.removeItem("bookingId"),console.log("Tickets purchased:",h),this.goToConfirmation(Number(s))},error:h=>{console.error("Error confirming purchase:",h)}})}onSubmit(){this.paymentForm.valid&&this.timerActive&&(this.isLoading=!0,this.guestEmail=this.paymentForm.value.email,this.pay(),console.log("Payment submitted"))}ngOnDestroy(){var t=this;return Er(function*(){t.isDirectAccess||(clearInterval(t.intervalId),t.paymentElement&&t.paymentElement.destroy(),yield t.cancelGuestReservation(),yield t.cancelReservation())})()}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(vi),o.rXU(Cn),o.rXU(ea),o.rXU(Gh),o.rXU(Ir),o.rXU(Sc))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-reserve"]],decls:42,vars:23,consts:[[1,"reserve-page"],[1,"left-column"],[1,"timer"],[3,"ngSubmit","formGroup"],[4,"ngIf"],["id","payment-element"],[1,"right-column"],[1,"right-column-top"],[1,"event-details"],[4,"ngFor","ngForOf"],[1,"right-column-bottom"],[3,"tickets","platformFee","total"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","required","","placeholder","Enter your email",1,"form-input"],["for","confirmEmail"],["type","email","id","retypeEmail","formControlName","retypeEmail","required","","placeholder","Confirm your email",1,"form-input"],["type","submit",3,"disabled"],[1,"spinner"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),o.EFF(4),o.nI1(5,"number"),o.k0s()(),o.j41(6,"h3"),o.EFF(7,"Payment Information"),o.k0s(),o.j41(8,"form",3),o.bIt("ngSubmit",function(){return h.onSubmit()}),o.DNE(9,TE,9,0,"div",4),o.nrm(10,"div",5),o.DNE(11,Wg,4,3,"div",4)(12,Xg,4,3,"div",4),o.k0s()(),o.j41(13,"div",6)(14,"div",7)(15,"div",8)(16,"h3"),o.EFF(17,"Event Details"),o.k0s(),o.j41(18,"p")(19,"strong"),o.EFF(20,"Venue:"),o.k0s(),o.EFF(21),o.k0s(),o.j41(22,"p")(23,"strong"),o.EFF(24,"Event:"),o.k0s(),o.EFF(25),o.k0s(),o.j41(26,"p")(27,"strong"),o.EFF(28,"Date:"),o.k0s(),o.EFF(29),o.nI1(30,"date"),o.k0s(),o.j41(31,"p")(32,"strong"),o.EFF(33,"Time:"),o.k0s(),o.EFF(34),o.nI1(35,"date"),o.k0s(),o.j41(36,"p")(37,"strong"),o.EFF(38,"Performers:"),o.k0s(),o.DNE(39,bs,2,1,"span",9),o.k0s()()(),o.j41(40,"div",10),o.nrm(41,"app-checkout",11),o.k0s()()()),2&s&&(o.R7$(4),o.Lme("Time Remaining: ",h.minutes,":",o.i5U(5,14,h.seconds,"2.0"),""),o.R7$(4),o.Y8G("formGroup",h.paymentForm),o.R7$(),o.Y8G("ngIf",!h.isLoggedIn),o.R7$(2),o.Y8G("ngIf",h.total>0),o.R7$(),o.Y8G("ngIf",0===h.total),o.R7$(9),o.SpI(" ",h.venueName,""),o.R7$(4),o.SpI(" ",h.eventName,""),o.R7$(4),o.SpI(" ",o.i5U(30,17,h.eventTime,"longDate"),""),o.R7$(5),o.SpI(" ",o.i5U(35,20,h.eventTime,"shortTime"),""),o.R7$(5),o.Y8G("ngForOf",h.performers),o.R7$(2),o.Y8G("tickets",h.tickets)("platformFee",h.platformFee)("total",h.total))},dependencies:[ar,Mn,io,ai,Di,Zo,_s,Js,Ua,_v,Tr,lo],styles:[".reserve-page[_ngcontent-%COMP%]{display:flex;gap:20px}@media (min-width: 769px){.left-column[_ngcontent-%COMP%]{flex:1;border:1px solid #ddd;background-color:#f9f9f9;padding:10px;margin-left:400px;margin-bottom:5px}.right-column-top[_ngcontent-%COMP%], .right-column-bottom[_ngcontent-%COMP%]{margin-right:400px}.right-column-bottom[_ngcontent-%COMP%]{margin-top:20px}}@media (max-width: 768px){.reserve-page[_ngcontent-%COMP%]{flex-direction:column}.left-column[_ngcontent-%COMP%]{padding:10px}.right-column-top[_ngcontent-%COMP%], .right-column-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.timer[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}button[_ngcontent-%COMP%]{margin-top:10px;margin-right:10px;width:100%;height:40px;cursor:pointer}}.form-input[_ngcontent-%COMP%]{width:100%;border:1px solid #ccc;padding:12px;margin-bottom:10px;border-radius:4px;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.form-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block}button[_ngcontent-%COMP%]{margin-top:10px;margin-right:10px;width:100%;height:40px;cursor:pointer;padding:10px 20px;font-size:1em;position:relative}ul[_ngcontent-%COMP%]{padding:0;list-style-type:none}.spinner[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border:2px solid #fff;border-radius:50%;border-top-color:#4caf50;animation:_ngcontent-%COMP%_spin .6s linear infinite;margin-right:8px}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})}}return r})();function Cv(r,a){if(1&r&&(o.j41(0,"li")(1,"span",7),o.EFF(2),o.k0s(),o.j41(3,"span",8),o.EFF(4),o.nI1(5,"currency"),o.k0s()()),2&r){const t=a.$implicit;o.R7$(2),o.SpI("1 x ",t.name,""),o.R7$(2),o.JRh(o.bMT(5,2,t.price))}}let Is=(()=>{class r{constructor(t){this.router=t,this.bookingId=null,this.tickets=[],this.platformFee=null,this.totalAmount=null;try{const s=this.router.getCurrentNavigation()?.extras?.state?.data;this.bookingId=s.bookingId,this.tickets=s.tickets,this.platformFee=s.platformFee,this.totalAmount=s.totalAmount}catch{t.navigate(["/"])}}goHome(){this.router.navigate(["/"])}ngOnInit(){}ngOnDestroy(){}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-confirm"]],decls:25,vars:4,consts:[[1,"confirm-page"],[1,"confirmation-header"],[1,"booking-details"],[1,"ticket-list"],[4,"ngFor","ngForOf"],[1,"summary"],[1,"home-button",3,"click"],[1,"ticket-name"],[1,"ticket-price"]],template:function(s,h){1&s&&(o.j41(0,"div",0)(1,"div",1)(2,"h2"),o.EFF(3,"Booking Confirmation"),o.k0s(),o.j41(4,"p"),o.EFF(5,"Your booking has been successfully completed!"),o.k0s()(),o.j41(6,"div",2)(7,"h3"),o.EFF(8),o.k0s()(),o.j41(9,"div",3)(10,"h4"),o.EFF(11,"Tickets"),o.k0s(),o.j41(12,"ul"),o.DNE(13,Cv,6,4,"li",4),o.k0s()(),o.j41(14,"div",5)(15,"p")(16,"strong"),o.EFF(17,"Platform Fee:"),o.k0s(),o.EFF(18),o.k0s(),o.j41(19,"p")(20,"strong"),o.EFF(21,"Total:"),o.k0s(),o.EFF(22),o.k0s()(),o.j41(23,"button",6),o.bIt("click",function(){return h.goHome()}),o.EFF(24,"Return to Home"),o.k0s()()),2&s&&(o.R7$(8),o.SpI("Booking ID: ",h.bookingId,""),o.R7$(5),o.Y8G("ngForOf",h.tickets),o.R7$(5),o.SpI(" $",h.platformFee,""),o.R7$(4),o.SpI(" $",h.totalAmount,""))},dependencies:[ar,Lr],styles:[".confirm-page[_ngcontent-%COMP%]{max-width:600px;margin:20px auto;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;text-align:center;font-family:Arial,sans-serif}.confirmation-header[_ngcontent-%COMP%]{margin-bottom:20px}.confirmation-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#4caf50}.booking-details[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:20px;color:#333}.ticket-list[_ngcontent-%COMP%]{text-align:left;margin-bottom:20px}.ticket-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.ticket-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px;border-bottom:1px solid #ddd}.ticket-name[_ngcontent-%COMP%]{font-weight:700}.ticket-price[_ngcontent-%COMP%]{color:#555}.summary[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:20px}.home-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:1em;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}.home-button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return r})();function Jo(r,a){1&r&&(o.j41(0,"div",6)(1,"p"),o.EFF(2,"Loading events..."),o.k0s()())}function es(r,a){if(1&r){const t=o.RV6();o.j41(0,"div",13),o.bIt("click",function(){const h=o.eBV(t).$implicit,y=o.XpG(2);return o.Njj(y.goToEventDetails(h))}),o.j41(1,"span",9),o.EFF(2),o.k0s(),o.j41(3,"span",10),o.EFF(4),o.k0s(),o.j41(5,"span",11),o.EFF(6),o.nI1(7,"date"),o.k0s()()}if(2&r){const t=a.$implicit;o.R7$(2),o.JRh(t.name),o.R7$(2),o.JRh(t.venue.name),o.R7$(2),o.JRh(o.i5U(7,3,t.date,"longDate"))}}function wv(r,a){if(1&r&&(o.j41(0,"div",7)(1,"div",8)(2,"span",9),o.EFF(3,"Event"),o.k0s(),o.j41(4,"span",10),o.EFF(5,"Venue"),o.k0s(),o.j41(6,"span",11),o.EFF(7,"Date"),o.k0s()(),o.DNE(8,es,8,6,"div",12),o.k0s()),2&r){const t=o.XpG();o.R7$(8),o.Y8G("ngForOf",t.events)}}function Ev(r,a){if(1&r){const t=o.RV6();o.j41(0,"button",14),o.bIt("click",function(){o.eBV(t);const h=o.XpG();return o.Njj(h.loadMore())}),o.EFF(1," Load More "),o.k0s()}}function ME(r,a){1&r&&(o.j41(0,"p",15),o.EFF(1,"No events found."),o.k0s())}const NE=[{path:"login",component:cg},{path:"",component:F_},{path:"",redirectTo:"",pathMatch:"full"},{path:"register",component:ug},{path:"dashboard",component:Ic,canActivate:[$g]},{path:"forgot-password",component:k_},{path:"forgot-username",component:Cg},{path:"reset-password/:token",component:Xb},{path:"verify-email/:token",component:qw},{path:"cookie-policy",component:Yb},{path:"privacy-policy",component:Wh},{path:"data-deletion-policy",component:bg},{path:"settings",component:Zh,canActivate:[$g]},{path:"confirm-email/:token",component:ld},{path:"search",component:(()=>{class r{constructor(t,s,h){this.eventService=t,this.router=s,this.route=h,this.searchText="",this.events=[],this.loading=!1,this.currentPage=0,this.moreResultsAvailable=!0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.searchText=t.q||""}),this.onSearch()}createOriginalEvent(t){return{id:t.id,name:t.name,date:new Date(t.date),venue:t.venue,type:Vi.o,description:"",status:"",performers:[],url:"",tickets:[],images:[]}}createTicketmasterEvent(t){return{id:t.id,name:t.name,date:new Date(t.dates.start.dateTime),venue:null!==t?._embedded?.venues?t._embedded.venues[0]:"",url:t.url,type:Vi.tm,description:"",status:"",performers:[],tickets:[],images:[]}}onSearch(t){t&&(this.searchText=t),this.searchText.trim()?(this.currentPage=0,this.moreResultsAvailable=!0,this.events=[],this.loadEvents()):(this.currentPage=0,this.moreResultsAvailable=!0,this.events=[],this.loadCurated())}toDistinct(t){var s={};return t.filter(function(h){return!s.hasOwnProperty(h.id)&&(s[h.id]=!0)})}loadEvents(){this.loading=!0,this.eventService.searchEvents(this.searchText,this.currentPage).subscribe({next:t=>{let s=t?.original.filter(b=>"OPEN"===b.status).map(b=>this.createOriginalEvent(b)),h=t?.ticketmaster._embedded?.events.filter(b=>"onsale"===b.dates.status.code).map(b=>this.createTicketmasterEvent(b)),y=[...s??[],...h??[]];y.sort((b,F)=>b.date.getTime()-F.date.getTime()),this.events=[...this.events,...y],this.events=this.toDistinct(this.events),this.moreResultsAvailable=t?.ticketmaster.page.totalPages-1-this.currentPage>0,this.currentPage++,this.loading=!1},error:t=>{this.loading=!1,console.error("Error loading events:",t)}})}loadCurated(){this.loading=!0,this.eventService.getCuratedEvents(this.currentPage,50).subscribe({next:t=>{let s=t?.original.filter(b=>"OPEN"===b.status).map(b=>this.createOriginalEvent(b));console.log(t.original);let h=t?.ticketmaster._embedded?.events.filter(b=>"onsale"===b.dates.status.code).map(b=>this.createTicketmasterEvent(b)),y=[...s??[],...h??[]];y.sort((b,F)=>b.date.getTime()-F.date.getTime()),this.events=[...this.events,...y],this.events=this.toDistinct(this.events),this.moreResultsAvailable=t?.ticketmaster.page.totalPages-1-this.currentPage>0,this.currentPage++,this.loading=!1},error:t=>{this.loading=!1,console.error("Error fetching events:",t)}})}loadMore(){this.searchText?this.loadEvents():this.loadCurated()}goToEventDetails(t){window.open(`/event/${t.type}/${t.id}`,"_blank")}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(ws),o.rXU(Cn),o.rXU(vi))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-search-result"]],decls:7,vars:4,consts:[["noResults",""],[3,"search"],[1,"search-result-container"],["class","loading-spinner",4,"ngIf"],["class","events-list",4,"ngIf","ngIfElse"],["class","load-more-button",3,"click",4,"ngIf"],[1,"loading-spinner"],[1,"events-list"],[1,"event-item"],[1,"event-name"],[1,"event-venue"],[1,"event-date"],["class","event-item",3,"click",4,"ngFor","ngForOf"],[1,"event-item",3,"click"],[1,"load-more-button",3,"click"],[1,"no-results"]],template:function(s,h){if(1&s){const y=o.RV6();o.j41(0,"app-top-bar",1),o.bIt("search",function(F){return o.eBV(y),o.Njj(h.onSearch(F))}),o.k0s(),o.j41(1,"div",2),o.DNE(2,Jo,3,0,"div",3)(3,wv,9,1,"div",4)(4,Ev,2,0,"button",5)(5,ME,2,0,"ng-template",null,0,o.C5r),o.k0s()}if(2&s){const y=o.sdS(6);o.R7$(2),o.Y8G("ngIf",h.loading),o.R7$(),o.Y8G("ngIf",h.events.length>0)("ngIfElse",y),o.R7$(),o.Y8G("ngIf",!h.loading&&h.moreResultsAvailable)}},dependencies:[ar,Mn,Cs,lo],styles:[".search-result-container[_ngcontent-%COMP%]{padding:20px}.events-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.event-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-bottom:1px solid #ddd;cursor:pointer;transition:background-color .2s ease}.event-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.event-name[_ngcontent-%COMP%], .event-venue[_ngcontent-%COMP%], .event-date[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 5px;color:#333}.event-date[_ngcontent-%COMP%]{text-align:right;color:#888}.loading-spinner[_ngcontent-%COMP%]{text-align:center;font-size:1.2em;color:#888;margin:20px 0}@media (max-width: 768px){.search-result-container[_ngcontent-%COMP%]{padding:10px}}.load-more-button[_ngcontent-%COMP%]{margin:20px auto;padding:10px 20px;display:block;background-color:#000;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1em;transition:background-color .3s}.load-more-button[_ngcontent-%COMP%]:hover{background-color:#333}"]})}}return r})()},{path:"event/:sourceId/:id",component:ud},{path:"bookings",component:Dg,canActivate:[pv]},{path:"venue/events/create",component:$_,canActivate:[Gl]},{path:"venue/events",component:Jh,canActivate:[Gl]},{path:"venue/events/:eventId/edit",component:Rg,canActivate:[Gl]},{path:"scanner",component:Wr,canActivate:[Gl]},{path:"forbidden",component:IE},{path:"payments",component:$l,canActivate:[Gl]},{path:"stripe-reauth",component:DE,canActivate:[Gl]},{path:"reserve",component:AE},{path:"confirm",component:Is}];let OE=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r})}static{this.\u0275inj=o.G2t({imports:[wp.forRoot(NE),wp]})}}return r})(),Yg=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"footer"],[1,"footer-content"],["routerLink","/privacy-policy"],["routerLink","/cookie-policy"],["routerLink","/data-deletion-policy"]],template:function(s,h){1&s&&(o.j41(0,"footer",0)(1,"div",1)(2,"a",2),o.EFF(3,"Privacy Policy"),o.k0s(),o.j41(4,"span"),o.EFF(5,"|"),o.k0s(),o.j41(6,"a",3),o.EFF(7,"Cookie Policy"),o.k0s(),o.j41(8,"span"),o.EFF(9,"|"),o.k0s(),o.j41(10,"a",4),o.EFF(11,"Data Deletion Policy"),o.k0s()()())},dependencies:[Xs],styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f8f8f8;padding:10px;height:50px;margin-top:auto}.footer-content[_ngcontent-%COMP%]{display:flex;align-items:center}.footer-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff;margin:0 10px}.footer-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 5px}"]})}}return r})(),md=(()=>{class r{constructor(t,s,h){this.router=t,this.authService=s,this.paymentService=h,this.title="ticketing-system"}ngOnInit(){this.router.events.subscribe(t=>{if(t instanceof $o){const s=this.authService.getToken();s&&this.authService.isTokenExpired(s)&&this.authService.refreshToken().subscribe()}})}static{this.\u0275fac=function(s){return new(s||r)(o.rXU(Cn),o.rXU(Ir),o.rXU(Gh))}}static{this.\u0275cmp=o.VBU({type:r,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-container"]],template:function(s,h){1&s&&(o.j41(0,"div",0),o.nrm(1,"router-outlet")(2,"app-footer"),o.k0s())},dependencies:[Jd,Yg]})}}return r})(),RE=(()=>{class r{constructor(t,s){this.authService=t,this.router=s,this.isRefreshing=!1,this.refreshTokenSubject=new Qr.t(null)}intercept(t,s){const h=this.authService.getToken();if(h&&this.authService.isTokenExpired(h)&&!this.isRefreshing)return this.handle401Error(t,s);let y=t;return h&&!this.isExcludedUrl(t.url)&&(y=this.addTokenHeader(t,h)),s.handle(y).pipe(mi(b=>401!==b.status||this.isExcludedUrl(t.url)?403!==b.status||this.isExcludedUrl(t.url)?Us(b):this.handle403Error(y,s):this.handle401Error(y,s)))}addTokenHeader(t,s){return t.clone({headers:t.headers.set("Authorization",`Bearer ${s}`)})}handle401Error(t,s){return this.isRefreshing?this.refreshTokenSubject.pipe(fs(h=>null!=h),Da(1),Ur(h=>s.handle(this.addTokenHeader(t,h)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.refreshToken().pipe(Ur(h=>(this.isRefreshing=!1,this.authService.saveAccessToken(h?.accessToken),this.refreshTokenSubject.next(h?.accessToken),s.handle(this.addTokenHeader(t,h?.accessToken)))),mi(h=>(this.isRefreshing=!1,Us(h)))))}handle403Error(t,s){return this.handle401Error(t,s)}isExcludedUrl(t){return t.includes("/login")||t.includes("/register")||t.includes("/refresh-token")||t.includes("/logout")||t.includes("/weather")||t.includes("/auth/google")||t.includes("/confirm-email")||t.includes("/bookings/guest/start")||t.includes("/bookings/guest/reserve")||t.includes("/bookings/guest/confirm")||t.includes("/bookings/guest/release")}static{this.\u0275fac=function(s){return new(s||r)(o.KVO(Ir),o.KVO(Cn))}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})(),kE=(()=>{class r{constructor(t,s,h,y,b){this.doc=t,this.delegate=s,this.zone=h,this.animationType=y,this.moduleImpl=b,this._rendererFactoryPromise=null,this.scheduler=(0,o.WQX)(o.An2,{optional:!0}),this.loadingSchedulerFn=(0,o.WQX)(bv,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){const t=()=>this.moduleImpl??G.e(142).then(G.bind(G,3142)).then(h=>h);let s;return s=this.loadingSchedulerFn?this.loadingSchedulerFn(t):t(),s.catch(h=>{throw new o.wOt(5300,!1)}).then(({\u0275createEngine:h,\u0275AnimationRendererFactory:y})=>{this._engine=h(this.animationType,this.doc);const b=new y(this.delegate,this._engine,this.zone);return this.delegate=b,b})}createRenderer(t,s){const h=this.delegate.createRenderer(t,s);if(0===h.\u0275type)return h;"boolean"==typeof h.throwOnSyntheticProps&&(h.throwOnSyntheticProps=!1);const y=new PE(h);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(b=>{const F=b.createRenderer(t,s);y.use(F),this.scheduler?.notify(10)}).catch(b=>{y.use(h)}),y}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){o.QTQ()}}static{this.\u0275prov=o.jDH({token:r,factory:r.\u0275fac})}}return r})();class PE{constructor(a){this.delegate=a,this.replay=[],this.\u0275type=1}use(a){if(this.delegate=a,null!==this.replay){for(const t of this.replay)t(a);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(a,t){return this.delegate.createElement(a,t)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}get destroyNode(){return this.delegate.destroyNode}appendChild(a,t){this.delegate.appendChild(a,t)}insertBefore(a,t,s,h){this.delegate.insertBefore(a,t,s,h)}removeChild(a,t,s){this.delegate.removeChild(a,t,s)}selectRootElement(a,t){return this.delegate.selectRootElement(a,t)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,t,s,h){this.delegate.setAttribute(a,t,s,h)}removeAttribute(a,t,s){this.delegate.removeAttribute(a,t,s)}addClass(a,t){this.delegate.addClass(a,t)}removeClass(a,t){this.delegate.removeClass(a,t)}setStyle(a,t,s,h){this.delegate.setStyle(a,t,s,h)}removeStyle(a,t,s){this.delegate.removeStyle(a,t,s)}setProperty(a,t,s){this.shouldReplay(t)&&this.replay.push(h=>h.setProperty(a,t,s)),this.delegate.setProperty(a,t,s)}setValue(a,t){this.delegate.setValue(a,t)}listen(a,t,s){return this.shouldReplay(t)&&this.replay.push(h=>h.listen(a,t,s)),this.delegate.listen(a,t,s)}shouldReplay(a){return null!==this.replay&&a.startsWith("@")}}const bv=new o.nKC("");function Iv(r="animations"){return(0,o.ngT)("NgAsyncAnimations"),(0,o.EmA)([{provide:o._9s,useFactory:(a,t,s)=>new kE(a,t,s,r),deps:[q,Hn,o.SKi]},{provide:o.bc$,useValue:"noop"===r?"NoopAnimations":"BrowserAnimations"}])}let sf=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=o.$C({type:r,bootstrap:[md]})}static{this.\u0275inj=o.G2t({providers:[Ir,od,{provide:ng,useValue:ng},o_,{provide:$1,useClass:RE,multi:!0},Cw(oa(ia.LegacyInterceptors,[{provide:Q1,useFactory:uw},{provide:Qu,useExisting:Q1,multi:!0}])),Iv()],imports:[mf,OE,R1,ew]})}}return r})();Ar().bootstrapModule(sf).catch(r=>console.error(r))},243:wt=>{"use strict";var me={single_source_shortest_paths:function(G,o,re){var N={},P={};P[o]=0;var z,q,ne,Z,ae,_e,j=me.PriorityQueue.make();for(j.push(o,0);!j.empty();)for(ne in Z=(z=j.pop()).cost,ae=G[q=z.value]||{})ae.hasOwnProperty(ne)&&(_e=Z+ae[ne],(typeof P[ne]>"u"||P[ne]>_e)&&(P[ne]=_e,j.push(ne,_e),N[ne]=q));if(typeof re<"u"&&typeof P[re]>"u"){var Ve=["Could not find a path from ",o," to ",re,"."].join("");throw new Error(Ve)}return N},extract_shortest_path_from_predecessor_list:function(G,o){for(var re=[],N=o;N;)re.push(N),N=G[N];return re.reverse(),re},find_path:function(G,o,re){var N=me.single_source_shortest_paths(G,o,re);return me.extract_shortest_path_from_predecessor_list(N,re)},PriorityQueue:{make:function(G){var N,o=me.PriorityQueue,re={};for(N in G=G||{},o)o.hasOwnProperty(N)&&(re[N]=o[N]);return re.queue=[],re.sorter=G.sorter||o.default_sorter,re},default_sorter:function(G,o){return G.cost-o.cost},push:function(G,o){this.queue.push({value:G,cost:o}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};wt.exports=me},5496:function(wt,me){!function(G){"use strict";function o(A){return null==A}var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,c){A.__proto__=c}||function(A,c){for(var l in c)c.hasOwnProperty(l)&&(A[l]=c[l])};var z=function(A){function c(l){var f=this.constructor,g=A.call(this,l)||this;return Object.defineProperty(g,"name",{value:f.name,enumerable:!1}),function P(A,c){var l=Object.setPrototypeOf;l?l(A,c):A.__proto__=c}(g,f.prototype),function j(A,c){void 0===c&&(c=A.constructor);var l=Error.captureStackTrace;l&&l(A,c)}(g),g}return function N(A,c){function l(){this.constructor=A}re(A,c),A.prototype=null===c?Object.create(c):(l.prototype=c.prototype,new l)}(c,A),c}(Error);let q=(()=>{class A extends z{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}return A.kind="Exception",A})(),ne=(()=>{class A extends q{}return A.kind="ArgumentException",A})(),Z=(()=>{class A extends q{}return A.kind="IllegalArgumentException",A})();class ae{constructor(c){if(this.binarizer=c,null===c)throw new Z("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,l){return this.binarizer.getBlackRow(c,l)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,l,f,g){const m=this.binarizer.getLuminanceSource().crop(c,l,f,g);return new ae(this.binarizer.createBinarizer(m))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new ae(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new ae(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let te=(()=>{class A extends q{static getChecksumInstance(){return new A}}return A.kind="ChecksumException",A})();class _e{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class fe{static arraycopy(c,l,f,g,m){for(;m--;)f[g++]=c[l++]}static currentTimeMillis(){return Date.now()}}let Re=(()=>{class A extends q{}return A.kind="IndexOutOfBoundsException",A})(),Ve=(()=>{class A extends Re{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}return A.kind="ArrayIndexOutOfBoundsException",A})();class at{static fill(c,l){for(let f=0,g=c.length;f<g;f++)c[f]=l}static fillWithin(c,l,f,g){at.rangeCheck(c.length,l,f);for(let m=l;m<f;m++)c[m]=g}static rangeCheck(c,l,f){if(l>f)throw new Z("fromIndex("+l+") > toIndex("+f+")");if(l<0)throw new Ve(l);if(f>c)throw new Ve(f)}static asList(...c){return c}static create(c,l,f){return Array.from({length:c}).map(m=>Array.from({length:l}).fill(f))}static createInt32Array(c,l,f){return Array.from({length:c}).map(m=>Int32Array.from({length:l}).fill(f))}static equals(c,l){if(!(c&&l&&c.length&&l.length&&c.length===l.length))return!1;for(let f=0,g=c.length;f<g;f++)if(c[f]!==l[f])return!1;return!0}static hashCode(c){if(null===c)return 0;let l=1;for(const f of c)l=31*l+f;return l}static fillUint8Array(c,l){for(let f=0;f!==c.length;f++)c[f]=l}static copyOf(c,l){return c.slice(0,l)}static copyOfUint8Array(c,l){if(c.length<=l){const f=new Uint8Array(l);return f.set(c),f}return c.slice(0,l)}static copyOfRange(c,l,f){const g=f-l,m=new Int32Array(g);return fe.arraycopy(c,l,m,0,g),m}static binarySearch(c,l,f){void 0===f&&(f=at.numberComparator);let g=0,m=c.length-1;for(;g<=m;){const C=m+g>>1,w=f(l,c[C]);if(w>0)g=C+1;else{if(!(w<0))return C;m=C-1}}return-g-1}static numberComparator(c,l){return c-l}}class Oe{static numberOfTrailingZeros(c){let l;if(0===c)return 32;let f=31;return l=c<<16,0!==l&&(f-=16,c=l),l=c<<8,0!==l&&(f-=8,c=l),l=c<<4,0!==l&&(f-=4,c=l),l=c<<2,0!==l&&(f-=2,c=l),f-(c<<1>>>31)}static numberOfLeadingZeros(c){if(0===c)return 32;let l=1;return c>>>16||(l+=16,c<<=16),c>>>24||(l+=8,c<<=8),c>>>28||(l+=4,c<<=4),c>>>30||(l+=2,c<<=2),l-=c>>>31,l}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=(c=(858993459&(c-=c>>>1&1431655765))+(c>>>2&858993459))+(c>>>4)&252645135,63&(c+=c>>>8)+(c>>>16)}static truncDivision(c,l){return Math.trunc(c/l)}static parseInt(c,l=void 0){return parseInt(c,l)}}Oe.MIN_VALUE_32_BITS=-2147483648,Oe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(c,l){void 0===c?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,this.bits=null==l?Ye.makeArray(c):l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>32*this.bits.length){const l=Ye.makeArray(c);fe.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(c){return!!(this.bits[Math.floor(c/32)]&1<<(31&c))}set(c){this.bits[Math.floor(c/32)]|=1<<(31&c)}flip(c){this.bits[Math.floor(c/32)]^=1<<(31&c)}getNextSet(c){const l=this.size;if(c>=l)return l;const f=this.bits;let g=Math.floor(c/32),m=f[g];m&=~((1<<(31&c))-1);const C=f.length;for(;0===m;){if(++g===C)return l;m=f[g]}const w=32*g+Oe.numberOfTrailingZeros(m);return w>l?l:w}getNextUnset(c){const l=this.size;if(c>=l)return l;const f=this.bits;let g=Math.floor(c/32),m=~f[g];m&=~((1<<(31&c))-1);const C=f.length;for(;0===m;){if(++g===C)return l;m=~f[g]}const w=32*g+Oe.numberOfTrailingZeros(m);return w>l?l:w}setBulk(c,l){this.bits[Math.floor(c/32)]=l}setRange(c,l){if(l<c||c<0||l>this.size)throw new Z;if(l===c)return;l--;const f=Math.floor(c/32),g=Math.floor(l/32),m=this.bits;for(let C=f;C<=g;C++)m[C]|=(2<<(C<g?31:31&l))-(1<<(C>f?0:31&c))}clear(){const c=this.bits.length,l=this.bits;for(let f=0;f<c;f++)l[f]=0}isRange(c,l,f){if(l<c||c<0||l>this.size)throw new Z;if(l===c)return!0;l--;const g=Math.floor(c/32),m=Math.floor(l/32),C=this.bits;for(let w=g;w<=m;w++){const O=(2<<(w<m?31:31&l))-(1<<(w>g?0:31&c))&4294967295;if((C[w]&O)!==(f?O:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(c,l){if(l<0||l>32)throw new Z("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let f=l;f>0;f--)this.appendBit(1==(c>>f-1&1))}appendBitArray(c){const l=c.size;this.ensureCapacity(this.size+l);for(let f=0;f<l;f++)this.appendBit(c.get(f))}xor(c){if(this.size!==c.size)throw new Z("Sizes don't match");const l=this.bits;for(let f=0,g=l.length;f<g;f++)l[f]^=c.bits[f]}toBytes(c,l,f,g){for(let m=0;m<g;m++){let C=0;for(let w=0;w<8;w++)this.get(c)&&(C|=1<<7-w),c++;l[f+m]=C}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),f=l+1,g=this.bits;for(let m=0;m<f;m++){let C=g[m];C=C>>1&1431655765|(1431655765&C)<<1,C=C>>2&858993459|(858993459&C)<<2,C=C>>4&252645135|(252645135&C)<<4,C=C>>8&16711935|(16711935&C)<<8,C=C>>16&65535|(65535&C)<<16,c[l-m]=C}if(this.size!==32*f){const m=32*f-this.size;let C=c[0]>>>m;for(let w=1;w<f;w++){const I=c[w];C|=I<<32-m,c[w-1]=C,C=I>>>m}c[f-1]=C}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){return c instanceof Ye&&this.size===c.size&&at.equals(this.bits,c.bits)}hashCode(){return 31*this.size+at.hashCode(this.bits)}toString(){let c="";for(let l=0,f=this.size;l<f;l++)7&l||(c+=" "),c+=this.get(l)?"X":".";return c}clone(){return new Ye(this.size,this.bits.slice())}}var ut=function(A){return A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",A}(ut||{}),Qe=ut;let ke=(()=>{class A extends q{static getFormatInstance(){return new A}}return A.kind="FormatException",A})();var We=function(A){return A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR",A}(We||{});class Ce{constructor(c,l,f,...g){this.valueIdentifier=c,this.name=f,this.values="number"==typeof l?Int32Array.from([l]):l,this.otherEncodingNames=g,Ce.VALUE_IDENTIFIER_TO_ECI.set(c,this),Ce.NAME_TO_ECI.set(f,this);const m=this.values;for(let C=0,w=m.length;C!==w;C++)Ce.VALUES_TO_ECI.set(m[C],this);for(const C of g)Ce.NAME_TO_ECI.set(C,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new ke("incorect value");const l=Ce.VALUES_TO_ECI.get(c);if(void 0===l)throw new ke("incorect value");return l}static getCharacterSetECIByName(c){const l=Ce.NAME_TO_ECI.get(c);if(void 0===l)throw new ke("incorect value");return l}equals(c){if(!(c instanceof Ce))return!1;const l=c;return this.getName()===l.getName()}}Ce.VALUE_IDENTIFIER_TO_ECI=new Map,Ce.VALUES_TO_ECI=new Map,Ce.NAME_TO_ECI=new Map,Ce.Cp437=new Ce(We.Cp437,Int32Array.from([0,2]),"Cp437"),Ce.ISO8859_1=new Ce(We.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Ce.ISO8859_2=new Ce(We.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Ce.ISO8859_3=new Ce(We.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Ce.ISO8859_4=new Ce(We.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Ce.ISO8859_5=new Ce(We.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Ce.ISO8859_6=new Ce(We.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Ce.ISO8859_7=new Ce(We.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Ce.ISO8859_8=new Ce(We.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Ce.ISO8859_9=new Ce(We.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Ce.ISO8859_10=new Ce(We.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Ce.ISO8859_11=new Ce(We.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Ce.ISO8859_13=new Ce(We.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Ce.ISO8859_14=new Ce(We.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Ce.ISO8859_15=new Ce(We.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Ce.ISO8859_16=new Ce(We.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Ce.SJIS=new Ce(We.SJIS,20,"SJIS","Shift_JIS"),Ce.Cp1250=new Ce(We.Cp1250,21,"Cp1250","windows-1250"),Ce.Cp1251=new Ce(We.Cp1251,22,"Cp1251","windows-1251"),Ce.Cp1252=new Ce(We.Cp1252,23,"Cp1252","windows-1252"),Ce.Cp1256=new Ce(We.Cp1256,24,"Cp1256","windows-1256"),Ce.UnicodeBigUnmarked=new Ce(We.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Ce.UTF8=new Ce(We.UTF8,26,"UTF8","UTF-8"),Ce.ASCII=new Ce(We.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Ce.Big5=new Ce(We.Big5,28,"Big5"),Ce.GB18030=new Ce(We.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Ce.EUC_KR=new Ce(We.EUC_KR,30,"EUC_KR","EUC-KR");let Ne=(()=>{class A extends q{}return A.kind="UnsupportedOperationException",A})();class ee{static decode(c,l){const f=this.encodingName(l);return this.customDecoder?this.customDecoder(c,f):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(f)?this.decodeFallback(c,f):new TextDecoder(f).decode(c)}static shouldDecodeOnFallback(c){return!ee.isBrowser()&&"ISO-8859-1"===c}static encode(c,l){const f=this.encodingName(l);return this.customEncoder?this.customEncoder(c,f):typeof TextEncoder>"u"?this.encodeFallback(c):(new TextEncoder).encode(c)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(c){return"string"==typeof c?c:c.getName()}static encodingCharacterSet(c){return c instanceof Ce?c:Ce.getCharacterSetECIByName(c)}static decodeFallback(c,l){const f=this.encodingCharacterSet(l);if(ee.isDecodeFallbackSupported(f)){let g="";for(let m=0,C=c.length;m<C;m++){let w=c[m].toString(16);w.length<2&&(w="0"+w),g+="%"+w}return decodeURIComponent(g)}if(f.equals(Ce.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new Ne(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(Ce.UTF8)||c.equals(Ce.ISO8859_1)||c.equals(Ce.ASCII)}static encodeFallback(c){const f=btoa(unescape(encodeURIComponent(c))).split(""),g=[];for(let m=0;m<f.length;m++)g.push(f[m].charCodeAt(0));return new Uint8Array(g)}}class X{static castAsNonUtf8Char(c,l=null){const f=l?l.getName():this.ISO88591;return ee.decode(new Uint8Array([c]),f)}static guessEncoding(c,l){if(null!=l&&void 0!==l.get(Qe.CHARACTER_SET))return l.get(Qe.CHARACTER_SET).toString();const f=c.length;let g=!0,m=!0,C=!0,w=0,I=0,S=0,O=0,H=0,W=0,Q=0,se=0,he=0,ve=0,Ie=0;const Ze=c.length>3&&239===c[0]&&187===c[1]&&191===c[2];for(let it=0;it<f&&(g||m||C);it++){const Le=255&c[it];C&&(w>0?128&Le?w--:C=!1:128&Le&&(64&Le?(w++,32&Le?(w++,16&Le?(w++,8&Le?C=!1:O++):S++):I++):C=!1)),g&&(Le>127&&Le<160?g=!1:Le>159&&(Le<192||215===Le||247===Le)&&Ie++),m&&(H>0?Le<64||127===Le||Le>252?m=!1:H--:128===Le||160===Le||Le>239?m=!1:Le>160&&Le<224?(W++,se=0,Q++,Q>he&&(he=Q)):Le>127?(H++,Q=0,se++,se>ve&&(ve=se)):(Q=0,se=0))}return C&&w>0&&(C=!1),m&&H>0&&(m=!1),C&&(Ze||I+S+O>0)?X.UTF8:m&&(X.ASSUME_SHIFT_JIS||he>=3||ve>=3)?X.SHIFT_JIS:g&&m?2===he&&2===W||10*Ie>=f?X.SHIFT_JIS:X.ISO88591:g?X.ISO88591:m?X.SHIFT_JIS:C?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(c,...l){let f=-1;return c.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function g(C,w,I,S,O,H){if("%%"===C)return"%";if(void 0===l[++f])return;C=S?parseInt(S.substr(1)):void 0;let Q,W=O?parseInt(O.substr(1)):void 0;switch(H){case"s":Q=l[f];break;case"c":Q=l[f][0];break;case"f":Q=parseFloat(l[f]).toFixed(C);break;case"p":Q=parseFloat(l[f]).toPrecision(C);break;case"e":Q=parseFloat(l[f]).toExponential(C);break;case"x":Q=parseInt(l[f]).toString(W||16);break;case"d":Q=parseFloat(parseInt(l[f],W||10).toPrecision(C)).toFixed(0)}Q="object"==typeof Q?JSON.stringify(Q):(+Q).toString(W);let se=parseInt(I),he=I&&I[0]+""=="0"?"0":" ";for(;Q.length<se;)Q=void 0!==w?Q+he:he+Q;return Q})}static getBytes(c,l){return ee.encode(c,l)}static getCharCode(c,l=0){return c.charCodeAt(l)}static getCharAt(c){return String.fromCharCode(c)}}X.SHIFT_JIS=Ce.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=Ce.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=Ce.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class le{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return this.value+="string"==typeof c?c.toString():this.encoding?X.castAsNonUtf8Char(c,this.encoding):String.fromCharCode(c),this}appendChars(c,l,f){for(let g=l;l<l+f;g++)this.append(c[g]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,l){this.value=this.value.substr(0,c)+l+this.value.substr(c+1)}substring(c,l){return this.value.substring(c,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,l){this.value=this.value.substr(0,c)+l+this.value.substr(c+l.length)}}class pe{constructor(c,l,f,g){if(this.width=c,this.height=l,this.rowSize=f,this.bits=g,null==l&&(l=c),this.height=l,c<1||l<1)throw new Z("Both dimensions must be greater than 0");null==f&&(f=Math.floor((c+31)/32)),this.rowSize=f,null==g&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const l=c.length,f=c[0].length,g=new pe(f,l);for(let m=0;m<l;m++){const C=c[m];for(let w=0;w<f;w++)C[w]&&g.set(w,m)}return g}static parseFromString(c,l,f){if(null===c)throw new Z("stringRepresentation cannot be null");const g=new Array(c.length);let m=0,C=0,w=-1,I=0,S=0;for(;S<c.length;)if("\n"===c.charAt(S)||"\r"===c.charAt(S)){if(m>C){if(-1===w)w=m-C;else if(m-C!==w)throw new Z("row lengths do not match");C=m,I++}S++}else if(c.substring(S,S+l.length)===l)S+=l.length,g[m]=!0,m++;else{if(c.substring(S,S+f.length)!==f)throw new Z("illegal character encountered: "+c.substring(S));S+=f.length,g[m]=!1,m++}if(m>C){if(-1===w)w=m-C;else if(m-C!==w)throw new Z("row lengths do not match");I++}const O=new pe(w,I);for(let H=0;H<m;H++)g[H]&&O.set(Math.floor(H%w),Math.floor(H/w));return O}get(c,l){const f=l*this.rowSize+Math.floor(c/32);return!!(this.bits[f]>>>(31&c)&1)}set(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]|=1<<(31&c)&4294967295}unset(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]&=~(1<<(31&c)&4294967295)}flip(c,l){const f=l*this.rowSize+Math.floor(c/32);this.bits[f]^=1<<(31&c)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new Z("input matrix dimensions do not match");const l=new Ye(Math.floor(this.width/32)+1),f=this.rowSize,g=this.bits;for(let m=0,C=this.height;m<C;m++){const w=m*f,I=c.getRow(m,l).getBitArray();for(let S=0;S<f;S++)g[w+S]^=I[S]}}clear(){const c=this.bits,l=c.length;for(let f=0;f<l;f++)c[f]=0}setRegion(c,l,f,g){if(l<0||c<0)throw new Z("Left and top must be nonnegative");if(g<1||f<1)throw new Z("Height and width must be at least 1");const m=c+f,C=l+g;if(C>this.height||m>this.width)throw new Z("The region must fit inside the matrix");const w=this.rowSize,I=this.bits;for(let S=l;S<C;S++){const O=S*w;for(let H=c;H<m;H++)I[O+Math.floor(H/32)]|=1<<(31&H)&4294967295}}getRow(c,l){null==l||l.getSize()<this.width?l=new Ye(this.width):l.clear();const f=this.rowSize,g=this.bits,m=c*f;for(let C=0;C<f;C++)l.setBulk(32*C,g[m+C]);return l}setRow(c,l){fe.arraycopy(l.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),l=this.getHeight();let f=new Ye(c),g=new Ye(c);for(let m=0,C=Math.floor((l+1)/2);m<C;m++)f=this.getRow(m,f),g=this.getRow(l-1-m,g),f.reverse(),g.reverse(),this.setRow(m,g),this.setRow(l-1-m,f)}getEnclosingRectangle(){const l=this.height,f=this.rowSize,g=this.bits;let m=this.width,C=l,w=-1,I=-1;for(let S=0;S<l;S++)for(let O=0;O<f;O++){const H=g[S*f+O];if(0!==H){if(S<C&&(C=S),S>I&&(I=S),32*O<m){let W=0;for(;!(H<<31-W&4294967295);)W++;32*O+W<m&&(m=32*O+W)}if(32*O+31>w){let W=31;for(;!(H>>>W);)W--;32*O+W>w&&(w=32*O+W)}}}return w<m||I<C?null:Int32Array.from([m,C,w-m+1,I-C+1])}getTopLeftOnBit(){const c=this.rowSize,l=this.bits;let f=0;for(;f<l.length&&0===l[f];)f++;if(f===l.length)return null;const g=f/c;let m=f%c*32;const C=l[f];let w=0;for(;!(C<<31-w&4294967295);)w++;return m+=w,Int32Array.from([m,g])}getBottomRightOnBit(){const c=this.rowSize,l=this.bits;let f=l.length-1;for(;f>=0&&0===l[f];)f--;if(f<0)return null;const g=Math.floor(f/c);let m=32*Math.floor(f%c);const C=l[f];let w=31;for(;!(C>>>w);)w--;return m+=w,Int32Array.from([m,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){return c instanceof pe&&this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&at.equals(this.bits,c.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+at.hashCode(this.bits),c}toString(c="X ",l="  ",f="\n"){return this.buildToString(c,l,f)}buildToString(c,l,f){let g=new le;for(let m=0,C=this.height;m<C;m++){for(let w=0,I=this.width;w<I;w++)g.append(this.get(w,m)?c:l);g.append(f)}return g.toString()}clone(){return new pe(this.width,this.height,this.rowSize,this.bits.slice())}}let J=(()=>{class A extends q{static getNotFoundInstance(){return new A}}return A.kind="NotFoundException",A})();class Te extends _e{constructor(c){super(c),this.luminances=Te.EMPTY,this.buckets=new Int32Array(Te.LUMINANCE_BUCKETS)}getBlackRow(c,l){const f=this.getLuminanceSource(),g=f.getWidth();null==l||l.getSize()<g?l=new Ye(g):l.clear(),this.initArrays(g);const m=f.getRow(c,this.luminances),C=this.buckets;for(let I=0;I<g;I++)C[(255&m[I])>>Te.LUMINANCE_SHIFT]++;const w=Te.estimateBlackPoint(C);if(g<3)for(let I=0;I<g;I++)(255&m[I])<w&&l.set(I);else{let I=255&m[0],S=255&m[1];for(let O=1;O<g-1;O++){const H=255&m[O+1];(4*S-I-H)/2<w&&l.set(O),I=S,S=H}}return l}getBlackMatrix(){const c=this.getLuminanceSource(),l=c.getWidth(),f=c.getHeight(),g=new pe(l,f);this.initArrays(l);const m=this.buckets;for(let I=1;I<5;I++){const S=Math.floor(f*I/5),O=c.getRow(S,this.luminances),H=Math.floor(4*l/5);for(let W=Math.floor(l/5);W<H;W++)m[(255&O[W])>>Te.LUMINANCE_SHIFT]++}const C=Te.estimateBlackPoint(m),w=c.getMatrix();for(let I=0;I<f;I++){const S=I*l;for(let O=0;O<l;O++)(255&w[S+O])<C&&g.set(O,I)}return g}createBinarizer(c){return new Te(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const l=this.buckets;for(let f=0;f<Te.LUMINANCE_BUCKETS;f++)l[f]=0}static estimateBlackPoint(c){const l=c.length;let f=0,g=0,m=0;for(let O=0;O<l;O++)c[O]>m&&(g=O,m=c[O]),c[O]>f&&(f=c[O]);let C=0,w=0;for(let O=0;O<l;O++){const H=O-g,W=c[O]*H*H;W>w&&(C=O,w=W)}if(g>C){const O=g;g=C,C=O}if(C-g<=l/16)throw new J;let I=C-1,S=-1;for(let O=C-1;O>g;O--){const H=O-g,W=H*H*(C-O)*(f-c[O]);W>S&&(I=O,S=W)}return I<<Te.LUMINANCE_SHIFT}}Te.LUMINANCE_BITS=5,Te.LUMINANCE_SHIFT=8-Te.LUMINANCE_BITS,Te.LUMINANCE_BUCKETS=1<<Te.LUMINANCE_BITS,Te.EMPTY=Uint8ClampedArray.from([0]);class Se extends Te{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const c=this.getLuminanceSource(),l=c.getWidth(),f=c.getHeight();if(l>=Se.MINIMUM_DIMENSION&&f>=Se.MINIMUM_DIMENSION){const g=c.getMatrix();let m=l>>Se.BLOCK_SIZE_POWER;l&Se.BLOCK_SIZE_MASK&&m++;let C=f>>Se.BLOCK_SIZE_POWER;f&Se.BLOCK_SIZE_MASK&&C++;const w=Se.calculateBlackPoints(g,m,C,l,f),I=new pe(l,f);Se.calculateThresholdForBlock(g,m,C,l,f,w,I),this.matrix=I}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new Se(c)}static calculateThresholdForBlock(c,l,f,g,m,C,w){const I=m-Se.BLOCK_SIZE,S=g-Se.BLOCK_SIZE;for(let O=0;O<f;O++){let H=O<<Se.BLOCK_SIZE_POWER;H>I&&(H=I);const W=Se.cap(O,2,f-3);for(let Q=0;Q<l;Q++){let se=Q<<Se.BLOCK_SIZE_POWER;se>S&&(se=S);const he=Se.cap(Q,2,l-3);let ve=0;for(let Ze=-2;Ze<=2;Ze++){const it=C[W+Ze];ve+=it[he-2]+it[he-1]+it[he]+it[he+1]+it[he+2]}Se.thresholdBlock(c,se,H,ve/25,g,w)}}}static cap(c,l,f){return c<l?l:c>f?f:c}static thresholdBlock(c,l,f,g,m,C){for(let w=0,I=f*m+l;w<Se.BLOCK_SIZE;w++,I+=m)for(let S=0;S<Se.BLOCK_SIZE;S++)(255&c[I+S])<=g&&C.set(l+S,f+w)}static calculateBlackPoints(c,l,f,g,m){const C=m-Se.BLOCK_SIZE,w=g-Se.BLOCK_SIZE,I=new Array(f);for(let S=0;S<f;S++){I[S]=new Int32Array(l);let O=S<<Se.BLOCK_SIZE_POWER;O>C&&(O=C);for(let H=0;H<l;H++){let W=H<<Se.BLOCK_SIZE_POWER;W>w&&(W=w);let Q=0,se=255,he=0;for(let Ie=0,Ze=O*g+W;Ie<Se.BLOCK_SIZE;Ie++,Ze+=g){for(let it=0;it<Se.BLOCK_SIZE;it++){const Le=255&c[Ze+it];Q+=Le,Le<se&&(se=Le),Le>he&&(he=Le)}if(he-se>Se.MIN_DYNAMIC_RANGE)for(Ie++,Ze+=g;Ie<Se.BLOCK_SIZE;Ie++,Ze+=g)for(let it=0;it<Se.BLOCK_SIZE;it++)Q+=255&c[Ze+it]}let ve=Q>>2*Se.BLOCK_SIZE_POWER;if(he-se<=Se.MIN_DYNAMIC_RANGE&&(ve=se/2,S>0&&H>0)){const Ie=(I[S-1][H]+2*I[S][H-1]+I[S-1][H-1])/4;se<Ie&&(ve=Ie)}I[S][H]=ve}}return I}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=5*Se.BLOCK_SIZE,Se.MIN_DYNAMIC_RANGE=24;class ze{constructor(c,l){this.width=c,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,l,f,g){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let l=new le;for(let f=0;f<this.height;f++){const g=this.getRow(f,c);for(let m=0;m<this.width;m++){const C=255&g[m];let w;w=C<64?"#":C<128?"+":C<192?".":" ",l.append(w)}l.append("\n")}return l.toString()}}class ht extends ze{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,l){const f=this.delegate.getRow(c,l),g=this.getWidth();for(let m=0;m<g;m++)f[m]=255-(255&f[m]);return f}getMatrix(){const c=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),f=new Uint8ClampedArray(l);for(let g=0;g<l;g++)f[g]=255-(255&c[g]);return f}isCropSupported(){return this.delegate.isCropSupported()}crop(c,l,f,g){return new ht(this.delegate.crop(c,l,f,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ht(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ht(this.delegate.rotateCounterClockwise45())}}class Ae extends ze{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=Ae.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const l=c.getContext("2d").getImageData(0,0,c.width,c.height);return Ae.toGrayscaleBuffer(l.data,c.width,c.height)}static toGrayscaleBuffer(c,l,f){const g=new Uint8ClampedArray(l*f);for(let m=0,C=0,w=c.length;m<w;m+=4,C++){let I;I=0===c[m+3]?255:306*c[m]+601*c[m+1]+117*c[m+2]+512>>10,g[C]=I}return g}getRow(c,l){if(c<0||c>=this.getHeight())throw new Z("Requested row is outside the image: "+c);const f=this.getWidth(),g=c*f;return null===l?l=this.buffer.slice(g,g+f):(l.length<f&&(l=new Uint8ClampedArray(f)),l.set(this.buffer.slice(g,g+f))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,l,f,g){return super.crop(c,l,f,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const l=this.getTempCanvasElement(),f=l.getContext("2d"),g=c*Ae.DEGREE_TO_RADIANS,m=this.canvas.width,C=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(g))*m+Math.abs(Math.sin(g))*C),I=Math.ceil(Math.abs(Math.sin(g))*m+Math.abs(Math.cos(g))*C);return l.width=w,l.height=I,f.translate(w/2,I/2),f.rotate(g),f.drawImage(this.canvas,m/-2,C/-2),this.buffer=Ae.makeBufferFromCanvasImageData(l),this}invert(){return new ht(this)}}Ae.DEGREE_TO_RADIANS=Math.PI/180;class gt{constructor(c,l,f){this.deviceId=c,this.label=l,this.kind="videoinput",this.groupId=f||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var qe=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(A,c,l,f){return new(l||(l=Promise))(function(m,C){function w(O){try{S(f.next(O))}catch(H){C(H)}}function I(O){try{S(f.throw(O))}catch(H){C(H)}}function S(O){O.done?m(O.value):function g(m){return m instanceof l?m:new l(function(C){C(m)})}(O.value).then(w,I)}S((f=f.apply(A,c||[])).next())})};class Gt{constructor(c,l=500,f){this.reader=c,this.timeBetweenScansMillis=l,this._hints=f,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return qe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const f of c){const g="video"===f.kind?"videoinput":f.kind;"videoinput"===g&&l.push({deviceId:f.deviceId||f.id,label:f.label||`Video device ${l.length+1}`,kind:g,groupId:f.groupId})}return l})}getVideoInputDevices(){return qe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new gt(l.deviceId,l.label))})}findDeviceById(c){return qe(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(f=>f.deviceId===c):null})}decodeFromInputVideoDevice(c,l){return qe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,l)})}decodeOnceFromVideoDevice(c,l){return qe(this,void 0,void 0,function*(){let f;this.reset(),f=c?{deviceId:{exact:c}}:{facingMode:"environment"};const g={video:f};return yield this.decodeOnceFromConstraints(g,l)})}decodeOnceFromConstraints(c,l){return qe(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(f,l)})}decodeOnceFromStream(c,l){return qe(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(c,l);return yield this.decodeOnce(f)})}decodeFromInputVideoDeviceContinuously(c,l,f){return qe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,l,f)})}decodeFromVideoDevice(c,l,f){return qe(this,void 0,void 0,function*(){let g;g=c?{deviceId:{exact:c}}:{facingMode:"environment"};const m={video:g};return yield this.decodeFromConstraints(m,l,f)})}decodeFromConstraints(c,l,f){return qe(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(g,l,f)})}decodeFromStream(c,l,f){return qe(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(c,l);return yield this.decodeContinuously(g,f)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,l){return qe(this,void 0,void 0,function*(){const f=this.prepareVideoElement(l);return this.addVideoSource(f,c),this.videoElement=f,this.stream=c,yield this.playVideoOnLoadAsync(f),f})}playVideoOnLoadAsync(c){return new Promise((l,f)=>this.playVideoOnLoad(c,()=>l()))}playVideoOnLoad(c,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",l),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return qe(this,void 0,void 0,function*(){if(this.isVideoPlaying(c))console.warn("Trying to play video that is already playing.");else try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,l){const f=document.getElementById(c);if(!f)throw new ne(`element with id '${c}' not found`);if(f.nodeName.toLowerCase()!==l.toLowerCase())throw new ne(`element with id '${c}' must be an ${l} element`);return f}decodeFromImage(c,l){if(!c&&!l)throw new ne("either imageElement with a src set or an url must be provided");return l&&!c?this.decodeFromImageUrl(l):this.decodeFromImageElement(c)}decodeFromVideo(c,l){if(!c&&!l)throw new ne("Either an element with a src set or an URL must be provided");return l&&!c?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,l,f){if(void 0===c&&void 0===l)throw new ne("Either an element with a src set or an URL must be provided");return l&&!c?this.decodeFromVideoUrlContinuously(l,f):this.decodeFromVideoElementContinuously(c,f)}decodeFromImageElement(c){if(!c)throw new ne("An image element must be provided.");this.reset();const l=this.prepareImageElement(c);let f;return this.imageElement=l,f=this.isImageLoaded(l)?this.decodeOnce(l,!1,!0):this._decodeOnLoadImage(l),f}decodeFromVideoElement(c){const l=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(c,l){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(f,l)}_decodeFromVideoElementSetup(c){if(!c)throw new ne("A video element must be provided.");this.reset();const l=this.prepareVideoElement(c);return this.videoElement=l,l}decodeFromImageUrl(c){if(!c)throw new ne("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const f=this._decodeOnLoadImage(l);return l.src=c,f}decodeFromVideoUrl(c){if(!c)throw new ne("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),f=this.decodeFromVideoElement(l);return l.src=c,f}decodeFromVideoUrlContinuously(c,l){if(!c)throw new ne("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(f,l);return f.src=c,g}_decodeOnLoadImage(c){return new Promise((l,f)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(l,f),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return qe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,l){return qe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,l)})}isImageLoaded(c){return!(!c.complete||0===c.naturalWidth)}prepareImageElement(c){let l;return typeof c>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),"string"==typeof c&&(l=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(l=c),l}prepareVideoElement(c){let l;return!c&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),"string"==typeof c&&(l=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(l=c),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(c,l=!0,f=!0){this._stopAsyncDecode=!1;const g=(m,C)=>{if(this._stopAsyncDecode)return C(new J("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{m(this.decode(c))}catch(w){if(l&&w instanceof J||(w instanceof te||w instanceof ke)&&f)return setTimeout(g,this._timeBetweenDecodingAttempts,m,C);C(w)}};return new Promise((m,C)=>g(m,C))}decodeContinuously(c,l){this._stopContinuousDecode=!1;const f=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const g=this.decode(c);l(g,null),setTimeout(f,this.timeBetweenScansMillis)}catch(g){l(null,g),(g instanceof te||g instanceof ke||g instanceof J)&&setTimeout(f,this._timeBetweenDecodingAttempts)}};f()}decode(c){const l=this.createBinaryBitmap(c);return this.decodeBitmap(l)}_isHTMLVideoElement(c){return 0!==c.videoWidth}drawFrameOnCanvas(c,l,f){l||(l={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(c,l,f=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),f||(f=this.captureCanvasContext),f.drawImage(c,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const f=this.getCaptureCanvas(c),g=new Ae(f),m=new Se(g);return new ae(m)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const f=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=f}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const l=this.createCaptureCanvas(c);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let f,g;return typeof c<"u"&&(c instanceof HTMLVideoElement?(f=c.videoWidth,g=c.videoHeight):c instanceof HTMLImageElement&&(f=c.naturalWidth||c.width,g=c.naturalHeight||c.height)),l.style.width=f+"px",l.style.height=g+"px",l.width=f,l.height=g,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,l){try{c.srcObject=l}catch{c.src=URL.createObjectURL(l)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class ct{constructor(c,l,f=(null==l?0:8*l.length),g,m,C=fe.currentTimeMillis()){this.text=c,this.rawBytes=l,this.numBits=f,this.resultPoints=g,this.format=m,this.timestamp=C,this.text=c,this.rawBytes=l,this.numBits=null==f?null==l?0:8*l.length:f,this.resultPoints=g,this.format=m,this.resultMetadata=null,this.timestamp=null==C?fe.currentTimeMillis():C}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,l){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(c,l)}putAllMetadata(c){null!==c&&(this.resultMetadata=null===this.resultMetadata?c:new Map(c))}addResultPoints(c){const l=this.resultPoints;if(null===l)this.resultPoints=c;else if(null!==c&&c.length>0){const f=new Array(l.length+c.length);fe.arraycopy(l,0,f,0,l.length),fe.arraycopy(c,0,f,l.length,c.length),this.resultPoints=f}}getTimestamp(){return this.timestamp}toString(){return this.text}}var $e=function(A){return A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",A}($e||{}),Pe=$e,Kt=function(A){return A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",A}(Kt||{}),Rt=Kt;class Fn{constructor(c,l,f,g,m=-1,C=-1){this.rawBytes=c,this.text=l,this.byteSegments=f,this.ecLevel=g,this.structuredAppendSequenceNumber=m,this.structuredAppendParity=C,this.numBits=null==c?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fn{exp(c){return this.expTable[c]}log(c){if(0===c)throw new Z;return this.logTable[c]}static addOrSubtract(c,l){return c^l}}class Ht{constructor(c,l){if(0===l.length)throw new Z;this.field=c;const f=l.length;if(f>1&&0===l[0]){let g=1;for(;g<f&&0===l[g];)g++;g===f?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(f-g),fe.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(0===c)return this.getCoefficient(0);const l=this.coefficients;let f;if(1===c){f=0;for(let C=0,w=l.length;C!==w;C++)f=fn.addOrSubtract(f,l[C]);return f}f=l[0];const g=l.length,m=this.field;for(let C=1;C<g;C++)f=fn.addOrSubtract(m.multiply(c,f),l[C]);return f}addOrSubtract(c){if(!this.field.equals(c.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let l=this.coefficients,f=c.coefficients;if(l.length>f.length){const C=l;l=f,f=C}let g=new Int32Array(f.length);const m=f.length-l.length;fe.arraycopy(f,0,g,0,m);for(let C=m;C<f.length;C++)g[C]=fn.addOrSubtract(l[C-m],f[C]);return new Ht(this.field,g)}multiply(c){if(!this.field.equals(c.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const l=this.coefficients,f=l.length,g=c.coefficients,m=g.length,C=new Int32Array(f+m-1),w=this.field;for(let I=0;I<f;I++){const S=l[I];for(let O=0;O<m;O++)C[I+O]=fn.addOrSubtract(C[I+O],w.multiply(S,g[O]))}return new Ht(w,C)}multiplyScalar(c){if(0===c)return this.field.getZero();if(1===c)return this;const l=this.coefficients.length,f=this.field,g=new Int32Array(l),m=this.coefficients;for(let C=0;C<l;C++)g[C]=f.multiply(m[C],c);return new Ht(f,g)}multiplyByMonomial(c,l){if(c<0)throw new Z;if(0===l)return this.field.getZero();const f=this.coefficients,g=f.length,m=new Int32Array(g+c),C=this.field;for(let w=0;w<g;w++)m[w]=C.multiply(f[w],l);return new Ht(C,m)}divide(c){if(!this.field.equals(c.field))throw new Z("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new Z("Divide by 0");const l=this.field;let f=l.getZero(),g=this;const m=c.getCoefficient(c.getDegree()),C=l.inverse(m);for(;g.getDegree()>=c.getDegree()&&!g.isZero();){const w=g.getDegree()-c.getDegree(),I=l.multiply(g.getCoefficient(g.getDegree()),C),S=c.multiplyByMonomial(w,I),O=l.buildMonomial(w,I);f=f.addOrSubtract(O),g=g.addOrSubtract(S)}return[f,g]}toString(){let c="";for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);if(0!==f){if(f<0?(c+=" - ",f=-f):c.length>0&&(c+=" + "),0===l||1!==f){const g=this.field.log(f);0===g?c+="1":1===g?c+="a":(c+="a^",c+=g)}0!==l&&(1===l?c+="x":(c+="x^",c+=l))}}return c}}let mt=(()=>{class A extends q{}return A.kind="ArithmeticException",A})();class pt extends fn{constructor(c,l,f){super(),this.primitive=c,this.size=l,this.generatorBase=f;const g=new Int32Array(l);let m=1;for(let w=0;w<l;w++)g[w]=m,m*=2,m>=l&&(m^=c,m&=l-1);this.expTable=g;const C=new Int32Array(l);for(let w=0;w<l-1;w++)C[g[w]]=w;this.logTable=C,this.zero=new Ht(this,Int32Array.from([0])),this.one=new Ht(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,l){if(c<0)throw new Z;if(0===l)return this.zero;const f=new Int32Array(c+1);return f[0]=l,new Ht(this,f)}inverse(c){if(0===c)throw new mt;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,l){return 0===c||0===l?0:this.expTable[(this.logTable[c]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Oe.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}pt.AZTEC_DATA_12=new pt(4201,4096,1),pt.AZTEC_DATA_10=new pt(1033,1024,1),pt.AZTEC_DATA_6=new pt(67,64,1),pt.AZTEC_PARAM=new pt(19,16,1),pt.QR_CODE_FIELD_256=new pt(285,256,0),pt.DATA_MATRIX_FIELD_256=new pt(301,256,1),pt.AZTEC_DATA_8=pt.DATA_MATRIX_FIELD_256,pt.MAXICODE_FIELD_64=pt.AZTEC_DATA_6;let An=(()=>{class A extends q{}return A.kind="ReedSolomonException",A})(),xn=(()=>{class A extends q{}return A.kind="IllegalStateException",A})();class pn{constructor(c){this.field=c}decode(c,l){const f=this.field,g=new Ht(f,c),m=new Int32Array(l);let C=!0;for(let Q=0;Q<l;Q++){const se=g.evaluateAt(f.exp(Q+f.getGeneratorBase()));m[m.length-1-Q]=se,0!==se&&(C=!1)}if(C)return;const w=new Ht(f,m),I=this.runEuclideanAlgorithm(f.buildMonomial(l,1),w,l),O=I[1],H=this.findErrorLocations(I[0]),W=this.findErrorMagnitudes(O,H);for(let Q=0;Q<H.length;Q++){const se=c.length-1-f.log(H[Q]);if(se<0)throw new An("Bad error location");c[se]=pt.addOrSubtract(c[se],W[Q])}}runEuclideanAlgorithm(c,l,f){if(c.getDegree()<l.getDegree()){const Q=c;c=l,l=Q}const g=this.field;let m=c,C=l,w=g.getZero(),I=g.getOne();for(;C.getDegree()>=(f/2|0);){let Q=m,se=w;if(m=C,w=I,m.isZero())throw new An("r_{i-1} was zero");C=Q;let he=g.getZero();const ve=m.getCoefficient(m.getDegree()),Ie=g.inverse(ve);for(;C.getDegree()>=m.getDegree()&&!C.isZero();){const Ze=C.getDegree()-m.getDegree(),it=g.multiply(C.getCoefficient(C.getDegree()),Ie);he=he.addOrSubtract(g.buildMonomial(Ze,it)),C=C.addOrSubtract(m.multiplyByMonomial(Ze,it))}if(I=he.multiply(w).addOrSubtract(se),C.getDegree()>=m.getDegree())throw new xn("Division algorithm failed to reduce polynomial?")}const S=I.getCoefficient(0);if(0===S)throw new An("sigmaTilde(0) was zero");const O=g.inverse(S);return[I.multiplyScalar(O),C.multiplyScalar(O)]}findErrorLocations(c){const l=c.getDegree();if(1===l)return Int32Array.from([c.getCoefficient(1)]);const f=new Int32Array(l);let g=0;const m=this.field;for(let C=1;C<m.getSize()&&g<l;C++)0===c.evaluateAt(C)&&(f[g]=m.inverse(C),g++);if(g!==l)throw new An("Error locator degree does not match number of roots");return f}findErrorMagnitudes(c,l){const f=l.length,g=new Int32Array(f),m=this.field;for(let C=0;C<f;C++){const w=m.inverse(l[C]);let I=1;for(let S=0;S<f;S++)if(C!==S){const O=m.multiply(l[S],w);I=m.multiply(I,1&O?-2&O:1|O)}g[C]=m.multiply(c.evaluateAt(w),m.inverse(I)),0!==m.getGeneratorBase()&&(g[C]=m.multiply(g[C],w))}return g}}var dn=function(A){return A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY",A}(dn||{});let en=(()=>{class A{decode(l){this.ddata=l;let f=l.getBits(),g=this.extractBits(f),m=this.correctBits(g),C=A.convertBoolArrayToByteArray(m),w=A.getEncodedData(m),I=new Fn(C,w,null,null);return I.setNumBits(m.length),I}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,g=dn.UPPER,m=dn.UPPER,C="",w=0;for(;w<f;)if(m===dn.BINARY){if(f-w<5)break;let I=A.readCode(l,w,5);if(w+=5,0===I){if(f-w<11)break;I=A.readCode(l,w,11)+31,w+=11}for(let S=0;S<I;S++){if(f-w<8){w=f;break}const O=A.readCode(l,w,8);C+=X.castAsNonUtf8Char(O),w+=8}m=g}else{let I=m===dn.DIGIT?4:5;if(f-w<I)break;let S=A.readCode(l,w,I);w+=I;let O=A.getCharacter(m,S);O.startsWith("CTRL_")?(g=m,m=A.getTable(O.charAt(5)),"L"===O.charAt(6)&&(g=m)):(C+=O,m=g)}return C}static getTable(l){switch(l){case"L":return dn.LOWER;case"P":return dn.PUNCT;case"M":return dn.MIXED;case"D":return dn.DIGIT;case"B":return dn.BINARY;default:return dn.UPPER}}static getCharacter(l,f){switch(l){case dn.UPPER:return A.UPPER_TABLE[f];case dn.LOWER:return A.LOWER_TABLE[f];case dn.MIXED:return A.MIXED_TABLE[f];case dn.PUNCT:return A.PUNCT_TABLE[f];case dn.DIGIT:return A.DIGIT_TABLE[f];default:throw new xn("Bad table")}}correctBits(l){let f,g;this.ddata.getNbLayers()<=2?(g=6,f=pt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,f=pt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,f=pt.AZTEC_DATA_10):(g=12,f=pt.AZTEC_DATA_12);let m=this.ddata.getNbDatablocks(),C=l.length/g;if(C<m)throw new ke;let w=l.length%g,I=new Int32Array(C);for(let Q=0;Q<C;Q++,w+=g)I[Q]=A.readCode(l,w,g);try{new pn(f).decode(I,C-m)}catch(Q){throw new ke(Q)}let S=(1<<g)-1,O=0;for(let Q=0;Q<m;Q++){let se=I[Q];if(0===se||se===S)throw new ke;(1===se||se===S-1)&&O++}let H=new Array(m*g-O),W=0;for(let Q=0;Q<m;Q++){let se=I[Q];if(1===se||se===S-1)H.fill(se>1,W,W+g-1),W+=g-1;else for(let he=g-1;he>=0;--he)H[W++]=!!(se&1<<he)}return H}extractBits(l){let f=this.ddata.isCompact(),g=this.ddata.getNbLayers(),m=(f?11:14)+4*g,C=new Int32Array(m),w=new Array(this.totalBitsInLayer(g,f));if(f)for(let I=0;I<C.length;I++)C[I]=I;else{let I=m+1+2*Oe.truncDivision(Oe.truncDivision(m,2)-1,15),S=m/2,O=Oe.truncDivision(I,2);for(let H=0;H<S;H++){let W=H+Oe.truncDivision(H,15);C[S-H-1]=O-W-1,C[S+H]=O+W+1}}for(let I=0,S=0;I<g;I++){let O=4*(g-I)+(f?9:12),H=2*I,W=m-1-H;for(let Q=0;Q<O;Q++){let se=2*Q;for(let he=0;he<2;he++)w[S+se+he]=l.get(C[H+he],C[H+Q]),w[S+2*O+se+he]=l.get(C[H+Q],C[W-he]),w[S+4*O+se+he]=l.get(C[W-he],C[W-Q]),w[S+6*O+se+he]=l.get(C[W-Q],C[H+he])}S+=8*O}return w}static readCode(l,f,g){let m=0;for(let C=f;C<f+g;C++)m<<=1,l[C]&&(m|=1);return m}static readByte(l,f){let g=l.length-f;return g>=8?A.readCode(l,f,8):A.readCode(l,f,g)<<8-g}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let g=0;g<f.length;g++)f[g]=A.readByte(l,8*g);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}return A.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],A.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],A.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],A.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],A.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],A})();class Et{constructor(){}static round(c){return NaN===c?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,l,f,g){const m=c-f,C=l-g;return Math.sqrt(m*m+C*C)}static sum(c){let l=0;for(let f=0,g=c.length;f!==g;f++)l+=c[f];return l}}class xr{static floatToIntBits(c){return c}}xr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class De{constructor(c,l){this.x=c,this.y=l}getX(){return this.x}getY(){return this.y}equals(c){return c instanceof De&&this.x===c.x&&this.y===c.y}hashCode(){return 31*xr.floatToIntBits(this.x)+xr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const l=this.distance(c[0],c[1]),f=this.distance(c[1],c[2]),g=this.distance(c[0],c[2]);let m,C,w;if(f>=l&&f>=g?(C=c[0],m=c[1],w=c[2]):g>=f&&g>=l?(C=c[1],m=c[0],w=c[2]):(C=c[2],m=c[0],w=c[1]),this.crossProductZ(m,C,w)<0){const I=m;m=w,w=I}c[0]=m,c[1]=C,c[2]=w}static distance(c,l){return Et.distance(c.x,c.y,l.x,l.y)}static crossProductZ(c,l,f){const g=l.x,m=l.y;return(f.x-g)*(c.y-m)-(f.y-m)*(c.x-g)}}class tr{constructor(c,l){this.bits=c,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Pr extends tr{constructor(c,l,f,g,m){super(c,l),this.compact=f,this.nbDatablocks=g,this.nbLayers=m}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let or=(()=>{class A{constructor(l,f,g,m){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),null==f&&(f=A.INIT_SIZE),null==g&&(g=l.getWidth()/2|0),null==m&&(m=l.getHeight()/2|0);const C=f/2|0;if(this.leftInit=g-C,this.rightInit=g+C,this.upInit=m-C,this.downInit=m+C,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let l=this.leftInit,f=this.rightInit,g=this.upInit,m=this.downInit,C=!1,w=!0,I=!1,S=!1,O=!1,H=!1,W=!1;const Q=this.width,se=this.height;for(;w;){w=!1;let he=!0;for(;(he||!S)&&f<Q;)he=this.containsBlackPoint(g,m,f,!1),he?(f++,w=!0,S=!0):S||f++;if(f>=Q){C=!0;break}let ve=!0;for(;(ve||!O)&&m<se;)ve=this.containsBlackPoint(l,f,m,!0),ve?(m++,w=!0,O=!0):O||m++;if(m>=se){C=!0;break}let Ie=!0;for(;(Ie||!H)&&l>=0;)Ie=this.containsBlackPoint(g,m,l,!1),Ie?(l--,w=!0,H=!0):H||l--;if(l<0){C=!0;break}let Ze=!0;for(;(Ze||!W)&&g>=0;)Ze=this.containsBlackPoint(l,f,g,!0),Ze?(g--,w=!0,W=!0):W||g--;if(g<0){C=!0;break}w&&(I=!0)}if(!C&&I){const he=f-l;let ve=null;for(let Le=1;null===ve&&Le<he;Le++)ve=this.getBlackPointOnSegment(l,m-Le,l+Le,m);if(null==ve)throw new J;let Ie=null;for(let Le=1;null===Ie&&Le<he;Le++)Ie=this.getBlackPointOnSegment(l,g+Le,l+Le,g);if(null==Ie)throw new J;let Ze=null;for(let Le=1;null===Ze&&Le<he;Le++)Ze=this.getBlackPointOnSegment(f,g+Le,f-Le,g);if(null==Ze)throw new J;let it=null;for(let Le=1;null===it&&Le<he;Le++)it=this.getBlackPointOnSegment(f,m-Le,f-Le,m);if(null==it)throw new J;return this.centerEdges(it,ve,Ze,Ie)}throw new J}getBlackPointOnSegment(l,f,g,m){const C=Et.round(Et.distance(l,f,g,m)),w=(g-l)/C,I=(m-f)/C,S=this.image;for(let O=0;O<C;O++){const H=Et.round(l+O*w),W=Et.round(f+O*I);if(S.get(H,W))return new De(H,W)}return null}centerEdges(l,f,g,m){const C=l.getX(),w=l.getY(),I=f.getX(),S=f.getY(),O=g.getX(),H=g.getY(),W=m.getX(),Q=m.getY(),se=A.CORR;return C<this.width/2?[new De(W-se,Q+se),new De(I+se,S+se),new De(O-se,H-se),new De(C+se,w-se)]:[new De(W+se,Q+se),new De(I+se,S-se),new De(O-se,H+se),new De(C-se,w-se)]}containsBlackPoint(l,f,g,m){const C=this.image;if(m){for(let w=l;w<=f;w++)if(C.get(w,g))return!0}else for(let w=l;w<=f;w++)if(C.get(g,w))return!0;return!1}}return A.INIT_SIZE=10,A.CORR=1,A})();class Bn{static checkAndNudgePoints(c,l){const f=c.getWidth(),g=c.getHeight();let m=!0;for(let C=0;C<l.length&&m;C+=2){const w=Math.floor(l[C]),I=Math.floor(l[C+1]);if(w<-1||w>f||I<-1||I>g)throw new J;m=!1,-1===w?(l[C]=0,m=!0):w===f&&(l[C]=f-1,m=!0),-1===I?(l[C+1]=0,m=!0):I===g&&(l[C+1]=g-1,m=!0)}m=!0;for(let C=l.length-2;C>=0&&m;C-=2){const w=Math.floor(l[C]),I=Math.floor(l[C+1]);if(w<-1||w>f||I<-1||I>g)throw new J;m=!1,-1===w?(l[C]=0,m=!0):w===f&&(l[C]=f-1,m=!0),-1===I?(l[C+1]=0,m=!0):I===g&&(l[C+1]=g-1,m=!0)}}}class Yt{constructor(c,l,f,g,m,C,w,I,S){this.a11=c,this.a21=l,this.a31=f,this.a12=g,this.a22=m,this.a32=C,this.a13=w,this.a23=I,this.a33=S}static quadrilateralToQuadrilateral(c,l,f,g,m,C,w,I,S,O,H,W,Q,se,he,ve){const Ie=Yt.quadrilateralToSquare(c,l,f,g,m,C,w,I);return Yt.squareToQuadrilateral(S,O,H,W,Q,se,he,ve).times(Ie)}transformPoints(c){const l=c.length,f=this.a11,g=this.a12,m=this.a13,C=this.a21,w=this.a22,I=this.a23,S=this.a31,O=this.a32,H=this.a33;for(let W=0;W<l;W+=2){const Q=c[W],se=c[W+1],he=m*Q+I*se+H;c[W]=(f*Q+C*se+S)/he,c[W+1]=(g*Q+w*se+O)/he}}transformPointsWithValues(c,l){const f=this.a11,g=this.a12,m=this.a13,C=this.a21,w=this.a22,I=this.a23,S=this.a31,O=this.a32,H=this.a33,W=c.length;for(let Q=0;Q<W;Q++){const se=c[Q],he=l[Q],ve=m*se+I*he+H;c[Q]=(f*se+C*he+S)/ve,l[Q]=(g*se+w*he+O)/ve}}static squareToQuadrilateral(c,l,f,g,m,C,w,I){const S=c-f+m-w,O=l-g+C-I;if(0===S&&0===O)return new Yt(f-c,m-f,c,g-l,C-g,l,0,0,1);{const H=f-m,W=w-m,Q=g-C,se=I-C,he=H*se-W*Q,ve=(S*se-W*O)/he,Ie=(H*O-S*Q)/he;return new Yt(f-c+ve*f,w-c+Ie*w,c,g-l+ve*g,I-l+Ie*I,l,ve,Ie,1)}}static quadrilateralToSquare(c,l,f,g,m,C,w,I){return Yt.squareToQuadrilateral(c,l,f,g,m,C,w,I).buildAdjoint()}buildAdjoint(){return new Yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new Yt(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class $t extends Bn{sampleGrid(c,l,f,g,m,C,w,I,S,O,H,W,Q,se,he,ve,Ie,Ze,it){const Le=Yt.quadrilateralToQuadrilateral(g,m,C,w,I,S,O,H,W,Q,se,he,ve,Ie,Ze,it);return this.sampleGridWithTransform(c,l,f,Le)}sampleGridWithTransform(c,l,f,g){if(l<=0||f<=0)throw new J;const m=new pe(l,f),C=new Float32Array(2*l);for(let w=0;w<f;w++){const I=C.length,S=w+.5;for(let O=0;O<I;O+=2)C[O]=O/2+.5,C[O+1]=S;g.transformPoints(C),Bn.checkAndNudgePoints(c,C);try{for(let O=0;O<I;O+=2)c.get(Math.floor(C[O]),Math.floor(C[O+1]))&&m.set(O/2,w)}catch{throw new J}}return m}}class st{static setGridSampler(c){st.gridSampler=c}static getInstance(){return st.gridSampler}}st.gridSampler=new $t;class kn{constructor(c,l){this.x=c,this.y=l}toResultPoint(){return new De(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class sr{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let l=this.getMatrixCenter(),f=this.getBullsEyeCorners(l);if(c){let C=f[0];f[0]=f[2],f[2]=C}this.extractParameters(f);let g=this.sampleGrid(this.image,f[this.shift%4],f[(this.shift+1)%4],f[(this.shift+2)%4],f[(this.shift+3)%4]),m=this.getMatrixCornerPoints(f);return new Pr(g,m,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!(this.isValidPoint(c[0])&&this.isValidPoint(c[1])&&this.isValidPoint(c[2])&&this.isValidPoint(c[3])))throw new J;let l=2*this.nbCenterLayers,f=new Int32Array([this.sampleLine(c[0],c[1],l),this.sampleLine(c[1],c[2],l),this.sampleLine(c[2],c[3],l),this.sampleLine(c[3],c[0],l)]);this.shift=this.getRotation(f,l);let g=0;for(let C=0;C<4;C++){let w=f[(this.shift+C)%4];this.compact?(g<<=7,g+=w>>1&127):(g<<=10,g+=(w>>2&992)+(w>>1&31))}let m=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=1+(m>>6),this.nbDataBlocks=1+(63&m)):(this.nbLayers=1+(m>>11),this.nbDataBlocks=1+(2047&m))}getRotation(c,l){let f=0;c.forEach((g,m,C)=>{f=(g>>l-2<<1)+(1&g)+(f<<3)}),f=((1&f)<<11)+(f>>1);for(let g=0;g<4;g++)if(Oe.bitCount(f^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new J}getCorrectedParameterData(c,l){let f,g;l?(f=7,g=2):(f=10,g=4);let m=f-g,C=new Int32Array(f);for(let I=f-1;I>=0;--I)C[I]=15&c,c>>=4;try{new pn(pt.AZTEC_PARAM).decode(C,m)}catch{throw new J}let w=0;for(let I=0;I<g;I++)w=(w<<4)+C[I];return w}getBullsEyeCorners(c){let l=c,f=c,g=c,m=c,C=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let H=this.getFirstDifferent(l,C,1,-1),W=this.getFirstDifferent(f,C,1,1),Q=this.getFirstDifferent(g,C,-1,1),se=this.getFirstDifferent(m,C,-1,-1);if(this.nbCenterLayers>2){let he=this.distancePoint(se,H)*this.nbCenterLayers/(this.distancePoint(m,l)*(this.nbCenterLayers+2));if(he<.75||he>1.25||!this.isWhiteOrBlackRectangle(H,W,Q,se))break}l=H,f=W,g=Q,m=se,C=!C}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new J;this.compact=5===this.nbCenterLayers;let w=new De(l.getX()+.5,l.getY()-.5),I=new De(f.getX()+.5,f.getY()+.5),S=new De(g.getX()-.5,g.getY()+.5),O=new De(m.getX()-.5,m.getY()-.5);return this.expandSquare([w,I,S,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,l,f,g;try{let w=new or(this.image).detect();c=w[0],l=w[1],f=w[2],g=w[3]}catch{let I=this.image.getWidth()/2,S=this.image.getHeight()/2;c=this.getFirstDifferent(new kn(I+7,S-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new kn(I+7,S+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new kn(I-7,S+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new kn(I-7,S-7),!1,-1,-1).toResultPoint()}let m=Et.round((c.getX()+g.getX()+l.getX()+f.getX())/4),C=Et.round((c.getY()+g.getY()+l.getY()+f.getY())/4);try{let w=new or(this.image,15,m,C).detect();c=w[0],l=w[1],f=w[2],g=w[3]}catch{c=this.getFirstDifferent(new kn(m+7,C-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new kn(m+7,C+7),!1,1,1).toResultPoint(),f=this.getFirstDifferent(new kn(m-7,C+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new kn(m-7,C-7),!1,-1,-1).toResultPoint()}return m=Et.round((c.getX()+g.getX()+l.getX()+f.getX())/4),C=Et.round((c.getY()+g.getY()+l.getY()+f.getY())/4),new kn(m,C)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,l,f,g,m){let C=st.getInstance(),w=this.getDimension(),I=w/2-this.nbCenterLayers,S=w/2+this.nbCenterLayers;return C.sampleGrid(c,w,w,I,I,S,I,S,S,I,S,l.getX(),l.getY(),f.getX(),f.getY(),g.getX(),g.getY(),m.getX(),m.getY())}sampleLine(c,l,f){let g=0,m=this.distanceResultPoint(c,l),C=m/f,w=c.getX(),I=c.getY(),S=C*(l.getX()-c.getX())/m,O=C*(l.getY()-c.getY())/m;for(let H=0;H<f;H++)this.image.get(Et.round(w+H*S),Et.round(I+H*O))&&(g|=1<<f-H-1);return g}isWhiteOrBlackRectangle(c,l,f,g){c=new kn(c.getX()-3,c.getY()+3),l=new kn(l.getX()-3,l.getY()-3),f=new kn(f.getX()+3,f.getY()-3),g=new kn(g.getX()+3,g.getY()+3);let C=this.getColor(g,c);if(0===C)return!1;let w=this.getColor(c,l);return w===C&&(w=this.getColor(l,f),w===C)&&(w=this.getColor(f,g),w===C)}getColor(c,l){let f=this.distancePoint(c,l),g=(l.getX()-c.getX())/f,m=(l.getY()-c.getY())/f,C=0,w=c.getX(),I=c.getY(),S=this.image.get(c.getX(),c.getY()),O=Math.ceil(f);for(let W=0;W<O;W++)w+=g,I+=m,this.image.get(Et.round(w),Et.round(I))!==S&&C++;let H=C/f;return H>.1&&H<.9?0:H<=.1===S?1:-1}getFirstDifferent(c,l,f,g){let m=c.getX()+f,C=c.getY()+g;for(;this.isValid(m,C)&&this.image.get(m,C)===l;)m+=f,C+=g;for(m-=f,C-=g;this.isValid(m,C)&&this.image.get(m,C)===l;)m+=f;for(m-=f;this.isValid(m,C)&&this.image.get(m,C)===l;)C+=g;return C-=g,new kn(m,C)}expandSquare(c,l,f){let g=f/(2*l),m=c[0].getX()-c[2].getX(),C=c[0].getY()-c[2].getY(),w=(c[0].getX()+c[2].getX())/2,I=(c[0].getY()+c[2].getY())/2,S=new De(w+g*m,I+g*C),O=new De(w-g*m,I-g*C);return m=c[1].getX()-c[3].getX(),C=c[1].getY()-c[3].getY(),w=(c[1].getX()+c[3].getX())/2,I=(c[1].getY()+c[3].getY())/2,[S,new De(w+g*m,I+g*C),O,new De(w-g*m,I-g*C)]}isValid(c,l){return c>=0&&c<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(c){let l=Et.round(c.getX()),f=Et.round(c.getY());return this.isValid(l,f)}distancePoint(c,l){return Et.distance(c.getX(),c.getY(),l.getX(),l.getY())}distanceResultPoint(c,l){return Et.distance(c.getX(),c.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Oe.truncDivision(this.nbLayers-4,8)+1)+15}}class Un{decode(c,l=null){let f=null,g=new sr(c.getBlackMatrix()),m=null,C=null;try{let O=g.detectMirror(!1);m=O.getPoints(),this.reportFoundResultPoints(l,m),C=(new en).decode(O)}catch(O){f=O}if(null==C)try{let O=g.detectMirror(!0);m=O.getPoints(),this.reportFoundResultPoints(l,m),C=(new en).decode(O)}catch(O){throw f??O}let w=new ct(C.getText(),C.getRawBytes(),C.getNumBits(),m,Pe.AZTEC,fe.currentTimeMillis()),I=C.getByteSegments();null!=I&&w.putMetadata(Rt.BYTE_SEGMENTS,I);let S=C.getECLevel();return null!=S&&w.putMetadata(Rt.ERROR_CORRECTION_LEVEL,S),w}reportFoundResultPoints(c,l){if(null!=c){let f=c.get(Qe.NEED_RESULT_POINT_CALLBACK);null!=f&&l.forEach((g,m,C)=>{f.foundPossibleResultPoint(g)})}}reset(){}}class Wt{decode(c,l){try{return this.doDecode(c,l)}catch{if(l&&!0===l.get(Qe.TRY_HARDER)&&c.isRotateSupported()){const m=c.rotateCounterClockwise(),C=this.doDecode(m,l),w=C.getResultMetadata();let I=270;null!==w&&!0===w.get(Rt.ORIENTATION)&&(I+=w.get(Rt.ORIENTATION)%360),C.putMetadata(Rt.ORIENTATION,I);const S=C.getResultPoints();if(null!==S){const O=m.getHeight();for(let H=0;H<S.length;H++)S[H]=new De(O-S[H].getY()-1,S[H].getX())}return C}throw new J}}reset(){}doDecode(c,l){const f=c.getWidth(),g=c.getHeight();let m=new Ye(f);const C=l&&!0===l.get(Qe.TRY_HARDER),w=Math.max(1,g>>(C?8:5));let I;I=C?g:15;const S=Math.trunc(g/2);for(let O=0;O<I;O++){const H=Math.trunc((O+1)/2),Q=S+w*(1&O?-H:H);if(Q<0||Q>=g)break;try{m=c.getBlackRow(Q,m)}catch{continue}for(let se=0;se<2;se++){if(1===se&&(m.reverse(),l&&!0===l.get(Qe.NEED_RESULT_POINT_CALLBACK))){const he=new Map;l.forEach((ve,Ie)=>he.set(Ie,ve)),he.delete(Qe.NEED_RESULT_POINT_CALLBACK),l=he}try{const he=this.decodeRow(Q,m,l);if(1===se){he.putMetadata(Rt.ORIENTATION,180);const ve=he.getResultPoints();null!==ve&&(ve[0]=new De(f-ve[0].getX()-1,ve[0].getY()),ve[1]=new De(f-ve[1].getX()-1,ve[1].getY()))}return he}catch{}}}throw new J}static recordPattern(c,l,f){const g=f.length;for(let S=0;S<g;S++)f[S]=0;const m=c.getSize();if(l>=m)throw new J;let C=!c.get(l),w=0,I=l;for(;I<m;){if(c.get(I)!==C)f[w]++;else{if(++w===g)break;f[w]=1,C=!C}I++}if(w!==g&&(w!==g-1||I!==m))throw new J}static recordPatternInReverse(c,l,f){let g=f.length,m=c.get(l);for(;l>0&&g>=0;)c.get(--l)!==m&&(g--,m=!m);if(g>=0)throw new J;Wt.recordPattern(c,l+1,f)}static patternMatchVariance(c,l,f){const g=c.length;let m=0,C=0;for(let S=0;S<g;S++)m+=c[S],C+=l[S];if(m<C)return Number.POSITIVE_INFINITY;const w=m/C;f*=w;let I=0;for(let S=0;S<g;S++){const O=c[S],H=l[S]*w,W=O>H?O-H:H-O;if(W>f)return Number.POSITIVE_INFINITY;I+=W}return I/m}}class Xe extends Wt{static findStartPattern(c){const l=c.getSize(),f=c.getNextSet(0);let g=0,m=Int32Array.from([0,0,0,0,0,0]),C=f,w=!1;for(let S=f;S<l;S++)if(c.get(S)!==w)m[g]++;else{if(5===g){let O=Xe.MAX_AVG_VARIANCE,H=-1;for(let W=Xe.CODE_START_A;W<=Xe.CODE_START_C;W++){const Q=Wt.patternMatchVariance(m,Xe.CODE_PATTERNS[W],Xe.MAX_INDIVIDUAL_VARIANCE);Q<O&&(O=Q,H=W)}if(H>=0&&c.isRange(Math.max(0,C-(S-C)/2),C,!1))return Int32Array.from([C,S,H]);C+=m[0]+m[1],m=m.slice(2,m.length-1),m[g-1]=0,m[g]=0,g--}else g++;m[g]=1,w=!w}throw new J}static decodeCode(c,l,f){Wt.recordPattern(c,f,l);let g=Xe.MAX_AVG_VARIANCE,m=-1;for(let C=0;C<Xe.CODE_PATTERNS.length;C++){const I=this.patternMatchVariance(l,Xe.CODE_PATTERNS[C],Xe.MAX_INDIVIDUAL_VARIANCE);I<g&&(g=I,m=C)}if(m>=0)return m;throw new J}decodeRow(c,l,f){const g=f&&!0===f.get(Qe.ASSUME_GS1),m=Xe.findStartPattern(l),C=m[2];let w=0;const I=new Uint8Array(20);let S;switch(I[w++]=C,C){case Xe.CODE_START_A:S=Xe.CODE_CODE_A;break;case Xe.CODE_START_B:S=Xe.CODE_CODE_B;break;case Xe.CODE_START_C:S=Xe.CODE_CODE_C;break;default:throw new ke}let O=!1,H=!1,W="",Q=m[0],se=m[1];const he=Int32Array.from([0,0,0,0,0,0]);let ve=0,Ie=0,Ze=C,it=0,Le=!0,cn=!1,zt=!1;for(;!O;){const pi=H;switch(H=!1,ve=Ie,Ie=Xe.decodeCode(l,he,se),I[w++]=Ie,Ie!==Xe.CODE_STOP&&(Le=!0),Ie!==Xe.CODE_STOP&&(it++,Ze+=it*Ie),Q=se,se+=he.reduce((ql,mo)=>ql+mo,0),Ie){case Xe.CODE_START_A:case Xe.CODE_START_B:case Xe.CODE_START_C:throw new ke}switch(S){case Xe.CODE_CODE_A:if(Ie<64)W+=String.fromCharCode(zt===cn?32+Ie:32+Ie+128),zt=!1;else if(Ie<96)W+=String.fromCharCode(zt===cn?Ie-64:Ie+64),zt=!1;else switch(Ie!==Xe.CODE_STOP&&(Le=!1),Ie){case Xe.CODE_FNC_1:g&&(W+=0===W.length?"]C1":"\x1d");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_A:!cn&&zt?(cn=!0,zt=!1):cn&&zt?(cn=!1,zt=!1):zt=!0;break;case Xe.CODE_SHIFT:H=!0,S=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_B:S=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_C:S=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:O=!0}break;case Xe.CODE_CODE_B:if(Ie<96)W+=String.fromCharCode(zt===cn?32+Ie:32+Ie+128),zt=!1;else switch(Ie!==Xe.CODE_STOP&&(Le=!1),Ie){case Xe.CODE_FNC_1:g&&(W+=0===W.length?"]C1":"\x1d");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_B:!cn&&zt?(cn=!0,zt=!1):cn&&zt?(cn=!1,zt=!1):zt=!0;break;case Xe.CODE_SHIFT:H=!0,S=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_A:S=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_C:S=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:O=!0}break;case Xe.CODE_CODE_C:if(Ie<100)Ie<10&&(W+="0"),W+=Ie;else switch(Ie!==Xe.CODE_STOP&&(Le=!1),Ie){case Xe.CODE_FNC_1:g&&(W+=0===W.length?"]C1":"\x1d");break;case Xe.CODE_CODE_A:S=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_B:S=Xe.CODE_CODE_B;break;case Xe.CODE_STOP:O=!0}}pi&&(S=S===Xe.CODE_CODE_A?Xe.CODE_CODE_B:Xe.CODE_CODE_A)}const nr=se-Q;if(se=l.getNextUnset(se),!l.isRange(se,Math.min(l.getSize(),se+(se-Q)/2),!1))throw new J;if(Ze-=it*ve,Ze%103!==ve)throw new te;const Hr=W.length;if(0===Hr)throw new J;Hr>0&&Le&&(W=W.substring(0,S===Xe.CODE_CODE_C?Hr-2:Hr-1));const zr=(m[1]+m[0])/2,En=Q+nr/2,Qn=I.length,ii=new Uint8Array(Qn);for(let pi=0;pi<Qn;pi++)ii[pi]=I[pi];const go=[new De(zr,c),new De(En,c)];return new ct(W,ii,0,go,Pe.CODE_128,(new Date).getTime())}}Xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Xe.MAX_AVG_VARIANCE=.25,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.CODE_SHIFT=98,Xe.CODE_CODE_C=99,Xe.CODE_CODE_B=100,Xe.CODE_CODE_A=101,Xe.CODE_FNC_1=102,Xe.CODE_FNC_2=97,Xe.CODE_FNC_3=96,Xe.CODE_FNC_4_A=101,Xe.CODE_FNC_4_B=100,Xe.CODE_START_A=103,Xe.CODE_START_B=104,Xe.CODE_START_C=105,Xe.CODE_STOP=106;let gn=(()=>{class A extends Wt{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,g){let m=this.counters;m.fill(0),this.decodeRowResult="";let S,O,C=A.findAsteriskPattern(f,m),w=f.getNextSet(C[1]),I=f.getSize();do{A.recordPattern(f,w,m);let ve=A.toNarrowWidePattern(m);if(ve<0)throw new J;S=A.patternToChar(ve),this.decodeRowResult+=S,O=w;for(let Ie of m)w+=Ie;w=f.getNextSet(w)}while("*"!==S);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let Q,H=0;for(let ve of m)H+=ve;if(w!==I&&2*(w-O-H)<H)throw new J;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ie=0;for(let Ze=0;Ze<ve;Ze++)Ie+=A.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ze));if(this.decodeRowResult.charAt(ve)!==A.ALPHABET_STRING.charAt(Ie%43))throw new te;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(0===this.decodeRowResult.length)throw new J;Q=this.extendedMode?A.decodeExtended(this.decodeRowResult):this.decodeRowResult;let he=O+H/2;return new ct(Q,null,0,[new De((C[1]+C[0])/2,l),new De(he,l)],Pe.CODE_39,(new Date).getTime())}static findAsteriskPattern(l,f){let g=l.getSize(),m=l.getNextSet(0),C=0,w=m,I=!1,S=f.length;for(let O=m;O<g;O++)if(l.get(O)!==I)f[C]++;else{if(C===S-1){if(this.toNarrowWidePattern(f)===A.ASTERISK_ENCODING&&l.isRange(Math.max(0,w-Math.floor((O-w)/2)),w,!1))return[w,O];w+=f[0]+f[1],f.copyWithin(0,2,2+C-1),f[C-1]=0,f[C]=0,C--}else C++;f[C]=1,I=!I}throw new J}static toNarrowWidePattern(l){let m,f=l.length,g=0;do{let C=2147483647;for(let S of l)S<C&&S>g&&(C=S);g=C,m=0;let w=0,I=0;for(let S=0;S<f;S++){let O=l[S];O>g&&(I|=1<<f-1-S,m++,w+=O)}if(3===m){for(let S=0;S<f&&m>0;S++){let O=l[S];if(O>g&&(m--,2*O>=w))return-1}return I}}while(m>3);return-1}static patternToChar(l){for(let f=0;f<A.CHARACTER_ENCODINGS.length;f++)if(A.CHARACTER_ENCODINGS[f]===l)return A.ALPHABET_STRING.charAt(f);if(l===A.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(l){let f=l.length,g="";for(let m=0;m<f;m++){let C=l.charAt(m);if("+"===C||"$"===C||"%"===C||"/"===C){let w=l.charAt(m+1),I="\0";switch(C){case"+":if(!(w>="A"&&w<="Z"))throw new ke;I=String.fromCharCode(w.charCodeAt(0)+32);break;case"$":if(!(w>="A"&&w<="Z"))throw new ke;I=String.fromCharCode(w.charCodeAt(0)-64);break;case"%":if(w>="A"&&w<="E")I=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")I=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")I=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")I=String.fromCharCode(w.charCodeAt(0)+43);else if("U"===w)I="\0";else if("V"===w)I="@";else if("W"===w)I="`";else{if("X"!==w&&"Y"!==w&&"Z"!==w)throw new ke;I="\x7f"}break;case"/":if(w>="A"&&w<="O")I=String.fromCharCode(w.charCodeAt(0)-32);else{if("Z"!==w)throw new ke;I=":"}}g+=I,m++}else g+=C}return g}}return A.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",A.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],A.ASTERISK_ENCODING=148,A})();class Lt extends Wt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,l,f){let g=this.decodeStart(l),m=this.decodeEnd(l),C=new le;Lt.decodeMiddle(l,g[1],m[0],C);let w=C.toString(),I=null;null!=f&&(I=f.get(Qe.ALLOWED_LENGTHS)),null==I&&(I=Lt.DEFAULT_ALLOWED_LENGTHS);let S=w.length,O=!1,H=0;for(let se of I){if(S===se){O=!0;break}se>H&&(H=se)}if(!O&&S>H&&(O=!0),!O)throw new ke;const W=[new De(g[1],c),new De(m[0],c)];return new ct(w,null,0,W,Pe.ITF,(new Date).getTime())}static decodeMiddle(c,l,f,g){let m=new Int32Array(10),C=new Int32Array(5),w=new Int32Array(5);for(m.fill(0),C.fill(0),w.fill(0);l<f;){Wt.recordPattern(c,l,m);for(let S=0;S<5;S++){let O=2*S;C[S]=m[O],w[S]=m[O+1]}let I=Lt.decodeDigit(C);g.append(I.toString()),I=this.decodeDigit(w),g.append(I.toString()),m.forEach(function(S){l+=S})}}decodeStart(c){let l=Lt.skipWhiteSpace(c),f=Lt.findGuardPattern(c,l,Lt.START_PATTERN);return this.narrowLineWidth=(f[1]-f[0])/4,this.validateQuietZone(c,f[0]),f}validateQuietZone(c,l){let f=10*this.narrowLineWidth;f=f<l?f:l;for(let g=l-1;f>0&&g>=0&&!c.get(g);g--)f--;if(0!==f)throw new J}static skipWhiteSpace(c){const l=c.getSize(),f=c.getNextSet(0);if(f===l)throw new J;return f}decodeEnd(c){c.reverse();try{let f,l=Lt.skipWhiteSpace(c);try{f=Lt.findGuardPattern(c,l,Lt.END_PATTERN_REVERSED[0])}catch(m){m instanceof J&&(f=Lt.findGuardPattern(c,l,Lt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,f[0]);let g=f[0];return f[0]=c.getSize()-f[1],f[1]=c.getSize()-g,f}finally{c.reverse()}}static findGuardPattern(c,l,f){let g=f.length,m=new Int32Array(g),C=c.getSize(),w=!1,I=0,S=l;m.fill(0);for(let O=l;O<C;O++)if(c.get(O)!==w)m[I]++;else{if(I===g-1){if(Wt.patternMatchVariance(m,f,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return[S,O];S+=m[0]+m[1],fe.arraycopy(m,2,m,0,I-1),m[I-1]=0,m[I]=0,I--}else I++;m[I]=1,w=!w}throw new J}static decodeDigit(c){let l=Lt.MAX_AVG_VARIANCE,f=-1,g=Lt.PATTERNS.length;for(let m=0;m<g;m++){let w=Wt.patternMatchVariance(c,Lt.PATTERNS[m],Lt.MAX_INDIVIDUAL_VARIANCE);w<l?(l=w,f=m):w===l&&(f=-1)}if(f>=0)return f%10;throw new J}}Lt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Lt.MAX_AVG_VARIANCE=.38,Lt.MAX_INDIVIDUAL_VARIANCE=.5,Lt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Lt.START_PATTERN=Int32Array.from([1,1,1,1]),Lt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class yt extends Wt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let f,l=!1,g=0,m=Int32Array.from([0,0,0]);for(;!l;){m=Int32Array.from([0,0,0]),f=yt.findGuardPattern(c,g,!1,this.START_END_PATTERN,m);let C=f[0];g=f[1];let w=C-(g-C);w>=0&&(l=c.isRange(w,C,!1))}return f}static checkChecksum(c){return yt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let l=c.length;if(0===l)return!1;let f=parseInt(c.charAt(l-1),10);return yt.getStandardUPCEANChecksum(c.substring(0,l-1))===f}static getStandardUPCEANChecksum(c){let l=c.length,f=0;for(let g=l-1;g>=0;g-=2){let m=c.charAt(g).charCodeAt(0)-48;if(m<0||m>9)throw new ke;f+=m}f*=3;for(let g=l-2;g>=0;g-=2){let m=c.charAt(g).charCodeAt(0)-48;if(m<0||m>9)throw new ke;f+=m}return(1e3-f)%10}static decodeEnd(c,l){return yt.findGuardPattern(c,l,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,l,f,g){return this.findGuardPattern(c,l,f,g,new Int32Array(g.length))}static findGuardPattern(c,l,f,g,m){let C=c.getSize(),w=0,I=l=f?c.getNextUnset(l):c.getNextSet(l),S=g.length,O=f;for(let H=l;H<C;H++)if(c.get(H)!==O)m[w]++;else{if(w===S-1){if(Wt.patternMatchVariance(m,g,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return Int32Array.from([I,H]);I+=m[0]+m[1];let W=m.slice(2,m.length-1);for(let Q=0;Q<w-1;Q++)m[Q]=W[Q];m[w-1]=0,m[w]=0,w--}else w++;m[w]=1,O=!O}throw new J}static decodeDigit(c,l,f,g){this.recordPattern(c,f,l);let m=this.MAX_AVG_VARIANCE,C=-1,w=g.length;for(let I=0;I<w;I++){let O=Wt.patternMatchVariance(l,g[I],yt.MAX_INDIVIDUAL_VARIANCE);O<m&&(m=O,C=I)}if(C>=0)return C;throw new J}}yt.MAX_AVG_VARIANCE=.48,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.START_END_PATTERN=Int32Array.from([1,1,1]),yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Oo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,l,f){let g=this.decodeRowStringBuffer,m=this.decodeMiddle(l,f,g),C=g.toString(),w=Oo.parseExtensionString(C),I=[new De((f[0]+f[1])/2,c),new De(m,c)],S=new ct(C,null,0,I,Pe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=w&&S.putAllMetadata(w),S}decodeMiddle(c,l,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let m=c.getSize(),C=l[1],w=0;for(let S=0;S<5&&C<m;S++){let O=yt.decodeDigit(c,g,C,yt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let H of g)C+=H;O>=10&&(w|=1<<4-S),4!==S&&(C=c.getNextSet(C),C=c.getNextUnset(C))}if(5!==f.length)throw new J;let I=this.determineCheckDigit(w);if(Oo.extensionChecksum(f.toString())!==I)throw new J;return C}static extensionChecksum(c){let l=c.length,f=0;for(let g=l-2;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;f*=3;for(let g=l-1;g>=0;g-=2)f+=c.charAt(g).charCodeAt(0)-48;return f*=3,f%10}determineCheckDigit(c){for(let l=0;l<10;l++)if(c===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new J}static parseExtensionString(c){if(5!==c.length)return null;let l=Oo.parseExtension5String(c);return null==l?null:new Map([[Rt.SUGGESTED_PRICE,l]])}static parseExtension5String(c){let l;switch(c.charAt(0)){case"0":l="\xa3";break;case"5":l="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l=""}let f=parseInt(c.substring(1)),m=f%100;return l+(f/100).toString()+"."+(m<10?"0"+m:m.toString())}}class nn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,l,f){let g=this.decodeRowStringBuffer,m=this.decodeMiddle(l,f,g),C=g.toString(),w=nn.parseExtensionString(C),I=[new De((f[0]+f[1])/2,c),new De(m,c)],S=new ct(C,null,0,I,Pe.UPC_EAN_EXTENSION,(new Date).getTime());return null!=w&&S.putAllMetadata(w),S}decodeMiddle(c,l,f){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let m=c.getSize(),C=l[1],w=0;for(let I=0;I<2&&C<m;I++){let S=yt.decodeDigit(c,g,C,yt.L_AND_G_PATTERNS);f+=String.fromCharCode(48+S%10);for(let O of g)C+=O;S>=10&&(w|=1<<1-I),1!==I&&(C=c.getNextSet(C),C=c.getNextUnset(C))}if(2!==f.length)throw new J;if(parseInt(f.toString())%4!==w)throw new J;return C}static parseExtensionString(c){return 2!==c.length?null:new Map([[Rt.ISSUE_NUMBER,parseInt(c)]])}}class Wa{static decodeRow(c,l,f){let g=yt.findGuardPattern(l,f,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Oo).decodeRow(c,l,g)}catch{return(new nn).decodeRow(c,l,g)}}}Wa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class kt extends yt{constructor(){super(),this.decodeRowStringBuffer="",kt.L_AND_G_PATTERNS=kt.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let l=kt.L_PATTERNS[c-10],f=new Int32Array(l.length);for(let g=0;g<l.length;g++)f[g]=l[l.length-g-1];kt.L_AND_G_PATTERNS[c]=f}}decodeRow(c,l,f){let g=kt.findStartGuardPattern(l),m=null==f?null:f.get(Qe.NEED_RESULT_POINT_CALLBACK);if(null!=m){const Le=new De((g[0]+g[1])/2,c);m.foundPossibleResultPoint(Le)}let C=this.decodeMiddle(l,g,this.decodeRowStringBuffer),w=C.rowOffset,I=C.resultString;if(null!=m){const Le=new De(w,c);m.foundPossibleResultPoint(Le)}let S=this.decodeEnd(l,w);if(null!=m){const Le=new De((S[0]+S[1])/2,c);m.foundPossibleResultPoint(Le)}let O=S[1],H=O+(O-S[0]);if(H>=l.getSize()||!l.isRange(O,H,!1))throw new J;let W=I.toString();if(W.length<8)throw new ke;if(!kt.checkChecksum(W))throw new te;let Q=(g[1]+g[0])/2,se=(S[1]+S[0])/2,he=this.getBarcodeFormat(),ve=[new De(Q,c),new De(se,c)],Ie=new ct(W,null,0,ve,he,(new Date).getTime()),Ze=0;try{let Le=Wa.decodeRow(c,l,S[1]);Ie.putMetadata(Rt.UPC_EAN_EXTENSION,Le.getText()),Ie.putAllMetadata(Le.getResultMetadata()),Ie.addResultPoints(Le.getResultPoints()),Ze=Le.getText().length}catch{}let it=null==f?null:f.get(Qe.ALLOWED_EAN_EXTENSIONS);if(null!=it){let Le=!1;for(let cn in it)if(Ze.toString()===cn){Le=!0;break}if(!Le)throw new J}return Ie}decodeEnd(c,l){return kt.findGuardPattern(c,l,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return kt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let l=c.length;if(0===l)return!1;let f=parseInt(c.charAt(l-1),10);return kt.getStandardUPCEANChecksum(c.substring(0,l-1))===f}static getStandardUPCEANChecksum(c){let l=c.length,f=0;for(let g=l-1;g>=0;g-=2){let m=c.charAt(g).charCodeAt(0)-48;if(m<0||m>9)throw new ke;f+=m}f*=3;for(let g=l-2;g>=0;g-=2){let m=c.charAt(g).charCodeAt(0)-48;if(m<0||m>9)throw new ke;f+=m}return(1e3-f)%10}}let Ro=(()=>{class A extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,g){let m=this.decodeMiddleCounters;m[0]=0,m[1]=0,m[2]=0,m[3]=0;let C=l.getSize(),w=f[1],I=0;for(let O=0;O<6&&w<C;O++){let H=kt.decodeDigit(l,m,w,kt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+H%10);for(let W of m)w+=W;H>=10&&(I|=1<<5-O)}g=A.determineFirstDigit(g,I),w=kt.findGuardPattern(l,w,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<6&&w<C;O++){let H=kt.decodeDigit(l,m,w,kt.L_PATTERNS);g+=String.fromCharCode(48+H);for(let W of m)w+=W}return{rowOffset:w,resultString:g}}getBarcodeFormat(){return Pe.EAN_13}static determineFirstDigit(l,f){for(let g=0;g<10;g++)if(f===this.FIRST_DIGIT_ENCODINGS[g])return String.fromCharCode(48+g)+l;throw new J}}return A.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],A})();class kc extends kt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,l,f){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let m=c.getSize(),C=l[1];for(let I=0;I<4&&C<m;I++){let S=kt.decodeDigit(c,g,C,kt.L_PATTERNS);f+=String.fromCharCode(48+S);for(let O of g)C+=O}C=kt.findGuardPattern(c,C,!0,kt.MIDDLE_PATTERN,new Int32Array(kt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<4&&C<m;I++){let S=kt.decodeDigit(c,g,C,kt.L_PATTERNS);f+=String.fromCharCode(48+S);for(let O of g)C+=O}return{rowOffset:C,resultString:f}}getBarcodeFormat(){return Pe.EAN_8}}class ca extends kt{constructor(){super(...arguments),this.ean13Reader=new Ro}getBarcodeFormat(){return Pe.UPC_A}decode(c,l){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,l,f){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,l,f))}decodeMiddle(c,l,f){return this.ean13Reader.decodeMiddle(c,l,f)}maybeReturnResult(c){let l=c.getText();if("0"===l.charAt(0)){let f=new ct(l.substring(1),null,null,c.getResultPoints(),Pe.UPC_A);return null!=c.getResultMetadata()&&f.putAllMetadata(c.getResultMetadata()),f}throw new J}reset(){this.ean13Reader.reset()}}class Sr extends kt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,l,f){const g=this.decodeMiddleCounters.map(S=>S);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const m=c.getSize();let C=l[1],w=0;for(let S=0;S<6&&C<m;S++){const O=Sr.decodeDigit(c,g,C,Sr.L_AND_G_PATTERNS);f+=String.fromCharCode(48+O%10);for(let H of g)C+=H;O>=10&&(w|=1<<5-S)}return{rowOffset:C,resultString:Sr.determineNumSysAndCheckDigit(f,w)}}decodeEnd(c,l){return Sr.findGuardPatternWithoutCounters(c,l,!0,Sr.MIDDLE_END_PATTERN)}checkChecksum(c){return kt.checkChecksum(Sr.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,l){for(let f=0;f<=1;f++)for(let g=0;g<10;g++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[f][g])return String.fromCharCode(48+f)+c+String.fromCharCode(48+g);throw J.getNotFoundInstance()}getBarcodeFormat(){return Pe.UPC_E}static convertUPCEtoUPCA(c){const l=c.slice(1,7).split("").map(m=>m.charCodeAt(0)),f=new le;f.append(c.charAt(0));let g=l[5];switch(g){case 0:case 1:case 2:f.appendChars(l,0,2),f.append(g),f.append("0000"),f.appendChars(l,2,3);break;case 3:f.appendChars(l,0,3),f.append("00000"),f.appendChars(l,3,2);break;case 4:f.appendChars(l,0,4),f.append("00000"),f.append(l[4]);break;default:f.appendChars(l,0,5),f.append("0000"),f.append(g)}return c.length>=8&&f.append(c.charAt(7)),f.toString()}}Sr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Sr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Pt extends Wt{constructor(c){super();let l=null==c?null:c.get(Qe.POSSIBLE_FORMATS),f=[];o(l)?(f.push(new Ro),f.push(new ca),f.push(new kc),f.push(new Sr)):(l.indexOf(Pe.EAN_13)>-1&&f.push(new Ro),l.indexOf(Pe.UPC_A)>-1&&f.push(new ca),l.indexOf(Pe.EAN_8)>-1&&f.push(new kc),l.indexOf(Pe.UPC_E)>-1&&f.push(new Sr)),this.readers=f}decodeRow(c,l,f){for(let g of this.readers)try{const m=g.decodeRow(c,l,f),C=m.getBarcodeFormat()===Pe.EAN_13&&"0"===m.getText().charAt(0),w=null==f?null:f.get(Qe.POSSIBLE_FORMATS),I=null==w||w.includes(Pe.UPC_A);if(C&&I){const S=m.getRawBytes(),O=new ct(m.getText().substring(1),S,S?S.length:null,m.getResultPoints(),Pe.UPC_A);return O.putAllMetadata(m.getResultMetadata()),O}return m}catch{}throw new J}reset(){for(let c of this.readers)c.reset()}}let Ai=(()=>{class A extends Wt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let g=0;g<f.length;g++)if(Wt.patternMatchVariance(l,f[g],A.MAX_INDIVIDUAL_VARIANCE)<A.MAX_AVG_VARIANCE)return g;throw new J}static count(l){return Et.sum(new Int32Array(l))}static increment(l,f){let g=0,m=f[0];for(let C=1;C<l.length;C++)f[C]>m&&(m=f[C],g=C);l[g]++}static decrement(l,f){let g=0,m=f[0];for(let C=1;C<l.length;C++)f[C]<m&&(m=f[C],g=C);l[g]--}static isFinderPattern(l){let f=l[0]+l[1],m=f/(f+l[2]+l[3]);if(m>=A.MIN_FINDER_PATTERN_RATIO&&m<=A.MAX_FINDER_PATTERN_RATIO){let C=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let I of l)I>w&&(w=I),I<C&&(C=I);return w<10*C}return!1}}return A.MAX_AVG_VARIANCE=.2,A.MAX_INDIVIDUAL_VARIANCE=.45,A.MIN_FINDER_PATTERN_RATIO=9.5/12,A.MAX_FINDER_PATTERN_RATIO=12.5/14,A})();class pr{constructor(c,l){this.value=c,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){return c instanceof pr&&this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ds{constructor(c,l,f,g,m){this.value=c,this.startEnd=l,this.value=c,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new De(f,m)),this.resultPoints.push(new De(g,m))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){return c instanceof Ds&&this.value===c.value}hashCode(){return this.value}}class Mi{constructor(){}static getRSSvalue(c,l,f){let g=0;for(let I of c)g+=I;let m=0,C=0,w=c.length;for(let I=0;I<w-1;I++){let S;for(S=1,C|=1<<I;S<c[I];S++,C&=~(1<<I)){let O=Mi.combins(g-S-1,w-I-2);if(f&&0===C&&g-S-(w-I-1)>=w-I-1&&(O-=Mi.combins(g-S-(w-I),w-I-2)),w-I-1>1){let H=0;for(let W=g-S-(w-I-2);W>l;W--)H+=Mi.combins(g-S-W-1,w-I-3);O-=H*(w-1-I)}else g-S>l&&O--;m+=O}g-=S}return m}static combins(c,l){let f,g;c-l>l?(g=l,f=c-l):(g=c-l,f=l);let m=1,C=1;for(let w=c;w>f;w--)m*=w,C<=g&&(m/=C,C++);for(;C<=g;)m/=C,C++;return m}}class yd{static buildBitArray(c){let l=2*c.length-1;null==c[c.length-1].getRightChar()&&(l-=1);let g=new Ye(12*l),m=0,w=c[0].getRightChar().getValue();for(let I=11;I>=0;--I)w&1<<I&&g.set(m),m++;for(let I=1;I<c.length;++I){let S=c[I],O=S.getLeftChar().getValue();for(let H=11;H>=0;--H)O&1<<H&&g.set(m),m++;if(null!=S.getRightChar()){let H=S.getRightChar().getValue();for(let W=11;W>=0;--W)H&1<<W&&g.set(m),m++}}return g}}class Yr{constructor(c,l){l?this.decodedInformation=null:(this.finished=c,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Za{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}let gr=(()=>{class A extends Za{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===A.FNC1}}return A.FNC1="$",A})();class Ct extends Za{constructor(c,l,f){super(c),f?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let Gi=(()=>{class A extends Za{constructor(l,f,g){if(super(l),f<0||f>10||g<0||g>10)throw new ke;this.firstDigit=f,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===A.FNC1}isSecondDigitFNC1(){return this.secondDigit===A.FNC1}isAnyFNC1(){return this.firstDigit===A.FNC1||this.secondDigit===A.FNC1}}return A.FNC1=10,A})();class dt{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new J;let l=c.substring(0,2);for(let m of dt.TWO_DIGIT_DATA_LENGTH)if(m[0]===l)return m[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(2,m[2],c):dt.processFixedAI(2,m[1],c);if(c.length<3)throw new J;let f=c.substring(0,3);for(let m of dt.THREE_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(3,m[2],c):dt.processFixedAI(3,m[1],c);for(let m of dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,m[2],c):dt.processFixedAI(4,m[1],c);if(c.length<4)throw new J;let g=c.substring(0,4);for(let m of dt.FOUR_DIGIT_DATA_LENGTH)if(m[0]===g)return m[1]===dt.VARIABLE_LENGTH?dt.processVariableAI(4,m[2],c):dt.processFixedAI(4,m[1],c);throw new J}static processFixedAI(c,l,f){if(f.length<c)throw new J;let g=f.substring(0,c);if(f.length<c+l)throw new J;let m=f.substring(c,c+l),C=f.substring(c+l),w="("+g+")"+m,I=dt.parseFieldsInGeneralPurpose(C);return null==I?w:w+I}static processVariableAI(c,l,f){let m,g=f.substring(0,c);m=f.length<c+l?f.length:c+l;let C=f.substring(c,m),w=f.substring(m),I="("+g+")"+C,S=dt.parseFieldsInGeneralPurpose(w);return null==S?I:I+S}}dt.VARIABLE_LENGTH=[],dt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",dt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",dt.VARIABLE_LENGTH,20],["22",dt.VARIABLE_LENGTH,29],["30",dt.VARIABLE_LENGTH,8],["37",dt.VARIABLE_LENGTH,8],["90",dt.VARIABLE_LENGTH,30],["91",dt.VARIABLE_LENGTH,30],["92",dt.VARIABLE_LENGTH,30],["93",dt.VARIABLE_LENGTH,30],["94",dt.VARIABLE_LENGTH,30],["95",dt.VARIABLE_LENGTH,30],["96",dt.VARIABLE_LENGTH,30],["97",dt.VARIABLE_LENGTH,3],["98",dt.VARIABLE_LENGTH,30],["99",dt.VARIABLE_LENGTH,30]],dt.THREE_DIGIT_DATA_LENGTH=[["240",dt.VARIABLE_LENGTH,30],["241",dt.VARIABLE_LENGTH,30],["242",dt.VARIABLE_LENGTH,6],["250",dt.VARIABLE_LENGTH,30],["251",dt.VARIABLE_LENGTH,30],["253",dt.VARIABLE_LENGTH,17],["254",dt.VARIABLE_LENGTH,20],["400",dt.VARIABLE_LENGTH,30],["401",dt.VARIABLE_LENGTH,30],["402",17],["403",dt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",dt.VARIABLE_LENGTH,20],["421",dt.VARIABLE_LENGTH,15],["422",3],["423",dt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],dt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",dt.VARIABLE_LENGTH,15],["391",dt.VARIABLE_LENGTH,18],["392",dt.VARIABLE_LENGTH,15],["393",dt.VARIABLE_LENGTH,18],["703",dt.VARIABLE_LENGTH,30]],dt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",dt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",dt.VARIABLE_LENGTH,20],["8003",dt.VARIABLE_LENGTH,30],["8004",dt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",dt.VARIABLE_LENGTH,30],["8008",dt.VARIABLE_LENGTH,12],["8018",18],["8020",dt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",dt.VARIABLE_LENGTH,70],["8200",dt.VARIABLE_LENGTH,70]];class ts{constructor(c){this.buffer=new le,this.information=c}decodeAllCodes(c,l){let f=l,g=null;for(;;){let m=this.decodeGeneralPurposeField(f,g),C=dt.parseFieldsInGeneralPurpose(m.getNewString());if(null!=C&&c.append(C),g=m.isRemaining()?""+m.getRemainingValue():null,f===m.getNewPosition())break;f=m.getNewPosition()}return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let l=c;l<c+3;++l)if(this.information.get(l))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let m=this.extractNumericValueFromBitArray(c,4);return new Gi(this.information.getSize(),0===m?Gi.FNC1:m-1,Gi.FNC1)}let l=this.extractNumericValueFromBitArray(c,7);return new Gi(c+7,(l-8)/11,(l-8)%11)}extractNumericValueFromBitArray(c,l){return ts.extractNumericValueFromBitArray(this.information,c,l)}static extractNumericValueFromBitArray(c,l,f){let g=0;for(let m=0;m<f;++m)c.get(l+m)&&(g|=1<<f-m-1);return g}decodeGeneralPurposeField(c,l){this.buffer.setLengthToZero(),null!=l&&this.buffer.append(l),this.current.setPosition(c);let f=this.parseBlocks();return null!=f&&f.isRemaining()?new Ct(this.current.getPosition(),this.buffer.toString(),f.getRemainingValue()):new Ct(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,l;do{let f=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),c=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),c=l.isFinished()):(l=this.parseNumericBlock(),c=l.isFinished()),f===this.current.getPosition()&&!c)break}while(!c);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let l;return l=c.isSecondDigitFNC1()?new Ct(this.current.getPosition(),this.buffer.toString()):new Ct(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new Yr(!0,l)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let l=new Ct(this.current.getPosition(),this.buffer.toString());return new Yr(!0,l)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let l=new Ct(this.current.getPosition(),this.buffer.toString());return new Yr(!0,l)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let l=new Ct(this.current.getPosition(),this.buffer.toString());return new Yr(!0,l)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yr(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(c,5);if(l>=5&&l<16)return!0;if(c+7>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<116)return!0;if(c+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,8);return g>=232&&g<253}decodeIsoIec646(c){let l=this.extractNumericValueFromBitArray(c,5);if(15===l)return new gr(c+5,gr.FNC1);if(l>=5&&l<15)return new gr(c+5,"0"+(l-5));let m,f=this.extractNumericValueFromBitArray(c,7);if(f>=64&&f<90)return new gr(c+7,""+(f+1));if(f>=90&&f<116)return new gr(c+7,""+(f+7));switch(this.extractNumericValueFromBitArray(c,8)){case 232:m="!";break;case 233:m='"';break;case 234:m="%";break;case 235:m="&";break;case 236:m="'";break;case 237:m="(";break;case 238:m=")";break;case 239:m="*";break;case 240:m="+";break;case 241:m=",";break;case 242:m="-";break;case 243:m=".";break;case 244:m="/";break;case 245:m=":";break;case 246:m=";";break;case 247:m="<";break;case 248:m="=";break;case 249:m=">";break;case 250:m="?";break;case 251:m="_";break;case 252:m=" ";break;default:throw new ke}return new gr(c+8,m)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(c,5);if(l>=5&&l<16)return!0;if(c+6>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,6);return f>=16&&f<63}decodeAlphanumeric(c){let l=this.extractNumericValueFromBitArray(c,5);if(15===l)return new gr(c+5,gr.FNC1);if(l>=5&&l<15)return new gr(c+5,"0"+(l-5));let g,f=this.extractNumericValueFromBitArray(c,6);if(f>=32&&f<58)return new gr(c+6,""+(f+33));switch(f){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new xn("Decoding invalid alphanumeric value: "+f)}return new gr(c+6,g)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let l=0;l<5&&l+c<this.information.getSize();++l)if(2===l){if(!this.information.get(c+2))return!1}else if(this.information.get(c+l))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let l=c;l<c+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let l=0;l<4&&l+c<this.information.getSize();++l)if(this.information.get(c+l))return!1;return!0}}class la{constructor(c){this.information=c,this.generalDecoder=new ts(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let qr=(()=>{class A extends la{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let g=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,g)}encodeCompressedGtinWithoutAI(l,f,g){for(let m=0;m<4;++m){let C=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*m,10);C/100==0&&l.append("0"),C/10==0&&l.append("0"),l.append(C)}A.appendCheckDigit(l,g)}static appendCheckDigit(l,f){let g=0;for(let m=0;m<13;m++){let C=l.charAt(m+f).charCodeAt(0)-48;g+=1&m?C:3*C}g=10-g%10,10===g&&(g=0),l.append(g)}}return A.GTIN_SIZE=40,A})(),jr=(()=>{class A extends qr{constructor(l){super(l)}parseInformation(){let l=new le;l.append("(01)");let f=l.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(A.HEADER_SIZE,4);return l.append(g),this.encodeCompressedGtinWithoutAI(l,A.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,A.HEADER_SIZE+44)}}return A.HEADER_SIZE=4,A})(),St=(()=>{class A extends la{constructor(l){super(l)}parseInformation(){let l=new le;return this.getGeneralDecoder().decodeAllCodes(l,A.HEADER_SIZE)}}return A.HEADER_SIZE=5,A})();class ns extends qr{constructor(c){super(c)}encodeCompressedWeight(c,l,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(l,f);this.addWeightCode(c,g);let m=this.checkWeight(g),C=1e5;for(let w=0;w<5;++w)m/C==0&&c.append("0"),C/=10;c.append(m)}}let Zl=(()=>{class A extends ns{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=A.HEADER_SIZE+ns.GTIN_SIZE+A.WEIGHT_SIZE)throw new J;let l=new le;return this.encodeCompressedGtin(l,A.HEADER_SIZE),this.encodeCompressedWeight(l,A.HEADER_SIZE+ns.GTIN_SIZE,A.WEIGHT_SIZE),l.toString()}}return A.HEADER_SIZE=5,A.WEIGHT_SIZE=15,A})();class Cd extends Zl{constructor(c){super(c)}addWeightCode(c,l){c.append("(3103)")}checkWeight(c){return c}}class wd extends Zl{constructor(c){super(c)}addWeightCode(c,l){c.append(l<1e4?"(3202)":"(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}let Pc=(()=>{class A extends qr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<A.HEADER_SIZE+qr.GTIN_SIZE)throw new J;let l=new le;this.encodeCompressedGtin(l,A.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(A.HEADER_SIZE+qr.GTIN_SIZE,A.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(A.HEADER_SIZE+qr.GTIN_SIZE+A.LAST_DIGIT_SIZE,null);return l.append(g.getNewString()),l.toString()}}return A.HEADER_SIZE=8,A.LAST_DIGIT_SIZE=2,A})(),Rn=(()=>{class A extends qr{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<A.HEADER_SIZE+qr.GTIN_SIZE)throw new J;let l=new le;this.encodeCompressedGtin(l,A.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(A.HEADER_SIZE+qr.GTIN_SIZE,A.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(A.HEADER_SIZE+qr.GTIN_SIZE+A.LAST_DIGIT_SIZE,A.FIRST_THREE_DIGITS_SIZE);g/100==0&&l.append("0"),g/10==0&&l.append("0"),l.append(g);let m=this.getGeneralDecoder().decodeGeneralPurposeField(A.HEADER_SIZE+qr.GTIN_SIZE+A.LAST_DIGIT_SIZE+A.FIRST_THREE_DIGITS_SIZE,null);return l.append(m.getNewString()),l.toString()}}return A.HEADER_SIZE=8,A.LAST_DIGIT_SIZE=2,A.FIRST_THREE_DIGITS_SIZE=10,A})(),ko=(()=>{class A extends ns{constructor(l,f,g){super(l),this.dateCode=g,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=A.HEADER_SIZE+A.GTIN_SIZE+A.WEIGHT_SIZE+A.DATE_SIZE)throw new J;let l=new le;return this.encodeCompressedGtin(l,A.HEADER_SIZE),this.encodeCompressedWeight(l,A.HEADER_SIZE+A.GTIN_SIZE,A.WEIGHT_SIZE),this.encodeCompressedDate(l,A.HEADER_SIZE+A.GTIN_SIZE+A.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(f,A.DATE_SIZE);if(38400==g)return;l.append("("),l.append(this.dateCode),l.append(")");let m=g%32;g/=32;let C=g%12+1;g/=12;let w=g;w/10==0&&l.append("0"),l.append(w),C/10==0&&l.append("0"),l.append(C),m/10==0&&l.append("0"),l.append(m)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}return A.HEADER_SIZE=8,A.WEIGHT_SIZE=20,A.DATE_SIZE=16,A})();function co(A){try{if(A.get(1))return new jr(A);if(!A.get(2))return new St(A);switch(ts.extractNumericValueFromBitArray(A,1,4)){case 4:return new Cd(A);case 5:return new wd(A)}switch(ts.extractNumericValueFromBitArray(A,1,5)){case 12:return new Pc(A);case 13:return new Rn(A)}switch(ts.extractNumericValueFromBitArray(A,1,7)){case 56:return new ko(A,"310","11");case 57:return new ko(A,"320","11");case 58:return new ko(A,"310","13");case 59:return new ko(A,"320","13");case 60:return new ko(A,"310","15");case 61:return new ko(A,"320","15");case 62:return new ko(A,"310","17");case 63:return new ko(A,"320","17")}}catch(c){throw console.log(c),new xn("unknown decoder: "+A)}}class ri{constructor(c,l,f,g){this.leftchar=c,this.rightchar=l,this.finderpattern=f,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(c,l){return c instanceof ri&&ri.equalsOrNull(c.leftchar,l.leftchar)&&ri.equalsOrNull(c.rightchar,l.rightchar)&&ri.equalsOrNull(c.finderpattern,l.finderpattern)}static equalsOrNull(c,l){return null===c?null===l:ri.equals(c,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ss{constructor(c,l,f){this.pairs=c,this.rowNumber=l,this.wasReversed=f}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,l){return c instanceof Ss&&this.checkEqualitity(c,l)&&c.wasReversed===l.wasReversed}checkEqualitity(c,l){if(!c||!l)return;let f;return c.forEach((g,m)=>{l.forEach(C=>{g.getLeftChar().getValue()===C.getLeftChar().getValue()&&g.getRightChar().getValue()===C.getRightChar().getValue()&&g.getFinderPatter().getValue()===C.getFinderPatter().getValue()&&(f=!0)})}),f}}class He extends Ai{constructor(c){super(...arguments),this.pairs=new Array(He.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===c}decodeRow(c,l,f){this.pairs.length=0,this.startFromEven=!1;try{return He.constructResult(this.decodeRow2pairs(c,l))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,He.constructResult(this.decodeRow2pairs(c,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,l){let g,f=!1;for(;!f;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,c))}catch(m){if(m instanceof J){if(!this.pairs.length)throw new J;f=!0}}if(this.checkChecksum())return this.pairs;if(g=!!this.rows.length,this.storeRow(c,!1),g){let m=this.checkRowsBoolean(!1);if(null!=m||(m=this.checkRowsBoolean(!0),null!=m))return m}throw new J}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(f){this.verbose&&console.log(f)}return c&&(this.rows=this.rows.reverse()),l}checkRows(c,l){for(let f=l;f<this.rows.length;f++){let g=this.rows[f];this.pairs.length=0;for(let C of c)this.pairs.push(C.getPairs());if(this.pairs.push(g.getPairs()),!He.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let m=new Array(c);m.push(g);try{return this.checkRows(m,f+1)}catch(C){this.verbose&&console.log(C)}}throw new J}static isValidSequence(c){for(let l of He.FINDER_PATTERN_SEQUENCES){if(c.length>l.length)continue;let f=!0;for(let g=0;g<c.length;g++)if(c[g].getFinderPattern().getValue()!=l[g]){f=!1;break}if(f)return!0}return!1}storeRow(c,l){let f=0,g=!1,m=!1;for(;f<this.rows.length;){let C=this.rows[f];if(C.getRowNumber()>c){m=C.isEquivalent(this.pairs);break}g=C.isEquivalent(this.pairs),f++}m||g||He.isPartialRow(this.pairs,this.rows)||(this.rows.push(f,new Ss(this.pairs,c,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,l){for(let f of l)if(f.getPairs().length!==c.length)for(let g of f.getPairs())for(let m of c)if(ri.equals(g,m))break}static isPartialRow(c,l){for(let f of l){let g=!0;for(let m of c){let C=!1;for(let w of f.getPairs())if(m.equals(w)){C=!0;break}if(!C){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(c){let g=co(yd.buildBitArray(c)).parseInformation(),m=c[0].getFinderPattern().getResultPoints(),C=c[c.length-1].getFinderPattern().getResultPoints();return new ct(g,null,null,[m[0],m[1],C[0],C[1]],Pe.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),l=c.getLeftChar(),f=c.getRightChar();if(null==f)return!1;let g=f.getChecksumPortion(),m=2;for(let w=1;w<this.pairs.size();++w){let I=this.pairs.get(w);g+=I.getLeftChar().getChecksumPortion(),m++;let S=I.getRightChar();null!=S&&(g+=S.getChecksumPortion(),m++)}return g%=211,211*(m-4)+g==l.getValue()}static getNextSecondBar(c,l){let f;return c.get(l)?(f=c.getNextUnset(l),f=c.getNextSet(f)):(f=c.getNextSet(l),f=c.getNextUnset(f)),f}retrieveNextPair(c,l,f){let g=l.length%2==0;this.startFromEven&&(g=!g);let m,C=!0,w=-1;do{this.findNextPair(c,l,w),m=this.parseFoundFinderPattern(c,f,g),null==m?w=He.getNextSecondBar(c,this.startEnd[0]):C=!1}while(C);let S,I=this.decodeDataCharacter(c,m,g,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new J;try{S=this.decodeDataCharacter(c,m,g,!1)}catch(O){S=null,this.verbose&&console.log(O)}return new ri(I,S,m,!0)}isEmptyPair(c){return 0===c.length}findNextPair(c,l,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let C,m=c.getSize();C=f>=0?f:this.isEmptyPair(l)?0:l[l.length-1].getFinderPattern().getStartEnd()[1];let w=l.length%2!=0;this.startFromEven&&(w=!w);let I=!1;for(;C<m&&(I=!c.get(C),I);)C++;let S=0,O=C;for(let H=C;H<m;H++)if(c.get(H)!=I)g[S]++;else{if(3==S){if(w&&He.reverseCounters(g),He.isFinderPattern(g))return this.startEnd[0]=O,void(this.startEnd[1]=H);w&&He.reverseCounters(g),O+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,S--}else S++;g[S]=1,I=!I}throw new J}static reverseCounters(c){let l=c.length;for(let f=0;f<l/2;++f){let g=c[f];c[f]=c[l-f-1],c[l-f-1]=g}}parseFoundFinderPattern(c,l,f){let g,m,C;if(f){let S=this.startEnd[0]-1;for(;S>=0&&!c.get(S);)S--;S++,g=this.startEnd[0]-S,m=S,C=this.startEnd[1]}else m=this.startEnd[0],C=c.getNextUnset(this.startEnd[1]+1),g=C-this.startEnd[1];let I,w=this.getDecodeFinderCounters();fe.arraycopy(w,0,w,1,w.length-1),w[0]=g;try{I=this.parseFinderValue(w,He.FINDER_PATTERNS)}catch{return null}return new Ds(I,[m,C],m,C,l)}decodeDataCharacter(c,l,f,g){let m=this.getDataCharacterCounters();for(let En=0;En<m.length;En++)m[En]=0;if(g)He.recordPatternInReverse(c,l.getStartEnd()[0],m);else{He.recordPattern(c,l.getStartEnd()[1],m);for(let En=0,Qn=m.length-1;En<Qn;En++,Qn--){let ii=m[En];m[En]=m[Qn],m[Qn]=ii}}let w=Et.sum(new Int32Array(m))/17,I=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(w-I)/I>.3)throw new J;let S=this.getOddCounts(),O=this.getEvenCounts(),H=this.getOddRoundingErrors(),W=this.getEvenRoundingErrors();for(let En=0;En<m.length;En++){let Qn=1*m[En]/w,ii=Qn+.5;if(ii<1){if(Qn<.3)throw new J;ii=1}else if(ii>8){if(Qn>8.7)throw new J;ii=8}let go=En/2;1&En?(O[go]=ii,W[go]=Qn-ii):(S[go]=ii,H[go]=Qn-ii)}this.adjustOddEvenCounts(17);let Q=4*l.getValue()+(f?0:2)+(g?0:1)-1,se=0,he=0;for(let En=S.length-1;En>=0;En--)He.isNotA1left(l,f,g)&&(he+=S[En]*He.WEIGHTS[Q][2*En]),se+=S[En];let ve=0;for(let En=O.length-1;En>=0;En--)He.isNotA1left(l,f,g)&&(ve+=O[En]*He.WEIGHTS[Q][2*En+1]);let Ie=he+ve;if(1&se||se>13||se<4)throw new J;let Ze=(13-se)/2,it=He.SYMBOL_WIDEST[Ze],Le=9-it,cn=Mi.getRSSvalue(S,it,!0),zt=Mi.getRSSvalue(O,Le,!1);return new pr(cn*He.EVEN_TOTAL_SUBSET[Ze]+zt+He.GSUM[Ze],Ie)}static isNotA1left(c,l,f){return!(0==c.getValue()&&l&&f)}adjustOddEvenCounts(c){let l=Et.sum(new Int32Array(this.getOddCounts())),f=Et.sum(new Int32Array(this.getEvenCounts())),g=!1,m=!1;l>13?m=!0:l<4&&(g=!0);let C=!1,w=!1;f>13?w=!0:f<4&&(C=!0);let I=l+f-c,S=!(1&~l),O=!(1&f);if(1==I)if(S){if(O)throw new J;m=!0}else{if(!O)throw new J;w=!0}else if(-1==I)if(S){if(O)throw new J;g=!0}else{if(!O)throw new J;C=!0}else{if(0!=I)throw new J;if(S){if(!O)throw new J;l<f?(g=!0,w=!0):(m=!0,C=!0)}else if(O)throw new J}if(g){if(m)throw new J;He.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&He.decrement(this.getOddCounts(),this.getOddRoundingErrors()),C){if(w)throw new J;He.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&He.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}He.SYMBOL_WIDEST=[7,5,4,3,1],He.EVEN_TOTAL_SUBSET=[4,20,52,104,204],He.GSUM=[0,348,1388,2948,3988],He.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],He.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],He.FINDER_PAT_A=0,He.FINDER_PAT_B=1,He.FINDER_PAT_C=2,He.FINDER_PAT_D=3,He.FINDER_PAT_E=4,He.FINDER_PAT_F=5,He.FINDER_PATTERN_SEQUENCES=[[He.FINDER_PAT_A,He.FINDER_PAT_A],[He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B],[He.FINDER_PAT_A,He.FINDER_PAT_C,He.FINDER_PAT_B,He.FINDER_PAT_D],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_C],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_D,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_E,He.FINDER_PAT_B,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_D],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_E],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F],[He.FINDER_PAT_A,He.FINDER_PAT_A,He.FINDER_PAT_B,He.FINDER_PAT_B,He.FINDER_PAT_C,He.FINDER_PAT_D,He.FINDER_PAT_D,He.FINDER_PAT_E,He.FINDER_PAT_E,He.FINDER_PAT_F,He.FINDER_PAT_F]],He.MAX_PAIRS=11;class Xl extends pr{constructor(c,l,f){super(c,l),this.count=0,this.finderPattern=f}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Wn extends Ai{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,l,f){const g=this.decodePair(l,!1,c,f);Wn.addOrTally(this.possibleLeftPairs,g),l.reverse();let m=this.decodePair(l,!0,c,f);Wn.addOrTally(this.possibleRightPairs,m),l.reverse();for(let C of this.possibleLeftPairs)if(C.getCount()>1)for(let w of this.possibleRightPairs)if(w.getCount()>1&&Wn.checkChecksum(C,w))return Wn.constructResult(C,w);throw new J}static addOrTally(c,l){if(null==l)return;let f=!1;for(let g of c)if(g.getValue()===l.getValue()){g.incrementCount(),f=!0;break}f||c.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,l){let f=4537077*c.getValue()+l.getValue(),g=new String(f).toString(),m=new le;for(let S=13-g.length;S>0;S--)m.append("0");m.append(g);let C=0;for(let S=0;S<13;S++){let O=m.charAt(S).charCodeAt(0)-48;C+=1&S?O:3*O}C=10-C%10,10===C&&(C=0),m.append(C.toString());let w=c.getFinderPattern().getResultPoints(),I=l.getFinderPattern().getResultPoints();return new ct(m.toString(),null,0,[w[0],w[1],I[0],I[1]],Pe.RSS_14,(new Date).getTime())}static checkChecksum(c,l){let f=(c.getChecksumPortion()+16*l.getChecksumPortion())%79,g=9*c.getFinderPattern().getValue()+l.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,f===g}decodePair(c,l,f,g){try{let m=this.findFinderPattern(c,l),C=this.parseFoundFinderPattern(c,f,l,m),w=null==g?null:g.get(Qe.NEED_RESULT_POINT_CALLBACK);if(null!=w){let O=(m[0]+m[1])/2;l&&(O=c.getSize()-1-O),w.foundPossibleResultPoint(new De(O,f))}let I=this.decodeDataCharacter(c,C,!0),S=this.decodeDataCharacter(c,C,!1);return new Xl(1597*I.getValue()+S.getValue(),I.getChecksumPortion()+4*S.getChecksumPortion(),C)}catch{return null}}decodeDataCharacter(c,l,f){let g=this.getDataCharacterCounters();for(let ve=0;ve<g.length;ve++)g[ve]=0;if(f)Wt.recordPatternInReverse(c,l.getStartEnd()[0],g);else{Wt.recordPattern(c,l.getStartEnd()[1]+1,g);for(let ve=0,Ie=g.length-1;ve<Ie;ve++,Ie--){let Ze=g[ve];g[ve]=g[Ie],g[Ie]=Ze}}let m=f?16:15,C=Et.sum(new Int32Array(g))/m,w=this.getOddCounts(),I=this.getEvenCounts(),S=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let ve=0;ve<g.length;ve++){let Ie=g[ve]/C,Ze=Math.floor(Ie+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let it=Math.floor(ve/2);1&ve?(I[it]=Ze,O[it]=Ie-Ze):(w[it]=Ze,S[it]=Ie-Ze)}this.adjustOddEvenCounts(f,m);let H=0,W=0;for(let ve=w.length-1;ve>=0;ve--)W*=9,W+=w[ve],H+=w[ve];let Q=0,se=0;for(let ve=I.length-1;ve>=0;ve--)Q*=9,Q+=I[ve],se+=I[ve];let he=W+3*Q;if(f){if(1&H||H>12||H<4)throw new J;let ve=(12-H)/2,Ie=Wn.OUTSIDE_ODD_WIDEST[ve],Ze=9-Ie,it=Mi.getRSSvalue(w,Ie,!1),Le=Mi.getRSSvalue(I,Ze,!0);return new pr(it*Wn.OUTSIDE_EVEN_TOTAL_SUBSET[ve]+Le+Wn.OUTSIDE_GSUM[ve],he)}{if(1&se||se>10||se<4)throw new J;let ve=(10-se)/2,Ie=Wn.INSIDE_ODD_WIDEST[ve],Ze=9-Ie,it=Mi.getRSSvalue(w,Ie,!0),Le=Mi.getRSSvalue(I,Ze,!1);return new pr(Le*Wn.INSIDE_ODD_TOTAL_SUBSET[ve]+it+Wn.INSIDE_GSUM[ve],he)}}findFinderPattern(c,l){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let g=c.getSize(),m=!1,C=0;for(;C<g&&(m=!c.get(C),l!==m);)C++;let w=0,I=C;for(let S=C;S<g;S++)if(c.get(S)!==m)f[w]++;else{if(3===w){if(Ai.isFinderPattern(f))return[I,S];I+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,w--}else w++;f[w]=1,m=!m}throw new J}parseFoundFinderPattern(c,l,f,g){let m=c.get(g[0]),C=g[0]-1;for(;C>=0&&m!==c.get(C);)C--;C++;const w=g[0]-C,I=this.getDecodeFinderCounters(),S=new Int32Array(I.length);fe.arraycopy(I,0,S,1,I.length-1),S[0]=w;const O=this.parseFinderValue(S,Wn.FINDER_PATTERNS);let H=C,W=g[1];return f&&(H=c.getSize()-1-H,W=c.getSize()-1-W),new Ds(O,[C,g[1]],H,W,l)}adjustOddEvenCounts(c,l){let f=Et.sum(new Int32Array(this.getOddCounts())),g=Et.sum(new Int32Array(this.getEvenCounts())),m=!1,C=!1,w=!1,I=!1;c?(f>12?C=!0:f<4&&(m=!0),g>12?I=!0:g<4&&(w=!0)):(f>11?C=!0:f<5&&(m=!0),g>10?I=!0:g<4&&(w=!0));let S=f+g-l,O=(1&f)==(c?1:0),H=!(1&~g);if(1===S)if(O){if(H)throw new J;C=!0}else{if(!H)throw new J;I=!0}else if(-1===S)if(O){if(H)throw new J;m=!0}else{if(!H)throw new J;w=!0}else{if(0!==S)throw new J;if(O){if(!H)throw new J;f<g?(m=!0,I=!0):(C=!0,w=!0)}else if(H)throw new J}if(m){if(C)throw new J;Ai.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(C&&Ai.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(I)throw new J;Ai.increment(this.getEvenCounts(),this.getOddRoundingErrors())}I&&Ai.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Wn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Wn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Wn.OUTSIDE_GSUM=[0,161,961,2015,2715],Wn.INSIDE_GSUM=[0,336,1036,1516],Wn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Wn.INSIDE_ODD_WIDEST=[2,4,6,8],Wn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ui extends Wt{constructor(c,l){super(),this.readers=[],this.verbose=!0===l;const f=c?c.get(Qe.POSSIBLE_FORMATS):null,g=c&&void 0!==c.get(Qe.ASSUME_CODE_39_CHECK_DIGIT);f?((f.includes(Pe.EAN_13)||f.includes(Pe.UPC_A)||f.includes(Pe.EAN_8)||f.includes(Pe.UPC_E))&&this.readers.push(new Pt(c)),f.includes(Pe.CODE_39)&&this.readers.push(new gn(g)),f.includes(Pe.CODE_128)&&this.readers.push(new Xe),f.includes(Pe.ITF)&&this.readers.push(new Lt),f.includes(Pe.RSS_14)&&this.readers.push(new Wn),f.includes(Pe.RSS_EXPANDED)&&this.readers.push(new He(this.verbose))):(this.readers.push(new Pt(c)),this.readers.push(new gn),this.readers.push(new Pt(c)),this.readers.push(new Xe),this.readers.push(new Lt),this.readers.push(new Wn),this.readers.push(new He(this.verbose)))}decodeRow(c,l,f){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(c,l,f)}catch{}throw new J}reset(){this.readers.forEach(c=>c.reset())}}class mn{constructor(c,l,f){this.ecCodewords=c,this.ecBlocks=[l],f&&this.ecBlocks.push(f)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _n{constructor(c,l){this.count=c,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(c,l,f,g,m,C){this.versionNumber=c,this.symbolSizeRows=l,this.symbolSizeColumns=f,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=m,this.ecBlocks=C;let w=0;const I=C.getECCodewords(),S=C.getECBlocks();for(let O of S)w+=O.getCount()*(O.getDataCodewords()+I);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,l){if(1&c||1&l)throw new ke;for(let f of Je.VERSIONS)if(f.symbolSizeRows===c&&f.symbolSizeColumns===l)return f;throw new ke}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new mn(5,new _n(1,3))),new Je(2,12,12,10,10,new mn(7,new _n(1,5))),new Je(3,14,14,12,12,new mn(10,new _n(1,8))),new Je(4,16,16,14,14,new mn(12,new _n(1,12))),new Je(5,18,18,16,16,new mn(14,new _n(1,18))),new Je(6,20,20,18,18,new mn(18,new _n(1,22))),new Je(7,22,22,20,20,new mn(20,new _n(1,30))),new Je(8,24,24,22,22,new mn(24,new _n(1,36))),new Je(9,26,26,24,24,new mn(28,new _n(1,44))),new Je(10,32,32,14,14,new mn(36,new _n(1,62))),new Je(11,36,36,16,16,new mn(42,new _n(1,86))),new Je(12,40,40,18,18,new mn(48,new _n(1,114))),new Je(13,44,44,20,20,new mn(56,new _n(1,144))),new Je(14,48,48,22,22,new mn(68,new _n(1,174))),new Je(15,52,52,24,24,new mn(42,new _n(2,102))),new Je(16,64,64,14,14,new mn(56,new _n(2,140))),new Je(17,72,72,16,16,new mn(36,new _n(4,92))),new Je(18,80,80,18,18,new mn(48,new _n(4,114))),new Je(19,88,88,20,20,new mn(56,new _n(4,144))),new Je(20,96,96,22,22,new mn(68,new _n(4,174))),new Je(21,104,104,24,24,new mn(56,new _n(6,136))),new Je(22,120,120,18,18,new mn(68,new _n(6,175))),new Je(23,132,132,20,20,new mn(62,new _n(8,163))),new Je(24,144,144,22,22,new mn(62,new _n(8,156),new _n(2,155))),new Je(25,8,18,6,16,new mn(7,new _n(1,5))),new Je(26,8,32,6,14,new mn(11,new _n(1,10))),new Je(27,12,26,10,24,new mn(14,new _n(1,16))),new Je(28,12,36,10,16,new mn(18,new _n(1,22))),new Je(29,16,36,14,16,new mn(24,new _n(1,32))),new Je(30,16,48,14,22,new mn(28,new _n(1,49)))]}}Je.VERSIONS=Je.buildVersions();class an{constructor(c){const l=c.getHeight();if(l<8||l>144||1&l)throw new ke;this.version=an.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const l=c.getHeight(),f=c.getWidth();return Je.getVersionForDimensions(l,f)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let l=0,f=4,g=0;const m=this.mappingBitMatrix.getHeight(),C=this.mappingBitMatrix.getWidth();let w=!1,I=!1,S=!1,O=!1;do{if(f!==m||0!==g||w)if(f===m-2&&0===g&&3&C&&!I)c[l++]=255&this.readCorner2(m,C),f-=2,g+=2,I=!0;else if(f!==m+4||2!==g||7&C||S)if(f!==m-2||0!==g||4!=(7&C)||O){do{f<m&&g>=0&&!this.readMappingMatrix.get(g,f)&&(c[l++]=255&this.readUtah(f,g,m,C)),f-=2,g+=2}while(f>=0&&g<C);f+=1,g+=3;do{f>=0&&g<C&&!this.readMappingMatrix.get(g,f)&&(c[l++]=255&this.readUtah(f,g,m,C)),f+=2,g-=2}while(f<m&&g>=0);f+=3,g+=1}else c[l++]=255&this.readCorner4(m,C),f-=2,g+=2,O=!0;else c[l++]=255&this.readCorner3(m,C),f-=2,g+=2,S=!0;else c[l++]=255&this.readCorner1(m,C),f-=2,g+=2,w=!0}while(f<m||g<C);if(l!==this.version.getTotalCodewords())throw new ke;return c}readModule(c,l,f,g){return c<0&&(c+=f,l+=4-(f+4&7)),l<0&&(l+=g,c+=4-(g+4&7)),this.readMappingMatrix.set(l,c),this.mappingBitMatrix.get(l,c)}readUtah(c,l,f,g){let m=0;return this.readModule(c-2,l-2,f,g)&&(m|=1),m<<=1,this.readModule(c-2,l-1,f,g)&&(m|=1),m<<=1,this.readModule(c-1,l-2,f,g)&&(m|=1),m<<=1,this.readModule(c-1,l-1,f,g)&&(m|=1),m<<=1,this.readModule(c-1,l,f,g)&&(m|=1),m<<=1,this.readModule(c,l-2,f,g)&&(m|=1),m<<=1,this.readModule(c,l-1,f,g)&&(m|=1),m<<=1,this.readModule(c,l,f,g)&&(m|=1),m}readCorner1(c,l){let f=0;return this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,1,c,l)&&(f|=1),f<<=1,this.readModule(c-1,2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(2,l-1,c,l)&&(f|=1),f<<=1,this.readModule(3,l-1,c,l)&&(f|=1),f}readCorner2(c,l){let f=0;return this.readModule(c-3,0,c,l)&&(f|=1),f<<=1,this.readModule(c-2,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(0,l-4,c,l)&&(f|=1),f<<=1,this.readModule(0,l-3,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f}readCorner3(c,l){let f=0;return this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(0,l-3,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-3,c,l)&&(f|=1),f<<=1,this.readModule(1,l-2,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f}readCorner4(c,l){let f=0;return this.readModule(c-3,0,c,l)&&(f|=1),f<<=1,this.readModule(c-2,0,c,l)&&(f|=1),f<<=1,this.readModule(c-1,0,c,l)&&(f|=1),f<<=1,this.readModule(0,l-2,c,l)&&(f|=1),f<<=1,this.readModule(0,l-1,c,l)&&(f|=1),f<<=1,this.readModule(1,l-1,c,l)&&(f|=1),f<<=1,this.readModule(2,l-1,c,l)&&(f|=1),f<<=1,this.readModule(3,l-1,c,l)&&(f|=1),f}extractDataRegion(c){const l=this.version.getSymbolSizeRows(),f=this.version.getSymbolSizeColumns();if(c.getHeight()!==l)throw new Z("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),m=this.version.getDataRegionSizeColumns(),C=l/g|0,w=f/m|0,O=new pe(w*m,C*g);for(let H=0;H<C;++H){const W=H*g;for(let Q=0;Q<w;++Q){const se=Q*m;for(let he=0;he<g;++he){const ve=H*(g+2)+1+he,Ie=W+he;for(let Ze=0;Ze<m;++Ze)c.get(Q*(m+2)+1+Ze,ve)&&O.set(se+Ze,Ie)}}}return O}}class Pn{constructor(c,l){this.numDataCodewords=c,this.codewords=l}static getDataBlocks(c,l){const f=l.getECBlocks();let g=0;const m=f.getECBlocks();for(let he of m)g+=he.getCount();const C=new Array(g);let w=0;for(let he of m)for(let ve=0;ve<he.getCount();ve++){const Ie=he.getDataCodewords(),Ze=f.getECCodewords()+Ie;C[w++]=new Pn(Ie,new Uint8Array(Ze))}const S=C[0].codewords.length-f.getECCodewords(),O=S-1;let H=0;for(let he=0;he<O;he++)for(let ve=0;ve<w;ve++)C[ve].codewords[he]=c[H++];const W=24===l.getVersionNumber(),Q=W?8:w;for(let he=0;he<Q;he++)C[he].codewords[S-1]=c[H++];const se=C[0].codewords.length;for(let he=S;he<se;he++)for(let ve=0;ve<w;ve++){const Ie=W?(ve+8)%w:ve;C[Ie].codewords[W&&Ie>7?he-1:he]=c[H++]}if(H!==c.length)throw new Z;return C}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ar{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new Z(""+c);let l=0,f=this.bitOffset,g=this.byteOffset;const m=this.bytes;if(f>0){const C=8-f,w=c<C?c:C,I=C-w;l=(m[g]&255>>8-w<<I)>>I,c-=w,f+=w,8===f&&(f=0,g++)}if(c>0){for(;c>=8;)l=l<<8|255&m[g],g++,c-=8;if(c>0){const C=8-c;l=l<<c|(m[g]&255>>C<<C)>>C,f+=c}}return this.bitOffset=f,this.byteOffset=g,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Vn=function(A){return A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE",A}(Vn||{});class di{static decode(c){const l=new ar(c),f=new le,g=new le,m=new Array;let C=Vn.ASCII_ENCODE;do{if(C===Vn.ASCII_ENCODE)C=this.decodeAsciiSegment(l,f,g);else{switch(C){case Vn.C40_ENCODE:this.decodeC40Segment(l,f);break;case Vn.TEXT_ENCODE:this.decodeTextSegment(l,f);break;case Vn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,f);break;case Vn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,f);break;case Vn.BASE256_ENCODE:this.decodeBase256Segment(l,f,m);break;default:throw new ke}C=Vn.ASCII_ENCODE}}while(C!==Vn.PAD_ENCODE&&l.available()>0);return g.length()>0&&f.append(g.toString()),new Fn(c,f.toString(),0===m.length?null:m,null)}static decodeAsciiSegment(c,l,f){let g=!1;do{let m=c.readBits(8);if(0===m)throw new ke;if(m<=128)return g&&(m+=128),l.append(String.fromCharCode(m-1)),Vn.ASCII_ENCODE;if(129===m)return Vn.PAD_ENCODE;if(m<=229){const C=m-130;C<10&&l.append("0"),l.append(""+C)}else switch(m){case 230:return Vn.C40_ENCODE;case 231:return Vn.BASE256_ENCODE;case 232:l.append("\x1d");break;case 233:case 234:case 241:break;case 235:g=!0;break;case 236:l.append("[)>\x1e05\x1d"),f.insert(0,"\x1e\x04");break;case 237:l.append("[)>\x1e06\x1d"),f.insert(0,"\x1e\x04");break;case 238:return Vn.ANSIX12_ENCODE;case 239:return Vn.TEXT_ENCODE;case 240:return Vn.EDIFACT_ENCODE;default:if(254!==m||0!==c.available())throw new ke}}while(c.available()>0);return Vn.ASCII_ENCODE}static decodeC40Segment(c,l){let f=!1;const g=[];let m=0;do{if(8===c.available())return;const C=c.readBits(8);if(254===C)return;this.parseTwoBytes(C,c.readBits(8),g);for(let w=0;w<3;w++){const I=g[w];switch(m){case 0:if(I<3)m=I+1;else{if(!(I<this.C40_BASIC_SET_CHARS.length))throw new ke;{const S=this.C40_BASIC_SET_CHARS[I];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}}break;case 1:f?(l.append(String.fromCharCode(I+128)),f=!1):l.append(String.fromCharCode(I)),m=0;break;case 2:if(I<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[I];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else switch(I){case 27:l.append("\x1d");break;case 30:f=!0;break;default:throw new ke}m=0;break;case 3:f?(l.append(String.fromCharCode(I+224)),f=!1):l.append(String.fromCharCode(I+96)),m=0;break;default:throw new ke}}}while(c.available()>0)}static decodeTextSegment(c,l){let f=!1,g=[],m=0;do{if(8===c.available())return;const C=c.readBits(8);if(254===C)return;this.parseTwoBytes(C,c.readBits(8),g);for(let w=0;w<3;w++){const I=g[w];switch(m){case 0:if(I<3)m=I+1;else{if(!(I<this.TEXT_BASIC_SET_CHARS.length))throw new ke;{const S=this.TEXT_BASIC_SET_CHARS[I];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}}break;case 1:f?(l.append(String.fromCharCode(I+128)),f=!1):l.append(String.fromCharCode(I)),m=0;break;case 2:if(I<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[I];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S)}else switch(I){case 27:l.append("\x1d");break;case 30:f=!0;break;default:throw new ke}m=0;break;case 3:if(!(I<this.TEXT_SHIFT3_SET_CHARS.length))throw new ke;{const S=this.TEXT_SHIFT3_SET_CHARS[I];f?(l.append(String.fromCharCode(S.charCodeAt(0)+128)),f=!1):l.append(S),m=0}break;default:throw new ke}}}while(c.available()>0)}static decodeAnsiX12Segment(c,l){const f=[];do{if(8===c.available())return;const g=c.readBits(8);if(254===g)return;this.parseTwoBytes(g,c.readBits(8),f);for(let m=0;m<3;m++){const C=f[m];switch(C){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(C<14)l.append(String.fromCharCode(C+44));else{if(!(C<40))throw new ke;l.append(String.fromCharCode(C+51))}}}}while(c.available()>0)}static parseTwoBytes(c,l,f){let g=(c<<8)+l-1,m=Math.floor(g/1600);f[0]=m,g-=1600*m,m=Math.floor(g/40),f[1]=m,f[2]=g-40*m}static decodeEdifactSegment(c,l){do{if(c.available()<=16)return;for(let f=0;f<4;f++){let g=c.readBits(6);if(31===g){const m=8-c.getBitOffset();return void(8!==m&&c.readBits(m))}32&g||(g|=64),l.append(String.fromCharCode(g))}}while(c.available()>0)}static decodeBase256Segment(c,l,f){let g=1+c.getByteOffset();const m=this.unrandomize255State(c.readBits(8),g++);let C;if(C=0===m?c.available()/8|0:m<250?m:250*(m-249)+this.unrandomize255State(c.readBits(8),g++),C<0)throw new ke;const w=new Uint8Array(C);for(let I=0;I<C;I++){if(c.available()<8)throw new ke;w[I]=this.unrandomize255State(c.readBits(8),g++)}f.push(w);try{l.append(ee.decode(w,X.ISO88591))}catch(I){throw new xn("Platform does not support required encoding: "+I.message)}}static unrandomize255State(c,l){const g=c-(149*l%255+1);return g>=0?g:g+256}}di.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],di.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],di.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],di.TEXT_SHIFT2_SET_CHARS=di.C40_SHIFT2_SET_CHARS,di.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~","\x7f"];class Mn{constructor(){this.rsDecoder=new pn(pt.DATA_MATRIX_FIELD_256)}decode(c){const l=new an(c),f=l.getVersion(),g=l.readCodewords(),m=Pn.getDataBlocks(g,f);let C=0;for(let S of m)C+=S.getNumDataCodewords();const w=new Uint8Array(C),I=m.length;for(let S=0;S<I;S++){const O=m[S],H=O.getCodewords(),W=O.getNumDataCodewords();this.correctErrors(H,W);for(let Q=0;Q<W;Q++)w[Q*I+S]=H[Q]}return di.decode(w)}correctErrors(c,l){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-l)}catch{throw new te}for(let g=0;g<l;g++)c[g]=f[g]}}class xt{constructor(c){this.image=c,this.rectangleDetector=new or(this.image)}detect(){const c=this.rectangleDetector.detect();let l=this.detectSolid1(c);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new J;l=this.shiftToModuleCenter(l);const f=l[0],g=l[1],m=l[2],C=l[3];let w=this.transitionsBetween(f,C)+1,I=this.transitionsBetween(m,C)+1;!(1&~w)&&(w+=1),!(1&~I)&&(I+=1),4*w<7*I&&4*I<7*w&&(w=I=Math.max(w,I));let S=xt.sampleGrid(this.image,f,g,m,C,w,I);return new tr(S,[f,g,m,C])}static shiftPoint(c,l,f){let g=(l.getX()-c.getX())/(f+1),m=(l.getY()-c.getY())/(f+1);return new De(c.getX()+g,c.getY()+m)}static moveAway(c,l,f){let g=c.getX(),m=c.getY();return g<l?g-=1:g+=1,m<f?m-=1:m+=1,new De(g,m)}detectSolid1(c){let l=c[0],f=c[1],g=c[3],m=c[2],C=this.transitionsBetween(l,f),w=this.transitionsBetween(f,g),I=this.transitionsBetween(g,m),S=this.transitionsBetween(m,l),O=C,H=[m,l,f,g];return O>w&&(O=w,H[0]=l,H[1]=f,H[2]=g,H[3]=m),O>I&&(O=I,H[0]=f,H[1]=g,H[2]=m,H[3]=l),O>S&&(H[0]=g,H[1]=m,H[2]=l,H[3]=f),H}detectSolid2(c){let l=c[0],f=c[1],g=c[2],m=c[3],C=this.transitionsBetween(l,m),w=xt.shiftPoint(f,g,4*(C+1)),I=xt.shiftPoint(g,f,4*(C+1));return this.transitionsBetween(w,l)<this.transitionsBetween(I,m)?(c[0]=l,c[1]=f,c[2]=g,c[3]=m):(c[0]=f,c[1]=g,c[2]=m,c[3]=l),c}correctTopRight(c){let l=c[0],f=c[1],g=c[2],m=c[3],C=this.transitionsBetween(l,m),w=this.transitionsBetween(f,m),I=xt.shiftPoint(l,f,4*(w+1)),S=xt.shiftPoint(g,f,4*(C+1));C=this.transitionsBetween(I,m),w=this.transitionsBetween(S,m);let O=new De(m.getX()+(g.getX()-f.getX())/(C+1),m.getY()+(g.getY()-f.getY())/(C+1)),H=new De(m.getX()+(l.getX()-f.getX())/(w+1),m.getY()+(l.getY()-f.getY())/(w+1));return this.isValid(O)?this.isValid(H)?this.transitionsBetween(I,O)+this.transitionsBetween(S,O)>this.transitionsBetween(I,H)+this.transitionsBetween(S,H)?O:H:O:this.isValid(H)?H:null}shiftToModuleCenter(c){let l=c[0],f=c[1],g=c[2],m=c[3],C=this.transitionsBetween(l,m)+1,w=this.transitionsBetween(g,m)+1,I=xt.shiftPoint(l,f,4*w),S=xt.shiftPoint(g,f,4*C);C=this.transitionsBetween(I,m)+1,w=this.transitionsBetween(S,m)+1,!(1&~C)&&(C+=1),!(1&~w)&&(w+=1);let W,Q,O=(l.getX()+f.getX()+g.getX()+m.getX())/4,H=(l.getY()+f.getY()+g.getY()+m.getY())/4;return l=xt.moveAway(l,O,H),f=xt.moveAway(f,O,H),g=xt.moveAway(g,O,H),m=xt.moveAway(m,O,H),I=xt.shiftPoint(l,f,4*w),I=xt.shiftPoint(I,m,4*C),W=xt.shiftPoint(f,l,4*w),W=xt.shiftPoint(W,g,4*C),S=xt.shiftPoint(g,m,4*w),S=xt.shiftPoint(S,f,4*C),Q=xt.shiftPoint(m,g,4*w),Q=xt.shiftPoint(Q,l,4*C),[I,W,S,Q]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,l,f,g,m,C,w){return st.getInstance().sampleGrid(c,C,w,.5,.5,C-.5,.5,C-.5,w-.5,.5,w-.5,l.getX(),l.getY(),m.getX(),m.getY(),g.getX(),g.getY(),f.getX(),f.getY())}transitionsBetween(c,l){let f=Math.trunc(c.getX()),g=Math.trunc(c.getY()),m=Math.trunc(l.getX()),C=Math.trunc(l.getY()),w=Math.abs(C-g)>Math.abs(m-f);if(w){let he=f;f=g,g=he,he=m,m=C,C=he}let I=Math.abs(m-f),S=Math.abs(C-g),O=-I/2,H=g<C?1:-1,W=f<m?1:-1,Q=0,se=this.image.get(w?g:f,w?f:g);for(let he=f,ve=g;he!==m;he+=W){let Ie=this.image.get(w?ve:he,w?he:ve);if(Ie!==se&&(Q++,se=Ie),O+=S,O>0){if(ve===C)break;ve+=H,O-=I}}return Q}}let Zn=(()=>{class A{constructor(){this.decoder=new Mn}decode(l,f=null){let g,m;if(null!=f&&f.has(Qe.PURE_BARCODE)){const O=A.extractPureBits(l.getBlackMatrix());g=this.decoder.decode(O),m=A.NO_POINTS}else{const O=new xt(l.getBlackMatrix()).detect();g=this.decoder.decode(O.getBits()),m=O.getPoints()}const C=g.getRawBytes(),w=new ct(g.getText(),C,8*C.length,m,Pe.DATA_MATRIX,fe.currentTimeMillis()),I=g.getByteSegments();null!=I&&w.putMetadata(Rt.BYTE_SEGMENTS,I);const S=g.getECLevel();return null!=S&&w.putMetadata(Rt.ERROR_CORRECTION_LEVEL,S),w}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),g=l.getBottomRightOnBit();if(null==f||null==g)throw new J;const m=this.moduleSize(f,l);let C=f[1],I=f[0];const O=(g[0]-I+1)/m,H=(g[1]-C+1)/m;if(O<=0||H<=0)throw new J;const W=m/2;C+=W,I+=W;const Q=new pe(O,H);for(let se=0;se<H;se++){const he=C+se*m;for(let ve=0;ve<O;ve++)l.get(I+ve*m,he)&&Q.set(ve,se)}return Q}static moduleSize(l,f){const g=f.getWidth();let m=l[0];const C=l[1];for(;m<g&&f.get(m,C);)m++;if(m===g)throw new J;const w=m-l[0];if(0===w)throw new J;return w}}return A.NO_POINTS=[],A})();var Wi=function(A){return A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H",A}(Wi||{});class tn{constructor(c,l,f){this.value=c,this.stringValue=l,this.bits=f,tn.FOR_BITS.set(f,this),tn.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return tn.L;case"M":return tn.M;case"Q":return tn.Q;case"H":return tn.H;default:throw new ne(c+"not available")}}toString(){return this.stringValue}equals(c){return c instanceof tn&&this.value===c.value}static forBits(c){if(c<0||c>=tn.FOR_BITS.size)throw new Z;return tn.FOR_BITS.get(c)}}tn.FOR_BITS=new Map,tn.FOR_VALUE=new Map,tn.L=new tn(Wi.L,"L",1),tn.M=new tn(Wi.M,"M",0),tn.Q=new tn(Wi.Q,"Q",3),tn.H=new tn(Wi.H,"H",2);class hr{constructor(c){this.errorCorrectionLevel=tn.forBits(c>>3&3),this.dataMask=7&c}static numBitsDiffering(c,l){return Oe.bitCount(c^l)}static decodeFormatInformation(c,l){const f=hr.doDecodeFormatInformation(c,l);return null!==f?f:hr.doDecodeFormatInformation(c^hr.FORMAT_INFO_MASK_QR,l^hr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,l){let f=Number.MAX_SAFE_INTEGER,g=0;for(const m of hr.FORMAT_INFO_DECODE_LOOKUP){const C=m[0];if(C===c||C===l)return new hr(m[1]);let w=hr.numBitsDiffering(c,C);w<f&&(g=m[1],f=w),c!==l&&(w=hr.numBitsDiffering(l,C),w<f&&(g=m[1],f=w))}return f<=3?new hr(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){return c instanceof hr&&this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}hr.FORMAT_INFO_MASK_QR=21522,hr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class xe{constructor(c,...l){this.ecCodewordsPerBlock=c,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const l=this.ecBlocks;for(const f of l)c+=f.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class K{constructor(c,l){this.count=c,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(c,l,...f){this.versionNumber=c,this.alignmentPatternCenters=l,this.ecBlocks=f;let g=0;const m=f[0].getECCodewordsPerBlock(),C=f[0].getECBlocks();for(const w of C)g+=w.getCount()*(w.getDataCodewords()+m);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!=1)throw new ke;try{return this.getVersionForNumber((c-17)/4)}catch{throw new ke}}static getVersionForNumber(c){if(c<1||c>40)throw new Z;return ot.VERSIONS[c-1]}static decodeVersionInformation(c){let l=Number.MAX_SAFE_INTEGER,f=0;for(let g=0;g<ot.VERSION_DECODE_INFO.length;g++){const m=ot.VERSION_DECODE_INFO[g];if(m===c)return ot.getVersionForNumber(g+7);const C=hr.numBitsDiffering(c,m);C<l&&(f=g+7,l=C)}return l<=3?ot.getVersionForNumber(f):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),l=new pe(c);l.setRegion(0,0,9,9),l.setRegion(c-8,0,8,9),l.setRegion(0,c-8,9,8);const f=this.alignmentPatternCenters.length;for(let g=0;g<f;g++){const m=this.alignmentPatternCenters[g]-2;for(let C=0;C<f;C++)0===g&&(0===C||C===f-1)||g===f-1&&0===C||l.setRegion(this.alignmentPatternCenters[C]-2,m,5,5)}return l.setRegion(6,9,1,c-17),l.setRegion(9,6,c-17,1),this.versionNumber>6&&(l.setRegion(c-11,0,3,6),l.setRegion(0,c-11,6,3)),l}toString(){return""+this.versionNumber}}ot.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ot.VERSIONS=[new ot(1,new Int32Array(0),new xe(7,new K(1,19)),new xe(10,new K(1,16)),new xe(13,new K(1,13)),new xe(17,new K(1,9))),new ot(2,Int32Array.from([6,18]),new xe(10,new K(1,34)),new xe(16,new K(1,28)),new xe(22,new K(1,22)),new xe(28,new K(1,16))),new ot(3,Int32Array.from([6,22]),new xe(15,new K(1,55)),new xe(26,new K(1,44)),new xe(18,new K(2,17)),new xe(22,new K(2,13))),new ot(4,Int32Array.from([6,26]),new xe(20,new K(1,80)),new xe(18,new K(2,32)),new xe(26,new K(2,24)),new xe(16,new K(4,9))),new ot(5,Int32Array.from([6,30]),new xe(26,new K(1,108)),new xe(24,new K(2,43)),new xe(18,new K(2,15),new K(2,16)),new xe(22,new K(2,11),new K(2,12))),new ot(6,Int32Array.from([6,34]),new xe(18,new K(2,68)),new xe(16,new K(4,27)),new xe(24,new K(4,19)),new xe(28,new K(4,15))),new ot(7,Int32Array.from([6,22,38]),new xe(20,new K(2,78)),new xe(18,new K(4,31)),new xe(18,new K(2,14),new K(4,15)),new xe(26,new K(4,13),new K(1,14))),new ot(8,Int32Array.from([6,24,42]),new xe(24,new K(2,97)),new xe(22,new K(2,38),new K(2,39)),new xe(22,new K(4,18),new K(2,19)),new xe(26,new K(4,14),new K(2,15))),new ot(9,Int32Array.from([6,26,46]),new xe(30,new K(2,116)),new xe(22,new K(3,36),new K(2,37)),new xe(20,new K(4,16),new K(4,17)),new xe(24,new K(4,12),new K(4,13))),new ot(10,Int32Array.from([6,28,50]),new xe(18,new K(2,68),new K(2,69)),new xe(26,new K(4,43),new K(1,44)),new xe(24,new K(6,19),new K(2,20)),new xe(28,new K(6,15),new K(2,16))),new ot(11,Int32Array.from([6,30,54]),new xe(20,new K(4,81)),new xe(30,new K(1,50),new K(4,51)),new xe(28,new K(4,22),new K(4,23)),new xe(24,new K(3,12),new K(8,13))),new ot(12,Int32Array.from([6,32,58]),new xe(24,new K(2,92),new K(2,93)),new xe(22,new K(6,36),new K(2,37)),new xe(26,new K(4,20),new K(6,21)),new xe(28,new K(7,14),new K(4,15))),new ot(13,Int32Array.from([6,34,62]),new xe(26,new K(4,107)),new xe(22,new K(8,37),new K(1,38)),new xe(24,new K(8,20),new K(4,21)),new xe(22,new K(12,11),new K(4,12))),new ot(14,Int32Array.from([6,26,46,66]),new xe(30,new K(3,115),new K(1,116)),new xe(24,new K(4,40),new K(5,41)),new xe(20,new K(11,16),new K(5,17)),new xe(24,new K(11,12),new K(5,13))),new ot(15,Int32Array.from([6,26,48,70]),new xe(22,new K(5,87),new K(1,88)),new xe(24,new K(5,41),new K(5,42)),new xe(30,new K(5,24),new K(7,25)),new xe(24,new K(11,12),new K(7,13))),new ot(16,Int32Array.from([6,26,50,74]),new xe(24,new K(5,98),new K(1,99)),new xe(28,new K(7,45),new K(3,46)),new xe(24,new K(15,19),new K(2,20)),new xe(30,new K(3,15),new K(13,16))),new ot(17,Int32Array.from([6,30,54,78]),new xe(28,new K(1,107),new K(5,108)),new xe(28,new K(10,46),new K(1,47)),new xe(28,new K(1,22),new K(15,23)),new xe(28,new K(2,14),new K(17,15))),new ot(18,Int32Array.from([6,30,56,82]),new xe(30,new K(5,120),new K(1,121)),new xe(26,new K(9,43),new K(4,44)),new xe(28,new K(17,22),new K(1,23)),new xe(28,new K(2,14),new K(19,15))),new ot(19,Int32Array.from([6,30,58,86]),new xe(28,new K(3,113),new K(4,114)),new xe(26,new K(3,44),new K(11,45)),new xe(26,new K(17,21),new K(4,22)),new xe(26,new K(9,13),new K(16,14))),new ot(20,Int32Array.from([6,34,62,90]),new xe(28,new K(3,107),new K(5,108)),new xe(26,new K(3,41),new K(13,42)),new xe(30,new K(15,24),new K(5,25)),new xe(28,new K(15,15),new K(10,16))),new ot(21,Int32Array.from([6,28,50,72,94]),new xe(28,new K(4,116),new K(4,117)),new xe(26,new K(17,42)),new xe(28,new K(17,22),new K(6,23)),new xe(30,new K(19,16),new K(6,17))),new ot(22,Int32Array.from([6,26,50,74,98]),new xe(28,new K(2,111),new K(7,112)),new xe(28,new K(17,46)),new xe(30,new K(7,24),new K(16,25)),new xe(24,new K(34,13))),new ot(23,Int32Array.from([6,30,54,78,102]),new xe(30,new K(4,121),new K(5,122)),new xe(28,new K(4,47),new K(14,48)),new xe(30,new K(11,24),new K(14,25)),new xe(30,new K(16,15),new K(14,16))),new ot(24,Int32Array.from([6,28,54,80,106]),new xe(30,new K(6,117),new K(4,118)),new xe(28,new K(6,45),new K(14,46)),new xe(30,new K(11,24),new K(16,25)),new xe(30,new K(30,16),new K(2,17))),new ot(25,Int32Array.from([6,32,58,84,110]),new xe(26,new K(8,106),new K(4,107)),new xe(28,new K(8,47),new K(13,48)),new xe(30,new K(7,24),new K(22,25)),new xe(30,new K(22,15),new K(13,16))),new ot(26,Int32Array.from([6,30,58,86,114]),new xe(28,new K(10,114),new K(2,115)),new xe(28,new K(19,46),new K(4,47)),new xe(28,new K(28,22),new K(6,23)),new xe(30,new K(33,16),new K(4,17))),new ot(27,Int32Array.from([6,34,62,90,118]),new xe(30,new K(8,122),new K(4,123)),new xe(28,new K(22,45),new K(3,46)),new xe(30,new K(8,23),new K(26,24)),new xe(30,new K(12,15),new K(28,16))),new ot(28,Int32Array.from([6,26,50,74,98,122]),new xe(30,new K(3,117),new K(10,118)),new xe(28,new K(3,45),new K(23,46)),new xe(30,new K(4,24),new K(31,25)),new xe(30,new K(11,15),new K(31,16))),new ot(29,Int32Array.from([6,30,54,78,102,126]),new xe(30,new K(7,116),new K(7,117)),new xe(28,new K(21,45),new K(7,46)),new xe(30,new K(1,23),new K(37,24)),new xe(30,new K(19,15),new K(26,16))),new ot(30,Int32Array.from([6,26,52,78,104,130]),new xe(30,new K(5,115),new K(10,116)),new xe(28,new K(19,47),new K(10,48)),new xe(30,new K(15,24),new K(25,25)),new xe(30,new K(23,15),new K(25,16))),new ot(31,Int32Array.from([6,30,56,82,108,134]),new xe(30,new K(13,115),new K(3,116)),new xe(28,new K(2,46),new K(29,47)),new xe(30,new K(42,24),new K(1,25)),new xe(30,new K(23,15),new K(28,16))),new ot(32,Int32Array.from([6,34,60,86,112,138]),new xe(30,new K(17,115)),new xe(28,new K(10,46),new K(23,47)),new xe(30,new K(10,24),new K(35,25)),new xe(30,new K(19,15),new K(35,16))),new ot(33,Int32Array.from([6,30,58,86,114,142]),new xe(30,new K(17,115),new K(1,116)),new xe(28,new K(14,46),new K(21,47)),new xe(30,new K(29,24),new K(19,25)),new xe(30,new K(11,15),new K(46,16))),new ot(34,Int32Array.from([6,34,62,90,118,146]),new xe(30,new K(13,115),new K(6,116)),new xe(28,new K(14,46),new K(23,47)),new xe(30,new K(44,24),new K(7,25)),new xe(30,new K(59,16),new K(1,17))),new ot(35,Int32Array.from([6,30,54,78,102,126,150]),new xe(30,new K(12,121),new K(7,122)),new xe(28,new K(12,47),new K(26,48)),new xe(30,new K(39,24),new K(14,25)),new xe(30,new K(22,15),new K(41,16))),new ot(36,Int32Array.from([6,24,50,76,102,128,154]),new xe(30,new K(6,121),new K(14,122)),new xe(28,new K(6,47),new K(34,48)),new xe(30,new K(46,24),new K(10,25)),new xe(30,new K(2,15),new K(64,16))),new ot(37,Int32Array.from([6,28,54,80,106,132,158]),new xe(30,new K(17,122),new K(4,123)),new xe(28,new K(29,46),new K(14,47)),new xe(30,new K(49,24),new K(10,25)),new xe(30,new K(24,15),new K(46,16))),new ot(38,Int32Array.from([6,32,58,84,110,136,162]),new xe(30,new K(4,122),new K(18,123)),new xe(28,new K(13,46),new K(32,47)),new xe(30,new K(48,24),new K(14,25)),new xe(30,new K(42,15),new K(32,16))),new ot(39,Int32Array.from([6,26,54,82,110,138,166]),new xe(30,new K(20,117),new K(4,118)),new xe(28,new K(40,47),new K(7,48)),new xe(30,new K(43,24),new K(22,25)),new xe(30,new K(10,15),new K(67,16))),new ot(40,Int32Array.from([6,30,58,86,114,142,170]),new xe(30,new K(19,118),new K(6,119)),new xe(28,new K(18,47),new K(31,48)),new xe(30,new K(34,24),new K(34,25)),new xe(30,new K(20,15),new K(61,16)))];var bn=function(A){return A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111",A}(bn||{});class mr{constructor(c,l){this.value=c,this.isMasked=l}unmaskBitMatrix(c,l){for(let f=0;f<l;f++)for(let g=0;g<l;g++)this.isMasked(f,g)&&c.flip(g,f)}}mr.values=new Map([[bn.DATA_MASK_000,new mr(bn.DATA_MASK_000,(A,c)=>!(A+c&1))],[bn.DATA_MASK_001,new mr(bn.DATA_MASK_001,(A,c)=>!(1&A))],[bn.DATA_MASK_010,new mr(bn.DATA_MASK_010,(A,c)=>c%3==0)],[bn.DATA_MASK_011,new mr(bn.DATA_MASK_011,(A,c)=>(A+c)%3==0)],[bn.DATA_MASK_100,new mr(bn.DATA_MASK_100,(A,c)=>!(Math.floor(A/2)+Math.floor(c/3)&1))],[bn.DATA_MASK_101,new mr(bn.DATA_MASK_101,(A,c)=>A*c%6==0)],[bn.DATA_MASK_110,new mr(bn.DATA_MASK_110,(A,c)=>A*c%6<3)],[bn.DATA_MASK_111,new mr(bn.DATA_MASK_111,(A,c)=>!(A+c+A*c%3&1))]]);class Ts{constructor(c){const l=c.getHeight();if(l<21||1!=(3&l))throw new ke;this.bitMatrix=c}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let c=0;for(let m=0;m<6;m++)c=this.copyBit(m,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let m=5;m>=0;m--)c=this.copyBit(8,m,c);const l=this.bitMatrix.getHeight();let f=0;const g=l-7;for(let m=l-1;m>=g;m--)f=this.copyBit(8,m,f);for(let m=l-8;m<l;m++)f=this.copyBit(m,8,f);if(this.parsedFormatInfo=hr.decodeFormatInformation(c,f),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new ke}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const c=this.bitMatrix.getHeight(),l=Math.floor((c-17)/4);if(l<=6)return ot.getVersionForNumber(l);let f=0;const g=c-11;for(let C=5;C>=0;C--)for(let w=c-9;w>=g;w--)f=this.copyBit(w,C,f);let m=ot.decodeVersionInformation(f);if(null!==m&&m.getDimensionForVersion()===c)return this.parsedVersion=m,m;f=0;for(let C=5;C>=0;C--)for(let w=c-9;w>=g;w--)f=this.copyBit(C,w,f);if(m=ot.decodeVersionInformation(f),null!==m&&m.getDimensionForVersion()===c)return this.parsedVersion=m,m;throw new ke}copyBit(c,l,f){return(this.isMirror?this.bitMatrix.get(l,c):this.bitMatrix.get(c,l))?f<<1|1:f<<1}readCodewords(){const c=this.readFormatInformation(),l=this.readVersion(),f=mr.values.get(c.getDataMask()),g=this.bitMatrix.getHeight();f.unmaskBitMatrix(this.bitMatrix,g);const m=l.buildFunctionPattern();let C=!0;const w=new Uint8Array(l.getTotalCodewords());let I=0,S=0,O=0;for(let H=g-1;H>0;H-=2){6===H&&H--;for(let W=0;W<g;W++){const Q=C?g-1-W:W;for(let se=0;se<2;se++)m.get(H-se,Q)||(O++,S<<=1,this.bitMatrix.get(H-se,Q)&&(S|=1),8===O&&(w[I++]=S,O=0,S=0))}C=!C}if(I!==l.getTotalCodewords())throw new ke;return w}remask(){if(null===this.parsedFormatInfo)return;const c=mr.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,l)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let l=0,f=c.getWidth();l<f;l++)for(let g=l+1,m=c.getHeight();g<m;g++)c.get(l,g)!==c.get(g,l)&&(c.flip(g,l),c.flip(l,g))}}class Ft{constructor(c,l){this.numDataCodewords=c,this.codewords=l}static getDataBlocks(c,l,f){if(c.length!==l.getTotalCodewords())throw new Z;const g=l.getECBlocksForLevel(f);let m=0;const C=g.getECBlocks();for(const se of C)m+=se.getCount();const w=new Array(m);let I=0;for(const se of C)for(let he=0;he<se.getCount();he++){const ve=se.getDataCodewords(),Ie=g.getECCodewordsPerBlock()+ve;w[I++]=new Ft(ve,new Uint8Array(Ie))}const S=w[0].codewords.length;let O=w.length-1;for(;O>=0&&w[O].codewords.length!==S;)O--;O++;const H=S-g.getECCodewordsPerBlock();let W=0;for(let se=0;se<H;se++)for(let he=0;he<I;he++)w[he].codewords[se]=c[W++];for(let se=O;se<I;se++)w[se].codewords[H]=c[W++];const Q=w[0].codewords.length;for(let se=H;se<Q;se++)for(let he=0;he<I;he++)w[he].codewords[he<O?se:se+1]=c[W++];return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tt=function(A){return A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI",A}(Tt||{});class At{constructor(c,l,f,g){this.value=c,this.stringValue=l,this.characterCountBitsForVersions=f,this.bits=g,At.FOR_BITS.set(g,this),At.FOR_VALUE.set(c,this)}static forBits(c){const l=At.FOR_BITS.get(c);if(void 0===l)throw new Z;return l}getCharacterCountBits(c){const l=c.getVersionNumber();let f;return f=l<=9?0:l<=26?1:2,this.characterCountBitsForVersions[f]}getValue(){return this.value}getBits(){return this.bits}equals(c){return c instanceof At&&this.value===c.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(Tt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(Tt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(Tt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(Tt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(Tt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(Tt.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(Tt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(Tt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(Tt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(Tt.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let da=(()=>{class A{static decode(l,f,g,m){const C=new ar(l);let w=new le;const I=new Array;let S=-1,O=-1;try{let Q,H=null,W=!1;do{if(C.available()<4)Q=At.TERMINATOR;else{const se=C.readBits(4);Q=At.forBits(se)}switch(Q){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:W=!0;break;case At.STRUCTURED_APPEND:if(C.available()<16)throw new ke;S=C.readBits(8),O=C.readBits(8);break;case At.ECI:const se=A.parseECIValue(C);if(H=Ce.getCharacterSetECIByValue(se),null===H)throw new ke;break;case At.HANZI:const he=C.readBits(4),ve=C.readBits(Q.getCharacterCountBits(f));he===A.GB2312_SUBSET&&A.decodeHanziSegment(C,w,ve);break;default:const Ie=C.readBits(Q.getCharacterCountBits(f));switch(Q){case At.NUMERIC:A.decodeNumericSegment(C,w,Ie);break;case At.ALPHANUMERIC:A.decodeAlphanumericSegment(C,w,Ie,W);break;case At.BYTE:A.decodeByteSegment(C,w,Ie,H,I,m);break;case At.KANJI:A.decodeKanjiSegment(C,w,Ie);break;default:throw new ke}}}while(Q!==At.TERMINATOR)}catch{throw new ke}return new Fn(l,w.toString(),0===I.length?null:I,null===g?null:g.toString(),S,O)}static decodeHanziSegment(l,f,g){if(13*g>l.available())throw new ke;const m=new Uint8Array(2*g);let C=0;for(;g>0;){const w=l.readBits(13);let I=w/96<<8&4294967295|w%96;I+=I<959?41377:42657,m[C]=I>>8&255,m[C+1]=255&I,C+=2,g--}try{f.append(ee.decode(m,X.GB2312))}catch(w){throw new ke(w)}}static decodeKanjiSegment(l,f,g){if(13*g>l.available())throw new ke;const m=new Uint8Array(2*g);let C=0;for(;g>0;){const w=l.readBits(13);let I=w/192<<8&4294967295|w%192;I+=I<7936?33088:49472,m[C]=I>>8,m[C+1]=I,C+=2,g--}try{f.append(ee.decode(m,X.SHIFT_JIS))}catch(w){throw new ke(w)}}static decodeByteSegment(l,f,g,m,C,w){if(8*g>l.available())throw new ke;const I=new Uint8Array(g);for(let O=0;O<g;O++)I[O]=l.readBits(8);let S;S=null===m?X.guessEncoding(I,w):m.getName();try{f.append(ee.decode(I,S))}catch(O){throw new ke(O)}C.push(I)}static toAlphaNumericChar(l){if(l>=A.ALPHANUMERIC_CHARS.length)throw new ke;return A.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,g,m){const C=f.length();for(;g>1;){if(l.available()<11)throw new ke;const w=l.readBits(11);f.append(A.toAlphaNumericChar(Math.floor(w/45))),f.append(A.toAlphaNumericChar(w%45)),g-=2}if(1===g){if(l.available()<6)throw new ke;f.append(A.toAlphaNumericChar(l.readBits(6)))}if(m)for(let w=C;w<f.length();w++)"%"===f.charAt(w)&&(w<f.length()-1&&"%"===f.charAt(w+1)?f.deleteCharAt(w+1):f.setCharAt(w,"\x1d"))}static decodeNumericSegment(l,f,g){for(;g>=3;){if(l.available()<10)throw new ke;const m=l.readBits(10);if(m>=1e3)throw new ke;f.append(A.toAlphaNumericChar(Math.floor(m/100))),f.append(A.toAlphaNumericChar(Math.floor(m/10)%10)),f.append(A.toAlphaNumericChar(m%10)),g-=3}if(2===g){if(l.available()<7)throw new ke;const m=l.readBits(7);if(m>=100)throw new ke;f.append(A.toAlphaNumericChar(Math.floor(m/10))),f.append(A.toAlphaNumericChar(m%10))}else if(1===g){if(l.available()<4)throw new ke;const m=l.readBits(4);if(m>=10)throw new ke;f.append(A.toAlphaNumericChar(m))}}static parseECIValue(l){const f=l.readBits(8);if(!(128&f))return 127&f;if(128==(192&f))return(63&f)<<8&4294967295|l.readBits(8);if(192==(224&f))return(31&f)<<16&4294967295|l.readBits(16);throw new ke}}return A.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",A.GB2312_SUBSET=1,A})();class As{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||null===c||c.length<3)return;const l=c[0];c[0]=c[2],c[2]=l}}class Lc{constructor(){this.rsDecoder=new pn(pt.QR_CODE_FIELD_256)}decodeBooleanArray(c,l){return this.decodeBitMatrix(pe.parseFromBooleanArray(c),l)}decodeBitMatrix(c,l){const f=new Ts(c);let g=null;try{return this.decodeBitMatrixParser(f,l)}catch(m){g=m}try{f.remask(),f.setMirror(!0),f.readVersion(),f.readFormatInformation(),f.mirror();const m=this.decodeBitMatrixParser(f,l);return m.setOther(new As(!0)),m}catch(m){throw null!==g?g:m}}decodeBitMatrixParser(c,l){const f=c.readVersion(),g=c.readFormatInformation().getErrorCorrectionLevel(),m=c.readCodewords(),C=Ft.getDataBlocks(m,f,g);let w=0;for(const O of C)w+=O.getNumDataCodewords();const I=new Uint8Array(w);let S=0;for(const O of C){const H=O.getCodewords(),W=O.getNumDataCodewords();this.correctErrors(H,W);for(let Q=0;Q<W;Q++)I[S++]=H[Q]}return da.decode(I,f,g,l)}correctErrors(c,l){const f=new Int32Array(c);try{this.rsDecoder.decode(f,c.length-l)}catch{throw new te}for(let g=0;g<l;g++)c[g]=f[g]}}class Ms extends De{constructor(c,l,f){super(c,l),this.estimatedModuleSize=f}aboutEquals(c,l,f){if(Math.abs(l-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,l,f){const g=(this.getX()+l)/2,m=(this.getY()+c)/2;return new Ms(g,m,(this.estimatedModuleSize+f)/2)}}class Zi{constructor(c,l,f,g,m,C,w){this.image=c,this.startX=l,this.startY=f,this.width=g,this.height=m,this.moduleSize=C,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,l=this.height,g=c+this.width,m=this.startY+l/2,C=new Int32Array(3),w=this.image;for(let I=0;I<l;I++){const S=m+(1&I?-Math.floor((I+1)/2):Math.floor((I+1)/2));C[0]=0,C[1]=0,C[2]=0;let O=c;for(;O<g&&!w.get(O,S);)O++;let H=0;for(;O<g;){if(w.get(O,S))if(1===H)C[1]++;else if(2===H){if(this.foundPatternCross(C)){const W=this.handlePossibleCenter(C,S,O);if(null!==W)return W}C[0]=C[2],C[1]=1,C[2]=0,H=1}else C[++H]++;else 1===H&&H++,C[H]++;O++}if(this.foundPatternCross(C)){const W=this.handlePossibleCenter(C,S,g);if(null!==W)return W}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new J}static centerFromEnd(c,l){return l-c[2]-c[1]/2}foundPatternCross(c){const l=this.moduleSize,f=l/2;for(let g=0;g<3;g++)if(Math.abs(l-c[g])>=f)return!1;return!0}crossCheckVertical(c,l,f,g){const m=this.image,C=m.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let I=c;for(;I>=0&&m.get(l,I)&&w[1]<=f;)w[1]++,I--;if(I<0||w[1]>f)return NaN;for(;I>=0&&!m.get(l,I)&&w[0]<=f;)w[0]++,I--;if(w[0]>f)return NaN;for(I=c+1;I<C&&m.get(l,I)&&w[1]<=f;)w[1]++,I++;if(I===C||w[1]>f)return NaN;for(;I<C&&!m.get(l,I)&&w[2]<=f;)w[2]++,I++;return w[2]>f||5*Math.abs(w[0]+w[1]+w[2]-g)>=2*g?NaN:this.foundPatternCross(w)?Zi.centerFromEnd(w,I):NaN}handlePossibleCenter(c,l,f){const g=c[0]+c[1]+c[2],m=Zi.centerFromEnd(c,f),C=this.crossCheckVertical(l,m,2*c[1],g);if(!isNaN(C)){const w=(c[0]+c[1]+c[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(w,C,m))return S.combineEstimate(C,m,w);const I=new Ms(m,C,w);this.possibleCenters.push(I),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(I)}return null}}class Qt extends De{constructor(c,l,f,g){super(c,l),this.estimatedModuleSize=f,this.count=g,void 0===g&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,l,f){if(Math.abs(l-this.getY())<=c&&Math.abs(f-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,l,f){const g=this.count+1,m=(this.count*this.getX()+l)/g,C=(this.count*this.getY()+c)/g;return new Qt(m,C,(this.count*this.estimatedModuleSize+f)/g,g)}}class Ns{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let Fc=(()=>{class A{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=null!=l&&void 0!==l.get(Qe.TRY_HARDER),g=null!=l&&void 0!==l.get(Qe.PURE_BARCODE),m=this.image,C=m.getHeight(),w=m.getWidth();let I=Math.floor(3*C/(4*A.MAX_MODULES));(I<A.MIN_SKIP||f)&&(I=A.MIN_SKIP);let S=!1;const O=new Int32Array(5);for(let W=I-1;W<C&&!S;W+=I){O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0;let Q=0;for(let se=0;se<w;se++)if(m.get(se,W))!(1&~Q)&&Q++,O[Q]++;else if(1&Q)O[Q]++;else if(4===Q)if(A.foundPatternCross(O)){if(!0!==this.handlePossibleCenter(O,W,se,g)){O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,Q=3;continue}if(I=2,!0===this.hasSkipped)S=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>O[2]&&(W+=ve-O[2]-I,se=w-1)}Q=0,O[0]=0,O[1]=0,O[2]=0,O[3]=0,O[4]=0}else O[0]=O[2],O[1]=O[3],O[2]=O[4],O[3]=1,O[4]=0,Q=3;else O[++Q]++;A.foundPatternCross(O)&&!0===this.handlePossibleCenter(O,W,w,g)&&(I=O[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const H=this.selectBestPatterns();return De.orderBestPatterns(H),new Ns(H)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let C=0;C<5;C++){const w=l[C];if(0===w)return!1;f+=w}if(f<7)return!1;const g=f/7,m=g/2;return Math.abs(g-l[0])<m&&Math.abs(g-l[1])<m&&Math.abs(3*g-l[2])<3*m&&Math.abs(g-l[3])<m&&Math.abs(g-l[4])<m}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,g,m){const C=this.getCrossCheckStateCount();let w=0;const I=this.image;for(;l>=w&&f>=w&&I.get(f-w,l-w);)C[2]++,w++;if(l<w||f<w)return!1;for(;l>=w&&f>=w&&!I.get(f-w,l-w)&&C[1]<=g;)C[1]++,w++;if(l<w||f<w||C[1]>g)return!1;for(;l>=w&&f>=w&&I.get(f-w,l-w)&&C[0]<=g;)C[0]++,w++;if(C[0]>g)return!1;const S=I.getHeight(),O=I.getWidth();for(w=1;l+w<S&&f+w<O&&I.get(f+w,l+w);)C[2]++,w++;if(l+w>=S||f+w>=O)return!1;for(;l+w<S&&f+w<O&&!I.get(f+w,l+w)&&C[3]<g;)C[3]++,w++;if(l+w>=S||f+w>=O||C[3]>=g)return!1;for(;l+w<S&&f+w<O&&I.get(f+w,l+w)&&C[4]<g;)C[4]++,w++;return!(C[4]>=g)&&Math.abs(C[0]+C[1]+C[2]+C[3]+C[4]-m)<2*m&&A.foundPatternCross(C)}crossCheckVertical(l,f,g,m){const C=this.image,w=C.getHeight(),I=this.getCrossCheckStateCount();let S=l;for(;S>=0&&C.get(f,S);)I[2]++,S--;if(S<0)return NaN;for(;S>=0&&!C.get(f,S)&&I[1]<=g;)I[1]++,S--;if(S<0||I[1]>g)return NaN;for(;S>=0&&C.get(f,S)&&I[0]<=g;)I[0]++,S--;if(I[0]>g)return NaN;for(S=l+1;S<w&&C.get(f,S);)I[2]++,S++;if(S===w)return NaN;for(;S<w&&!C.get(f,S)&&I[3]<g;)I[3]++,S++;if(S===w||I[3]>=g)return NaN;for(;S<w&&C.get(f,S)&&I[4]<g;)I[4]++,S++;return I[4]>=g||5*Math.abs(I[0]+I[1]+I[2]+I[3]+I[4]-m)>=2*m?NaN:A.foundPatternCross(I)?A.centerFromEnd(I,S):NaN}crossCheckHorizontal(l,f,g,m){const C=this.image,w=C.getWidth(),I=this.getCrossCheckStateCount();let S=l;for(;S>=0&&C.get(S,f);)I[2]++,S--;if(S<0)return NaN;for(;S>=0&&!C.get(S,f)&&I[1]<=g;)I[1]++,S--;if(S<0||I[1]>g)return NaN;for(;S>=0&&C.get(S,f)&&I[0]<=g;)I[0]++,S--;if(I[0]>g)return NaN;for(S=l+1;S<w&&C.get(S,f);)I[2]++,S++;if(S===w)return NaN;for(;S<w&&!C.get(S,f)&&I[3]<g;)I[3]++,S++;if(S===w||I[3]>=g)return NaN;for(;S<w&&C.get(S,f)&&I[4]<g;)I[4]++,S++;return I[4]>=g||5*Math.abs(I[0]+I[1]+I[2]+I[3]+I[4]-m)>=m?NaN:A.foundPatternCross(I)?A.centerFromEnd(I,S):NaN}handlePossibleCenter(l,f,g,m){const C=l[0]+l[1]+l[2]+l[3]+l[4];let w=A.centerFromEnd(l,g),I=this.crossCheckVertical(f,Math.floor(w),l[2],C);if(!isNaN(I)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(I),l[2],C),!isNaN(w)&&(!m||this.crossCheckDiagonal(Math.floor(I),Math.floor(w),l[2],C)))){const S=C/7;let O=!1;const H=this.possibleCenters;for(let W=0,Q=H.length;W<Q;W++){const se=H[W];if(se.aboutEquals(S,I,w)){H[W]=se.combineEstimate(I,w,S),O=!0;break}}if(!O){const W=new Qt(w,I,S);H.push(W),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(W)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const g of this.possibleCenters)if(g.getCount()>=A.CENTER_QUORUM){if(null!=f)return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-g.getX())-Math.abs(f.getY()-g.getY()))/2);f=g}return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const g=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=A.CENTER_QUORUM&&(l++,f+=w.getEstimatedModuleSize());if(l<3)return!1;const m=f/g;let C=0;for(const w of this.possibleCenters)C+=Math.abs(w.getEstimatedModuleSize()-m);return C<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new J;const f=this.possibleCenters;let g;if(l>3){let m=0,C=0;for(const S of this.possibleCenters){const O=S.getEstimatedModuleSize();m+=O,C+=O*O}g=m/l;let w=Math.sqrt(C/l-g*g);f.sort((S,O)=>{const H=Math.abs(O.getEstimatedModuleSize()-g),W=Math.abs(S.getEstimatedModuleSize()-g);return H<W?-1:H>W?1:0});const I=Math.max(.2*g,w);for(let S=0;S<f.length&&f.length>3;S++)Math.abs(f[S].getEstimatedModuleSize()-g)>I&&(f.splice(S,1),S--)}if(f.length>3){let m=0;for(const C of f)m+=C.getEstimatedModuleSize();g=m/f.length,f.sort((C,w)=>{if(w.getCount()===C.getCount()){const I=Math.abs(w.getEstimatedModuleSize()-g),S=Math.abs(C.getEstimatedModuleSize()-g);return I<S?1:I>S?-1:0}return w.getCount()-C.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}return A.CENTER_QUORUM=2,A.MIN_SKIP=3,A.MAX_MODULES=57,A})();class bt{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=null==c?null:c.get(Qe.NEED_RESULT_POINT_CALLBACK);const f=new Fc(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(f)}processFinderPatternInfo(c){const l=c.getTopLeft(),f=c.getTopRight(),g=c.getBottomLeft(),m=this.calculateModuleSize(l,f,g);if(m<1)throw new J("No pattern found in proccess finder.");const C=bt.computeDimension(l,f,g,m),w=ot.getProvisionalVersionForDimension(C),I=w.getDimensionForVersion()-7;let S=null;if(w.getAlignmentPatternCenters().length>0){const Q=f.getX()-l.getX()+g.getX(),se=f.getY()-l.getY()+g.getY(),he=1-3/I,ve=Math.floor(l.getX()+he*(Q-l.getX())),Ie=Math.floor(l.getY()+he*(se-l.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{S=this.findAlignmentInRegion(m,ve,Ie,Ze);break}catch(it){if(!(it instanceof J))throw it}}const O=bt.createTransform(l,f,g,S,C),H=bt.sampleGrid(this.image,O,C);let W;return W=null===S?[g,l,f]:[g,l,f,S],new tr(H,W)}static createTransform(c,l,f,g,m){const C=m-3.5;let w,I,S,O;return null!==g?(w=g.getX(),I=g.getY(),S=C-3,O=S):(w=l.getX()-c.getX()+f.getX(),I=l.getY()-c.getY()+f.getY(),S=C,O=C),Yt.quadrilateralToQuadrilateral(3.5,3.5,C,3.5,S,O,3.5,C,c.getX(),c.getY(),l.getX(),l.getY(),w,I,f.getX(),f.getY())}static sampleGrid(c,l,f){return st.getInstance().sampleGridWithTransform(c,f,f,l)}static computeDimension(c,l,f,g){const m=Et.round(De.distance(c,l)/g),C=Et.round(De.distance(c,f)/g);let w=Math.floor((m+C)/2)+7;switch(3&w){case 0:w++;break;case 2:w--;break;case 3:throw new J("Dimensions could be not found.")}return w}calculateModuleSize(c,l,f){return(this.calculateModuleSizeOneWay(c,l)+this.calculateModuleSizeOneWay(c,f))/2}calculateModuleSizeOneWay(c,l){const f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(l.getX()),Math.floor(l.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(f)?g/7:isNaN(g)?f/7:(f+g)/14}sizeOfBlackWhiteBlackRunBothWays(c,l,f,g){let m=this.sizeOfBlackWhiteBlackRun(c,l,f,g),C=1,w=c-(f-c);w<0?(C=c/(c-w),w=0):w>=this.image.getWidth()&&(C=(this.image.getWidth()-1-c)/(w-c),w=this.image.getWidth()-1);let I=Math.floor(l-(g-l)*C);return C=1,I<0?(C=l/(l-I),I=0):I>=this.image.getHeight()&&(C=(this.image.getHeight()-1-l)/(I-l),I=this.image.getHeight()-1),w=Math.floor(c+(w-c)*C),m+=this.sizeOfBlackWhiteBlackRun(c,l,w,I),m-1}sizeOfBlackWhiteBlackRun(c,l,f,g){const m=Math.abs(g-l)>Math.abs(f-c);if(m){let Q=c;c=l,l=Q,Q=f,f=g,g=Q}const C=Math.abs(f-c),w=Math.abs(g-l);let I=-C/2;const S=c<f?1:-1,O=l<g?1:-1;let H=0;const W=f+S;for(let Q=c,se=l;Q!==W;Q+=S){if(1===H===this.image.get(m?se:Q,m?Q:se)){if(2===H)return Et.distance(Q,se,c,l);H++}if(I+=w,I>0){if(se===g)break;se+=O,I-=C}}return 2===H?Et.distance(f+S,g,c,l):NaN}findAlignmentInRegion(c,l,f,g){const m=Math.floor(g*c),C=Math.max(0,l-m),w=Math.min(this.image.getWidth()-1,l+m);if(w-C<3*c)throw new J("Alignment top exceeds estimated module size.");const I=Math.max(0,f-m),S=Math.min(this.image.getHeight()-1,f+m);if(S-I<3*c)throw new J("Alignment bottom exceeds estimated module size.");return new Zi(this.image,C,I,w-C,S-I,c,this.resultPointCallback).find()}}class br{constructor(){this.decoder=new Lc}getDecoder(){return this.decoder}decode(c,l){let f,g;if(null!=l&&void 0!==l.get(Qe.PURE_BARCODE)){const I=br.extractPureBits(c.getBlackMatrix());f=this.decoder.decodeBitMatrix(I,l),g=br.NO_POINTS}else{const I=new bt(c.getBlackMatrix()).detect(l);f=this.decoder.decodeBitMatrix(I.getBits(),l),g=I.getPoints()}f.getOther()instanceof As&&f.getOther().applyMirroredCorrection(g);const m=new ct(f.getText(),f.getRawBytes(),void 0,g,Pe.QR_CODE,void 0),C=f.getByteSegments();null!==C&&m.putMetadata(Rt.BYTE_SEGMENTS,C);const w=f.getECLevel();return null!==w&&m.putMetadata(Rt.ERROR_CORRECTION_LEVEL,w),f.hasStructuredAppend()&&(m.putMetadata(Rt.STRUCTURED_APPEND_SEQUENCE,f.getStructuredAppendSequenceNumber()),m.putMetadata(Rt.STRUCTURED_APPEND_PARITY,f.getStructuredAppendParity())),m}reset(){}static extractPureBits(c){const l=c.getTopLeftOnBit(),f=c.getBottomRightOnBit();if(null===l||null===f)throw new J;const g=this.moduleSize(l,c);let m=l[1],C=f[1],w=l[0],I=f[0];if(w>=I||m>=C)throw new J;if(C-m!=I-w&&(I=w+(C-m),I>=c.getWidth()))throw new J;const S=Math.round((I-w+1)/g),O=Math.round((C-m+1)/g);if(S<=0||O<=0)throw new J;if(O!==S)throw new J;const H=Math.floor(g/2);m+=H,w+=H;const W=w+Math.floor((S-1)*g)-I;if(W>0){if(W>H)throw new J;w-=W}const Q=m+Math.floor((O-1)*g)-C;if(Q>0){if(Q>H)throw new J;m-=Q}const se=new pe(S,O);for(let he=0;he<O;he++){const ve=m+Math.floor(he*g);for(let Ie=0;Ie<S;Ie++)c.get(w+Math.floor(Ie*g),ve)&&se.set(Ie,he)}return se}static moduleSize(c,l){const f=l.getHeight(),g=l.getWidth();let m=c[0],C=c[1],w=!0,I=0;for(;m<g&&C<f;){if(w!==l.get(m,C)){if(5==++I)break;w=!w}m++,C++}if(m===g||C===f)throw new J;return(m-c[0])/7}}br.NO_POINTS=new Array;class lt{PDF417Common(){}static getBitCountSum(c){return Et.sum(c)}static toIntArray(c){if(null==c||!c.length)return lt.EMPTY_INT_ARRAY;const l=new Int32Array(c.length);let f=0;for(const g of c)l[f++]=g;return l}static getCodeword(c){const l=at.binarySearch(lt.SYMBOL_TABLE,262143&c);return l<0?-1:(lt.CODEWORD_TABLE[l]-1)%lt.NUMBER_OF_CODEWORDS}}lt.NUMBER_OF_CODEWORDS=929,lt.MAX_CODEWORDS_IN_BARCODE=lt.NUMBER_OF_CODEWORDS-1,lt.MIN_ROWS_IN_BARCODE=3,lt.MAX_ROWS_IN_BARCODE=90,lt.MODULES_IN_CODEWORD=17,lt.MODULES_IN_STOP_PATTERN=18,lt.BARS_IN_MODULE=8,lt.EMPTY_INT_ARRAY=new Int32Array([]),lt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),lt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class lo{constructor(c,l){this.bits=c,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class Bt{static detectMultiple(c,l,f){let g=c.getBlackMatrix(),m=Bt.detect(f,g);return m.length||(g=g.clone(),g.rotate180(),m=Bt.detect(f,g)),new lo(g,m)}static detect(c,l){const f=new Array;let g=0,m=0,C=!1;for(;g<l.getHeight();){const w=Bt.findVertices(l,g,m);if(null!=w[0]||null!=w[3]){if(C=!0,f.push(w),!c)break;null!=w[2]?(m=Math.trunc(w[2].getX()),g=Math.trunc(w[2].getY())):(m=Math.trunc(w[4].getX()),g=Math.trunc(w[4].getY()))}else{if(!C)break;C=!1,m=0;for(const I of f)null!=I[1]&&(g=Math.trunc(Math.max(g,I[1].getY()))),null!=I[3]&&(g=Math.max(g,Math.trunc(I[3].getY())));g+=Bt.ROW_STEP}}return f}static findVertices(c,l,f){const g=c.getHeight(),m=c.getWidth(),C=new Array(8);return Bt.copyToResult(C,Bt.findRowsWithPattern(c,g,m,l,f,Bt.START_PATTERN),Bt.INDEXES_START_PATTERN),null!=C[4]&&(f=Math.trunc(C[4].getX()),l=Math.trunc(C[4].getY())),Bt.copyToResult(C,Bt.findRowsWithPattern(c,g,m,l,f,Bt.STOP_PATTERN),Bt.INDEXES_STOP_PATTERN),C}static copyToResult(c,l,f){for(let g=0;g<f.length;g++)c[f[g]]=l[g]}static findRowsWithPattern(c,l,f,g,m,C){const w=new Array(4);let I=!1;const S=new Int32Array(C.length);for(;g<l;g+=Bt.ROW_STEP){let H=Bt.findGuardPattern(c,m,g,f,!1,C,S);if(null!=H){for(;g>0;){const W=Bt.findGuardPattern(c,m,--g,f,!1,C,S);if(null==W){g++;break}H=W}w[0]=new De(H[0],g),w[1]=new De(H[1],g),I=!0;break}}let O=g+1;if(I){let H=0,W=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;O<l;O++){const Q=Bt.findGuardPattern(c,W[0],O,f,!1,C,S);if(null!=Q&&Math.abs(W[0]-Q[0])<Bt.MAX_PATTERN_DRIFT&&Math.abs(W[1]-Q[1])<Bt.MAX_PATTERN_DRIFT)W=Q,H=0;else{if(H>Bt.SKIPPED_ROW_COUNT_MAX)break;H++}}O-=H+1,w[2]=new De(W[0],O),w[3]=new De(W[1],O)}return O-g<Bt.BARCODE_MIN_HEIGHT&&at.fill(w,null),w}static findGuardPattern(c,l,f,g,m,C,w){at.fillWithin(w,0,w.length,0);let I=l,S=0;for(;c.get(I,f)&&I>0&&S++<Bt.MAX_PIXEL_DRIFT;)I--;let O=I,H=0,W=C.length;for(let Q=m;O<g;O++)if(c.get(O,f)!==Q)w[H]++;else{if(H===W-1){if(Bt.patternMatchVariance(w,C,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return new Int32Array([I,O]);I+=w[0]+w[1],fe.arraycopy(w,2,w,0,H-1),w[H-1]=0,w[H]=0,H--}else H++;w[H]=1,Q=!Q}return H===W-1&&Bt.patternMatchVariance(w,C,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE?new Int32Array([I,O-1]):null}static patternMatchVariance(c,l,f){let g=c.length,m=0,C=0;for(let S=0;S<g;S++)m+=c[S],C+=l[S];if(m<C)return 1/0;let w=m/C;f*=w;let I=0;for(let S=0;S<g;S++){let O=c[S],H=l[S]*w,W=O>H?O-H:H-O;if(W>f)return 1/0;I+=W}return I/m}}Bt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Bt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Bt.MAX_AVG_VARIANCE=.42,Bt.MAX_INDIVIDUAL_VARIANCE=.8,Bt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Bt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Bt.MAX_PIXEL_DRIFT=3,Bt.MAX_PATTERN_DRIFT=5,Bt.SKIPPED_ROW_COUNT_MAX=25,Bt.ROW_STEP=5,Bt.BARCODE_MIN_HEIGHT=10;class cr{constructor(c,l){if(0===l.length)throw new Z;this.field=c;let f=l.length;if(f>1&&0===l[0]){let g=1;for(;g<f&&0===l[g];)g++;g===f?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(f-g),fe.arraycopy(l,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(0===c)return this.getCoefficient(0);if(1===c){let g=0;for(let m of this.coefficients)g=this.field.add(g,m);return g}let l=this.coefficients[0],f=this.coefficients.length;for(let g=1;g<f;g++)l=this.field.add(this.field.multiply(c,l),this.coefficients[g]);return l}add(c){if(!this.field.equals(c.field))throw new Z("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let l=this.coefficients,f=c.coefficients;if(l.length>f.length){let C=l;l=f,f=C}let g=new Int32Array(f.length),m=f.length-l.length;fe.arraycopy(f,0,g,0,m);for(let C=m;C<f.length;C++)g[C]=this.field.add(l[C-m],f[C]);return new cr(this.field,g)}subtract(c){if(!this.field.equals(c.field))throw new Z("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof cr?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new Z("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new cr(this.field,new Int32Array([0]));let l=this.coefficients,f=l.length,g=c.coefficients,m=g.length,C=new Int32Array(f+m-1);for(let w=0;w<f;w++){let I=l[w];for(let S=0;S<m;S++)C[w+S]=this.field.add(C[w+S],this.field.multiply(I,g[S]))}return new cr(this.field,C)}negative(){let c=this.coefficients.length,l=new Int32Array(c);for(let f=0;f<c;f++)l[f]=this.field.subtract(0,this.coefficients[f]);return new cr(this.field,l)}multiplyScalar(c){if(0===c)return new cr(this.field,new Int32Array([0]));if(1===c)return this;let l=this.coefficients.length,f=new Int32Array(l);for(let g=0;g<l;g++)f[g]=this.field.multiply(this.coefficients[g],c);return new cr(this.field,f)}multiplyByMonomial(c,l){if(c<0)throw new Z;if(0===l)return new cr(this.field,new Int32Array([0]));let f=this.coefficients.length,g=new Int32Array(f+c);for(let m=0;m<f;m++)g[m]=this.field.multiply(this.coefficients[m],l);return new cr(this.field,g)}toString(){let c=new le;for(let l=this.getDegree();l>=0;l--){let f=this.getCoefficient(l);0!==f&&(f<0?(c.append(" - "),f=-f):c.length()>0&&c.append(" + "),(0===l||1!==f)&&c.append(f),0!==l&&(1===l?c.append("x"):(c.append("x^"),c.append(l))))}return c.toString()}}class rs{add(c,l){return(c+l)%this.modulus}subtract(c,l){return(this.modulus+c-l)%this.modulus}exp(c){return this.expTable[c]}log(c){if(0===c)throw new Z;return this.logTable[c]}inverse(c){if(0===c)throw new mt;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,l){return 0===c||0===l?0:this.expTable[(this.logTable[c]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class Xi extends rs{constructor(c,l){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let f=1;for(let g=0;g<c;g++)this.expTable[g]=f,f=f*l%c;for(let g=0;g<c-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new cr(this,new Int32Array([0])),this.one=new cr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,l){if(c<0)throw new Z;if(0===l)return this.zero;let f=new Int32Array(c+1);return f[0]=l,new cr(this,f)}}Xi.PDF417_GF=new Xi(lt.NUMBER_OF_CODEWORDS,3);class ha{constructor(){this.field=Xi.PDF417_GF}decode(c,l,f){let g=new cr(this.field,c),m=new Int32Array(l),C=!1;for(let se=l;se>0;se--){let he=g.evaluateAt(this.field.exp(se));m[l-se]=he,0!==he&&(C=!0)}if(!C)return 0;let w=this.field.getOne();if(null!=f)for(const se of f){let he=this.field.exp(c.length-1-se),ve=new cr(this.field,new Int32Array([this.field.subtract(0,he),1]));w=w.multiply(ve)}let I=new cr(this.field,m),S=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),I,l),O=S[0],H=S[1],W=this.findErrorLocations(O),Q=this.findErrorMagnitudes(H,O,W);for(let se=0;se<W.length;se++){let he=c.length-1-this.field.log(W[se]);if(he<0)throw te.getChecksumInstance();c[he]=this.field.subtract(c[he],Q[se])}return W.length}runEuclideanAlgorithm(c,l,f){if(c.getDegree()<l.getDegree()){let W=c;c=l,l=W}let g=c,m=l,C=this.field.getZero(),w=this.field.getOne();for(;m.getDegree()>=Math.round(f/2);){let W=g,Q=C;if(g=m,C=w,g.isZero())throw te.getChecksumInstance();m=W;let se=this.field.getZero(),he=g.getCoefficient(g.getDegree()),ve=this.field.inverse(he);for(;m.getDegree()>=g.getDegree()&&!m.isZero();){let Ie=m.getDegree()-g.getDegree(),Ze=this.field.multiply(m.getCoefficient(m.getDegree()),ve);se=se.add(this.field.buildMonomial(Ie,Ze)),m=m.subtract(g.multiplyByMonomial(Ie,Ze))}w=se.multiply(C).subtract(Q).negative()}let I=w.getCoefficient(0);if(0===I)throw te.getChecksumInstance();let S=this.field.inverse(I);return[w.multiply(S),m.multiply(S)]}findErrorLocations(c){let l=c.getDegree(),f=new Int32Array(l),g=0;for(let m=1;m<this.field.getSize()&&g<l;m++)0===c.evaluateAt(m)&&(f[g]=this.field.inverse(m),g++);if(g!==l)throw te.getChecksumInstance();return f}findErrorMagnitudes(c,l,f){let g=l.getDegree(),m=new Int32Array(g);for(let S=1;S<=g;S++)m[g-S]=this.field.multiply(S,l.getCoefficient(S));let C=new cr(this.field,m),w=f.length,I=new Int32Array(w);for(let S=0;S<w;S++){let O=this.field.inverse(f[S]),H=this.field.subtract(0,c.evaluateAt(O)),W=this.field.inverse(C.evaluateAt(O));I[S]=this.field.multiply(H,W)}return I}}class Ci{constructor(c,l,f,g,m){c instanceof Ci?this.constructor_2(c):this.constructor_1(c,l,f,g,m)}constructor_1(c,l,f,g,m){const C=null==l||null==f,w=null==g||null==m;if(C&&w)throw new J;C?(l=new De(0,g.getY()),f=new De(0,m.getY())):w&&(g=new De(c.getWidth()-1,l.getY()),m=new De(c.getWidth()-1,f.getY())),this.image=c,this.topLeft=l,this.bottomLeft=f,this.topRight=g,this.bottomRight=m,this.minX=Math.trunc(Math.min(l.getX(),f.getX())),this.maxX=Math.trunc(Math.max(g.getX(),m.getX())),this.minY=Math.trunc(Math.min(l.getY(),g.getY())),this.maxY=Math.trunc(Math.max(f.getY(),m.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,l){return null==c?l:null==l?c:new Ci(c.image,c.topLeft,c.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(c,l,f){let g=this.topLeft,m=this.bottomLeft,C=this.topRight,w=this.bottomRight;if(c>0){let I=f?this.topLeft:this.topRight,S=Math.trunc(I.getY()-c);S<0&&(S=0);let O=new De(I.getX(),S);f?g=O:C=O}if(l>0){let I=f?this.bottomLeft:this.bottomRight,S=Math.trunc(I.getY()+l);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let O=new De(I.getX(),S);f?m=O:w=O}return new Ci(this.image,g,m,C,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class _r{constructor(c,l,f,g){this.columnCount=c,this.errorCorrectionLevel=g,this.rowCountUpperPart=l,this.rowCountLowerPart=f,this.rowCount=l+f}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Tr{constructor(){this.buffer=""}static form(c,l){let f=-1;return c.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function g(C,w,I,S,O,H){if("%%"===C)return"%";if(void 0===l[++f])return;C=S?parseInt(S.substr(1)):void 0;let Q,W=O?parseInt(O.substr(1)):void 0;switch(H){case"s":Q=l[f];break;case"c":Q=l[f][0];break;case"f":Q=parseFloat(l[f]).toFixed(C);break;case"p":Q=parseFloat(l[f]).toPrecision(C);break;case"e":Q=parseFloat(l[f]).toExponential(C);break;case"x":Q=parseInt(l[f]).toString(W||16);break;case"d":Q=parseFloat(parseInt(l[f],W||10).toPrecision(C)).toFixed(0)}Q="object"==typeof Q?JSON.stringify(Q):(+Q).toString(W);let se=parseInt(I),he=I&&I[0]+""=="0"?"0":" ";for(;Q.length<se;)Q=void 0!==w?Q+he:he+Q;return Q})}format(c,...l){this.buffer+=Tr.form(c,l)}toString(){return this.buffer}}let Xa=(()=>{class A{constructor(l){this.boundingBox=new Ci(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(null!=f)return f;for(let g=1;g<A.MAX_NEARBY_DISTANCE;g++){let m=this.imageRowToCodewordIndex(l)-g;if(m>=0&&(f=this.codewords[m],null!=f)||(m=this.imageRowToCodewordIndex(l)+g,m<this.codewords.length&&(f=this.codewords[m],null!=f)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Tr;let f=0;for(const g of this.codewords)null!=g?l.format("%3d: %3d|%3d%n",f++,g.getRowNumber(),g.getValue()):l.format("%3d:    |   %n",f++);return l.toString()}}return A.MAX_NEARBY_DISTANCE=5,A})();class Lr{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let l=this.values.get(c);null==l&&(l=0),l++,this.values.set(c,l)}getValue(){let c=-1,l=new Array;for(const[f,g]of this.values.entries()){const m={getKey:()=>f,getValue:()=>g};m.getValue()>c?(c=m.getValue(),l=[],l.push(m.getKey())):m.getValue()===c&&l.push(m.getKey())}return lt.toIntArray(l)}getConfidence(c){return this.values.get(c)}}class fa extends Xa{constructor(c,l){super(c),this._isLeft=l}setRowNumbers(){for(let c of this.getCodewords())c?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,c);let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),m=this._isLeft?f.getBottomLeft():f.getBottomRight(),C=this.imageRowToCodewordIndex(Math.trunc(g.getY())),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),I=-1,S=1,O=0;for(let H=C;H<w;H++){if(null==l[H])continue;let W=l[H],Q=W.getRowNumber()-I;if(0===Q)O++;else if(1===Q)S=Math.max(S,O),O=1,I=W.getRowNumber();else if(Q<0||W.getRowNumber()>=c.getRowCount()||Q>H)l[H]=null;else{let se;se=S>2?(S-2)*Q:Q;let he=se>=H;for(let ve=1;ve<=se&&!he;ve++)he=null!=l[H-ve];he?l[H]=null:(I=W.getRowNumber(),O=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(null==c)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let l=new Int32Array(c.getRowCount());for(let f of this.getCodewords())if(null!=f){let g=f.getRowNumber();if(g>=l.length)continue;l[g]++}return l}adjustIncompleteIndicatorColumnRowNumbers(c){let l=this.getBoundingBox(),f=this._isLeft?l.getTopLeft():l.getTopRight(),g=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),C=this.imageRowToCodewordIndex(Math.trunc(g.getY())),w=this.getCodewords(),I=-1;for(let S=m;S<C;S++){if(null==w[S])continue;let O=w[S];O.setRowNumberAsRowIndicatorColumn();let H=O.getRowNumber()-I;0===H||(1===H?I=O.getRowNumber():O.getRowNumber()>=c.getRowCount()?w[S]=null:I=O.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),l=new Lr,f=new Lr,g=new Lr,m=new Lr;for(let w of c){if(null==w)continue;w.setRowNumberAsRowIndicatorColumn();let I=w.getValue()%30,S=w.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:f.setValue(3*I+1);break;case 1:m.setValue(I/3),g.setValue(I%3);break;case 2:l.setValue(I+1)}}if(0===l.getValue().length||0===f.getValue().length||0===g.getValue().length||0===m.getValue().length||l.getValue()[0]<1||f.getValue()[0]+g.getValue()[0]<lt.MIN_ROWS_IN_BARCODE||f.getValue()[0]+g.getValue()[0]>lt.MAX_ROWS_IN_BARCODE)return null;let C=new _r(l.getValue()[0],f.getValue()[0],g.getValue()[0],m.getValue()[0]);return this.removeIncorrectCodewords(c,C),C}removeIncorrectCodewords(c,l){for(let f=0;f<c.length;f++){let g=c[f];if(null==c[f])continue;let m=g.getValue()%30,C=g.getRowNumber();if(C>l.getRowCount())c[f]=null;else switch(this._isLeft||(C+=2),C%3){case 0:3*m+1!==l.getRowCountUpperPart()&&(c[f]=null);break;case 1:(Math.trunc(m/3)!==l.getErrorCorrectionLevel()||m%3!==l.getRowCountLowerPart())&&(c[f]=null);break;case 2:m+1!==l.getColumnCount()&&(c[f]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Kn{constructor(c,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l,c=lt.MAX_CODEWORDS_IN_BARCODE;do{l=c,c=this.adjustRowNumbersAndGetCount()}while(c>0&&c<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(0===c)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let f=this.detectionResultColumns[l].getCodewords();for(let g=0;g<f.length;g++)null!=f[g]&&(f[g].hasValidRowNumber()||this.adjustRowNumbers(l,g,f))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let c=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<c.length;f++)if(null!=c[f]&&null!=l[f]&&c[f].getRowNumber()===l[f].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let m=this.detectionResultColumns[g].getCodewords()[f];null!=m&&(m.setRowNumber(c[f].getRowNumber()),m.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[f]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let c=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let f=0;f<l.length;f++){if(null==l[f])continue;let g=l[f].getRowNumber(),m=0;for(let C=this.barcodeColumnCount+1;C>0&&m<this.ADJUST_ROW_NUMBER_SKIP;C--){let w=this.detectionResultColumns[C].getCodewords()[f];null!=w&&(m=Kn.adjustRowNumberIfValid(g,m,w),w.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let c=0,l=this.detectionResultColumns[0].getCodewords();for(let f=0;f<l.length;f++){if(null==l[f])continue;let g=l[f].getRowNumber(),m=0;for(let C=1;C<this.barcodeColumnCount+1&&m<this.ADJUST_ROW_NUMBER_SKIP;C++){let w=this.detectionResultColumns[C].getCodewords()[f];null!=w&&(m=Kn.adjustRowNumberIfValid(g,m,w),w.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,l,f){return null==f||f.hasValidRowNumber()||(f.isValidRowNumber(c)?(f.setRowNumber(c),l=0):++l),l}adjustRowNumbers(c,l,f){if(!this.detectionResultColumns[c-1])return;let g=f[l],m=this.detectionResultColumns[c-1].getCodewords(),C=m;null!=this.detectionResultColumns[c+1]&&(C=this.detectionResultColumns[c+1].getCodewords());let w=new Array(14);w[2]=m[l],w[3]=C[l],l>0&&(w[0]=f[l-1],w[4]=m[l-1],w[5]=C[l-1]),l>1&&(w[8]=f[l-2],w[10]=m[l-2],w[11]=C[l-2]),l<f.length-1&&(w[1]=f[l+1],w[6]=m[l+1],w[7]=C[l+1]),l<f.length-2&&(w[9]=f[l+2],w[12]=m[l+2],w[13]=C[l+2]);for(let I of w)if(Kn.adjustRowNumber(g,I))return}static adjustRowNumber(c,l){return!(null==l||!l.hasValidRowNumber()||l.getBucket()!==c.getBucket()||(c.setRowNumber(l.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,l){this.detectionResultColumns[c]=l}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];null==c&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new Tr;for(let f=0;f<c.getCodewords().length;f++){l.format("CW %3d:",f);for(let g=0;g<this.barcodeColumnCount+2;g++){if(null==this.detectionResultColumns[g]){l.format("    |   ");continue}let m=this.detectionResultColumns[g].getCodewords()[f];null!=m?l.format(" %3d|%3d",m.getRowNumber(),m.getValue()):l.format("    |   ")}l.format("%n")}return l.toString()}}let Ya=(()=>{class A{constructor(l,f,g,m){this.rowNumber=A.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(g),this.value=Math.trunc(m)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==A.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}return A.BARCODE_ROW_UNKNOWN=-1,A})();class ft{static initialize(){for(let c=0;c<lt.SYMBOL_TABLE.length;c++){let l=lt.SYMBOL_TABLE[c],f=1&l;for(let g=0;g<lt.BARS_IN_MODULE;g++){let m=0;for(;(1&l)===f;)m+=1,l>>=1;f=1&l,ft.RATIOS_TABLE[c]||(ft.RATIOS_TABLE[c]=new Array(lt.BARS_IN_MODULE)),ft.RATIOS_TABLE[c][lt.BARS_IN_MODULE-g-1]=Math.fround(m/lt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let l=ft.getDecodedCodewordValue(ft.sampleBitCounts(c));return-1!==l?l:ft.getClosestDecodedValue(c)}static sampleBitCounts(c){let l=Et.sum(c),f=new Int32Array(lt.BARS_IN_MODULE),g=0,m=0;for(let C=0;C<lt.MODULES_IN_CODEWORD;C++)m+c[g]<=l/(2*lt.MODULES_IN_CODEWORD)+C*l/lt.MODULES_IN_CODEWORD&&(m+=c[g],g++),f[g]++;return f}static getDecodedCodewordValue(c){let l=ft.getBitValue(c);return-1===lt.getCodeword(l)?-1:l}static getBitValue(c){let l=0;for(let f=0;f<c.length;f++)for(let g=0;g<c[f];g++)l=l<<1|(f%2==0?1:0);return Math.trunc(l)}static getClosestDecodedValue(c){let l=Et.sum(c),f=new Array(lt.BARS_IN_MODULE);if(l>1)for(let C=0;C<f.length;C++)f[C]=Math.fround(c[C]/l);let g=xr.MAX_VALUE,m=-1;this.bSymbolTableReady||ft.initialize();for(let C=0;C<ft.RATIOS_TABLE.length;C++){let w=0,I=ft.RATIOS_TABLE[C];for(let S=0;S<lt.BARS_IN_MODULE;S++){let O=Math.fround(I[S]-f[S]);if(w+=Math.fround(O*O),w>=g)break}w<g&&(g=w,m=lt.SYMBOL_TABLE[C])}return m}}ft.bSymbolTableReady=!1,ft.RATIOS_TABLE=new Array(lt.SYMBOL_TABLE.length).map(A=>new Array(lt.BARS_IN_MODULE));class is{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class rn{static parseLong(c,l=void 0){return parseInt(c,l)}}let Os=(()=>{class A extends q{}return A.kind="NullPointerException",A})();class wi{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,l,f){if(null==c)throw new Os;if(l<0||l>c.length||f<0||l+f>c.length||l+f<0)throw new Re;if(0!==f)for(let g=0;g<f;g++)this.write(c[l+g])}flush(){}close(){}}class os extends q{}class Yl extends wi{constructor(c=32){if(super(),this.count=0,c<0)throw new Z("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let f=this.buf.length<<1;if(f-c<0&&(f=c),f<0){if(c<0)throw new os;f=Oe.MAX_VALUE}this.buf=at.copyOfUint8Array(this.buf,f)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,l,f){if(l<0||l>c.length||f<0||l+f-c.length>0)throw new Re;this.ensureCapacity(this.count+f),fe.arraycopy(c,l,this.buf,this.count,f),this.count+=f}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return at.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?"string"==typeof c?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Ln=function(A){return A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT",A}(Ln||{});function Po(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let pa;function hi(A){if(typeof pa>"u"&&(pa=Po()),null===pa)throw new Error("BigInt is not supported!");return pa(A)}class be{static decode(c,l){let f=new le(""),g=Ce.ISO8859_1;f.enableDecoding(g);let m=1,C=c[m++],w=new is;for(;m<c[0];){switch(C){case be.TEXT_COMPACTION_MODE_LATCH:m=be.textCompaction(c,m,f);break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:m=be.byteCompaction(C,c,g,m,f);break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(c[m++]);break;case be.NUMERIC_COMPACTION_MODE_LATCH:m=be.numericCompaction(c,m,f);break;case be.ECI_CHARSET:Ce.getCharacterSetECIByValue(c[m++]);break;case be.ECI_GENERAL_PURPOSE:m+=2;break;case be.ECI_USER_DEFINED:m++;break;case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:m=be.decodeMacroBlock(c,m,w);break;case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:throw new ke;default:m--,m=be.textCompaction(c,m,f)}if(!(m<c.length))throw ke.getFormatInstance();C=c[m++]}if(0===f.length())throw ke.getFormatInstance();let I=new Fn(null,f.toString(),null,l);return I.setOther(w),I}static decodeMacroBlock(c,l,f){if(l+be.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw ke.getFormatInstance();let g=new Int32Array(be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<be.NUMBER_OF_SEQUENCE_CODEWORDS;w++,l++)g[w]=c[l];f.setSegmentIndex(Oe.parseInt(be.decodeBase900toBase10(g,be.NUMBER_OF_SEQUENCE_CODEWORDS)));let m=new le;l=be.textCompaction(c,l,m),f.setFileId(m.toString());let C=-1;for(c[l]===be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(C=l+1);l<c[0];)switch(c[l]){case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c[++l]){case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new le;l=be.textCompaction(c,l+1,w),f.setFileName(w.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let I=new le;l=be.textCompaction(c,l+1,I),f.setSender(I.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new le;l=be.textCompaction(c,l+1,S),f.setAddressee(S.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new le;l=be.numericCompaction(c,l+1,O),f.setSegmentCount(Oe.parseInt(O.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let H=new le;l=be.numericCompaction(c,l+1,H),f.setTimestamp(rn.parseLong(H.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let W=new le;l=be.numericCompaction(c,l+1,W),f.setChecksum(Oe.parseInt(W.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let Q=new le;l=be.numericCompaction(c,l+1,Q),f.setFileSize(rn.parseLong(Q.toString()));break;default:throw ke.getFormatInstance()}break;case be.MACRO_PDF417_TERMINATOR:l++,f.setLastSegment(!0);break;default:throw ke.getFormatInstance()}if(-1!==C){let w=l-C;f.isLastSegment()&&w--,f.setOptionalData(at.copyOfRange(c,C,C+w))}return l}static textCompaction(c,l,f){let g=new Int32Array(2*(c[0]-l)),m=new Int32Array(2*(c[0]-l)),C=0,w=!1;for(;l<c[0]&&!w;){let I=c[l++];if(I<be.TEXT_COMPACTION_MODE_LATCH)g[C]=I/30,g[C+1]=I%30,C+=2;else switch(I){case be.TEXT_COMPACTION_MODE_LATCH:g[C++]=be.TEXT_COMPACTION_MODE_LATCH;break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:l--,w=!0;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[C]=be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,I=c[l++],m[C]=I,C++}}return be.decodeTextCompaction(g,m,C,f),l}static decodeTextCompaction(c,l,f,g){let m=Ln.ALPHA,C=Ln.ALPHA,w=0;for(;w<f;){let I=c[w],S="";switch(m){case Ln.ALPHA:if(I<26)S=String.fromCharCode(65+I);else switch(I){case 26:S=" ";break;case be.LL:m=Ln.LOWER;break;case be.ML:m=Ln.MIXED;break;case be.PS:C=m,m=Ln.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}break;case Ln.LOWER:if(I<26)S=String.fromCharCode(97+I);else switch(I){case 26:S=" ";break;case be.AS:C=m,m=Ln.ALPHA_SHIFT;break;case be.ML:m=Ln.MIXED;break;case be.PS:C=m,m=Ln.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}break;case Ln.MIXED:if(I<be.PL)S=be.MIXED_CHARS[I];else switch(I){case be.PL:m=Ln.PUNCT;break;case 26:S=" ";break;case be.LL:m=Ln.LOWER;break;case be.AL:m=Ln.ALPHA;break;case be.PS:C=m,m=Ln.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}break;case Ln.PUNCT:if(I<be.PAL)S=be.PUNCT_CHARS[I];else switch(I){case be.PAL:m=Ln.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}break;case Ln.ALPHA_SHIFT:if(m=C,I<26)S=String.fromCharCode(65+I);else switch(I){case 26:S=" ";break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}break;case Ln.PUNCT_SHIFT:if(m=C,I<be.PAL)S=be.PUNCT_CHARS[I];else switch(I){case be.PAL:m=Ln.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(l[w]);break;case be.TEXT_COMPACTION_MODE_LATCH:m=Ln.ALPHA}}""!==S&&g.append(S),w++}}static byteCompaction(c,l,f,g,m){let C=new Yl,w=0,I=0,S=!1;switch(c){case be.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),H=l[g++];for(;g<l[0]&&!S;)switch(O[w++]=H,I=900*I+H,H=l[g++],H){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:g--,S=!0;break;default:if(w%5==0&&w>0){for(let W=0;W<6;++W)C.write(Number(hi(I)>>hi(8*(5-W))));I=0,w=0}}g===l[0]&&H<be.TEXT_COMPACTION_MODE_LATCH&&(O[w++]=H);for(let W=0;W<w;W++)C.write(O[W]);break;case be.BYTE_COMPACTION_MODE_LATCH_6:for(;g<l[0]&&!S;){let W=l[g++];if(W<be.TEXT_COMPACTION_MODE_LATCH)w++,I=900*I+W;else switch(W){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:g--,S=!0}if(w%5==0&&w>0){for(let Q=0;Q<6;++Q)C.write(Number(hi(I)>>hi(8*(5-Q))));I=0,w=0}}}return m.append(ee.decode(C.toByteArray(),f)),g}static numericCompaction(c,l,f){let g=0,m=!1,C=new Int32Array(be.MAX_NUMERIC_CODEWORDS);for(;l<c[0]&&!m;){let w=c[l++];if(l===c[0]&&(m=!0),w<be.TEXT_COMPACTION_MODE_LATCH)C[g]=w,g++;else switch(w){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:l--,m=!0}(g%be.MAX_NUMERIC_CODEWORDS==0||w===be.NUMERIC_COMPACTION_MODE_LATCH||m)&&g>0&&(f.append(be.decodeBase900toBase10(C,g)),g=0)}return l}static decodeBase900toBase10(c,l){let f=hi(0);for(let m=0;m<l;m++)f+=be.EXP900[l-m-1]*hi(c[m]);let g=f.toString();if("1"!==g.charAt(0))throw new ke;return g.substring(1)}}be.TEXT_COMPACTION_MODE_LATCH=900,be.BYTE_COMPACTION_MODE_LATCH=901,be.NUMERIC_COMPACTION_MODE_LATCH=902,be.BYTE_COMPACTION_MODE_LATCH_6=924,be.ECI_USER_DEFINED=925,be.ECI_GENERAL_PURPOSE=926,be.ECI_CHARSET=927,be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,be.MACRO_PDF417_TERMINATOR=922,be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,be.MAX_NUMERIC_CODEWORDS=15,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,be.PL=25,be.LL=27,be.AS=27,be.ML=28,be.AL=28,be.PS=29,be.PAL=29,be.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",be.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",be.EXP900=Po()?function Bc(){let A=[];A[0]=hi(1);let c=hi(900);A[1]=c;for(let l=2;l<16;l++)A[l]=A[l-1]*c;return A}():[],be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Jt{constructor(){}static decode(c,l,f,g,m,C,w){let H,I=new Ci(c,l,f,g,m),S=null,O=null;for(let se=!0;;se=!1){if(null!=l&&(S=Jt.getRowIndicatorColumn(c,I,l,!0,C,w)),null!=g&&(O=Jt.getRowIndicatorColumn(c,I,g,!1,C,w)),H=Jt.merge(S,O),null==H)throw J.getNotFoundInstance();let he=H.getBoundingBox();if(!se||null==he||!(he.getMinY()<I.getMinY()||he.getMaxY()>I.getMaxY()))break;I=he}H.setBoundingBox(I);let W=H.getBarcodeColumnCount()+1;H.setDetectionResultColumn(0,S),H.setDetectionResultColumn(W,O);let Q=null!=S;for(let se=1;se<=W;se++){let ve,he=Q?se:W-se;if(void 0!==H.getDetectionResultColumn(he))continue;ve=0===he||he===W?new fa(I,0===he):new Xa(I),H.setDetectionResultColumn(he,ve);let Ie=-1,Ze=Ie;for(let it=I.getMinY();it<=I.getMaxY();it++){if(Ie=Jt.getStartColumn(H,he,it,Q),Ie<0||Ie>I.getMaxX()){if(-1===Ze)continue;Ie=Ze}let Le=Jt.detectCodeword(c,I.getMinX(),I.getMaxX(),Q,Ie,it,C,w);null!=Le&&(ve.setCodeword(it,Le),Ze=Ie,C=Math.min(C,Le.getWidth()),w=Math.max(w,Le.getWidth()))}}return Jt.createDecoderResult(H)}static merge(c,l){if(null==c&&null==l)return null;let f=Jt.getBarcodeMetadata(c,l);if(null==f)return null;let g=Ci.merge(Jt.adjustBoundingBox(c),Jt.adjustBoundingBox(l));return new Kn(f,g)}static adjustBoundingBox(c){if(null==c)return null;let l=c.getRowHeights();if(null==l)return null;let f=Jt.getMax(l),g=0;for(let w of l)if(g+=f-w,w>0)break;let m=c.getCodewords();for(let w=0;g>0&&null==m[w];w++)g--;let C=0;for(let w=l.length-1;w>=0&&(C+=f-l[w],!(l[w]>0));w--);for(let w=m.length-1;C>0&&null==m[w];w--)C--;return c.getBoundingBox().addMissingRows(g,C,c.isLeft())}static getMax(c){let l=-1;for(let f of c)l=Math.max(l,f);return l}static getBarcodeMetadata(c,l){let f,g;return null==c||null==(f=c.getBarcodeMetadata())?null==l?null:l.getBarcodeMetadata():null==l||null==(g=l.getBarcodeMetadata())?f:f.getColumnCount()!==g.getColumnCount()&&f.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&f.getRowCount()!==g.getRowCount()?null:f}static getRowIndicatorColumn(c,l,f,g,m,C){let w=new fa(l,g);for(let I=0;I<2;I++){let S=0===I?1:-1,O=Math.trunc(Math.trunc(f.getX()));for(let H=Math.trunc(Math.trunc(f.getY()));H<=l.getMaxY()&&H>=l.getMinY();H+=S){let W=Jt.detectCodeword(c,0,c.getWidth(),g,O,H,m,C);null!=W&&(w.setCodeword(H,W),O=g?W.getStartX():W.getEndX())}}return w}static adjustCodewordCount(c,l){let f=l[0][1],g=f.getValue(),m=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Jt.getNumberOfECCodeWords(c.getBarcodeECLevel());if(0===g.length){if(m<1||m>lt.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();f.setValue(m)}else g[0]!==m&&f.setValue(m)}static createDecoderResult(c){let l=Jt.createBarcodeMatrix(c);Jt.adjustCodewordCount(c,l);let f=new Array,g=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),m=[],C=new Array;for(let I=0;I<c.getBarcodeRowCount();I++)for(let S=0;S<c.getBarcodeColumnCount();S++){let O=l[I][S+1].getValue(),H=I*c.getBarcodeColumnCount()+S;0===O.length?f.push(H):1===O.length?g[H]=O[0]:(C.push(H),m.push(O))}let w=new Array(m.length);for(let I=0;I<w.length;I++)w[I]=m[I];return Jt.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),g,lt.toIntArray(f),lt.toIntArray(C),w)}static createDecoderResultFromAmbiguousValues(c,l,f,g,m){let C=new Int32Array(g.length),w=100;for(;w-- >0;){for(let I=0;I<C.length;I++)l[g[I]]=m[I][C[I]];try{return Jt.decodeCodewords(l,c,f)}catch(I){if(!(I instanceof te))throw I}if(0===C.length)throw te.getChecksumInstance();for(let I=0;I<C.length;I++){if(C[I]<m[I].length-1){C[I]++;break}if(C[I]=0,I===C.length-1)throw te.getChecksumInstance()}}throw te.getChecksumInstance()}static createBarcodeMatrix(c){let l=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let g=0;g<l.length;g++)for(let m=0;m<l[g].length;m++)l[g][m]=new Lr;let f=0;for(let g of c.getDetectionResultColumns()){if(null!=g)for(let m of g.getCodewords())if(null!=m){let C=m.getRowNumber();if(C>=0){if(C>=l.length)continue;l[C][f].setValue(m.getValue())}}f++}return l}static isValidBarcodeColumn(c,l){return l>=0&&l<=c.getBarcodeColumnCount()+1}static getStartColumn(c,l,f,g){let m=g?1:-1,C=null;if(Jt.isValidBarcodeColumn(c,l-m)&&(C=c.getDetectionResultColumn(l-m).getCodeword(f)),null!=C)return g?C.getEndX():C.getStartX();if(C=c.getDetectionResultColumn(l).getCodewordNearby(f),null!=C)return g?C.getStartX():C.getEndX();if(Jt.isValidBarcodeColumn(c,l-m)&&(C=c.getDetectionResultColumn(l-m).getCodewordNearby(f)),null!=C)return g?C.getEndX():C.getStartX();let w=0;for(;Jt.isValidBarcodeColumn(c,l-m);){l-=m;for(let I of c.getDetectionResultColumn(l).getCodewords())if(null!=I)return(g?I.getEndX():I.getStartX())+m*w*(I.getEndX()-I.getStartX());w++}return g?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,l,f,g,m,C,w,I){m=Jt.adjustCodewordStartColumn(c,l,f,g,m,C);let S=Jt.getModuleBitCount(c,l,f,g,m,C);if(null==S)return null;let O,H=Et.sum(S);if(g)O=m+H;else{for(let se=0;se<S.length/2;se++){let he=S[se];S[se]=S[S.length-1-se],S[S.length-1-se]=he}O=m,m=O-H}if(!Jt.checkCodewordSkew(H,w,I))return null;let W=ft.getDecodedValue(S),Q=lt.getCodeword(W);return-1===Q?null:new Ya(m,O,Jt.getCodewordBucketNumber(W),Q)}static getModuleBitCount(c,l,f,g,m,C){let w=m,I=new Int32Array(8),S=0,O=g?1:-1,H=g;for(;(g?w<f:w>=l)&&S<I.length;)c.get(w,C)===H?(I[S]++,w+=O):(S++,H=!H);return S===I.length||w===(g?f:l)&&S===I.length-1?I:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,l,f,g,m,C){let w=m,I=g?-1:1;for(let S=0;S<2;S++){for(;(g?w>=l:w<f)&&g===c.get(w,C);){if(Math.abs(m-w)>Jt.CODEWORD_SKEW_SIZE)return m;w+=I}I=-I,g=!g}return w}static checkCodewordSkew(c,l,f){return l-Jt.CODEWORD_SKEW_SIZE<=c&&c<=f+Jt.CODEWORD_SKEW_SIZE}static decodeCodewords(c,l,f){if(0===c.length)throw ke.getFormatInstance();let g=1<<l+1,m=Jt.correctErrors(c,f,g);Jt.verifyCodewordCount(c,g);let C=be.decode(c,""+l);return C.setErrorsCorrected(m),C.setErasures(f.length),C}static correctErrors(c,l,f){if(null!=l&&l.length>f/2+Jt.MAX_ERRORS||f<0||f>Jt.MAX_EC_CODEWORDS)throw te.getChecksumInstance();return Jt.errorCorrection.decode(c,f,l)}static verifyCodewordCount(c,l){if(c.length<4)throw ke.getFormatInstance();let f=c[0];if(f>c.length)throw ke.getFormatInstance();if(0===f){if(!(l<c.length))throw ke.getFormatInstance();c[0]=c.length-l}}static getBitCountForCodeword(c){let l=new Int32Array(8),f=0,g=l.length-1;for(;!((1&c)!==f&&(f=1&c,g--,g<0));)l[g]++,c>>=1;return l}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Jt.getCodewordBucketNumber(Jt.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let l=new Tr;for(let f=0;f<c.length;f++){l.format("Row %2d: ",f);for(let g=0;g<c[f].length;g++){let m=c[f][g];0===m.getValue().length?l.format("        ",null):l.format("%4d(%2d)",m.getValue()[0],m.getConfidence(m.getValue()[0]))}l.format("%n")}return l.toString()}}Jt.CODEWORD_SKEW_SIZE=2,Jt.MAX_ERRORS=3,Jt.MAX_EC_CODEWORDS=512,Jt.errorCorrection=new ha;class vn{decode(c,l=null){let f=vn.decode(c,l,!1);if(null==f||0===f.length||null==f[0])throw J.getNotFoundInstance();return f[0]}decodeMultiple(c,l=null){try{return vn.decode(c,l,!0)}catch(f){throw f instanceof ke||f instanceof te?J.getNotFoundInstance():f}}static decode(c,l,f){const g=new Array,m=Bt.detectMultiple(c,l,f);for(const C of m.getPoints()){const w=Jt.decode(m.getBits(),C[4],C[5],C[6],C[7],vn.getMinCodewordWidth(C),vn.getMaxCodewordWidth(C)),I=new ct(w.getText(),w.getRawBytes(),void 0,C,Pe.PDF_417);I.putMetadata(Rt.ERROR_CORRECTION_LEVEL,w.getECLevel());const S=w.getOther();null!=S&&I.putMetadata(Rt.PDF417_EXTRA_METADATA,S),g.push(I)}return g.map(C=>C)}static getMaxWidth(c,l){return null==c||null==l?0:Math.trunc(Math.abs(c.getX()-l.getX()))}static getMinWidth(c,l){return null==c||null==l?Oe.MAX_VALUE:Math.trunc(Math.abs(c.getX()-l.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(vn.getMaxWidth(c[0],c[4]),vn.getMaxWidth(c[6],c[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.max(vn.getMaxWidth(c[1],c[5]),vn.getMaxWidth(c[7],c[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(vn.getMinWidth(c[0],c[4]),vn.getMinWidth(c[6],c[2])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN),Math.min(vn.getMinWidth(c[1],c[5]),vn.getMinWidth(c[7],c[3])*lt.MODULES_IN_CODEWORD/lt.MODULES_IN_STOP_PATTERN)))}reset(){}}let Fr=(()=>{class A extends q{}return A.kind="ReaderException",A})();class ga{constructor(c,l){this.verbose=!0===c,l&&this.setHints(l)}decode(c,l){return l&&this.setHints(l),this.decodeInternal(c)}decodeWithState(c){return null==this.readers&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const l=!o(c)&&!0===c.get(Qe.TRY_HARDER),f=o(c)?null:c.get(Qe.POSSIBLE_FORMATS),g=new Array;if(!o(f)){const m=f.some(C=>C===Pe.UPC_A||C===Pe.UPC_E||C===Pe.EAN_13||C===Pe.EAN_8||C===Pe.CODABAR||C===Pe.CODE_39||C===Pe.CODE_93||C===Pe.CODE_128||C===Pe.ITF||C===Pe.RSS_14||C===Pe.RSS_EXPANDED);m&&!l&&g.push(new ui(c,this.verbose)),f.includes(Pe.QR_CODE)&&g.push(new br),f.includes(Pe.DATA_MATRIX)&&g.push(new Zn),f.includes(Pe.AZTEC)&&g.push(new Un),f.includes(Pe.PDF_417)&&g.push(new vn),m&&l&&g.push(new ui(c,this.verbose))}0===g.length&&(l||g.push(new ui(c,this.verbose)),g.push(new br),g.push(new Zn),g.push(new Un),g.push(new vn),l&&g.push(new ui(c,this.verbose))),this.readers=g}reset(){if(null!==this.readers)for(const c of this.readers)c.reset()}decodeInternal(c){if(null===this.readers)throw new Fr("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(c,this.hints)}catch(f){if(f instanceof Fr)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}var qa=function(A){return A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION",A}(qa||{}),lr=qa;class Uc{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Ht(c,Int32Array.from([1])))}buildGenerator(c){const l=this.cachedGenerators;if(c>=l.length){let f=l[l.length-1];const g=this.field;for(let m=l.length;m<=c;m++){const C=f.multiply(new Ht(g,Int32Array.from([1,g.exp(m-1+g.getGeneratorBase())])));l.push(C),f=C}}return l[c]}encode(c,l){if(0===l)throw new Z("No error correction bytes");const f=c.length-l;if(f<=0)throw new Z("No data bytes provided");const g=this.buildGenerator(l),m=new Int32Array(f);fe.arraycopy(c,0,m,0,f);let C=new Ht(this.field,m);C=C.multiplyByMonomial(l,1);const I=C.divide(g)[1].getCoefficients(),S=l-I.length;for(let O=0;O<S;O++)c[f+O]=0;fe.arraycopy(I,0,c,f+S,I.length)}}let vr=(()=>{class A{constructor(){}static applyMaskPenaltyRule1(l){return A.applyMaskPenaltyRule1Internal(l,!0)+A.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const g=l.getArray(),m=l.getWidth(),C=l.getHeight();for(let w=0;w<C-1;w++){const I=g[w];for(let S=0;S<m-1;S++){const O=I[S];O===I[S+1]&&O===g[w+1][S]&&O===g[w+1][S+1]&&f++}}return A.N2*f}static applyMaskPenaltyRule3(l){let f=0;const g=l.getArray(),m=l.getWidth(),C=l.getHeight();for(let w=0;w<C;w++)for(let I=0;I<m;I++){const S=g[w];I+6<m&&1===S[I]&&0===S[I+1]&&1===S[I+2]&&1===S[I+3]&&1===S[I+4]&&0===S[I+5]&&1===S[I+6]&&(A.isWhiteHorizontal(S,I-4,I)||A.isWhiteHorizontal(S,I+7,I+11))&&f++,w+6<C&&1===g[w][I]&&0===g[w+1][I]&&1===g[w+2][I]&&1===g[w+3][I]&&1===g[w+4][I]&&0===g[w+5][I]&&1===g[w+6][I]&&(A.isWhiteVertical(g,I,w-4,w)||A.isWhiteVertical(g,I,w+7,w+11))&&f++}return f*A.N3}static isWhiteHorizontal(l,f,g){f=Math.max(f,0),g=Math.min(g,l.length);for(let m=f;m<g;m++)if(1===l[m])return!1;return!0}static isWhiteVertical(l,f,g,m){g=Math.max(g,0),m=Math.min(m,l.length);for(let C=g;C<m;C++)if(1===l[C][f])return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const g=l.getArray(),m=l.getWidth(),C=l.getHeight();for(let S=0;S<C;S++){const O=g[S];for(let H=0;H<m;H++)1===O[H]&&f++}const w=l.getHeight()*l.getWidth();return Math.floor(10*Math.abs(2*f-w)/w)*A.N4}static getDataMaskBit(l,f,g){let m,C;switch(l){case 0:m=g+f&1;break;case 1:m=1&g;break;case 2:m=f%3;break;case 3:m=(g+f)%3;break;case 4:m=Math.floor(g/2)+Math.floor(f/3)&1;break;case 5:C=g*f,m=(1&C)+C%3;break;case 6:C=g*f,m=(1&C)+C%3&1;break;case 7:C=g*f,m=C%3+(g+f&1)&1;break;default:throw new Z("Invalid mask pattern: "+l)}return 0===m}static applyMaskPenaltyRule1Internal(l,f){let g=0;const m=f?l.getHeight():l.getWidth(),C=f?l.getWidth():l.getHeight(),w=l.getArray();for(let I=0;I<m;I++){let S=0,O=-1;for(let H=0;H<C;H++){const W=f?w[I][H]:w[H][I];W===O?S++:(S>=5&&(g+=A.N1+(S-5)),S=1,O=W)}S>=5&&(g+=A.N1+(S-5))}return g}}return A.N1=3,A.N2=3,A.N3=40,A.N4=10,A})();class ss{constructor(c,l){this.width=c,this.height=l;const f=new Array(l);for(let g=0;g!==l;g++)f[g]=new Uint8Array(c);this.bytes=f}getHeight(){return this.height}getWidth(){return this.width}get(c,l){return this.bytes[l][c]}getArray(){return this.bytes}setNumber(c,l,f){this.bytes[l][c]=f}setBoolean(c,l,f){this.bytes[l][c]=f?1:0}clear(c){for(const l of this.bytes)at.fill(l,c)}equals(c){if(!(c instanceof ss))return!1;const l=c;if(this.width!==l.width||this.height!==l.height)return!1;for(let f=0,g=this.height;f<g;++f){const m=this.bytes[f],C=l.bytes[f];for(let w=0,I=this.width;w<I;++w)if(m[w]!==C[w])return!1}return!0}toString(){const c=new le;for(let l=0,f=this.height;l<f;++l){const g=this.bytes[l];for(let m=0,C=this.width;m<C;++m)switch(g[m]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ")}c.append("\n")}return c.toString()}}let ho=(()=>{class A{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new le;return l.append("<<\n"),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append("\n ecLevel: "),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append("\n version: "),l.append(this.version?this.version.toString():"null"),l.append("\n maskPattern: "),l.append(this.maskPattern.toString()),this.matrix?(l.append("\n matrix:\n"),l.append(this.matrix.toString())):l.append("\n matrix: null\n"),l.append(">>\n"),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<A.NUM_MASK_PATTERNS}}return A.NUM_MASK_PATTERNS=8,A})(),jn=(()=>{class A extends q{}return A.kind="WriterException",A})();class Mt{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,l,f,g,m){Mt.clearMatrix(m),Mt.embedBasicPatterns(f,m),Mt.embedTypeInfo(l,g,m),Mt.maybeEmbedVersionInfo(f,m),Mt.embedDataBits(c,g,m)}static embedBasicPatterns(c,l){Mt.embedPositionDetectionPatternsAndSeparators(l),Mt.embedDarkDotAtLeftBottomCorner(l),Mt.maybeEmbedPositionAdjustmentPatterns(c,l),Mt.embedTimingPatterns(l)}static embedTypeInfo(c,l,f){const g=new Ye;Mt.makeTypeInfoBits(c,l,g);for(let m=0,C=g.getSize();m<C;++m){const w=g.get(g.getSize()-1-m),I=Mt.TYPE_INFO_COORDINATES[m];if(f.setBoolean(I[0],I[1],w),m<8){const H=f.getWidth()-m-1;f.setBoolean(H,8,w)}else{const W=f.getHeight()-7+(m-8);f.setBoolean(8,W,w)}}}static maybeEmbedVersionInfo(c,l){if(c.getVersionNumber()<7)return;const f=new Ye;Mt.makeVersionInfoBits(c,f);let g=17;for(let m=0;m<6;++m)for(let C=0;C<3;++C){const w=f.get(g);g--,l.setBoolean(m,l.getHeight()-11+C,w),l.setBoolean(l.getHeight()-11+C,m,w)}}static embedDataBits(c,l,f){let g=0,m=-1,C=f.getWidth()-1,w=f.getHeight()-1;for(;C>0;){for(6===C&&(C-=1);w>=0&&w<f.getHeight();){for(let I=0;I<2;++I){const S=C-I;if(!Mt.isEmpty(f.get(S,w)))continue;let O;g<c.getSize()?(O=c.get(g),++g):O=!1,255!==l&&vr.getDataMaskBit(l,S,w)&&(O=!O),f.setBoolean(S,w,O)}w+=m}m=-m,w+=m,C-=2}if(g!==c.getSize())throw new jn("Not all bits consumed: "+g+"/"+c.getSize())}static findMSBSet(c){return 32-Oe.numberOfLeadingZeros(c)}static calculateBCHCode(c,l){if(0===l)throw new Z("0 polynomial");const f=Mt.findMSBSet(l);for(c<<=f-1;Mt.findMSBSet(c)>=f;)c^=l<<Mt.findMSBSet(c)-f;return c}static makeTypeInfoBits(c,l,f){if(!ho.isValidMaskPattern(l))throw new jn("Invalid mask pattern");const g=c.getBits()<<3|l;f.appendBits(g,5);const m=Mt.calculateBCHCode(g,Mt.TYPE_INFO_POLY);f.appendBits(m,10);const C=new Ye;if(C.appendBits(Mt.TYPE_INFO_MASK_PATTERN,15),f.xor(C),15!==f.getSize())throw new jn("should not happen but we got: "+f.getSize())}static makeVersionInfoBits(c,l){l.appendBits(c.getVersionNumber(),6);const f=Mt.calculateBCHCode(c.getVersionNumber(),Mt.VERSION_INFO_POLY);if(l.appendBits(f,12),18!==l.getSize())throw new jn("should not happen but we got: "+l.getSize())}static isEmpty(c){return 255===c}static embedTimingPatterns(c){for(let l=8;l<c.getWidth()-8;++l){const f=(l+1)%2;Mt.isEmpty(c.get(l,6))&&c.setNumber(l,6,f),Mt.isEmpty(c.get(6,l))&&c.setNumber(6,l,f)}}static embedDarkDotAtLeftBottomCorner(c){if(0===c.get(8,c.getHeight()-8))throw new jn;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,l,f){for(let g=0;g<8;++g){if(!Mt.isEmpty(f.get(c+g,l)))throw new jn;f.setNumber(c+g,l,0)}}static embedVerticalSeparationPattern(c,l,f){for(let g=0;g<7;++g){if(!Mt.isEmpty(f.get(c,l+g)))throw new jn;f.setNumber(c,l+g,0)}}static embedPositionAdjustmentPattern(c,l,f){for(let g=0;g<5;++g){const m=Mt.POSITION_ADJUSTMENT_PATTERN[g];for(let C=0;C<5;++C)f.setNumber(c+C,l+g,m[C])}}static embedPositionDetectionPattern(c,l,f){for(let g=0;g<7;++g){const m=Mt.POSITION_DETECTION_PATTERN[g];for(let C=0;C<7;++C)f.setNumber(c+C,l+g,m[C])}}static embedPositionDetectionPatternsAndSeparators(c){const l=Mt.POSITION_DETECTION_PATTERN[0].length;Mt.embedPositionDetectionPattern(0,0,c),Mt.embedPositionDetectionPattern(c.getWidth()-l,0,c),Mt.embedPositionDetectionPattern(0,c.getWidth()-l,c);Mt.embedHorizontalSeparationPattern(0,7,c),Mt.embedHorizontalSeparationPattern(c.getWidth()-8,7,c),Mt.embedHorizontalSeparationPattern(0,c.getWidth()-8,c);Mt.embedVerticalSeparationPattern(7,0,c),Mt.embedVerticalSeparationPattern(c.getHeight()-7-1,0,c),Mt.embedVerticalSeparationPattern(7,c.getHeight()-7,c)}static maybeEmbedPositionAdjustmentPatterns(c,l){if(c.getVersionNumber()<2)return;const f=c.getVersionNumber()-1,g=Mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[f];for(let m=0,C=g.length;m!==C;m++){const w=g[m];if(w>=0)for(let I=0;I!==C;I++){const S=g[I];S>=0&&Mt.isEmpty(l.get(S,w))&&Mt.embedPositionAdjustmentPattern(S-2,w-2,l)}}}}Mt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Mt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Mt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Mt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Mt.VERSION_INFO_POLY=7973,Mt.TYPE_INFO_POLY=1335,Mt.TYPE_INFO_MASK_PATTERN=21522;class Ni{constructor(c,l){this.dataBytes=c,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(c){return vr.applyMaskPenaltyRule1(c)+vr.applyMaskPenaltyRule2(c)+vr.applyMaskPenaltyRule3(c)+vr.applyMaskPenaltyRule4(c)}static encode(c,l,f=null){let g=Dt.DEFAULT_BYTE_MODE_ENCODING;const m=null!==f&&void 0!==f.get(lr.CHARACTER_SET);m&&(g=f.get(lr.CHARACTER_SET).toString());const C=this.chooseMode(c,g),w=new Ye;if(C===At.BYTE&&(m||Dt.DEFAULT_BYTE_MODE_ENCODING!==g)){const it=Ce.getCharacterSetECIByName(g);void 0!==it&&this.appendECI(it,w)}this.appendModeInfo(C,w);const I=new Ye;let S;if(this.appendBytes(c,C,I,g),null!==f&&void 0!==f.get(lr.QR_VERSION)){const it=Number.parseInt(f.get(lr.QR_VERSION).toString(),10);S=ot.getVersionForNumber(it);const Le=this.calculateBitsNeeded(C,w,I,S);if(!this.willFit(Le,S,l))throw new jn("Data too big for requested version")}else S=this.recommendVersion(l,C,w,I);const O=new Ye;O.appendBitArray(w);const H=C===At.BYTE?I.getSizeInBytes():c.length;this.appendLengthInfo(H,S,C,O),O.appendBitArray(I);const W=S.getECBlocksForLevel(l),Q=S.getTotalCodewords()-W.getTotalECCodewords();this.terminateBits(Q,O);const se=this.interleaveWithECBytes(O,S.getTotalCodewords(),Q,W.getNumBlocks()),he=new ho;he.setECLevel(l),he.setMode(C),he.setVersion(S);const ve=S.getDimensionForVersion(),Ie=new ss(ve,ve),Ze=this.chooseMaskPattern(se,l,S,Ie);return he.setMaskPattern(Ze),Mt.buildMatrix(se,l,S,Ze,Ie),he.setMatrix(Ie),he}static recommendVersion(c,l,f,g){const m=this.calculateBitsNeeded(l,f,g,ot.getVersionForNumber(1)),C=this.chooseVersion(m,c),w=this.calculateBitsNeeded(l,f,g,C);return this.chooseVersion(w,c)}static calculateBitsNeeded(c,l,f,g){return l.getSize()+c.getCharacterCountBits(g)+f.getSize()}static getAlphanumericCode(c){return c<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,l=null){if(Ce.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(c))return At.KANJI;let f=!1,g=!1;for(let m=0,C=c.length;m<C;++m){const w=c.charAt(m);if(Dt.isDigit(w))f=!0;else{if(-1===this.getAlphanumericCode(w.charCodeAt(0)))return At.BYTE;g=!0}}return g?At.ALPHANUMERIC:f?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(c){let l;try{l=ee.encode(c,Ce.SJIS)}catch{return!1}const f=l.length;if(f%2!=0)return!1;for(let g=0;g<f;g+=2){const m=255&l[g];if((m<129||m>159)&&(m<224||m>235))return!1}return!0}static chooseMaskPattern(c,l,f,g){let m=Number.MAX_SAFE_INTEGER,C=-1;for(let w=0;w<ho.NUM_MASK_PATTERNS;w++){Mt.buildMatrix(c,l,f,w,g);let I=this.calculateMaskPenalty(g);I<m&&(m=I,C=w)}return C}static chooseVersion(c,l){for(let f=1;f<=40;f++){const g=ot.getVersionForNumber(f);if(Dt.willFit(c,g,l))return g}throw new jn("Data too big")}static willFit(c,l,f){return l.getTotalCodewords()-l.getECBlocksForLevel(f).getTotalECCodewords()>=(c+7)/8}static terminateBits(c,l){const f=8*c;if(l.getSize()>f)throw new jn("data bits cannot fit in the QR Code"+l.getSize()+" > "+f);for(let C=0;C<4&&l.getSize()<f;++C)l.appendBit(!1);const g=7&l.getSize();if(g>0)for(let C=g;C<8;C++)l.appendBit(!1);const m=c-l.getSizeInBytes();for(let C=0;C<m;++C)l.appendBits(1&C?17:236,8);if(l.getSize()!==f)throw new jn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,l,f,g,m,C){if(g>=f)throw new jn("Block ID too large");const w=c%f,I=f-w,S=Math.floor(c/f),O=S+1,H=Math.floor(l/f),W=H+1,Q=S-H,se=O-W;if(Q!==se)throw new jn("EC bytes mismatch");if(f!==I+w)throw new jn("RS blocks mismatch");if(c!==(H+Q)*I+(W+se)*w)throw new jn("Total bytes mismatch");g<I?(m[0]=H,C[0]=Q):(m[0]=W,C[0]=se)}static interleaveWithECBytes(c,l,f,g){if(c.getSizeInBytes()!==f)throw new jn("Number of bits and data bytes does not match");let m=0,C=0,w=0;const I=new Array;for(let O=0;O<g;++O){const H=new Int32Array(1),W=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(l,f,g,O,H,W);const Q=H[0],se=new Uint8Array(Q);c.toBytes(8*m,se,0,Q);const he=Dt.generateECBytes(se,W[0]);I.push(new Ni(se,he)),C=Math.max(C,Q),w=Math.max(w,he.length),m+=H[0]}if(f!==m)throw new jn("Data bytes does not match offset");const S=new Ye;for(let O=0;O<C;++O)for(const H of I){const W=H.getDataBytes();O<W.length&&S.appendBits(W[O],8)}for(let O=0;O<w;++O)for(const H of I){const W=H.getErrorCorrectionBytes();O<W.length&&S.appendBits(W[O],8)}if(l!==S.getSizeInBytes())throw new jn("Interleaving error: "+l+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(c,l){const f=c.length,g=new Int32Array(f+l);for(let C=0;C<f;C++)g[C]=255&c[C];new Uc(pt.QR_CODE_FIELD_256).encode(g,l);const m=new Uint8Array(l);for(let C=0;C<l;C++)m[C]=g[f+C];return m}static appendModeInfo(c,l){l.appendBits(c.getBits(),4)}static appendLengthInfo(c,l,f,g){const m=f.getCharacterCountBits(l);if(c>=1<<m)throw new jn(c+" is bigger than "+((1<<m)-1));g.appendBits(c,m)}static appendBytes(c,l,f,g){switch(l){case At.NUMERIC:Dt.appendNumericBytes(c,f);break;case At.ALPHANUMERIC:Dt.appendAlphanumericBytes(c,f);break;case At.BYTE:Dt.append8BitBytes(c,f,g);break;case At.KANJI:Dt.appendKanjiBytes(c,f);break;default:throw new jn("Invalid mode: "+l)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const l=Dt.getDigit(c);return l>=0&&l<=9}static appendNumericBytes(c,l){const f=c.length;let g=0;for(;g<f;){const m=Dt.getDigit(c.charAt(g));if(g+2<f){const C=Dt.getDigit(c.charAt(g+1)),w=Dt.getDigit(c.charAt(g+2));l.appendBits(100*m+10*C+w,10),g+=3}else if(g+1<f){const C=Dt.getDigit(c.charAt(g+1));l.appendBits(10*m+C,7),g+=2}else l.appendBits(m,4),g++}}static appendAlphanumericBytes(c,l){const f=c.length;let g=0;for(;g<f;){const m=Dt.getAlphanumericCode(c.charCodeAt(g));if(-1===m)throw new jn;if(g+1<f){const C=Dt.getAlphanumericCode(c.charCodeAt(g+1));if(-1===C)throw new jn;l.appendBits(45*m+C,11),g+=2}else l.appendBits(m,6),g++}}static append8BitBytes(c,l,f){let g;try{g=ee.encode(c,f)}catch(m){throw new jn(m)}for(let m=0,C=g.length;m!==C;m++)l.appendBits(g[m],8)}static appendKanjiBytes(c,l){let f;try{f=ee.encode(c,Ce.SJIS)}catch(m){throw new jn(m)}const g=f.length;for(let m=0;m<g;m+=2){const I=(255&f[m])<<8&4294967295|255&f[m+1];let S=-1;if(I>=33088&&I<=40956?S=I-33088:I>=57408&&I<=60351&&(S=I-49472),-1===S)throw new jn("Invalid byte sequence");l.appendBits(192*(S>>8)+(255&S),13)}}static appendECI(c,l){l.appendBits(At.ECI.getBits(),4),l.appendBits(c.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=Ce.UTF8.getName();let Oi=(()=>{class A{write(l,f,g,m=null){if(0===l.length)throw new Z("Found empty contents");if(f<0||g<0)throw new Z("Requested dimensions are too small: "+f+"x"+g);let C=tn.L,w=A.QUIET_ZONE_SIZE;null!==m&&(void 0!==m.get(lr.ERROR_CORRECTION)&&(C=tn.fromString(m.get(lr.ERROR_CORRECTION).toString())),void 0!==m.get(lr.MARGIN)&&(w=Number.parseInt(m.get(lr.MARGIN).toString(),10)));const I=Dt.encode(l,C,m);return this.renderResult(I,f,g,w)}writeToDom(l,f,g,m,C=null){"string"==typeof l&&(l=document.querySelector(l));const w=this.write(f,g,m,C);l&&l.appendChild(w)}renderResult(l,f,g,m){const C=l.getMatrix();if(null===C)throw new xn;const w=C.getWidth(),I=C.getHeight(),S=w+2*m,O=I+2*m,H=Math.max(f,S),W=Math.max(g,O),Q=Math.min(Math.floor(H/S),Math.floor(W/O)),se=Math.floor((H-w*Q)/2),he=Math.floor((W-I*Q)/2),ve=this.createSVGElement(H,W);for(let Ie=0,Ze=he;Ie<I;Ie++,Ze+=Q)for(let it=0,Le=se;it<w;it++,Le+=Q)if(1===C.get(it,Ie)){const cn=this.createSvgRectElement(Le,Ze,Q,Q);ve.appendChild(cn)}return ve}createSVGElement(l,f){const g=document.createElementNS(A.SVG_NS,"svg");return g.setAttributeNS(null,"height",l.toString()),g.setAttributeNS(null,"width",f.toString()),g}createSvgRectElement(l,f,g,m){const C=document.createElementNS(A.SVG_NS,"rect");return C.setAttributeNS(null,"x",l.toString()),C.setAttributeNS(null,"y",f.toString()),C.setAttributeNS(null,"height",g.toString()),C.setAttributeNS(null,"width",m.toString()),C.setAttributeNS(null,"fill","#000000"),C}}return A.QUIET_ZONE_SIZE=4,A.SVG_NS="http://www.w3.org/2000/svg",A})(),as=(()=>{class A{encode(l,f,g,m,C){if(0===l.length)throw new Z("Found empty contents");if(f!==Pe.QR_CODE)throw new Z("Can only encode QR_CODE, but got "+f);if(g<0||m<0)throw new Z(`Requested dimensions are too small: ${g}x${m}`);let w=tn.L,I=A.QUIET_ZONE_SIZE;null!==C&&(void 0!==C.get(lr.ERROR_CORRECTION)&&(w=tn.fromString(C.get(lr.ERROR_CORRECTION).toString())),void 0!==C.get(lr.MARGIN)&&(I=Number.parseInt(C.get(lr.MARGIN).toString(),10)));const S=Dt.encode(l,w,C);return A.renderResult(S,g,m,I)}static renderResult(l,f,g,m){const C=l.getMatrix();if(null===C)throw new xn;const w=C.getWidth(),I=C.getHeight(),S=w+2*m,O=I+2*m,H=Math.max(f,S),W=Math.max(g,O),Q=Math.min(Math.floor(H/S),Math.floor(W/O)),se=Math.floor((H-w*Q)/2),he=Math.floor((W-I*Q)/2),ve=new pe(H,W);for(let Ie=0,Ze=he;Ie<I;Ie++,Ze+=Q)for(let it=0,Le=se;it<w;it++,Le+=Q)1===C.get(it,Ie)&&ve.setRegion(Le,Ze,Q,Q);return ve}}return A.QUIET_ZONE_SIZE=4,A})();let ma=(()=>{class A extends ze{constructor(l,f,g,m,C,w,I,S){if(super(w,I),this.yuvData=l,this.dataWidth=f,this.dataHeight=g,this.left=m,this.top=C,m+w>f||C+I>g)throw new Z("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(w,I)}getRow(l,f){if(l<0||l>=this.getHeight())throw new Z("Requested row is outside the image: "+l);const g=this.getWidth();return(null==f||f.length<g)&&(f=new Uint8ClampedArray(g)),fe.arraycopy(this.yuvData,(l+this.top)*this.dataWidth+this.left,f,0,g),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const g=l*f,m=new Uint8ClampedArray(g);let C=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return fe.arraycopy(this.yuvData,C,m,0,g),m;for(let w=0;w<f;w++)fe.arraycopy(this.yuvData,C,m,w*l,l),C+=this.dataWidth;return m}isCropSupported(){return!0}crop(l,f,g,m){return new A(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,g,m,!1)}renderThumbnail(){const l=this.getWidth()/A.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/A.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(l*f),m=this.yuvData;let C=this.top*this.dataWidth+this.left;for(let w=0;w<f;w++){const I=w*l;for(let S=0;S<l;S++)g[I+S]=4278190080|65793*(255&m[C+S*A.THUMBNAIL_SCALE_FACTOR]);C+=this.dataWidth*A.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/A.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/A.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const g=this.yuvData;for(let m=0,C=this.top*this.dataWidth+this.left;m<f;m++,C+=this.dataWidth){const w=C+l/2;for(let I=C,S=C+l-1;I<w;I++,S--){const O=g[I];g[I]=g[S],g[S]=O}}}invert(){return new ht(this)}}return A.THUMBNAIL_SCALE_FACTOR=2,A})();class qi extends ze{constructor(c,l,f,g,m,C,w){if(super(l,f),this.dataWidth=g,this.dataHeight=m,this.left=C,this.top=w,4===c.BYTES_PER_ELEMENT){const I=l*f,S=new Uint8ClampedArray(I);for(let O=0;O<I;O++){const H=c[O];S[O]=((H>>16&255)+(H>>7&510)+(255&H))/4&255}this.luminances=S}else this.luminances=c;if(void 0===g&&(this.dataWidth=l),void 0===m&&(this.dataHeight=f),void 0===C&&(this.left=0),void 0===w&&(this.top=0),this.left+l>this.dataWidth||this.top+f>this.dataHeight)throw new Z("Crop rectangle does not fit within image data.")}getRow(c,l){if(c<0||c>=this.getHeight())throw new Z("Requested row is outside the image: "+c);const f=this.getWidth();return(null==l||l.length<f)&&(l=new Uint8ClampedArray(f)),fe.arraycopy(this.luminances,(c+this.top)*this.dataWidth+this.left,l,0,f),l}getMatrix(){const c=this.getWidth(),l=this.getHeight();if(c===this.dataWidth&&l===this.dataHeight)return this.luminances;const f=c*l,g=new Uint8ClampedArray(f);let m=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return fe.arraycopy(this.luminances,m,g,0,f),g;for(let C=0;C<l;C++)fe.arraycopy(this.luminances,m,g,C*c,c),m+=this.dataWidth;return g}isCropSupported(){return!0}crop(c,l,f,g){return new qi(this.luminances,f,g,this.dataWidth,this.dataHeight,this.left+c,this.top+l)}invert(){return new ht(this)}}class yr extends Ce{static forName(c){return this.getCharacterSetECIByName(c)}}class xi{}xi.ISO_8859_1=Ce.ISO8859_1;class Ka{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class _a{static singletonList(c){return[c]}static min(c,l){return c.sort(l)[0]}}class Qa{constructor(c){this.previous=c}getPrevious(){return this.previous}}class fo extends Qa{constructor(c,l,f){super(c),this.value=l,this.bitCount=f}appendTo(c,l){c.appendBits(this.value,this.bitCount)}add(c,l){return new fo(this,c,l)}addBinaryShift(c,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new fo(this,c,l)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+Oe.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class Lo extends fo{constructor(c,l,f){super(c,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=f}appendTo(c,l){for(let f=0;f<this.binaryShiftByteCount;f++)(0===f||31===f&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):c.appendBits(0===f?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),c.appendBits(l[this.binaryShiftStart+f],8)}addBinaryShift(c,l){return new Lo(this,c,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fo(A,c,l){return new fo(A,c,l)}const Ed=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],cs=new fo(null,0,0),jc=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const Hc=function va(A){for(let c of A)at.fill(c,-1);return A[0][4]=0,A[1][4]=0,A[1][0]=28,A[3][4]=0,A[2][4]=0,A[2][0]=15,A}(at.createInt32Array(6,6));class fi{constructor(c,l,f,g){this.token=c,this.mode=l,this.binaryShiftByteCount=f,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,l){let f=this.bitCount,g=this.token;if(c!==this.mode){let C=jc[this.mode][c];g=Fo(g,65535&C,C>>16),f+=C>>16}let m=2===c?4:5;return g=Fo(g,l,m),new fi(g,c,0,f+m)}shiftAndAppend(c,l){let f=this.token,g=2===this.mode?4:5;return f=Fo(f,Hc[this.mode][c],g),f=Fo(f,l,5),new fi(f,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(c){let l=this.token,f=this.mode,g=this.bitCount;if(4===this.mode||2===this.mode){let w=jc[f][0];l=Fo(l,65535&w,w>>16),g+=w>>16,f=0}let C=new fi(l,f,this.binaryShiftByteCount+1,g+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===C.binaryShiftByteCount&&(C=C.endBinaryShift(c+1)),C}endBinaryShift(c){if(0===this.binaryShiftByteCount)return this;let l=this.token;return l=function Vc(A,c,l){return new Lo(A,c,l)}(l,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new fi(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let l=this.bitCount+(jc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?l+=fi.calculateBinaryShiftCost(c)-fi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(l+=10),l<=c.bitCount}toBitArray(c){let l=[];for(let g=this.endBinaryShift(c.length).token;null!==g;g=g.getPrevious())l.unshift(g);let f=new Ye;for(const g of l)g.appendTo(f,c);return f}toString(){return X.format("%s bits=%d bytes=%d",Ed[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}fi.INITIAL_STATE=new fi(cs,0,0,0);const Ji=function zc(A){const c=X.getCharCode(" "),l=X.getCharCode("."),f=X.getCharCode(",");A[0][c]=1;const g=X.getCharCode("Z"),m=X.getCharCode("A");for(let W=m;W<=g;W++)A[0][W]=W-m+2;A[1][c]=1;const C=X.getCharCode("z"),w=X.getCharCode("a");for(let W=w;W<=C;W++)A[1][W]=W-w+2;A[2][c]=1;const I=X.getCharCode("9"),S=X.getCharCode("0");for(let W=S;W<=I;W++)A[2][W]=W-S+2;A[2][f]=12,A[2][l]=13;const O=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let W=0;W<O.length;W++)A[3][X.getCharCode(O[W])]=W;const H=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let W=0;W<H.length;W++)X.getCharCode(H[W])>0&&(A[4][X.getCharCode(H[W])]=W);return A}(at.createInt32Array(5,256));class Bo{constructor(c){this.text=c}encode(){const c=X.getCharCode(" "),l=X.getCharCode("\n");let f=_a.singletonList(fi.INITIAL_STATE);for(let m=0;m<this.text.length;m++){let C,w=m+1<this.text.length?this.text[m+1]:0;switch(this.text[m]){case X.getCharCode("\r"):C=w===l?2:0;break;case X.getCharCode("."):C=w===c?3:0;break;case X.getCharCode(","):C=w===c?4:0;break;case X.getCharCode(":"):C=w===c?5:0;break;default:C=0}C>0?(f=Bo.updateStateListForPair(f,m,C),m++):f=this.updateStateListForChar(f,m)}return _a.min(f,(m,C)=>m.getBitCount()-C.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,l){const f=[];for(let g of c)this.updateStateForChar(g,l,f);return Bo.simplifyStates(f)}updateStateForChar(c,l,f){let g=255&this.text[l],m=Ji[c.getMode()][g]>0,C=null;for(let w=0;w<=4;w++){let I=Ji[w][g];if(I>0){if(null==C&&(C=c.endBinaryShift(l)),!m||w===c.getMode()||2===w){const S=C.latchAndAppend(w,I);f.push(S)}if(!m&&Hc[c.getMode()][w]>=0){const S=C.shiftAndAppend(w,I);f.push(S)}}}if(c.getBinaryShiftByteCount()>0||0===Ji[c.getMode()][g]){let w=c.addBinaryShiftChar(l);f.push(w)}}static updateStateListForPair(c,l,f){const g=[];for(let m of c)this.updateStateForPair(m,l,f,g);return this.simplifyStates(g)}static updateStateForPair(c,l,f,g){let m=c.endBinaryShift(l);if(g.push(m.latchAndAppend(4,f)),4!==c.getMode()&&g.push(m.shiftAndAppend(4,f)),3===f||4===f){let C=m.latchAndAppend(2,16-f).latchAndAppend(2,1);g.push(C)}if(c.getBinaryShiftByteCount()>0){let C=c.addBinaryShiftChar(l).addBinaryShiftChar(l+1);g.push(C)}}static simplifyStates(c){let l=[];for(const f of c){let g=!0;for(const m of l){if(m.isBetterThanOrEqualTo(f)){g=!1;break}f.isBetterThanOrEqualTo(m)&&(l=l.filter(C=>C!==m))}g&&l.push(f)}return l}}class wn{constructor(){}static encodeBytes(c){return wn.encode(c,wn.DEFAULT_EC_PERCENT,wn.DEFAULT_AZTEC_LAYERS)}static encode(c,l,f){let w,I,S,O,H,g=new Bo(c).encode(),m=Oe.truncDivision(g.getSize()*l,100)+11,C=g.getSize()+m;if(f!==wn.DEFAULT_AZTEC_LAYERS){if(w=f<0,I=Math.abs(f),I>(w?wn.MAX_NB_BITS_COMPACT:wn.MAX_NB_BITS))throw new Z(X.format("Illegal value %s for layers",f));S=wn.totalBitsInLayer(I,w),O=wn.WORD_SIZE[I];let Le=S-S%O;if(H=wn.stuffBits(g,O),H.getSize()+m>Le)throw new Z("Data to large for user specified layer");if(w&&H.getSize()>64*O)throw new Z("Data to large for user specified layer")}else{O=0,H=null;for(let Le=0;;Le++){if(Le>wn.MAX_NB_BITS)throw new Z("Data too large for an Aztec code");if(w=Le<=3,I=w?Le+1:Le,S=wn.totalBitsInLayer(I,w),C>S)continue;(null==H||O!==wn.WORD_SIZE[I])&&(O=wn.WORD_SIZE[I],H=wn.stuffBits(g,O));let cn=S-S%O;if(!(w&&H.getSize()>64*O)&&H.getSize()+m<=cn)break}}let Ie,W=wn.generateCheckWords(H,S,O),Q=H.getSize()/O,se=wn.generateModeMessage(w,I,Q),he=(w?11:14)+4*I,ve=new Int32Array(he);if(w){Ie=he;for(let Le=0;Le<ve.length;Le++)ve[Le]=Le}else{Ie=he+1+2*Oe.truncDivision(Oe.truncDivision(he,2)-1,15);let Le=Oe.truncDivision(he,2),cn=Oe.truncDivision(Ie,2);for(let zt=0;zt<Le;zt++){let nr=zt+Oe.truncDivision(zt,15);ve[Le-zt-1]=cn-nr-1,ve[Le+zt]=cn+nr+1}}let Ze=new pe(Ie);for(let Le=0,cn=0;Le<I;Le++){let zt=4*(I-Le)+(w?9:12);for(let nr=0;nr<zt;nr++){let Hr=2*nr;for(let zr=0;zr<2;zr++)W.get(cn+Hr+zr)&&Ze.set(ve[2*Le+zr],ve[2*Le+nr]),W.get(cn+2*zt+Hr+zr)&&Ze.set(ve[2*Le+nr],ve[he-1-2*Le-zr]),W.get(cn+4*zt+Hr+zr)&&Ze.set(ve[he-1-2*Le-zr],ve[he-1-2*Le-nr]),W.get(cn+6*zt+Hr+zr)&&Ze.set(ve[he-1-2*Le-nr],ve[2*Le+zr])}cn+=8*zt}if(wn.drawModeMessage(Ze,w,Ie,se),w)wn.drawBullsEye(Ze,Oe.truncDivision(Ie,2),5);else{wn.drawBullsEye(Ze,Oe.truncDivision(Ie,2),7);for(let Le=0,cn=0;Le<Oe.truncDivision(he,2)-1;Le+=15,cn+=16)for(let zt=1&Oe.truncDivision(Ie,2);zt<Ie;zt+=2)Ze.set(Oe.truncDivision(Ie,2)-cn,zt),Ze.set(Oe.truncDivision(Ie,2)+cn,zt),Ze.set(zt,Oe.truncDivision(Ie,2)-cn),Ze.set(zt,Oe.truncDivision(Ie,2)+cn)}let it=new Ka;return it.setCompact(w),it.setSize(Ie),it.setLayers(I),it.setCodeWords(Q),it.setMatrix(Ze),it}static drawBullsEye(c,l,f){for(let g=0;g<f;g+=2)for(let m=l-g;m<=l+g;m++)c.set(m,l-g),c.set(m,l+g),c.set(l-g,m),c.set(l+g,m);c.set(l-f,l-f),c.set(l-f+1,l-f),c.set(l-f,l-f+1),c.set(l+f,l-f),c.set(l+f,l-f+1),c.set(l+f,l+f-1)}static generateModeMessage(c,l,f){let g=new Ye;return c?(g.appendBits(l-1,2),g.appendBits(f-1,6),g=wn.generateCheckWords(g,28,4)):(g.appendBits(l-1,5),g.appendBits(f-1,11),g=wn.generateCheckWords(g,40,4)),g}static drawModeMessage(c,l,f,g){let m=Oe.truncDivision(f,2);if(l)for(let C=0;C<7;C++){let w=m-3+C;g.get(C)&&c.set(w,m-5),g.get(C+7)&&c.set(m+5,w),g.get(20-C)&&c.set(w,m+5),g.get(27-C)&&c.set(m-5,w)}else for(let C=0;C<10;C++){let w=m-5+C+Oe.truncDivision(C,5);g.get(C)&&c.set(w,m-7),g.get(C+10)&&c.set(m+7,w),g.get(29-C)&&c.set(w,m+7),g.get(39-C)&&c.set(m-7,w)}}static generateCheckWords(c,l,f){let g=c.getSize()/f,m=new Uc(wn.getGF(f)),C=Oe.truncDivision(l,f),w=wn.bitsToWords(c,f,C);m.encode(w,C-g);let I=l%f,S=new Ye;S.appendBits(0,I);for(const O of Array.from(w))S.appendBits(O,f);return S}static bitsToWords(c,l,f){let m,C,g=new Int32Array(f);for(m=0,C=c.getSize()/l;m<C;m++){let w=0;for(let I=0;I<l;I++)w|=c.get(m*l+I)?1<<l-I-1:0;g[m]=w}return g}static getGF(c){switch(c){case 4:return pt.AZTEC_PARAM;case 6:return pt.AZTEC_DATA_6;case 8:return pt.AZTEC_DATA_8;case 10:return pt.AZTEC_DATA_10;case 12:return pt.AZTEC_DATA_12;default:throw new Z("Unsupported word size "+c)}}static stuffBits(c,l){let f=new Ye,g=c.getSize(),m=(1<<l)-2;for(let C=0;C<g;C+=l){let w=0;for(let I=0;I<l;I++)(C+I>=g||c.get(C+I))&&(w|=1<<l-1-I);(w&m)===m?(f.appendBits(w&m,l),C--):w&m?f.appendBits(w,l):(f.appendBits(1|w,l),C--)}return f}static totalBitsInLayer(c,l){return((l?88:112)+16*c)*c}}wn.DEFAULT_EC_PERCENT=33,wn.DEFAULT_AZTEC_LAYERS=0,wn.MAX_NB_BITS=32,wn.MAX_NB_BITS_COMPACT=4,wn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class po{encode(c,l,f,g){return this.encodeWithHints(c,l,f,g,null)}encodeWithHints(c,l,f,g,m){let C=xi.ISO_8859_1,w=wn.DEFAULT_EC_PERCENT,I=wn.DEFAULT_AZTEC_LAYERS;return null!=m&&(m.has(lr.CHARACTER_SET)&&(C=yr.forName(m.get(lr.CHARACTER_SET).toString())),m.has(lr.ERROR_CORRECTION)&&(w=Oe.parseInt(m.get(lr.ERROR_CORRECTION).toString())),m.has(lr.AZTEC_LAYERS)&&(I=Oe.parseInt(m.get(lr.AZTEC_LAYERS).toString()))),po.encodeLayers(c,l,f,g,C,w,I)}static encodeLayers(c,l,f,g,m,C,w){if(l!==Pe.AZTEC)throw new Z("Can only encode AZTEC, but got "+l);let I=wn.encode(X.getBytes(c,m),C,w);return po.renderResult(I,f,g)}static renderResult(c,l,f){let g=c.getMatrix();if(null==g)throw new xn;let m=g.getWidth(),C=g.getHeight(),w=Math.max(l,m),I=Math.max(f,C),S=Math.min(w/m,I/C),O=(w-m*S)/2,H=(I-C*S)/2,W=new pe(w,I);for(let Q=0,se=H;Q<C;Q++,se+=S)for(let he=0,ve=O;he<m;he++,ve+=S)g.get(he,Q)&&W.setRegion(ve,se,S,S);return W}}G.AbstractExpandedDecoder=la,G.ArgumentException=ne,G.ArithmeticException=mt,G.AztecCode=Ka,G.AztecCodeReader=Un,G.AztecCodeWriter=po,G.AztecDecoder=en,G.AztecDetector=sr,G.AztecDetectorResult=Pr,G.AztecEncoder=wn,G.AztecHighLevelEncoder=Bo,G.AztecPoint=kn,G.BarcodeFormat=Pe,G.Binarizer=_e,G.BinaryBitmap=ae,G.BitArray=Ye,G.BitMatrix=pe,G.BitSource=ar,G.BrowserAztecCodeReader=class Xr extends Gt{constructor(c=500){super(new Un,c)}},G.BrowserBarcodeReader=class $i extends Gt{constructor(c=500,l){super(new ui(l),c,l)}},G.BrowserCodeReader=Gt,G.BrowserDatamatrixCodeReader=class ua extends Gt{constructor(c=500){super(new Zn,c)}},G.BrowserMultiFormatReader=class Rs extends Gt{constructor(c=null,l=500){const f=new ga;f.setHints(c),super(f,l)}decodeBitmap(c){return this.reader.decodeWithState(c)}},G.BrowserPDF417Reader=class Ei extends Gt{constructor(c=500){super(new vn,c)}},G.BrowserQRCodeReader=class uo extends Gt{constructor(c=500){super(new br,c)}},G.BrowserQRCodeSvgWriter=Oi,G.CharacterSetECI=Ce,G.ChecksumException=te,G.Code128Reader=Xe,G.Code39Reader=gn,G.DataMatrixDecodedBitStreamParser=di,G.DataMatrixReader=Zn,G.DecodeHintType=Qe,G.DecoderResult=Fn,G.DefaultGridSampler=$t,G.DetectorResult=tr,G.EAN13Reader=Ro,G.EncodeHintType=lr,G.Exception=q,G.FormatException=ke,G.GenericGF=pt,G.GenericGFPoly=Ht,G.GlobalHistogramBinarizer=Te,G.GridSampler=Bn,G.GridSamplerInstance=st,G.HTMLCanvasElementLuminanceSource=Ae,G.HybridBinarizer=Se,G.ITFReader=Lt,G.IllegalArgumentException=Z,G.IllegalStateException=xn,G.InvertedLuminanceSource=ht,G.LuminanceSource=ze,G.MathUtils=Et,G.MultiFormatOneDReader=ui,G.MultiFormatReader=ga,G.MultiFormatWriter=class Yi{encode(c,l,f,g,m){let C;if(l!==Pe.QR_CODE)throw new Z("No encoder available for format "+l);return C=new as,C.encode(c,l,f,g,m)}},G.NotFoundException=J,G.OneDReader=Wt,G.PDF417DecodedBitStreamParser=be,G.PDF417DecoderErrorCorrection=ha,G.PDF417Reader=vn,G.PDF417ResultMetadata=is,G.PerspectiveTransform=Yt,G.PlanarYUVLuminanceSource=ma,G.QRCodeByteMatrix=ss,G.QRCodeDataMask=mr,G.QRCodeDecodedBitStreamParser=da,G.QRCodeDecoderErrorCorrectionLevel=tn,G.QRCodeDecoderFormatInformation=hr,G.QRCodeEncoder=Dt,G.QRCodeEncoderQRCode=ho,G.QRCodeMaskUtil=vr,G.QRCodeMatrixUtil=Mt,G.QRCodeMode=At,G.QRCodeReader=br,G.QRCodeVersion=ot,G.QRCodeWriter=as,G.RGBLuminanceSource=qi,G.RSS14Reader=Wn,G.RSSExpandedReader=He,G.ReaderException=Fr,G.ReedSolomonDecoder=pn,G.ReedSolomonEncoder=Uc,G.ReedSolomonException=An,G.Result=ct,G.ResultMetadataType=Rt,G.ResultPoint=De,G.StringUtils=X,G.UnsupportedOperationException=Ne,G.VideoInputDevice=gt,G.WhiteRectangleDetector=or,G.WriterException=jn,G.ZXingArrays=at,G.ZXingCharset=yr,G.ZXingInteger=Oe,G.ZXingStandardCharsets=xi,G.ZXingStringBuilder=le,G.ZXingStringEncoding=ee,G.ZXingSystem=fe,G.createAbstractExpandedDecoder=co,Object.defineProperty(G,"__esModule",{value:!0})}(me)},6484:function(wt,me){!function(G){"use strict";var o=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(N){L.Util.setOptions(this,N),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var P=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,P?this._withAnimation:this._noAnimation),this._markerCluster=P?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(N){if(N instanceof L.LayerGroup)return this.addLayers([N]);if(!N.getLatLng)return this._nonPointGroup.addLayer(N),this.fire("layeradd",{layer:N}),this;if(!this._map)return this._needsClustering.push(N),this.fire("layeradd",{layer:N}),this;if(this.hasLayer(N))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(N,this._maxZoom),this.fire("layeradd",{layer:N}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var P=N,j=this._zoom;if(N.__parent)for(;P.__parent._zoom>=j;)P=P.__parent;return this._currentShownBounds.contains(P.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(N,P):this._animationAddLayerNonAnimated(N,P)),this},removeLayer:function(N){return N instanceof L.LayerGroup?this.removeLayers([N]):N.getLatLng?this._map?N.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(N)),this._removeLayer(N,!0),this.fire("layerremove",{layer:N}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),N.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(N)&&(this._featureGroup.removeLayer(N),N.clusterShow&&N.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,N)&&this.hasLayer(N)&&this._needsRemoving.push({layer:N,latlng:N._latlng}),this.fire("layerremove",{layer:N}),this):(this._nonPointGroup.removeLayer(N),this.fire("layerremove",{layer:N}),this)},addLayers:function(N,P){if(!L.Util.isArray(N))return this.addLayer(N);var fe,j=this._featureGroup,z=this._nonPointGroup,q=this.options.chunkedLoading,ne=this.options.chunkInterval,Z=this.options.chunkProgress,ae=N.length,te=0,_e=!0;if(this._map){var Re=(new Date).getTime(),Ve=L.bind(function(){var Oe=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();te<ae&&!(q&&te%200==0&&(new Date).getTime()-Oe>ne);te++)if((fe=N[te])instanceof L.LayerGroup)_e&&(N=N.slice(),_e=!1),this._extractNonGroupLayers(fe,N),ae=N.length;else if(fe.getLatLng){if(!this.hasLayer(fe)&&(this._addLayer(fe,this._maxZoom),P||this.fire("layeradd",{layer:fe}),fe.__parent&&2===fe.__parent.getChildCount())){var ut=fe.__parent.getAllChildMarkers();j.removeLayer(ut[0]===fe?ut[1]:ut[0])}}else z.addLayer(fe),P||this.fire("layeradd",{layer:fe});Z&&Z(te,ae,(new Date).getTime()-Re),te===ae?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(Ve,this.options.chunkDelay)},this);Ve()}else for(var at=this._needsClustering;te<ae;te++)(fe=N[te])instanceof L.LayerGroup?(_e&&(N=N.slice(),_e=!1),this._extractNonGroupLayers(fe,N),ae=N.length):fe.getLatLng?this.hasLayer(fe)||at.push(fe):z.addLayer(fe);return this},removeLayers:function(N){var P,j,z=N.length,q=this._featureGroup,ne=this._nonPointGroup,Z=!0;if(!this._map){for(P=0;P<z;P++)(j=N[P])instanceof L.LayerGroup?(Z&&(N=N.slice(),Z=!1),this._extractNonGroupLayers(j,N),z=N.length):(this._arraySplice(this._needsClustering,j),ne.removeLayer(j),this.hasLayer(j)&&this._needsRemoving.push({layer:j,latlng:j._latlng}),this.fire("layerremove",{layer:j}));return this}if(this._unspiderfy){this._unspiderfy();var ae=N.slice(),te=z;for(P=0;P<te;P++)(j=ae[P])instanceof L.LayerGroup?(this._extractNonGroupLayers(j,ae),te=ae.length):this._unspiderfyLayer(j)}for(P=0;P<z;P++)(j=N[P])instanceof L.LayerGroup?(Z&&(N=N.slice(),Z=!1),this._extractNonGroupLayers(j,N),z=N.length):j.__parent?(this._removeLayer(j,!0,!0),this.fire("layerremove",{layer:j}),q.hasLayer(j)&&(q.removeLayer(j),j.clusterShow&&j.clusterShow())):(ne.removeLayer(j),this.fire("layerremove",{layer:j}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(N){N.off(this._childMarkerEventHandlers,this),delete N.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var N=new L.LatLngBounds;this._topClusterLevel&&N.extend(this._topClusterLevel._bounds);for(var P=this._needsClustering.length-1;P>=0;P--)N.extend(this._needsClustering[P].getLatLng());return N.extend(this._nonPointGroup.getBounds()),N},eachLayer:function(N,P){var q,ne,Z,j=this._needsClustering.slice(),z=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(j),ne=j.length-1;ne>=0;ne--){for(q=!0,Z=z.length-1;Z>=0;Z--)if(z[Z].layer===j[ne]){q=!1;break}q&&N.call(P,j[ne])}this._nonPointGroup.eachLayer(N,P)},getLayers:function(){var N=[];return this.eachLayer(function(P){N.push(P)}),N},getLayer:function(N){var P=null;return N=parseInt(N,10),this.eachLayer(function(j){L.stamp(j)===N&&(P=j)}),P},hasLayer:function(N){if(!N)return!1;var P,j=this._needsClustering;for(P=j.length-1;P>=0;P--)if(j[P]===N)return!0;for(P=(j=this._needsRemoving).length-1;P>=0;P--)if(j[P].layer===N)return!1;return!(!N.__parent||N.__parent._group!==this)||this._nonPointGroup.hasLayer(N)},zoomToShowLayer:function(N,P){var j=this._map;"function"!=typeof P&&(P=function(){});var z=function(){(j.hasLayer(N)||j.hasLayer(N.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",z,this),this.off("animationend",z,this),j.hasLayer(N)?P():N.__parent._icon&&(this.once("spiderfied",P,this),N.__parent.spiderfy()))};N._icon&&this._map.getBounds().contains(N.getLatLng())?P():N.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",z,this),this._map.panTo(N.getLatLng())):(this._map.on("moveend",z,this),this.on("animationend",z,this),N.__parent.zoomToBounds())},onAdd:function(N){var P,j,z;if(this._map=N,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(N),this._nonPointGroup.addTo(N),this._gridClusters||this._generateInitialClusters(),this._maxLat=N.options.crs.projection.MAX_LATITUDE,P=0,j=this._needsRemoving.length;P<j;P++)(z=this._needsRemoving[P]).newlatlng=z.layer._latlng,z.layer._latlng=z.latlng;for(P=0,j=this._needsRemoving.length;P<j;P++)this._removeLayer((z=this._needsRemoving[P]).layer,!0),z.layer._latlng=z.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),j=this._needsClustering,this._needsClustering=[],this.addLayers(j,!0)},onRemove:function(N){N.off("zoomend",this._zoomEnd,this),N.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(N){for(var P=N;P&&!P._icon;)P=P.__parent;return P||null},_arraySplice:function(N,P){for(var j=N.length-1;j>=0;j--)if(N[j]===P)return N.splice(j,1),!0},_removeFromGridUnclustered:function(N,P){for(var j=this._map,z=this._gridUnclustered,q=Math.floor(this._map.getMinZoom());P>=q&&z[P].removeObject(N,j.project(N.getLatLng(),P));P--);},_childMarkerDragStart:function(N){N.target.__dragStart=N.target._latlng},_childMarkerMoved:function(N){if(!this._ignoreMove&&!N.target.__dragStart){var P=N.target._popup&&N.target._popup.isOpen();this._moveChild(N.target,N.oldLatLng,N.latlng),P&&N.target.openPopup()}},_moveChild:function(N,P,j){N._latlng=P,this.removeLayer(N),N._latlng=j,this.addLayer(N)},_childMarkerDragEnd:function(N){var P=N.target.__dragStart;delete N.target.__dragStart,P&&this._moveChild(N.target,P,N.target._latlng)},_removeLayer:function(N,P,j){var z=this._gridClusters,q=this._gridUnclustered,ne=this._featureGroup,Z=this._map,ae=Math.floor(this._map.getMinZoom());P&&this._removeFromGridUnclustered(N,this._maxZoom);var fe,te=N.__parent;for(this._arraySplice(te._markers,N);te&&(te._childCount--,te._boundsNeedUpdate=!0,!(te._zoom<ae));)P&&te._childCount<=1?(fe=te._markers[0]===N?te._markers[1]:te._markers[0],z[te._zoom].removeObject(te,Z.project(te._cLatLng,te._zoom)),q[te._zoom].addObject(fe,Z.project(fe.getLatLng(),te._zoom)),this._arraySplice(te.__parent._childClusters,te),te.__parent._markers.push(fe),fe.__parent=te.__parent,te._icon&&(ne.removeLayer(te),j||ne.addLayer(fe))):te._iconNeedsUpdate=!0,te=te.__parent;delete N.__parent},_isOrIsParent:function(N,P){for(;P;){if(N===P)return!0;P=P.parentNode}return!1},fire:function(N,P,j){if(P&&P.layer instanceof L.MarkerCluster){if(P.originalEvent&&this._isOrIsParent(P.layer._icon,P.originalEvent.relatedTarget))return;N="cluster"+N}L.FeatureGroup.prototype.fire.call(this,N,P,j)},listens:function(N,P){return L.FeatureGroup.prototype.listens.call(this,N,P)||L.FeatureGroup.prototype.listens.call(this,"cluster"+N,P)},_defaultIconCreateFunction:function(N){var P=N.getChildCount(),j=" marker-cluster-";return new L.DivIcon({html:"<div><span>"+P+"</span></div>",className:"marker-cluster"+(j+=P<10?"small":P<100?"medium":"large"),iconSize:new L.Point(40,40)})},_bindEvents:function(){var N=this._map,j=this.options.showCoverageOnHover;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),j&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),N.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(N){var P=N.layer,j=P;if("clusterkeypress"!==N.type||!N.originalEvent||13===N.originalEvent.keyCode){for(;1===j._childClusters.length;)j=j._childClusters[0];j._zoom===this._maxZoom&&j._childCount===P._childCount&&this.options.spiderfyOnMaxZoom?P.spiderfy():this.options.zoomToBoundsOnClick&&P.zoomToBounds(),this.options.spiderfyOnEveryZoom&&P.spiderfy(),N.originalEvent&&13===N.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(N){var P=this._map;this._inZoomAnimation||(this._shownPolygon&&P.removeLayer(this._shownPolygon),N.layer.getChildCount()>2&&N.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(N.layer.getConvexHull(),this.options.polygonOptions),P.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var P=this.options.showCoverageOnHover,q=this._map;(this.options.spiderfyOnMaxZoom||this.options.zoomToBoundsOnClick||this.options.spiderfyOnEveryZoom)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),P&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),q.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var N=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,N),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),N),this._currentShownBounds=N}},_generateInitialClusters:function(){var N=Math.ceil(this._map.getMaxZoom()),P=Math.floor(this._map.getMinZoom()),j=this.options.maxClusterRadius,z=j;"function"!=typeof j&&(z=function(){return j}),null!==this.options.disableClusteringAtZoom&&(N=this.options.disableClusteringAtZoom-1),this._maxZoom=N,this._gridClusters={},this._gridUnclustered={};for(var q=N;q>=P;q--)this._gridClusters[q]=new L.DistanceGrid(z(q)),this._gridUnclustered[q]=new L.DistanceGrid(z(q));this._topClusterLevel=new this._markerCluster(this,P-1)},_addLayer:function(N,P){var ne,Z,j=this._gridClusters,z=this._gridUnclustered,q=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(N),N.on(this._childMarkerEventHandlers,this);P>=q;P--){ne=this._map.project(N.getLatLng(),P);var ae=j[P].getNearObject(ne);if(ae)return ae._addChild(N),void(N.__parent=ae);if(ae=z[P].getNearObject(ne)){var te=ae.__parent;te&&this._removeLayer(ae,!1);var _e=new this._markerCluster(this,P,ae,N);j[P].addObject(_e,this._map.project(_e._cLatLng,P)),ae.__parent=_e,N.__parent=_e;var fe=_e;for(Z=P-1;Z>te._zoom;Z--)fe=new this._markerCluster(this,Z,fe),j[Z].addObject(fe,this._map.project(ae.getLatLng(),Z));return te._addChild(fe),void this._removeFromGridUnclustered(ae,P)}z[P].addObject(N,ne)}this._topClusterLevel._addChild(N),N.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(N){N instanceof L.MarkerCluster&&N._iconNeedsUpdate&&N._updateIcon()})},_enqueue:function(N){this._queue.push(N),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var N=0;N<this._queue.length;N++)this._queue[N].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var N=Math.round(this._map._zoom);this._processQueue(),this._zoom<N&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,N)):this._zoom>N?(this._animationStart(),this._animationZoomOut(this._zoom,N)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(N){var P=this._maxLat;return void 0!==P&&(N.getNorth()>=P&&(N._northEast.lat=1/0),N.getSouth()<=-P&&(N._southWest.lat=-1/0)),N},_animationAddLayerNonAnimated:function(N,P){if(P===N)this._featureGroup.addLayer(N);else if(2===P._childCount){P._addToMap();var j=P.getAllChildMarkers();this._featureGroup.removeLayer(j[0]),this._featureGroup.removeLayer(j[1])}else P._updateIcon()},_extractNonGroupLayers:function(N,P){var q,j=N.getLayers(),z=0;for(P=P||[];z<j.length;z++)(q=j[z])instanceof L.LayerGroup?this._extractNonGroupLayers(q,P):P.push(q);return P},_overrideMarkerIcon:function(N){return N.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[N]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(N,P){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),N),this._topClusterLevel._recursivelyAddChildrenToMap(null,P,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(N,P){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),N),this._topClusterLevel._recursivelyAddChildrenToMap(null,P,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(N,P){this._animationAddLayerNonAnimated(N,P)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(N,P){var ne,j=this._getExpandedVisibleBounds(),z=this._featureGroup,q=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(j,N,q,function(Z){var _e,ae=Z._latlng,te=Z._markers;for(j.contains(ae)||(ae=null),Z._isSingleParent()&&N+1===P?(z.removeLayer(Z),Z._recursivelyAddChildrenToMap(null,P,j)):(Z.clusterHide(),Z._recursivelyAddChildrenToMap(ae,P,j)),ne=te.length-1;ne>=0;ne--)j.contains((_e=te[ne])._latlng)||z.removeLayer(_e)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(j,P),z.eachLayer(function(Z){!(Z instanceof L.MarkerCluster)&&Z._icon&&Z.clusterShow()}),this._topClusterLevel._recursively(j,N,P,function(Z){Z._recursivelyRestoreChildPositions(P)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(j,N,q,function(Z){z.removeLayer(Z),Z.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(N,P){this._animationZoomOutSingle(this._topClusterLevel,N-1,P),this._topClusterLevel._recursivelyAddChildrenToMap(null,P,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),N,this._getExpandedVisibleBounds())},_animationAddLayer:function(N,P){var j=this,z=this._featureGroup;z.addLayer(N),P!==N&&(P._childCount>2?(P._updateIcon(),this._forceLayout(),this._animationStart(),N._setPos(this._map.latLngToLayerPoint(P.getLatLng())),N.clusterHide(),this._enqueue(function(){z.removeLayer(N),N.clusterShow(),j._animationEnd()})):(this._forceLayout(),j._animationStart(),j._animationZoomOutSingle(P,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(N,P,j){var z=this._getExpandedVisibleBounds(),q=Math.floor(this._map.getMinZoom());N._recursivelyAnimateChildrenInAndAddSelfToMap(z,q,P+1,j);var ne=this;this._forceLayout(),N._recursivelyBecomeVisible(z,j),this._enqueue(function(){if(1===N._childCount){var Z=N._markers[0];this._ignoreMove=!0,Z.setLatLng(Z.getLatLng()),this._ignoreMove=!1,Z.clusterShow&&Z.clusterShow()}else N._recursively(z,j,q,function(ae){ae._recursivelyRemoveChildrenFromMap(z,q,P+1)});ne._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(N){return new L.MarkerClusterGroup(N)};var re=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(N,P,j,z){L.Marker.prototype.initialize.call(this,j?j._cLatLng||j.getLatLng():new L.LatLng(0,0),{icon:this,pane:N.options.clusterPane}),this._group=N,this._zoom=P,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,j&&this._addChild(j),z&&this._addChild(z)},getAllChildMarkers:function(N,P){N=N||[];for(var j=this._childClusters.length-1;j>=0;j--)this._childClusters[j].getAllChildMarkers(N,P);for(var z=this._markers.length-1;z>=0;z--)P&&this._markers[z].__dragStart||N.push(this._markers[z]);return N},getChildCount:function(){return this._childCount},zoomToBounds:function(N){for(var Z,P=this._childClusters.slice(),j=this._group._map,z=j.getBoundsZoom(this._bounds),q=this._zoom+1,ne=j.getZoom();P.length>0&&z>q;){q++;var ae=[];for(Z=0;Z<P.length;Z++)ae=ae.concat(P[Z]._childClusters);P=ae}z>q?this._group._map.setView(this._latlng,q):z<=ne?this._group._map.setView(this._latlng,ne+1):this._group._map.fitBounds(this._bounds,N)},getBounds:function(){var N=new L.LatLngBounds;return N.extend(this._bounds),N},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(N,P){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(N),N instanceof L.MarkerCluster?(P||(this._childClusters.push(N),N.__parent=this),this._childCount+=N._childCount):(P||this._markers.push(N),this._childCount++),this.__parent&&this.__parent._addChild(N,!0)},_setClusterCenter:function(N){this._cLatLng||(this._cLatLng=N._cLatLng||N._latlng)},_resetBounds:function(){var N=this._bounds;N._southWest&&(N._southWest.lat=1/0,N._southWest.lng=1/0),N._northEast&&(N._northEast.lat=-1/0,N._northEast.lng=-1/0)},_recalculateBounds:function(){var ne,Z,ae,te,N=this._markers,P=this._childClusters,j=0,z=0,q=this._childCount;if(0!==q){for(this._resetBounds(),ne=0;ne<N.length;ne++)this._bounds.extend(ae=N[ne]._latlng),j+=ae.lat,z+=ae.lng;for(ne=0;ne<P.length;ne++)(Z=P[ne])._boundsNeedUpdate&&Z._recalculateBounds(),this._bounds.extend(Z._bounds),j+=(ae=Z._wLatLng).lat*(te=Z._childCount),z+=ae.lng*te;this._latlng=this._wLatLng=new L.LatLng(j/q,z/q),this._boundsNeedUpdate=!1}},_addToMap:function(N){N&&(this._backupLatlng=this._latlng,this.setLatLng(N)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(N,P,j){this._recursively(N,this._group._map.getMinZoom(),j-1,function(z){var ne,Z,q=z._markers;for(ne=q.length-1;ne>=0;ne--)(Z=q[ne])._icon&&(Z._setPos(P),Z.clusterHide())},function(z){var ne,Z,q=z._childClusters;for(ne=q.length-1;ne>=0;ne--)(Z=q[ne])._icon&&(Z._setPos(P),Z.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(N,P,j,z){this._recursively(N,z,P,function(q){q._recursivelyAnimateChildrenIn(N,q._group._map.latLngToLayerPoint(q.getLatLng()).round(),j),q._isSingleParent()&&j-1===z?(q.clusterShow(),q._recursivelyRemoveChildrenFromMap(N,P,j)):q.clusterHide(),q._addToMap()})},_recursivelyBecomeVisible:function(N,P){this._recursively(N,this._group._map.getMinZoom(),P,null,function(j){j.clusterShow()})},_recursivelyAddChildrenToMap:function(N,P,j){this._recursively(j,this._group._map.getMinZoom()-1,P,function(z){if(P!==z._zoom)for(var q=z._markers.length-1;q>=0;q--){var ne=z._markers[q];j.contains(ne._latlng)&&(N&&(ne._backupLatlng=ne.getLatLng(),ne.setLatLng(N),ne.clusterHide&&ne.clusterHide()),z._group._featureGroup.addLayer(ne))}},function(z){z._addToMap(N)})},_recursivelyRestoreChildPositions:function(N){for(var P=this._markers.length-1;P>=0;P--){var j=this._markers[P];j._backupLatlng&&(j.setLatLng(j._backupLatlng),delete j._backupLatlng)}if(N-1===this._zoom)for(var z=this._childClusters.length-1;z>=0;z--)this._childClusters[z]._restorePosition();else for(var q=this._childClusters.length-1;q>=0;q--)this._childClusters[q]._recursivelyRestoreChildPositions(N)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(N,P,j,z){var q,ne;this._recursively(N,P-1,j-1,function(Z){for(ne=Z._markers.length-1;ne>=0;ne--)q=Z._markers[ne],(!z||!z.contains(q._latlng))&&(Z._group._featureGroup.removeLayer(q),q.clusterShow&&q.clusterShow())},function(Z){for(ne=Z._childClusters.length-1;ne>=0;ne--)q=Z._childClusters[ne],(!z||!z.contains(q._latlng))&&(Z._group._featureGroup.removeLayer(q),q.clusterShow&&q.clusterShow())})},_recursively:function(N,P,j,z,q){var ae,te,ne=this._childClusters,Z=this._zoom;if(P<=Z&&(z&&z(this),q&&Z===j&&q(this)),Z<P||Z<j)for(ae=ne.length-1;ae>=0;ae--)(te=ne[ae])._boundsNeedUpdate&&te._recalculateBounds(),N.intersects(te._bounds)&&te._recursively(N,P,j,z,q)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var N=this.options.opacity;return this.setOpacity(0),this.options.opacity=N,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(N){this._cellSize=N,this._sqCellSize=N*N,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(N,P){var j=this._getCoord(P.x),z=this._getCoord(P.y),q=this._grid,ne=q[z]=q[z]||{},Z=ne[j]=ne[j]||[],ae=L.Util.stamp(N);this._objectPoint[ae]=P,Z.push(N)},updateObject:function(N,P){this.removeObject(N),this.addObject(N,P)},removeObject:function(N,P){var ae,te,j=this._getCoord(P.x),z=this._getCoord(P.y),q=this._grid,ne=q[z]=q[z]||{},Z=ne[j]=ne[j]||[];for(delete this._objectPoint[L.Util.stamp(N)],ae=0,te=Z.length;ae<te;ae++)if(Z[ae]===N)return Z.splice(ae,1),1===te&&delete ne[j],!0},eachObject:function(N,P){var j,z,q,ne,Z,ae,_e=this._grid;for(j in _e)for(z in Z=_e[j])for(q=0,ne=(ae=Z[z]).length;q<ne;q++)N.call(P,ae[q])&&(q--,ne--)},getNearObject:function(N){var z,q,ne,Z,ae,te,_e,fe,P=this._getCoord(N.x),j=this._getCoord(N.y),Re=this._objectPoint,Ve=this._sqCellSize,at=null;for(z=j-1;z<=j+1;z++)if(Z=this._grid[z])for(q=P-1;q<=P+1;q++)if(ae=Z[q])for(ne=0,te=ae.length;ne<te;ne++)_e=ae[ne],((fe=this._sqDist(Re[L.Util.stamp(_e)],N))<Ve||fe<=Ve&&null===at)&&(Ve=fe,at=_e);return at},_getCoord:function(N){var P=Math.floor(N/this._cellSize);return isFinite(P)?P:N},_sqDist:function(N,P){var j=P.x-N.x,z=P.y-N.y;return j*j+z*z}},L.QuickHull={getDistant:function(N,P){return(P[0].lng-P[1].lng)*(N.lat-P[0].lat)+(P[1].lat-P[0].lat)*(N.lng-P[0].lng)},findMostDistantPointFromBaseLine:function(N,P){var ne,Z,ae,j=0,z=null,q=[];for(ne=P.length-1;ne>=0;ne--)(ae=this.getDistant(Z=P[ne],N))>0&&(q.push(Z),ae>j&&(j=ae,z=Z));return{maxPoint:z,newPoints:q}},buildConvexHull:function(N,P){var j=[],z=this.findMostDistantPointFromBaseLine(N,P);return z.maxPoint?j=(j=j.concat(this.buildConvexHull([N[0],z.maxPoint],z.newPoints))).concat(this.buildConvexHull([z.maxPoint,N[1]],z.newPoints)):[N[0]]},getConvexHull:function(N){var Re,P=!1,j=!1,z=!1,q=!1,ne=null,Z=null,ae=null,te=null,_e=null,fe=null;for(Re=N.length-1;Re>=0;Re--){var Ve=N[Re];(!1===P||Ve.lat>P)&&(ne=Ve,P=Ve.lat),(!1===j||Ve.lat<j)&&(Z=Ve,j=Ve.lat),(!1===z||Ve.lng>z)&&(ae=Ve,z=Ve.lng),(!1===q||Ve.lng<q)&&(te=Ve,q=Ve.lng)}return j!==P?(fe=Z,_e=ne):(fe=te,_e=ae),[].concat(this.buildConvexHull([fe,_e],N),this.buildConvexHull([_e,fe],N))}},L.MarkerCluster.include({getConvexHull:function(){var j,z,N=this.getAllChildMarkers(),P=[];for(z=N.length-1;z>=0;z--)j=N[z].getLatLng(),P.push(j);return L.QuickHull.getConvexHull(P)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var q,N=this.getAllChildMarkers(null,!0),z=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?q=this._group.options.spiderfyShapePositions(N.length,z):N.length>=this._circleSpiralSwitchover?q=this._generatePointsSpiral(N.length,z):(z.y+=10,q=this._generatePointsCircle(N.length,z)),this._animationSpiderfy(N,q)}},unspiderfy:function(N){this._group._inZoomAnimation||(this._animationUnspiderfy(N),this._group._spiderfied=null)},_generatePointsCircle:function(N,P){var Z,ae,z=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+N)/this._2PI,q=this._2PI/N,ne=[];for(z=Math.max(z,35),ne.length=N,Z=0;Z<N;Z++)ae=this._circleStartAngle+Z*q,ne[Z]=new L.Point(P.x+z*Math.cos(ae),P.y+z*Math.sin(ae))._round();return ne},_generatePointsSpiral:function(N,P){var te,j=this._group.options.spiderfyDistanceMultiplier,z=j*this._spiralLengthStart,q=j*this._spiralFootSeparation,ne=j*this._spiralLengthFactor*this._2PI,Z=0,ae=[];for(ae.length=N,te=N;te>=0;te--)te<N&&(ae[te]=new L.Point(P.x+z*Math.cos(Z),P.y+z*Math.sin(Z))._round()),z+=ne/(Z+=q/z+5e-4*te);return ae},_noanimationUnspiderfy:function(){var q,ne,N=this._group,P=N._map,j=N._featureGroup,z=this.getAllChildMarkers(null,!0);for(N._ignoreMove=!0,this.setOpacity(1),ne=z.length-1;ne>=0;ne--)j.removeLayer(q=z[ne]),q._preSpiderfyLatlng&&(q.setLatLng(q._preSpiderfyLatlng),delete q._preSpiderfyLatlng),q.setZIndexOffset&&q.setZIndexOffset(0),q._spiderLeg&&(P.removeLayer(q._spiderLeg),delete q._spiderLeg);N.fire("unspiderfied",{cluster:this,markers:z}),N._ignoreMove=!1,N._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(N,P){var Z,ae,te,_e,j=this._group,z=j._map,q=j._featureGroup,ne=this._group.options.spiderLegPolylineOptions;for(j._ignoreMove=!0,Z=0;Z<N.length;Z++)_e=z.layerPointToLatLng(P[Z]),ae=N[Z],te=new L.Polyline([this._latlng,_e],ne),z.addLayer(te),ae._spiderLeg=te,ae._preSpiderfyLatlng=ae._latlng,ae.setLatLng(_e),ae.setZIndexOffset&&ae.setZIndexOffset(1e6),q.addLayer(ae);this.setOpacity(.3),j._ignoreMove=!1,j.fire("spiderfied",{cluster:this,markers:N})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(N,P){var Re,Ve,at,Oe,Ye,ut,j=this,z=this._group,q=z._map,ne=z._featureGroup,Z=this._latlng,ae=q.latLngToLayerPoint(Z),te=L.Path.SVG,_e=L.extend({},this._group.options.spiderLegPolylineOptions),fe=_e.opacity;for(void 0===fe&&(fe=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),te?(_e.opacity=0,_e.className=(_e.className||"")+" leaflet-cluster-spider-leg"):_e.opacity=fe,z._ignoreMove=!0,Re=0;Re<N.length;Re++)Ve=N[Re],ut=q.layerPointToLatLng(P[Re]),at=new L.Polyline([Z,ut],_e),q.addLayer(at),Ve._spiderLeg=at,te&&(Ye=(Oe=at._path).getTotalLength()+.1,Oe.style.strokeDasharray=Ye,Oe.style.strokeDashoffset=Ye),Ve.setZIndexOffset&&Ve.setZIndexOffset(1e6),Ve.clusterHide&&Ve.clusterHide(),ne.addLayer(Ve),Ve._setPos&&Ve._setPos(ae);for(z._forceLayout(),z._animationStart(),Re=N.length-1;Re>=0;Re--)ut=q.layerPointToLatLng(P[Re]),(Ve=N[Re])._preSpiderfyLatlng=Ve._latlng,Ve.setLatLng(ut),Ve.clusterShow&&Ve.clusterShow(),te&&((Oe=(at=Ve._spiderLeg)._path).style.strokeDashoffset=0,at.setStyle({opacity:fe}));this.setOpacity(.3),z._ignoreMove=!1,setTimeout(function(){z._animationEnd(),z.fire("spiderfied",{cluster:j,markers:N})},200)},_animationUnspiderfy:function(N){var te,_e,fe,Re,Ve,at,P=this,j=this._group,z=j._map,q=j._featureGroup,ne=N?z._latLngToNewLayerPoint(this._latlng,N.zoom,N.center):z.latLngToLayerPoint(this._latlng),Z=this.getAllChildMarkers(null,!0),ae=L.Path.SVG;for(j._ignoreMove=!0,j._animationStart(),this.setOpacity(1),_e=Z.length-1;_e>=0;_e--)(te=Z[_e])._preSpiderfyLatlng&&(te.closePopup(),te.setLatLng(te._preSpiderfyLatlng),delete te._preSpiderfyLatlng,at=!0,te._setPos&&(te._setPos(ne),at=!1),te.clusterHide&&(te.clusterHide(),at=!1),at&&q.removeLayer(te),ae&&(Ve=(Re=(fe=te._spiderLeg)._path).getTotalLength()+.1,Re.style.strokeDashoffset=Ve,fe.setStyle({opacity:0})));j._ignoreMove=!1,setTimeout(function(){var Oe=0;for(_e=Z.length-1;_e>=0;_e--)(te=Z[_e])._spiderLeg&&Oe++;for(_e=Z.length-1;_e>=0;_e--)(te=Z[_e])._spiderLeg&&(te.clusterShow&&te.clusterShow(),te.setZIndexOffset&&te.setZIndexOffset(0),Oe>1&&q.removeLayer(te),z.removeLayer(te._spiderLeg),delete te._spiderLeg);j._animationEnd(),j.fire("unspiderfied",{cluster:P,markers:Z})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(N){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(N))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(N){this._spiderfied&&this._spiderfied.unspiderfy(N)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(N){N._spiderLeg&&(this._featureGroup.removeLayer(N),N.clusterShow&&N.clusterShow(),N.setZIndexOffset&&N.setZIndexOffset(0),this._map.removeLayer(N._spiderLeg),delete N._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(N){return N?N instanceof L.MarkerClusterGroup?N=N._topClusterLevel.getAllChildMarkers():N instanceof L.LayerGroup?N=N._layers:N instanceof L.MarkerCluster?N=N.getAllChildMarkers():N instanceof L.Marker&&(N=[N]):N=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(N),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(N),this},_flagParentsIconsNeedUpdate:function(N){var P,j;for(P in N)for(j=N[P].__parent;j;)j._iconNeedsUpdate=!0,j=j.__parent},_refreshSingleMarkerModeMarkers:function(N){var P,j;for(P in N)this.hasLayer(j=N[P])&&j.setIcon(this._overrideMarkerIcon(j))}}),L.Marker.include({refreshIconOptions:function(N,P){var j=this.options.icon;return L.setOptions(j,N),this.setIcon(j),P&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),G.MarkerClusterGroup=o,G.MarkerCluster=re,Object.defineProperty(G,"__esModule",{value:!0})}(me)},8244:function(wt,me){!function(G){"use strict";function re(d){var v,x,M,B;for(x=1,M=arguments.length;x<M;x++)for(v in B=arguments[x])d[v]=B[v];return d}var N=Object.create||function(){function d(){}return function(v){return d.prototype=v,new d}}();function P(d,v){var x=Array.prototype.slice;if(d.bind)return d.bind.apply(d,x.call(arguments,1));var M=x.call(arguments,2);return function(){return d.apply(v,M.length?M.concat(x.call(arguments)):arguments)}}var j=0;function z(d){return"_leaflet_id"in d||(d._leaflet_id=++j),d._leaflet_id}function q(d,v,x){var M,B,$,ce;return ce=function(){M=!1,B&&($.apply(x,B),B=!1)},$=function(){M?B=arguments:(d.apply(x,arguments),setTimeout(ce,v),M=!0)},$}function ne(d,v,x){var M=v[1],B=v[0],$=M-B;return d===M&&x?d:((d-B)%$+$)%$+B}function Z(){return!1}function ae(d,v){if(!1===v)return d;var x=Math.pow(10,void 0===v?6:v);return Math.round(d*x)/x}function te(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _e(d){return te(d).split(/\s+/)}function fe(d,v){for(var x in Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?N(d.options):{}),v)d.options[x]=v[x];return d.options}function Re(d,v,x){var M=[];for(var B in d)M.push(encodeURIComponent(x?B.toUpperCase():B)+"="+encodeURIComponent(d[B]));return(v&&-1!==v.indexOf("?")?"&":"?")+M.join("&")}var Ve=/\{ *([\w_ -]+) *\}/g;function at(d,v){return d.replace(Ve,function(x,M){var B=v[M];if(void 0===B)throw new Error("No value provided for variable "+x);return"function"==typeof B&&(B=B(v)),B})}var Oe=Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)};function Ye(d,v){for(var x=0;x<d.length;x++)if(d[x]===v)return x;return-1}var ut="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Qe(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var ke=0;function We(d){var v=+new Date,x=Math.max(0,16-(v-ke));return ke=v+x,window.setTimeout(d,x)}var Ce=window.requestAnimationFrame||Qe("RequestAnimationFrame")||We,Ne=window.cancelAnimationFrame||Qe("CancelAnimationFrame")||Qe("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function ee(d,v,x){if(!x||Ce!==We)return Ce.call(window,P(d,v));d.call(v)}function X(d){d&&Ne.call(window,d)}var le={__proto__:null,extend:re,create:N,bind:P,get lastId(){return j},stamp:z,throttle:q,wrapNum:ne,falseFn:Z,formatNum:ae,trim:te,splitWords:_e,setOptions:fe,getParamString:Re,template:at,isArray:Oe,indexOf:Ye,emptyImageUrl:ut,requestFn:Ce,cancelFn:Ne,requestAnimFrame:ee,cancelAnimFrame:X};function pe(){}pe.extend=function(d){var v=function(){fe(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},x=v.__super__=this.prototype,M=N(x);for(var B in M.constructor=v,v.prototype=M,this)Object.prototype.hasOwnProperty.call(this,B)&&"prototype"!==B&&"__super__"!==B&&(v[B]=this[B]);return d.statics&&re(v,d.statics),d.includes&&(function J(d){if(!(typeof L>"u")&&L&&L.Mixin){d=Oe(d)?d:[d];for(var v=0;v<d.length;v++)d[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(d.includes),re.apply(null,[M].concat(d.includes))),re(M,d),delete M.statics,delete M.includes,M.options&&(M.options=x.options?N(x.options):{},re(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){x.callInitHooks&&x.callInitHooks.call(this),this._initHooksCalled=!0;for(var $=0,ce=M._initHooks.length;$<ce;$++)M._initHooks[$].call(this)}},v},pe.include=function(d){var v=this.prototype.options;return re(this.prototype,d),d.options&&(this.prototype.options=v,this.mergeOptions(d.options)),this},pe.mergeOptions=function(d){return re(this.prototype.options,d),this},pe.addInitHook=function(d){var v=Array.prototype.slice.call(arguments,1),x="function"==typeof d?d:function(){this[d].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(x),this};var Te={on:function(d,v,x){if("object"==typeof d)for(var M in d)this._on(M,d[M],v);else for(var B=0,$=(d=_e(d)).length;B<$;B++)this._on(d[B],v,x);return this},off:function(d,v,x){if(arguments.length)if("object"==typeof d)for(var M in d)this._off(M,d[M],v);else{d=_e(d);for(var B=1===arguments.length,$=0,ce=d.length;$<ce;$++)B?this._off(d[$]):this._off(d[$],v,x)}else delete this._events;return this},_on:function(d,v,x,M){if("function"==typeof v){if(!1===this._listens(d,v,x)){x===this&&(x=void 0);var B={fn:v,ctx:x};M&&(B.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(B)}}else console.warn("wrong listener type: "+typeof v)},_off:function(d,v,x){var M,B,$;if(this._events&&(M=this._events[d])){if(1===arguments.length){if(this._firingCount)for(B=0,$=M.length;B<$;B++)M[B].fn=Z;return void delete this._events[d]}if("function"!=typeof v)return void console.warn("wrong listener type: "+typeof v);var ce=this._listens(d,v,x);!1!==ce&&(this._firingCount&&(M[ce].fn=Z,this._events[d]=M=M.slice()),M.splice(ce,1))}},fire:function(d,v,x){if(!this.listens(d,x))return this;var M=re({},v,{type:d,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var B=this._events[d];if(B){this._firingCount=this._firingCount+1||1;for(var $=0,ce=B.length;$<ce;$++){var we=B[$],Ee=we.fn;we.once&&this.off(d,Ee,we.ctx),Ee.call(we.ctx||this,M)}this._firingCount--}}return x&&this._propagateEvent(M),this},listens:function(d,v,x,M){"string"!=typeof d&&console.warn('"string" type argument expected');var B=v;"function"!=typeof v&&(M=!!v,B=void 0,x=void 0);var $=this._events&&this._events[d];if($&&$.length&&!1!==this._listens(d,B,x))return!0;if(M)for(var ce in this._eventParents)if(this._eventParents[ce].listens(d,v,x,M))return!0;return!1},_listens:function(d,v,x){if(!this._events)return!1;var M=this._events[d]||[];if(!v)return!!M.length;x===this&&(x=void 0);for(var B=0,$=M.length;B<$;B++)if(M[B].fn===v&&M[B].ctx===x)return B;return!1},once:function(d,v,x){if("object"==typeof d)for(var M in d)this._on(M,d[M],v,!0);else for(var B=0,$=(d=_e(d)).length;B<$;B++)this._on(d[B],v,x,!0);return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[z(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[z(d)],this},_propagateEvent:function(d){for(var v in this._eventParents)this._eventParents[v].fire(d.type,re({layer:d.target,propagatedFrom:d.target},d),!0)}};Te.addEventListener=Te.on,Te.removeEventListener=Te.clearAllEventListeners=Te.off,Te.addOneTimeEventListener=Te.once,Te.fireEvent=Te.fire,Te.hasEventListeners=Te.listens;var Se=pe.extend(Te);function ze(d,v,x){this.x=x?Math.round(d):d,this.y=x?Math.round(v):v}var ht=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};function Ae(d,v,x){return d instanceof ze?d:Oe(d)?new ze(d[0],d[1]):null==d?d:"object"==typeof d&&"x"in d&&"y"in d?new ze(d.x,d.y):new ze(d,v,x)}function gt(d,v){if(d)for(var x=v?[d,v]:d,M=0,B=x.length;M<B;M++)this.extend(x[M])}function qe(d,v){return!d||d instanceof gt?d:new gt(d,v)}function Gt(d,v){if(d)for(var x=v?[d,v]:d,M=0,B=x.length;M<B;M++)this.extend(x[M])}function ct(d,v){return d instanceof Gt?d:new Gt(d,v)}function $e(d,v,x){if(isNaN(d)||isNaN(v))throw new Error("Invalid LatLng object: ("+d+", "+v+")");this.lat=+d,this.lng=+v,void 0!==x&&(this.alt=+x)}function Pe(d,v,x){return d instanceof $e?d:Oe(d)&&"object"!=typeof d[0]?3===d.length?new $e(d[0],d[1],d[2]):2===d.length?new $e(d[0],d[1]):null:null==d?d:"object"==typeof d&&"lat"in d?new $e(d.lat,"lng"in d?d.lng:d.lon,d.alt):void 0===v?null:new $e(d,v,x)}ze.prototype={clone:function(){return new ze(this.x,this.y)},add:function(d){return this.clone()._add(Ae(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(Ae(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ze(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ze(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ht(this.x),this.y=ht(this.y),this},distanceTo:function(d){var v=(d=Ae(d)).x-this.x,x=d.y-this.y;return Math.sqrt(v*v+x*x)},equals:function(d){return(d=Ae(d)).x===this.x&&d.y===this.y},contains:function(d){return d=Ae(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+ae(this.x)+", "+ae(this.y)+")"}},gt.prototype={extend:function(d){var v,x;if(!d)return this;if(d instanceof ze||"number"==typeof d[0]||"x"in d)v=x=Ae(d);else if(x=(d=qe(d)).max,!(v=d.min)||!x)return this;return this.min||this.max?(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(x.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(x.y,this.max.y)):(this.min=v.clone(),this.max=x.clone()),this},getCenter:function(d){return Ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return Ae(this.min.x,this.max.y)},getTopRight:function(){return Ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var v,x;return(d="number"==typeof d[0]||d instanceof ze?Ae(d):qe(d))instanceof gt?(v=d.min,x=d.max):v=x=d,v.x>=this.min.x&&x.x<=this.max.x&&v.y>=this.min.y&&x.y<=this.max.y},intersects:function(d){d=qe(d);var v=this.min,x=this.max,M=d.min,B=d.max;return B.x>=v.x&&M.x<=x.x&&B.y>=v.y&&M.y<=x.y},overlaps:function(d){d=qe(d);var v=this.min,x=this.max,M=d.min,B=d.max;return B.x>v.x&&M.x<x.x&&B.y>v.y&&M.y<x.y},isValid:function(){return!(!this.min||!this.max)},pad:function(d){var v=this.min,x=this.max,M=Math.abs(v.x-x.x)*d,B=Math.abs(v.y-x.y)*d;return qe(Ae(v.x-M,v.y-B),Ae(x.x+M,x.y+B))},equals:function(d){return!!d&&(d=qe(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight()))}},Gt.prototype={extend:function(d){var M,B,v=this._southWest,x=this._northEast;if(d instanceof $e)M=d,B=d;else{if(!(d instanceof Gt))return d?this.extend(Pe(d)||ct(d)):this;if(B=d._northEast,!(M=d._southWest)||!B)return this}return v||x?(v.lat=Math.min(M.lat,v.lat),v.lng=Math.min(M.lng,v.lng),x.lat=Math.max(B.lat,x.lat),x.lng=Math.max(B.lng,x.lng)):(this._southWest=new $e(M.lat,M.lng),this._northEast=new $e(B.lat,B.lng)),this},pad:function(d){var v=this._southWest,x=this._northEast,M=Math.abs(v.lat-x.lat)*d,B=Math.abs(v.lng-x.lng)*d;return new Gt(new $e(v.lat-M,v.lng-B),new $e(x.lat+M,x.lng+B))},getCenter:function(){return new $e((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new $e(this.getNorth(),this.getWest())},getSouthEast:function(){return new $e(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){d="number"==typeof d[0]||d instanceof $e||"lat"in d?Pe(d):ct(d);var M,B,v=this._southWest,x=this._northEast;return d instanceof Gt?(M=d.getSouthWest(),B=d.getNorthEast()):M=B=d,M.lat>=v.lat&&B.lat<=x.lat&&M.lng>=v.lng&&B.lng<=x.lng},intersects:function(d){d=ct(d);var v=this._southWest,x=this._northEast,M=d.getSouthWest(),B=d.getNorthEast();return B.lat>=v.lat&&M.lat<=x.lat&&B.lng>=v.lng&&M.lng<=x.lng},overlaps:function(d){d=ct(d);var v=this._southWest,x=this._northEast,M=d.getSouthWest(),B=d.getNorthEast();return B.lat>v.lat&&M.lat<x.lat&&B.lng>v.lng&&M.lng<x.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,v){return!!d&&(d=ct(d),this._southWest.equals(d.getSouthWest(),v)&&this._northEast.equals(d.getNorthEast(),v))},isValid:function(){return!(!this._southWest||!this._northEast)}},$e.prototype={equals:function(d,v){return!!d&&(d=Pe(d),Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng))<=(void 0===v?1e-9:v))},toString:function(d){return"LatLng("+ae(this.lat,d)+", "+ae(this.lng,d)+")"},distanceTo:function(d){return Rt.distance(this,Pe(d))},wrap:function(){return Rt.wrapLatLng(this)},toBounds:function(d){var v=180*d/40075017,x=v/Math.cos(Math.PI/180*this.lat);return ct([this.lat-v,this.lng-x],[this.lat+v,this.lng+x])},clone:function(){return new $e(this.lat,this.lng,this.alt)}};var d,Kt={latLngToPoint:function(d,v){var x=this.projection.project(d),M=this.scale(v);return this.transformation._transform(x,M)},pointToLatLng:function(d,v){var x=this.scale(v),M=this.transformation.untransform(d,x);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var v=this.projection.bounds,x=this.scale(d);return new gt(this.transformation.transform(v.min,x),this.transformation.transform(v.max,x))},infinite:!1,wrapLatLng:function(d){var v=this.wrapLng?ne(d.lng,this.wrapLng,!0):d.lng;return new $e(this.wrapLat?ne(d.lat,this.wrapLat,!0):d.lat,v,d.alt)},wrapLatLngBounds:function(d){var v=d.getCenter(),x=this.wrapLatLng(v),M=v.lat-x.lat,B=v.lng-x.lng;if(0===M&&0===B)return d;var $=d.getSouthWest(),ce=d.getNorthEast();return new Gt(new $e($.lat-M,$.lng-B),new $e(ce.lat-M,ce.lng-B))}},Rt=re({},Kt,{wrapLng:[-180,180],R:6371e3,distance:function(d,v){var x=Math.PI/180,M=d.lat*x,B=v.lat*x,$=Math.sin((v.lat-d.lat)*x/2),ce=Math.sin((v.lng-d.lng)*x/2),we=$*$+Math.cos(M)*Math.cos(B)*ce*ce,Ee=2*Math.atan2(Math.sqrt(we),Math.sqrt(1-we));return this.R*Ee}}),fn={R:6378137,MAX_LATITUDE:85.0511287798,project:function(d){var v=Math.PI/180,x=this.MAX_LATITUDE,M=Math.max(Math.min(x,d.lat),-x),B=Math.sin(M*v);return new ze(this.R*d.lng*v,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(d){var v=180/Math.PI;return new $e((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*v,d.x*v/this.R)},bounds:(d=6378137*Math.PI,new gt([-d,-d],[d,d]))};function Ht(d,v,x,M){if(Oe(d))return this._a=d[0],this._b=d[1],this._c=d[2],void(this._d=d[3]);this._a=d,this._b=v,this._c=x,this._d=M}function mt(d,v,x,M){return new Ht(d,v,x,M)}Ht.prototype={transform:function(d,v){return this._transform(d.clone(),v)},_transform:function(d,v){return d.x=(v=v||1)*(this._a*d.x+this._b),d.y=v*(this._c*d.y+this._d),d},untransform:function(d,v){return new ze((d.x/(v=v||1)-this._b)/this._a,(d.y/v-this._d)/this._c)}};var pt=re({},Rt,{code:"EPSG:3857",projection:fn,transformation:function(){var d=.5/(Math.PI*fn.R);return mt(d,.5,-d,.5)}()}),An=re({},pt,{code:"EPSG:900913"});function xn(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function pn(d,v){var M,B,$,ce,we,Ee,x="";for(M=0,$=d.length;M<$;M++){for(B=0,ce=(we=d[M]).length;B<ce;B++)x+=(B?"L":"M")+(Ee=we[B]).x+" "+Ee.y;x+=v?Ct.svg?"z":"x":""}return x||"M0 0"}var dn=document.documentElement.style,en="ActiveXObject"in window,Et=en&&!document.addEventListener,xr="msLaunchUri"in navigator&&!("documentMode"in document),De=gr("webkit"),tr=gr("android"),Pr=gr("android 2")||gr("android 3"),or=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Bn=tr&&gr("Google")&&or<537&&!("AudioNode"in window),Yt=!!window.opera,$t=!xr&&gr("chrome"),st=gr("gecko")&&!De&&!Yt&&!en,kn=!$t&&gr("safari"),sr=gr("phantom"),Un="OTransition"in dn,Xr=0===navigator.platform.indexOf("Win"),Wt=en&&"transition"in dn,Xe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pr,gn="MozPerspective"in dn,Lt=!window.L_DISABLE_3D&&(Wt||Xe||gn)&&!Un&&!sr,yt=typeof orientation<"u"||gr("mobile"),Oo=yt&&De,nn=yt&&Xe,Wa=!window.PointerEvent&&window.MSPointerEvent,kt=!(!window.PointerEvent&&!Wa),Ro="ontouchstart"in window||!!window.TouchEvent,kc=!window.L_NO_TOUCH&&(Ro||kt),ca=yt&&Yt,Sr=yt&&st,Pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ai=function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",Z,v),window.removeEventListener("testPassiveEventSupport",Z,v)}catch{}return d}(),pr=!!document.createElement("canvas").getContext,Ds=!(!document.createElementNS||!xn("svg").createSVGRect),Mi=!!Ds&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(d.firstChild&&d.firstChild.namespaceURI)}(),yd=!Ds&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var v=d.firstChild;return v.style.behavior="url(#default#VML)",v&&"object"==typeof v.adj}catch{return!1}}();function gr(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ct={ie:en,ielt9:Et,edge:xr,webkit:De,android:tr,android23:Pr,androidStock:Bn,opera:Yt,chrome:$t,gecko:st,safari:kn,phantom:sr,opera12:Un,win:Xr,ie3d:Wt,webkit3d:Xe,gecko3d:gn,any3d:Lt,mobile:yt,mobileWebkit:Oo,mobileWebkit3d:nn,msPointer:Wa,pointer:kt,touch:kc,touchNative:Ro,mobileOpera:ca,mobileGecko:Sr,retina:Pt,passiveEvents:Ai,canvas:pr,svg:Ds,vml:yd,inlineSvg:Mi,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Gi=Ct.msPointer?"MSPointerDown":"pointerdown",dt=Ct.msPointer?"MSPointerMove":"pointermove",ts=Ct.msPointer?"MSPointerUp":"pointerup",la=Ct.msPointer?"MSPointerCancel":"pointercancel",qr={touchstart:Gi,touchmove:dt,touchend:ts,touchcancel:la},jr={touchstart:function ri(d,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&_r(v),co(d,v)},touchmove:co,touchend:co,touchcancel:co},St={},ns=!1;function Zl(d,v,x){return"touchstart"===v&&function ko(){ns||(document.addEventListener(Gi,wd,!0),document.addEventListener(dt,Pc,!0),document.addEventListener(ts,Rn,!0),document.addEventListener(la,Rn,!0),ns=!0)}(),jr[v]?(x=jr[v].bind(this,x),d.addEventListener(qr[v],x,!1),x):(console.warn("wrong event specified:",v),Z)}function wd(d){St[d.pointerId]=d}function Pc(d){St[d.pointerId]&&(St[d.pointerId]=d)}function Rn(d){delete St[d.pointerId]}function co(d,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){for(var x in v.touches=[],St)v.touches.push(St[x]);v.changedTouches=[v],d(v)}}var He=200;var mr,Ts,Ft,As,Lc,ui=xe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$i=xe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),mn="webkitTransition"===$i||"OTransition"===$i?$i+"End":"transitionend";function _n(d){return"string"==typeof d?document.getElementById(d):d}function Je(d,v){var x=d.style[v]||d.currentStyle&&d.currentStyle[v];if((!x||"auto"===x)&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);x=M?M[v]:null}return"auto"===x?null:x}function an(d,v,x){var M=document.createElement(d);return M.className=v||"",x&&x.appendChild(M),M}function Pn(d){var v=d.parentNode;v&&v.removeChild(d)}function ar(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function Vn(d){var v=d.parentNode;v&&v.lastChild!==d&&v.appendChild(d)}function di(d){var v=d.parentNode;v&&v.firstChild!==d&&v.insertBefore(d,v.firstChild)}function Mn(d,v){if(void 0!==d.classList)return d.classList.contains(v);var x=Wi(d);return x.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(x)}function xt(d,v){if(void 0!==d.classList)for(var x=_e(v),M=0,B=x.length;M<B;M++)d.classList.add(x[M]);else if(!Mn(d,v)){var $=Wi(d);ua(d,($?$+" ":"")+v)}}function Zn(d,v){void 0!==d.classList?d.classList.remove(v):ua(d,te((" "+Wi(d)+" ").replace(" "+v+" "," ")))}function ua(d,v){void 0===d.className.baseVal?d.className=v:d.className.baseVal=v}function Wi(d){return d.correspondingElement&&(d=d.correspondingElement),void 0===d.className.baseVal?d.className:d.className.baseVal}function tn(d,v){"opacity"in d.style?d.style.opacity=v:"filter"in d.style&&function hr(d,v){var x=!1,M="DXImageTransform.Microsoft.Alpha";try{x=d.filters.item(M)}catch{if(1===v)return}v=Math.round(100*v),x?(x.Enabled=100!==v,x.Opacity=v):d.style.filter+=" progid:"+M+"(opacity="+v+")"}(d,v)}function xe(d){for(var v=document.documentElement.style,x=0;x<d.length;x++)if(d[x]in v)return d[x];return!1}function K(d,v,x){var M=v||new ze(0,0);d.style[ui]=(Ct.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(x?" scale("+x+")":"")}function ot(d,v){d._leaflet_pos=v,Ct.any3d?K(d,v):(d.style.left=v.x+"px",d.style.top=v.y+"px")}function bn(d){return d._leaflet_pos||new ze(0,0)}if("onselectstart"in document)mr=function(){bt(window,"selectstart",_r)},Ts=function(){lt(window,"selectstart",_r)};else{var Tt=xe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mr=function(){if(Tt){var d=document.documentElement.style;Ft=d[Tt],d[Tt]="none"}},Ts=function(){Tt&&(document.documentElement.style[Tt]=Ft,Ft=void 0)}}function At(){bt(window,"dragstart",_r)}function da(){lt(window,"dragstart",_r)}function Ms(d){for(;-1===d.tabIndex;)d=d.parentNode;d.style&&(Zi(),As=d,Lc=d.style.outlineStyle,d.style.outlineStyle="none",bt(window,"keydown",Zi))}function Zi(){As&&(As.style.outlineStyle=Lc,As=void 0,Lc=void 0,lt(window,"keydown",Zi))}function Qt(d){do{d=d.parentNode}while(!(d.offsetWidth&&d.offsetHeight||d===document.body));return d}function Ns(d){var v=d.getBoundingClientRect();return{x:v.width/d.offsetWidth||1,y:v.height/d.offsetHeight||1,boundingClientRect:v}}var Fc={__proto__:null,TRANSFORM:ui,TRANSITION:$i,TRANSITION_END:mn,get:_n,getStyle:Je,create:an,remove:Pn,empty:ar,toFront:Vn,toBack:di,hasClass:Mn,addClass:xt,removeClass:Zn,setClass:ua,getClass:Wi,setOpacity:tn,testProp:xe,setTransform:K,setPosition:ot,getPosition:bn,get disableTextSelection(){return mr},get enableTextSelection(){return Ts},disableImageDrag:At,enableImageDrag:da,preventOutline:Ms,restoreOutline:Zi,getSizedParentNode:Qt,getScale:Ns};function bt(d,v,x,M){if(v&&"object"==typeof v)for(var B in v)cr(d,B,v[B],x);else for(var $=0,ce=(v=_e(v)).length;$<ce;$++)cr(d,v[$],x,M);return this}var br="_leaflet_events";function lt(d,v,x,M){if(1===arguments.length)lo(d),delete d[br];else if(v&&"object"==typeof v)for(var B in v)rs(d,B,v[B],x);else if(v=_e(v),2===arguments.length)lo(d,function(we){return-1!==Ye(v,we)});else for(var $=0,ce=v.length;$<ce;$++)rs(d,v[$],x,M);return this}function lo(d,v){for(var x in d[br]){var M=x.split(/\d/)[0];(!v||v(M))&&rs(d,M,null,null,x)}}var Bt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function cr(d,v,x,M){var B=v+z(x)+(M?"_"+z(M):"");if(d[br]&&d[br][B])return this;var $=function(we){return x.call(M||d,we||window.event)},ce=$;!Ct.touchNative&&Ct.pointer&&0===v.indexOf("touch")?$=Zl(d,v,$):Ct.touch&&"dblclick"===v?$=function Xl(d,v){d.addEventListener("dblclick",v);var M,x=0;function B($){if(1===$.detail){if("mouse"!==$.pointerType&&(!$.sourceCapabilities||$.sourceCapabilities.firesTouchEvents)){var ce=Xa($);if(!ce.some(function(Ee){return Ee instanceof HTMLLabelElement&&Ee.attributes.for})||ce.some(function(Ee){return Ee instanceof HTMLInputElement||Ee instanceof HTMLSelectElement})){var we=Date.now();we-x<=He?2==++M&&v(function Ss(d){var x,M,v={};for(M in d)v[M]=(x=d[M])&&x.bind?x.bind(d):x;return d=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}($)):M=1,x=we}}}else M=$.detail}return d.addEventListener("click",B),{dblclick:v,simDblclick:B}}(d,$):"addEventListener"in d?"touchstart"===v||"touchmove"===v||"wheel"===v||"mousewheel"===v?d.addEventListener(Bt[v]||v,$,!!Ct.passiveEvents&&{passive:!1}):"mouseenter"===v||"mouseleave"===v?d.addEventListener(Bt[v],$=function(we){we=we||window.event,Ya(d,we)&&ce(we)},!1):d.addEventListener(v,ce,!1):d.attachEvent("on"+v,$),d[br]=d[br]||{},d[br][B]=$}function rs(d,v,x,M,B){B=B||v+z(x)+(M?"_"+z(M):"");var $=d[br]&&d[br][B];if(!$)return this;!Ct.touchNative&&Ct.pointer&&0===v.indexOf("touch")?function Cd(d,v,x){qr[v]?d.removeEventListener(qr[v],x,!1):console.warn("wrong event specified:",v)}(d,v,$):Ct.touch&&"dblclick"===v?function Wn(d,v){d.removeEventListener("dblclick",v.dblclick),d.removeEventListener("click",v.simDblclick)}(d,$):"removeEventListener"in d?d.removeEventListener(Bt[v]||v,$,!1):d.detachEvent("on"+v,$),d[br][B]=null}function Xi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function ha(d){return cr(d,"wheel",Xi),this}function Ci(d){return bt(d,"mousedown touchstart dblclick contextmenu",Xi),d._leaflet_disable_click=!0,this}function _r(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Tr(d){return _r(d),Xi(d),this}function Xa(d){if(d.composedPath)return d.composedPath();for(var v=[],x=d.target;x;)v.push(x),x=x.parentNode;return v}function Lr(d,v){if(!v)return new ze(d.clientX,d.clientY);var x=Ns(v),M=x.boundingClientRect;return new ze((d.clientX-M.left)/x.x-v.clientLeft,(d.clientY-M.top)/x.y-v.clientTop)}var fa=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Kn(d){return Ct.edge?d.wheelDeltaY/2:d.deltaY&&0===d.deltaMode?-d.deltaY/fa:d.deltaY&&1===d.deltaMode?20*-d.deltaY:d.deltaY&&2===d.deltaMode?60*-d.deltaY:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?20*-d.detail:d.detail?d.detail/-32765*60:0}function Ya(d,v){var x=v.relatedTarget;if(!x)return!0;try{for(;x&&x!==d;)x=x.parentNode}catch{return!1}return x!==d}var ft={__proto__:null,on:bt,off:lt,stopPropagation:Xi,disableScrollPropagation:ha,disableClickPropagation:Ci,preventDefault:_r,stop:Tr,getPropagationPath:Xa,getMousePosition:Lr,getWheelDelta:Kn,isExternalTarget:Ya,addListener:bt,removeListener:lt},is=Se.extend({run:function(d,v,x,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=x||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=bn(d),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(d){var v=+new Date-this._startTime,x=1e3*this._duration;v<x?this._runFrame(this._easeOut(v/x),d):(this._runFrame(1),this._complete())},_runFrame:function(d,v){var x=this._startPos.add(this._offset.multiplyBy(d));v&&x._round(),ot(this._el,x),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),rn=Se.extend({options:{crs:pt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,v){v=fe(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=P(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),void 0!==v.zoom&&(this._zoom=this._limitZoom(v.zoom)),v.center&&void 0!==v.zoom&&this.setView(Pe(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$i&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bt(this._proxy,mn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,v,x){return v=void 0===v?this._zoom:this._limitZoom(v),d=this._limitCenter(Pe(d),v,this.options.maxBounds),x=x||{},this._stop(),this._loaded&&!x.reset&&!0!==x&&(void 0!==x.animate&&(x.zoom=re({animate:x.animate},x.zoom),x.pan=re({animate:x.animate,duration:x.duration},x.pan)),this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,v,x.zoom):this._tryAnimatedPan(d,x.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(d,v,x.pan&&x.pan.noMoveStart),this)},setZoom:function(d,v){return this._loaded?this.setView(this.getCenter(),d,{zoom:v}):(this._zoom=d,this)},zoomIn:function(d,v){return this.setZoom(this._zoom+(d=d||(Ct.any3d?this.options.zoomDelta:1)),v)},zoomOut:function(d,v){return this.setZoom(this._zoom-(d=d||(Ct.any3d?this.options.zoomDelta:1)),v)},setZoomAround:function(d,v,x){var M=this.getZoomScale(v),B=this.getSize().divideBy(2),ce=(d instanceof ze?d:this.latLngToContainerPoint(d)).subtract(B).multiplyBy(1-1/M),we=this.containerPointToLatLng(B.add(ce));return this.setView(we,v,{zoom:x})},_getBoundsCenterZoom:function(d,v){v=v||{},d=d.getBounds?d.getBounds():ct(d);var x=Ae(v.paddingTopLeft||v.padding||[0,0]),M=Ae(v.paddingBottomRight||v.padding||[0,0]),B=this.getBoundsZoom(d,!1,x.add(M));if((B="number"==typeof v.maxZoom?Math.min(v.maxZoom,B):B)===1/0)return{center:d.getCenter(),zoom:B};var $=M.subtract(x).divideBy(2),ce=this.project(d.getSouthWest(),B),we=this.project(d.getNorthEast(),B);return{center:this.unproject(ce.add(we).divideBy(2).add($),B),zoom:B}},fitBounds:function(d,v){if(!(d=ct(d)).isValid())throw new Error("Bounds are not valid.");var x=this._getBoundsCenterZoom(d,v);return this.setView(x.center,x.zoom,v)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,v){return this.setView(d,this._zoom,{pan:v})},panBy:function(d,v){if(v=v||{},!(d=Ae(d).round()).x&&!d.y)return this.fire("moveend");if(!0!==v.animate&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new is,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),!1!==v.animate){xt(this._mapPane,"leaflet-pan-anim");var x=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,x,v.duration||.25,v.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,v,x){if(!1===(x=x||{}).animate||!Ct.any3d)return this.setView(d,v,x);this._stop();var M=this.project(this.getCenter()),B=this.project(d),$=this.getSize(),ce=this._zoom;d=Pe(d),v=void 0===v?ce:v;var we=Math.max($.x,$.y),Ee=we*this.getZoomScale(ce,v),ge=B.distanceTo(M)||1,Fe=1.42,_t=Fe*Fe;function Ut(Gn){var yo=(Ee*Ee-we*we+(Gn?-1:1)*_t*_t*ge*ge)/(2*(Gn?Ee:we)*_t*ge),Yc=Math.sqrt(yo*yo+1)-yo;return Yc<1e-9?-18:Math.log(Yc)}function Nn(Gn){return(Math.exp(Gn)-Math.exp(-Gn))/2}function In(Gn){return(Math.exp(Gn)+Math.exp(-Gn))/2}var sn=Ut(0);function ki(Gn){return we*(In(sn)*function Gr(Gn){return Nn(Gn)/In(Gn)}(sn+Fe*Gn)-Nn(sn))/_t}var Zc=Date.now(),Xc=(Ut(1)-sn)/Fe,wa=x.duration?1e3*x.duration:1e3*Xc*.8;return this._moveStart(!0,x.noMoveStart),function zn(){var Gn=(Date.now()-Zc)/wa,Uo=function Vt(Gn){return 1-Math.pow(1-Gn,1.5)}(Gn)*Xc;Gn<=1?(this._flyToFrame=ee(zn,this),this._move(this.unproject(M.add(B.subtract(M).multiplyBy(ki(Uo)/ge)),ce),this.getScaleZoom(we/function Hn(Gn){return we*(In(sn)/In(sn+Fe*Gn))}(Uo),ce),{flyTo:!0})):this._move(d,v)._moveEnd(!0)}.call(this),this},flyToBounds:function(d,v){var x=this._getBoundsCenterZoom(d,v);return this.flyTo(x.center,x.zoom,v)},setMaxBounds:function(d){return d=ct(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var v=this.options.minZoom;return this.options.minZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var v=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,v){this._enforcingBounds=!0;var x=this.getCenter(),M=this._limitCenter(x,this._zoom,ct(d));return x.equals(M)||this.panTo(M,v),this._enforcingBounds=!1,this},panInside:function(d,v){var x=Ae((v=v||{}).paddingTopLeft||v.padding||[0,0]),M=Ae(v.paddingBottomRight||v.padding||[0,0]),B=this.project(this.getCenter()),$=this.project(d),ce=this.getPixelBounds(),we=qe([ce.min.add(x),ce.max.subtract(M)]),Ee=we.getSize();if(!we.contains($)){this._enforcingBounds=!0;var ge=$.subtract(we.getCenter()),Fe=we.extend($).getSize().subtract(Ee);B.x+=ge.x<0?-Fe.x:Fe.x,B.y+=ge.y<0?-Fe.y:Fe.y,this.panTo(this.unproject(B),v),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=re({animate:!1,pan:!0},!0===d?{animate:!0}:d);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var x=this.getSize(),M=v.divideBy(2).round(),B=x.divideBy(2).round(),$=M.subtract(B);return $.x||$.y?(d.animate&&d.pan?this.panBy($):(d.pan&&this._rawPanBy($),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(P(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:x})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=re({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=P(this._handleGeolocationResponse,this),x=P(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,x,d):navigator.geolocation.getCurrentPosition(v,x,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var v=d.code,x=d.message||(1===v?"permission denied":2===v?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+x+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var M=new $e(d.coords.latitude,d.coords.longitude),B=M.toBounds(2*d.coords.accuracy),$=this._locateOptions;if($.setView){var ce=this.getBoundsZoom(B);this.setView(M,$.maxZoom?Math.min(ce,$.maxZoom):ce)}var we={latlng:M,bounds:B,timestamp:d.timestamp};for(var Ee in d.coords)"number"==typeof d.coords[Ee]&&(we[Ee]=d.coords[Ee]);this.fire("locationfound",we)}},addHandler:function(d,v){if(!v)return this;var x=this[d]=new v(this);return this._handlers.push(x),this.options[d]&&x.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var d;for(d in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Pn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[d].remove();for(d in this._panes)Pn(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,v){var M=an("div","leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),v||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds();return new Gt(this.unproject(d.getBottomLeft()),this.unproject(d.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,v,x){d=ct(d),x=Ae(x||[0,0]);var M=this.getZoom()||0,B=this.getMinZoom(),$=this.getMaxZoom(),ce=d.getNorthWest(),we=d.getSouthEast(),Ee=this.getSize().subtract(x),ge=qe(this.project(we,M),this.project(ce,M)).getSize(),Fe=Ct.any3d?this.options.zoomSnap:1,_t=Ee.x/ge.x,Ut=Ee.y/ge.y,Nn=v?Math.max(_t,Ut):Math.min(_t,Ut);return M=this.getScaleZoom(Nn,M),Fe&&(M=Math.round(M/(Fe/100))*(Fe/100),M=v?Math.ceil(M/Fe)*Fe:Math.floor(M/Fe)*Fe),Math.max(B,Math.min($,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ze(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,v){var x=this._getTopLeftPoint(d,v);return new gt(x,x.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(void 0===d?this.getZoom():d)},getPane:function(d){return"string"==typeof d?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,v){var x=this.options.crs;return v=void 0===v?this._zoom:v,x.scale(d)/x.scale(v)},getScaleZoom:function(d,v){var x=this.options.crs,M=x.zoom(d*x.scale(v=void 0===v?this._zoom:v));return isNaN(M)?1/0:M},project:function(d,v){return v=void 0===v?this._zoom:v,this.options.crs.latLngToPoint(Pe(d),v)},unproject:function(d,v){return v=void 0===v?this._zoom:v,this.options.crs.pointToLatLng(Ae(d),v)},layerPointToLatLng:function(d){var v=Ae(d).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(d){return this.project(Pe(d))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Pe(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(ct(d))},distance:function(d,v){return this.options.crs.distance(Pe(d),Pe(v))},containerPointToLayerPoint:function(d){return Ae(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return Ae(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var v=this.containerPointToLayerPoint(Ae(d));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Pe(d)))},mouseEventToContainerPoint:function(d){return Lr(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var v=this._container=_n(d);if(!v)throw new Error("Map container not found.");if(v._leaflet_id)throw new Error("Map container is already initialized.");bt(v,"scroll",this._onScroll,this),this._containerId=z(v)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,xt(d,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=Je(d,"position");"absolute"!==v&&"relative"!==v&&"fixed"!==v&&"sticky"!==v&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ot(this._mapPane,new ze(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(d.markerPane,"leaflet-zoom-hide"),xt(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,v,x){ot(this._mapPane,new ze(0,0));var M=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var B=this._zoom!==v;this._moveStart(B,x)._move(d,v)._moveEnd(B),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,v){return d&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(d,v,x,M){void 0===v&&(v=this._zoom);var B=this._zoom!==v;return this._zoom=v,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?x&&x.pinch&&this.fire("zoom",x):((B||x&&x.pinch)&&this.fire("zoom",x),this.fire("move",x)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ot(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[z(this._container)]=this;var v=d?lt:bt;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,v){for(var M,x=[],B="mouseout"===v||"mouseover"===v,$=d.target||d.srcElement,ce=!1;$;){if((M=this._targets[z($)])&&("click"===v||"preclick"===v)&&this._draggableMoved(M)){ce=!0;break}if(M&&M.listens(v,!0)&&(B&&!Ya($,d)||(x.push(M),B))||$===this._container)break;$=$.parentNode}return!x.length&&!ce&&!B&&this.listens(v,!0)&&(x=[this]),x},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var v=d.target||d.srcElement;if(!(!this._loaded||v._leaflet_disable_events||"click"===d.type&&this._isClickDisabled(v))){var x=d.type;"mousedown"===x&&Ms(v),this._fireDOMEvent(d,x)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,v,x){if("click"===d.type){var M=re({},d);M.type="preclick",this._fireDOMEvent(M,M.type,x)}var B=this._findEventTargets(d,v);if(x){for(var $=[],ce=0;ce<x.length;ce++)x[ce].listens(v,!0)&&$.push(x[ce]);B=$.concat(B)}if(B.length){"contextmenu"===v&&_r(d);var we=B[0],Ee={originalEvent:d};if("keypress"!==d.type&&"keydown"!==d.type&&"keyup"!==d.type){var ge=we.getLatLng&&(!we._radius||we._radius<=10);Ee.containerPoint=ge?this.latLngToContainerPoint(we.getLatLng()):this.mouseEventToContainerPoint(d),Ee.layerPoint=this.containerPointToLayerPoint(Ee.containerPoint),Ee.latlng=ge?we.getLatLng():this.layerPointToLatLng(Ee.layerPoint)}for(ce=0;ce<B.length;ce++)if(B[ce].fire(v,Ee,!0),Ee.originalEvent._stopped||!1===B[ce].options.bubblingMouseEvents&&-1!==Ye(this._mouseEvents,v))return}},_draggableMoved:function(d){return(d=d.dragging&&d.dragging.enabled()?d:this).dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,v=this._handlers.length;d<v;d++)this._handlers[d].disable()},whenReady:function(d,v){return this._loaded?d.call(v||this,{target:this}):this.on("load",d,v),this},_getMapPanePos:function(){return bn(this._mapPane)||new ze(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,v){return(d&&void 0!==v?this._getNewPixelOrigin(d,v):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,v){var x=this.getSize()._divideBy(2);return this.project(d,v)._subtract(x)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,v,x){var M=this._getNewPixelOrigin(x,v);return this.project(d,v)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,v,x){var M=this._getNewPixelOrigin(x,v);return qe([this.project(d.getSouthWest(),v)._subtract(M),this.project(d.getNorthWest(),v)._subtract(M),this.project(d.getSouthEast(),v)._subtract(M),this.project(d.getNorthEast(),v)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,v,x){if(!x)return d;var M=this.project(d,v),B=this.getSize().divideBy(2),$=new gt(M.subtract(B),M.add(B)),ce=this._getBoundsOffset($,x,v);return Math.abs(ce.x)<=1&&Math.abs(ce.y)<=1?d:this.unproject(M.add(ce),v)},_limitOffset:function(d,v){if(!v)return d;var x=this.getPixelBounds(),M=new gt(x.min.add(d),x.max.add(d));return d.add(this._getBoundsOffset(M,v))},_getBoundsOffset:function(d,v,x){var M=qe(this.project(v.getNorthEast(),x),this.project(v.getSouthWest(),x)),B=M.min.subtract(d.min),$=M.max.subtract(d.max);return new ze(this._rebound(B.x,-$.x),this._rebound(B.y,-$.y))},_rebound:function(d,v){return d+v>0?Math.round(d-v)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(v))},_limitZoom:function(d){var v=this.getMinZoom(),x=this.getMaxZoom(),M=Ct.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(v,Math.min(x,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Zn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,v){var x=this._getCenterOffset(d)._trunc();return!(!0!==(v&&v.animate)&&!this.getSize().contains(x)||(this.panBy(x,v),0))},_createAnimProxy:function(){var d=this._proxy=an("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(v){var x=ui,M=this._proxy.style[x];K(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),M===this._proxy.style[x]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),v=this.getZoom();K(this._proxy,this.project(d,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,v,x){if(this._animatingZoom)return!0;if(x=x||{},!this._zoomAnimated||!1===x.animate||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(v),B=this._getCenterOffset(d)._divideBy(1-1/M);return!(!0!==x.animate&&!this.getSize().contains(B)||(ee(function(){this._moveStart(!0,x.noMoveStart||!1)._animateZoom(d,v,!0)},this),0))},_animateZoom:function(d,v,x,M){this._mapPane&&(x&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=v,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:v,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(P(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Zn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var wi=pe.extend({options:{position:"topright"},initialize:function(d){fe(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var v=this._map;return v&&v.removeControl(this),this.options.position=d,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var v=this._container=this.onAdd(d),x=this.getPosition(),M=d._controlCorners[x];return xt(v,"leaflet-control"),-1!==x.indexOf("bottom")?M.insertBefore(v,M.firstChild):M.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),os=function(d){return new wi(d)};rn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},v="leaflet-",x=this._controlContainer=an("div",v+"control-container",this._container);function M(B,$){d[B+$]=an("div",v+B+" "+v+$,x)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Pn(this._controlCorners[d]);Pn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yl=wi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,v,x,M){return x<M?-1:M<x?1:0}},initialize:function(d,v,x){for(var M in fe(this,x),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,d)this._addLayer(d[M],M);for(M in v)this._addLayer(v[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return wi.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,v){return this._addLayer(d,v),this._map?this._update():this},addOverlay:function(d,v){return this._addLayer(d,v,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var v=this._getLayer(z(d));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Zn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Zn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",v=this._container=an("div",d),x=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Ci(v),ha(v);var M=this._section=an("section",d+"-list");x&&(this._map.on("click",this.collapse,this),bt(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=an("a",d+"-toggle",v);B.href="#",B.title="Layers",B.setAttribute("role","button"),bt(B,{keydown:function($){13===$.keyCode&&this._expandSafely()},click:function($){_r($),this._expandSafely()}},this),x||this.expand(),this._baseLayersList=an("div",d+"-base",M),this._separator=an("div",d+"-separator",M),this._overlaysList=an("div",d+"-overlays",M),v.appendChild(M)},_getLayer:function(d){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&z(this._layers[v].layer)===d)return this._layers[v]},_addLayer:function(d,v,x){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:v,overlay:x}),this.options.sortLayers&&this._layers.sort(P(function(M,B){return this.options.sortFunction(M.layer,B.layer,M.name,B.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ar(this._baseLayersList),ar(this._overlaysList),this._layerControlInputs=[];var d,v,x,M,B=0;for(x=0;x<this._layers.length;x++)this._addItem(M=this._layers[x]),v=v||M.overlay,d=d||!M.overlay,B+=M.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(d=d&&B>1)?"":"none"),this._separator.style.display=v&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var v=this._getLayer(z(d.target)),x=v.overlay?"add"===d.type?"overlayadd":"overlayremove":"add"===d.type?"baselayerchange":null;x&&this._map.fire(x,v)},_createRadioElement:function(d,v){var x='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(v?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=x,M.firstChild},_addItem:function(d){var M,v=document.createElement("label"),x=this._map.hasLayer(d.layer);d.overlay?((M=document.createElement("input")).type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=x):M=this._createRadioElement("leaflet-base-layers_"+z(this),x),this._layerControlInputs.push(M),M.layerId=z(d.layer),bt(M,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+d.name;var $=document.createElement("span");return v.appendChild($),$.appendChild(M),$.appendChild(B),(d.overlay?this._overlaysList:this._baseLayersList).appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var v,x,d=this._layerControlInputs,M=[],B=[];this._handlingClick=!0;for(var $=d.length-1;$>=0;$--)x=this._getLayer((v=d[$]).layerId).layer,v.checked?M.push(x):v.checked||B.push(x);for($=0;$<B.length;$++)this._map.hasLayer(B[$])&&this._map.removeLayer(B[$]);for($=0;$<M.length;$++)this._map.hasLayer(M[$])||this._map.addLayer(M[$]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v,x,d=this._layerControlInputs,M=this._map.getZoom(),B=d.length-1;B>=0;B--)x=this._getLayer((v=d[B]).layerId).layer,v.disabled=void 0!==x.options.minZoom&&M<x.options.minZoom||void 0!==x.options.maxZoom&&M>x.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,bt(d,"click",_r),this.expand();var v=this;setTimeout(function(){lt(d,"click",_r),v._preventClick=!1})}}),Po=wi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var v="leaflet-control-zoom",x=an("div",v+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,v+"-in",x,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,v+"-out",x,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),x},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,v,x,M,B){var $=an("a",x,M);return $.innerHTML=d,$.href="#",$.title=v,$.setAttribute("role","button"),$.setAttribute("aria-label",v),Ci($),bt($,"click",Tr),bt($,"click",B,this),bt($,"click",this._refocusOnMap,this),$},_updateDisabled:function(){var d=this._map,v="leaflet-disabled";Zn(this._zoomInButton,v),Zn(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xt(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xt(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});rn.mergeOptions({zoomControl:!0}),rn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Po,this.addControl(this.zoomControl))});var hi=wi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var v="leaflet-control-scale",x=an("div",v),M=this.options;return this._addScales(M,v+"-line",x),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),x},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,v,x){d.metric&&(this._mScale=an("div",v,x)),d.imperial&&(this._iScale=an("div",v,x))},_update:function(){var d=this._map,v=d.getSize().y/2,x=d.distance(d.containerPointToLatLng([0,v]),d.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(x)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var v=this._getRoundNum(d);this._updateScale(this._mScale,v<1e3?v+" m":v/1e3+" km",v/d)},_updateImperial:function(d){var x,M,B,v=3.2808399*d;v>5280?(M=this._getRoundNum(x=v/5280),this._updateScale(this._iScale,M+" mi",M/x)):(B=this._getRoundNum(v),this._updateScale(this._iScale,B+" ft",B/v))},_updateScale:function(d,v,x){d.style.width=Math.round(this.options.maxWidth*x)+"px",d.innerHTML=v},_getRoundNum:function(d){var v=Math.pow(10,(Math.floor(d)+"").length-1),x=d/v;return v*(x>=10?10:x>=5?5:x>=3?3:x>=2?2:1)}}),Jt=wi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(d){fe(this,d),this._attributions={}},onAdd:function(d){for(var v in d.attributionControl=this,this._container=an("div","leaflet-control-attribution"),Ci(this._container),d._layers)d._layers[v].getAttribution&&this.addAttribution(d._layers[v].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var v in this._attributions)this._attributions[v]&&d.push(v);var x=[];this.options.prefix&&x.push(this.options.prefix),d.length&&x.push(d.join(", ")),this._container.innerHTML=x.join(' <span aria-hidden="true">|</span> ')}}});rn.mergeOptions({attributionControl:!0}),rn.addInitHook(function(){this.options.attributionControl&&(new Jt).addTo(this)});wi.Layers=Yl,wi.Zoom=Po,wi.Scale=hi,wi.Attribution=Jt,os.layers=function(d,v,x){return new Yl(d,v,x)},os.zoom=function(d){return new Po(d)},os.scale=function(d){return new hi(d)},os.attribution=function(d){return new Jt(d)};var Fr=pe.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fr.addTo=function(d,v){return d.addHandler(v,this),this};var ga={Events:Te},Rs=Ct.touch?"touchstart mousedown":"mousedown",Ei=Se.extend({options:{clickTolerance:3},initialize:function(d,v,x,M){fe(this,M),this._element=d,this._dragStartTarget=v||d,this._preventOutline=x},enable:function(){this._enabled||(bt(this._dragStartTarget,Rs,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),lt(this._dragStartTarget,Rs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Mn(this._element,"leaflet-zoom-anim"))){if(d.touches&&1!==d.touches.length)return void(Ei._dragging===this&&this.finishDrag());if(!(Ei._dragging||d.shiftKey||1!==d.which&&1!==d.button&&!d.touches||(Ei._dragging=this,this._preventOutline&&Ms(this._element),At(),mr(),this._moving))){this.fire("down");var v=d.touches?d.touches[0]:d,x=Qt(this._element);this._startPoint=new ze(v.clientX,v.clientY),this._startPos=bn(this._element),this._parentScale=Ns(x);var M="mousedown"===d.type;bt(document,M?"mousemove":"touchmove",this._onMove,this),bt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1)return void(this._moved=!0);var v=d.touches&&1===d.touches.length?d.touches[0]:d,x=new ze(v.clientX,v.clientY)._subtract(this._startPoint);!x.x&&!x.y||Math.abs(x.x)+Math.abs(x.y)<this.options.clickTolerance||(x.x/=this._parentScale.x,x.y/=this._parentScale.y,_r(d),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(x),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ot(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Zn(document.body,"leaflet-dragging"),this._lastTarget&&(Zn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),lt(document,"mousemove touchmove",this._onMove,this),lt(document,"mouseup touchend touchcancel",this._onUp,this),da(),Ts();var v=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,v&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function uo(d,v,x){var M,$,ce,we,Ee,ge,Fe,_t,Ut,B=[1,4,2,8];for($=0,Fe=d.length;$<Fe;$++)d[$]._code=Yi(d[$],v);for(we=0;we<4;we++){for(_t=B[we],M=[],$=0,ce=(Fe=d.length)-1;$<Fe;ce=$++)ge=d[ce],(Ee=d[$])._code&_t?ge._code&_t||((Ut=as(ge,Ee,_t,v,x))._code=Yi(Ut,v),M.push(Ut)):(ge._code&_t&&((Ut=as(ge,Ee,_t,v,x))._code=Yi(Ut,v),M.push(Ut)),M.push(Ee));d=M}return d}function qa(d,v){var x,M,B,$,ce,we,Ee,ge;if(!d||0===d.length)throw new Error("latlngs not passed");yr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var _t=Pe([0,0]),Ut=ct(d);Ut.getNorthWest().distanceTo(Ut.getSouthWest())*Ut.getNorthEast().distanceTo(Ut.getNorthWest())<1700&&(_t=lr(d));var In=d.length,Gr=[];for(x=0;x<In;x++){var sn=Pe(d[x]);Gr.push(v.project(Pe([sn.lat-_t.lat,sn.lng-_t.lng])))}for(we=Ee=ge=0,x=0,M=In-1;x<In;M=x++)Ee+=((B=Gr[x]).x+($=Gr[M]).x)*(ce=B.y*$.x-$.y*B.x),ge+=(B.y+$.y)*ce,we+=3*ce;var Hn=v.unproject(Ae(0===we?Gr[0]:[Ee/we,ge/we]));return Pe([Hn.lat+_t.lat,Hn.lng+_t.lng])}function lr(d){for(var v=0,x=0,M=0,B=0;B<d.length;B++){var $=Pe(d[B]);v+=$.lat,x+=$.lng,M++}return Pe([v/M,x/M])}var Dt,Uc={__proto__:null,clipPolygon:uo,polygonCenter:qa,centroid:lr};function vr(d,v){if(!v||!d.length)return d.slice();var x=v*v;return function jn(d,v){var x=d.length,B=new(typeof Uint8Array<"u"?Uint8Array:Array)(x);B[0]=B[x-1]=1,Mt(d,B,v,0,x-1);var $,ce=[];for($=0;$<x;$++)B[$]&&ce.push(d[$]);return ce}(d=function Ni(d,v){for(var x=[d[0]],M=1,B=0,$=d.length;M<$;M++)ma(d[M],d[B])>v&&(x.push(d[M]),B=M);return B<$-1&&x.push(d[$-1]),x}(d,x),x)}function ss(d,v,x){return Math.sqrt(qi(d,v,x,!0))}function Mt(d,v,x,M,B){var ce,we,Ee,$=0;for(we=M+1;we<=B-1;we++)(Ee=qi(d[we],d[M],d[B],!0))>$&&(ce=we,$=Ee);$>x&&(v[ce]=1,Mt(d,v,x,M,ce),Mt(d,v,x,ce,B))}function Oi(d,v,x,M,B){var we,Ee,ge,$=M?Dt:Yi(d,x),ce=Yi(v,x);for(Dt=ce;;){if(!($|ce))return[d,v];if($&ce)return!1;ge=Yi(Ee=as(d,v,we=$||ce,x,B),x),we===$?(d=Ee,$=ge):(v=Ee,ce=ge)}}function as(d,v,x,M,B){var ge,Fe,$=v.x-d.x,ce=v.y-d.y,we=M.min,Ee=M.max;return 8&x?(ge=d.x+$*(Ee.y-d.y)/ce,Fe=Ee.y):4&x?(ge=d.x+$*(we.y-d.y)/ce,Fe=we.y):2&x?(ge=Ee.x,Fe=d.y+ce*(Ee.x-d.x)/$):1&x&&(ge=we.x,Fe=d.y+ce*(we.x-d.x)/$),new ze(ge,Fe,B)}function Yi(d,v){var x=0;return d.x<v.min.x?x|=1:d.x>v.max.x&&(x|=2),d.y<v.min.y?x|=4:d.y>v.max.y&&(x|=8),x}function ma(d,v){var x=v.x-d.x,M=v.y-d.y;return x*x+M*M}function qi(d,v,x,M){var ge,B=v.x,$=v.y,ce=x.x-B,we=x.y-$,Ee=ce*ce+we*we;return Ee>0&&((ge=((d.x-B)*ce+(d.y-$)*we)/Ee)>1?(B=x.x,$=x.y):ge>0&&(B+=ce*ge,$+=we*ge)),ce=d.x-B,we=d.y-$,M?ce*ce+we*we:new ze(B,$)}function yr(d){return!Oe(d[0])||"object"!=typeof d[0][0]&&typeof d[0][0]<"u"}function xi(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yr(d)}function Ka(d,v){var x,M,B,$,ce,we,Ee,ge;if(!d||0===d.length)throw new Error("latlngs not passed");yr(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Fe=Pe([0,0]),_t=ct(d);_t.getNorthWest().distanceTo(_t.getSouthWest())*_t.getNorthEast().distanceTo(_t.getNorthWest())<1700&&(Fe=lr(d));var Nn=d.length,In=[];for(x=0;x<Nn;x++){var Gr=Pe(d[x]);In.push(v.project(Pe([Gr.lat-Fe.lat,Gr.lng-Fe.lng])))}for(x=0,M=0;x<Nn-1;x++)M+=In[x].distanceTo(In[x+1])/2;if(0===M)ge=In[0];else for(x=0,$=0;x<Nn-1;x++)if(($+=B=(ce=In[x]).distanceTo(we=In[x+1]))>M){ge=[we.x-(Ee=($-M)/B)*(we.x-ce.x),we.y-Ee*(we.y-ce.y)];break}var sn=v.unproject(Ae(ge));return Pe([sn.lat+Fe.lat,sn.lng+Fe.lng])}var _a={__proto__:null,simplify:vr,pointToSegmentDistance:ss,closestPointOnSegment:function ho(d,v,x){return qi(d,v,x)},clipSegment:Oi,_getEdgeIntersection:as,_getBitCode:Yi,_sqClosestPointOnSegment:qi,isFlat:yr,_flat:xi,polylineCenter:Ka},Qa={project:function(d){return new ze(d.lng,d.lat)},unproject:function(d){return new $e(d.y,d.x)},bounds:new gt([-180,-90],[180,90])},fo={R:6378137,R_MINOR:6356752.314245179,bounds:new gt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(d){var v=Math.PI/180,x=this.R,M=d.lat*v,B=this.R_MINOR/x,$=Math.sqrt(1-B*B),ce=$*Math.sin(M),we=Math.tan(Math.PI/4-M/2)/Math.pow((1-ce)/(1+ce),$/2);return M=-x*Math.log(Math.max(we,1e-10)),new ze(d.lng*v*x,M)},unproject:function(d){for(var ge,v=180/Math.PI,x=this.R,M=this.R_MINOR/x,B=Math.sqrt(1-M*M),$=Math.exp(-d.y/x),ce=Math.PI/2-2*Math.atan($),we=0,Ee=.1;we<15&&Math.abs(Ee)>1e-7;we++)ge=B*Math.sin(ce),ge=Math.pow((1-ge)/(1+ge),B/2),ce+=Ee=Math.PI/2-2*Math.atan($*ge)-ce;return new $e(ce*v,d.x*v/x)}},Lo={__proto__:null,LonLat:Qa,Mercator:fo,SphericalMercator:fn},Vc=re({},Rt,{code:"EPSG:3395",projection:fo,transformation:function(){var d=.5/(Math.PI*fo.R);return mt(d,.5,-d,.5)}()}),Fo=re({},Rt,{code:"EPSG:4326",projection:Qa,transformation:mt(1/180,1,-1/180,.5)}),Ed=re({},Kt,{projection:Qa,transformation:mt(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,v){var x=v.lng-d.lng,M=v.lat-d.lat;return Math.sqrt(x*x+M*M)},infinite:!0});Kt.Earth=Rt,Kt.EPSG3395=Vc,Kt.EPSG3857=pt,Kt.EPSG900913=An,Kt.EPSG4326=Fo,Kt.Simple=Ed;var ur=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[z(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[z(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var v=d.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var x=this.getEvents();v.on(x,this),this.once("remove",function(){v.off(x,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});rn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var v=z(d);return this._layers[v]||(this._layers[v]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d)),this},removeLayer:function(d){var v=z(d);return this._layers[v]?(this._loaded&&d.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return z(d)in this._layers},eachLayer:function(d,v){for(var x in this._layers)d.call(v,this._layers[x]);return this},_addLayers:function(d){for(var v=0,x=(d=d?Oe(d)?d:[d]:[]).length;v<x;v++)this.addLayer(d[v])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[z(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var v=z(d);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,v=-1/0,x=this._getZoomSpan();for(var M in this._zoomBoundLayers){var B=this._zoomBoundLayers[M].options;d=void 0===B.minZoom?d:Math.min(d,B.minZoom),v=void 0===B.maxZoom?v:Math.max(v,B.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=d===1/0?void 0:d,x!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ki=ur.extend({initialize:function(d,v){var x,M;if(fe(this,v),this._layers={},d)for(x=0,M=d.length;x<M;x++)this.addLayer(d[x])},addLayer:function(d){var v=this.getLayerId(d);return this._layers[v]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var v=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(d){return("number"==typeof d?d:this.getLayerId(d))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var x,M,v=Array.prototype.slice.call(arguments,1);for(x in this._layers)(M=this._layers[x])[d]&&M[d].apply(M,v);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,v){for(var x in this._layers)d.call(v,this._layers[x]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return z(d)}}),Cr=Ki.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Ki.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Ki.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new Gt;for(var v in this._layers){var x=this._layers[v];d.extend(x.getBounds?x.getBounds():x.getLatLng())}return d}}),cs=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){fe(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,v){var x=this._getIconUrl(d);if(!x){if("icon"===d)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(x,v&&"IMG"===v.tagName?v:null);return this._setIconStyles(M,d),(this.options.crossOrigin||""===this.options.crossOrigin)&&(M.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),M},_setIconStyles:function(d,v){var x=this.options,M=x[v+"Size"];"number"==typeof M&&(M=[M,M]);var B=Ae(M),$=Ae("shadow"===v&&x.shadowAnchor||x.iconAnchor||B&&B.divideBy(2,!0));d.className="leaflet-marker-"+v+" "+(x.className||""),$&&(d.style.marginLeft=-$.x+"px",d.style.marginTop=-$.y+"px"),B&&(d.style.width=B.x+"px",d.style.height=B.y+"px")},_createImg:function(d,v){return(v=v||document.createElement("img")).src=d,v},_getIconUrl:function(d){return Ct.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});var va=cs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return"string"!=typeof va.imagePath&&(va.imagePath=this._detectIconPath()),(this.options.imagePath||va.imagePath)+cs.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var v=function(x,M,B){var $=M.exec(x);return $&&$[B]};return(d=v(d,/^url\((['"])?(.+)\1\)$/,2))&&v(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=an("div","leaflet-default-icon-path",document.body),v=Je(d,"background-image")||Je(d,"backgroundImage");if(document.body.removeChild(d),v=this._stripUrl(v))return v;var x=document.querySelector('link[href$="leaflet.css"]');return x?x.href.substring(0,x.href.length-11-1):""}}),Hc=Fr.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ei(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Zn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var v=this._marker,x=v._map,M=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,$=bn(v._icon),ce=x.getPixelBounds(),we=x.getPixelOrigin(),Ee=qe(ce.min._subtract(we).add(B),ce.max._subtract(we).subtract(B));if(!Ee.contains($)){var ge=Ae((Math.max(Ee.max.x,$.x)-Ee.max.x)/(ce.max.x-Ee.max.x)-(Math.min(Ee.min.x,$.x)-Ee.min.x)/(ce.min.x-Ee.min.x),(Math.max(Ee.max.y,$.y)-Ee.max.y)/(ce.max.y-Ee.max.y)-(Math.min(Ee.min.y,$.y)-Ee.min.y)/(ce.min.y-Ee.min.y)).multiplyBy(M);x.panBy(ge,{animate:!1}),this._draggable._newPos._add(ge),this._draggable._startPos._add(ge),ot(v._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=ee(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,d)))},_onDrag:function(d){var v=this._marker,x=v._shadow,M=bn(v._icon),B=v._map.layerPointToLatLng(M);x&&ot(x,M),v._latlng=B,d.latlng=B,d.oldLatLng=this._oldLatLng,v.fire("move",d).fire("drag",d)},_onDragEnd:function(d){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),fi=ur.extend({options:{icon:new va,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,v){fe(this,v),this._latlng=Pe(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var v=this._latlng;return this._latlng=Pe(d),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),x=d.icon.createIcon(this._icon),M=!1;x!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(x.title=d.title),"IMG"===x.tagName&&(x.alt=d.alt||"")),xt(x,v),d.keyboard&&(x.tabIndex="0",x.setAttribute("role","button")),this._icon=x,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(x,"focus",this._panOnFocus,this);var B=d.icon.createShadow(this._shadow),$=!1;B!==this._shadow&&(this._removeShadow(),$=!0),B&&(xt(B,v),B.alt=""),this._shadow=B,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&$&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(this._icon,"focus",this._panOnFocus,this),Pn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pn(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ot(this._icon,d),this._shadow&&ot(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hc)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hc(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&tn(this._icon,d),this._shadow&&tn(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var v=this.options.icon.options,x=v.iconSize?Ae(v.iconSize):Ae(0,0),M=v.iconAnchor?Ae(v.iconAnchor):Ae(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:x.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ji=ur.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return fe(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bo=Ji.extend({options:{fill:!0,radius:10},initialize:function(d,v){fe(this,v),this._latlng=Pe(d),this._radius=this.options.radius},setLatLng:function(d){var v=this._latlng;return this._latlng=Pe(d),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var v=d&&d.radius||this._radius;return Ji.prototype.setStyle.call(this,d),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,v=this._radiusY||d,x=this._clickTolerance(),M=[d+x,v+x];this._pxBounds=new gt(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var po=Bo.extend({initialize:function(d,v,x){if("number"==typeof v&&(v=re({},x,{radius:v})),fe(this,v),this._latlng=Pe(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new Gt(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:Ji.prototype.setStyle,_project:function(){var d=this._latlng.lng,v=this._latlng.lat,x=this._map,M=x.options.crs;if(M.distance===Rt.distance){var B=Math.PI/180,$=this._mRadius/Rt.R/B,ce=x.project([v+$,d]),we=x.project([v-$,d]),Ee=ce.add(we).divideBy(2),ge=x.unproject(Ee).lat,Fe=Math.acos((Math.cos($*B)-Math.sin(v*B)*Math.sin(ge*B))/(Math.cos(v*B)*Math.cos(ge*B)))/B;(isNaN(Fe)||0===Fe)&&(Fe=$/Math.cos(Math.PI/180*v)),this._point=Ee.subtract(x.getPixelOrigin()),this._radius=isNaN(Fe)?0:Ee.x-x.project([ge,d-Fe]).x,this._radiusY=Ee.y-ce.y}else{var _t=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=x.latLngToLayerPoint(this._latlng),this._radius=this._point.x-x.latLngToLayerPoint(_t).x}this._updateBounds()}});var c=Ji.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,v){fe(this,v),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var B,$,v=1/0,x=null,M=qi,ce=0,we=this._parts.length;ce<we;ce++)for(var Ee=this._parts[ce],ge=1,Fe=Ee.length;ge<Fe;ge++){var _t=M(d,B=Ee[ge-1],$=Ee[ge],!0);_t<v&&(v=_t,x=M(d,B,$))}return x&&(x.distance=Math.sqrt(v)),x},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ka(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,v){return v=v||this._defaultShape(),d=Pe(d),v.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new Gt,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return yr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var v=[],x=yr(d),M=0,B=d.length;M<B;M++)x?(v[M]=Pe(d[M]),this._bounds.extend(v[M])):v[M]=this._convertLatLngs(d[M]);return v},_project:function(){var d=new gt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),v=new ze(d,d);this._rawPxBounds&&(this._pxBounds=new gt([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(d,v,x){var $,ce,B=d.length;if(d[0]instanceof $e){for(ce=[],$=0;$<B;$++)ce[$]=this._map.latLngToLayerPoint(d[$]),x.extend(ce[$]);v.push(ce)}else for($=0;$<B;$++)this._projectLatlngs(d[$],v,x)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(d)){if(this.options.noClip)return void(this._parts=this._rings);var x,M,B,$,ce,we,Ee,v=this._parts;for(x=0,B=0,$=this._rings.length;x<$;x++)for(M=0,ce=(Ee=this._rings[x]).length;M<ce-1;M++)(we=Oi(Ee[M],Ee[M+1],d,M,!0))&&(v[B]=v[B]||[],v[B].push(we[0]),(we[1]!==Ee[M+1]||M===ce-2)&&(v[B].push(we[1]),B++))}},_simplifyPoints:function(){for(var d=this._parts,v=this.options.smoothFactor,x=0,M=d.length;x<M;x++)d[x]=vr(d[x],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,v){var x,M,B,$,ce,we,Ee=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(x=0,$=this._parts.length;x<$;x++)for(M=0,B=(ce=(we=this._parts[x]).length)-1;M<ce;B=M++)if((v||0!==M)&&ss(d,we[B],we[M])<=Ee)return!0;return!1}});c._flat=xi;var f=c.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var v=c.prototype._convertLatLngs.call(this,d),x=v.length;return x>=2&&v[0]instanceof $e&&v[0].equals(v[x-1])&&v.pop(),v},_setLatLngs:function(d){c.prototype._setLatLngs.call(this,d),yr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,v=this.options.weight,x=new ze(v,v);if(d=new gt(d.min.subtract(x),d.max.add(x)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(d)){if(this.options.noClip)return void(this._parts=this._rings);for(var $,M=0,B=this._rings.length;M<B;M++)($=uo(this._rings[M],d,!0)).length&&this._parts.push($)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var x,M,B,$,ce,we,Ee,ge,v=!1;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for($=0,Ee=this._parts.length;$<Ee;$++)for(ce=0,we=(ge=(x=this._parts[$]).length)-1;ce<ge;we=ce++)(M=x[ce]).y>d.y!=(B=x[we]).y>d.y&&d.x<(B.x-M.x)*(d.y-M.y)/(B.y-M.y)+M.x&&(v=!v);return v||c.prototype._containsPoint.call(this,d,!0)}});var m=Cr.extend({initialize:function(d,v){fe(this,v),this._layers={},d&&this.addData(d)},addData:function(d){var x,M,B,v=Oe(d)?d:d.features;if(v){for(x=0,M=v.length;x<M;x++)((B=v[x]).geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var $=this.options;if($.filter&&!$.filter(d))return this;var ce=C(d,$);return ce?(ce.feature=Q(d),ce.defaultOptions=ce.options,this.resetStyle(ce),$.onEachFeature&&$.onEachFeature(d,ce),this.addLayer(ce)):this},resetStyle:function(d){return void 0===d?this.eachLayer(this.resetStyle,this):(d.options=re({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(v){this._setLayerStyle(v,d)},this)},_setLayerStyle:function(d,v){d.setStyle&&("function"==typeof v&&(v=v(d.feature)),d.setStyle(v))}});function C(d,v){var we,Ee,ge,Fe,x="Feature"===d.type?d.geometry:d,M=x?x.coordinates:null,B=[],$=v&&v.pointToLayer,ce=v&&v.coordsToLatLng||I;if(!M&&!x)return null;switch(x.type){case"Point":return w($,d,we=ce(M),v);case"MultiPoint":for(ge=0,Fe=M.length;ge<Fe;ge++)we=ce(M[ge]),B.push(w($,d,we,v));return new Cr(B);case"LineString":case"MultiLineString":return Ee=S(M,"LineString"===x.type?0:1,ce),new c(Ee,v);case"Polygon":case"MultiPolygon":return Ee=S(M,"Polygon"===x.type?1:2,ce),new f(Ee,v);case"GeometryCollection":for(ge=0,Fe=x.geometries.length;ge<Fe;ge++){var _t=C({geometry:x.geometries[ge],type:"Feature",properties:d.properties},v);_t&&B.push(_t)}return new Cr(B);case"FeatureCollection":for(ge=0,Fe=x.features.length;ge<Fe;ge++){var Ut=C(x.features[ge],v);Ut&&B.push(Ut)}return new Cr(B);default:throw new Error("Invalid GeoJSON object.")}}function w(d,v,x,M){return d?d(v,x):new fi(x,M&&M.markersInheritOptions&&M)}function I(d){return new $e(d[1],d[0],d[2])}function S(d,v,x){for(var ce,M=[],B=0,$=d.length;B<$;B++)ce=v?S(d[B],v-1,x):(x||I)(d[B]),M.push(ce);return M}function O(d,v){return void 0!==(d=Pe(d)).alt?[ae(d.lng,v),ae(d.lat,v),ae(d.alt,v)]:[ae(d.lng,v),ae(d.lat,v)]}function H(d,v,x,M){for(var B=[],$=0,ce=d.length;$<ce;$++)B.push(v?H(d[$],yr(d[$])?0:v-1,x,M):O(d[$],M));return!v&&x&&B.length>0&&B.push(B[0].slice()),B}function W(d,v){return d.feature?re({},d.feature,{geometry:v}):Q(v)}function Q(d){return"Feature"===d.type||"FeatureCollection"===d.type?d:{type:"Feature",properties:{},geometry:d}}var se={toGeoJSON:function(d){return W(this,{type:"Point",coordinates:O(this.getLatLng(),d)})}};function he(d,v){return new m(d,v)}fi.include(se),po.include(se),Bo.include(se),c.include({toGeoJSON:function(d){var v=!yr(this._latlngs);return W(this,{type:(v?"Multi":"")+"LineString",coordinates:H(this._latlngs,v?1:0,!1,d)})}}),f.include({toGeoJSON:function(d){var v=!yr(this._latlngs),x=v&&!yr(this._latlngs[0]),M=H(this._latlngs,x?2:v?1:0,!0,d);return v||(M=[M]),W(this,{type:(x?"Multi":"")+"Polygon",coordinates:M})}}),Ki.include({toMultiPoint:function(d){var v=[];return this.eachLayer(function(x){v.push(x.toGeoJSON(d).geometry.coordinates)}),W(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(d){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===v)return this.toMultiPoint(d);var x="GeometryCollection"===v,M=[];return this.eachLayer(function(B){if(B.toGeoJSON){var $=B.toGeoJSON(d);if(x)M.push($.geometry);else{var ce=Q($);"FeatureCollection"===ce.type?M.push.apply(M,ce.features):M.push(ce)}}}),x?W(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});var ve=he,Ie=ur.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,v,x){this._url=d,this._bounds=ct(v),fe(this,x)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&Vn(this._image),this},bringToBack:function(){return this._map&&di(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=ct(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d="IMG"===this._url.tagName,v=this._image=d?this._url:an("img");xt(v,"leaflet-image-layer"),this._zoomAnimated&&xt(v,"leaflet-zoom-animated"),this.options.className&&xt(v,this.options.className),v.onselectstart=Z,v.onmousemove=Z,v.onload=P(this.fire,this,"load"),v.onerror=P(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d?this._url=v.src:(v.src=this._url,v.alt=this.options.alt)},_animateZoom:function(d){var v=this._map.getZoomScale(d.zoom),x=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;K(this._image,x,v)},_reset:function(){var d=this._image,v=new gt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),x=v.getSize();ot(d,v.min),d.style.width=x.x+"px",d.style.height=x.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),it=Ie.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d="VIDEO"===this._url.tagName,v=this._image=d?this._url:an("video");if(xt(v,"leaflet-image-layer"),this._zoomAnimated&&xt(v,"leaflet-zoom-animated"),this.options.className&&xt(v,this.options.className),v.onselectstart=Z,v.onmousemove=Z,v.onloadeddata=P(this.fire,this,"load"),d){for(var x=v.getElementsByTagName("source"),M=[],B=0;B<x.length;B++)M.push(x[B].src);this._url=x.length>0?M:[v.src]}else{Oe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var $=0;$<this._url.length;$++){var ce=an("source");ce.src=this._url[$],v.appendChild(ce)}}}});var cn=Ie.extend({_initImage:function(){var d=this._image=this._url;xt(d,"leaflet-image-layer"),this._zoomAnimated&&xt(d,"leaflet-zoom-animated"),this.options.className&&xt(d,this.options.className),d.onselectstart=Z,d.onmousemove=Z}});var nr=ur.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,v){d&&(d instanceof $e||Oe(d))?(this._latlng=Pe(d),fe(this,v)):(fe(this,d),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(d){return(d=arguments.length?d:this._source._map).hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(P(Pn,void 0,this._container),200)):Pn(this._container),this.options.interactive&&(Zn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Pe(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vn(this._container),this},bringToBack:function(){return this._map&&di(this._container),this},_prepareOpen:function(d){var v=this._source;if(!v._map)return!1;if(v instanceof Cr){v=null;var x=this._source._layers;for(var M in x)if(x[M]._map){v=x[M];break}if(!v)return!1;this._source=v}if(!d)if(v.getCenter)d=v.getCenter();else if(v.getLatLng)d=v.getLatLng();else{if(!v.getBounds)throw new Error("Unable to get source layer LatLng.");d=v.getBounds().getCenter()}return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,v="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof v)d.innerHTML=v;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),v=Ae(this.options.offset),x=this._getAnchor();this._zoomAnimated?ot(this._container,d.add(x)):v=v.add(d).add(x);var M=this._containerBottom=-v.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=M+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});rn.include({_initOverlay:function(d,v,x,M){var B=v;return B instanceof d||(B=new d(M).setContent(v)),x&&B.setLatLng(x),B}}),ur.include({_initOverlay:function(d,v,x,M){var B=x;return B instanceof d?(fe(B,M),B._source=this):(B=v&&!M?v:new d(M,this)).setContent(x),B}});var Hr=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return!(d=arguments.length?d:this._source._map).hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,nr.prototype.openOn.call(this,d)},onAdd:function(d){nr.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ji||this._source.on("preclick",Xi))},onRemove:function(d){nr.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ji||this._source.off("preclick",Xi))},getEvents:function(){var d=nr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",v=this._container=an("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),x=this._wrapper=an("div",d+"-content-wrapper",v);if(this._contentNode=an("div",d+"-content",x),Ci(v),ha(this._contentNode),bt(v,"contextmenu",Xi),this._tipContainer=an("div",d+"-tip-container",v),this._tip=an("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=an("a",d+"-close-button",v);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',bt(M,"click",function(B){_r(B),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,v=d.style;v.width="",v.whiteSpace="nowrap";var x=d.offsetWidth;x=Math.min(x,this.options.maxWidth),x=Math.max(x,this.options.minWidth),v.width=x+1+"px",v.whiteSpace="",v.height="";var B=this.options.maxHeight,$="leaflet-popup-scrolled";B&&d.offsetHeight>B?(v.height=B+"px",xt(d,$)):Zn(d,$),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),x=this._getAnchor();ot(this._container,v.add(x))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var d=this._map,v=parseInt(Je(this._container,"marginBottom"),10)||0,x=this._container.offsetHeight+v,M=this._containerWidth,B=new ze(this._containerLeft,-x-this._containerBottom);B._add(bn(this._container));var $=d.layerPointToContainerPoint(B),ce=Ae(this.options.autoPanPadding),we=Ae(this.options.autoPanPaddingTopLeft||ce),Ee=Ae(this.options.autoPanPaddingBottomRight||ce),ge=d.getSize(),Fe=0,_t=0;$.x+M+Ee.x>ge.x&&(Fe=$.x+M-ge.x+Ee.x),$.x-Fe-we.x<0&&(Fe=$.x-we.x),$.y+x+Ee.y>ge.y&&(_t=$.y+x-ge.y+Ee.y),$.y-_t-we.y<0&&(_t=$.y-we.y),(Fe||_t)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Fe,_t]))}},_getAnchor:function(){return Ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});rn.mergeOptions({closePopupOnClick:!0}),rn.include({openPopup:function(d,v,x){return this._initOverlay(Hr,d,v,x).openOn(this),this},closePopup:function(d){return(d=arguments.length?d:this._popup)&&d.close(),this}}),ur.include({bindPopup:function(d,v){return this._popup=this._initOverlay(Hr,this._popup,d,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Cr||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(this._popup&&this._map){Tr(d);var v=d.layer||d.target;if(this._popup._source===v&&!(v instanceof Ji))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng));this._popup._source=v,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){13===d.originalEvent.keyCode&&this._openPopup(d)}});var En=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){nr.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){nr.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=nr.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){this._contentNode=this._container=an("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+z(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var v,x,M=this._map,B=this._container,$=M.latLngToContainerPoint(M.getCenter()),ce=M.layerPointToContainerPoint(d),we=this.options.direction,Ee=B.offsetWidth,ge=B.offsetHeight,Fe=Ae(this.options.offset),_t=this._getAnchor();"top"===we?(v=Ee/2,x=ge):"bottom"===we?(v=Ee/2,x=0):"center"===we?(v=Ee/2,x=ge/2):"right"===we?(v=0,x=ge/2):"left"===we?(v=Ee,x=ge/2):ce.x<$.x?(we="right",v=0,x=ge/2):(we="left",v=Ee+2*(Fe.x+_t.x),x=ge/2),d=d.subtract(Ae(v,x,!0)).add(Fe).add(_t),Zn(B,"leaflet-tooltip-right"),Zn(B,"leaflet-tooltip-left"),Zn(B,"leaflet-tooltip-top"),Zn(B,"leaflet-tooltip-bottom"),xt(B,"leaflet-tooltip-"+we),ot(B,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&tn(this._container,d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(v)},_getAnchor:function(){return Ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});rn.include({openTooltip:function(d,v,x){return this._initOverlay(En,d,v,x).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),ur.include({bindTooltip:function(d,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(En,this._tooltip,d,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(d||!this._tooltipHandlersAdded){var v=d?"off":"on",x={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?x.add=this._openTooltip:(x.mouseover=this._openTooltip,x.mouseout=this.closeTooltip,x.click=this._openTooltip,this._map?this._addFocusListeners():x.add=this._addFocusListeners),this._tooltip.options.sticky&&(x.mousemove=this._moveTooltip),this[v](x),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Cr||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var v="function"==typeof d.getElement&&d.getElement();v&&(bt(v,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),bt(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var v="function"==typeof d.getElement&&d.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;return void this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(d)})}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var x,M,v=d.latlng;this._tooltip.options.sticky&&d.originalEvent&&(x=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(x),v=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(v)}});var ii=cs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var v=d&&"DIV"===d.tagName?d:document.createElement("div"),x=this.options;if(x.html instanceof Element?(ar(v),v.appendChild(x.html)):v.innerHTML=!1!==x.html?x.html:"",x.bgPos){var M=Ae(x.bgPos);v.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});cs.Default=va;var pi=ur.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){fe(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Pn(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=q(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ze?d:new ze(d,d)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var $,v=this.getPane().children,x=-d(-1/0,1/0),M=0,B=v.length;M<B;M++)$=v[M].style.zIndex,v[M]!==this._container&&$&&(x=d(x,+$));isFinite(x)&&(this.options.zIndex=x+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){tn(this._container,this.options.opacity);var d=+new Date,v=!1,x=!1;for(var M in this._tiles){var B=this._tiles[M];if(B.current&&B.loaded){var $=Math.min(1,(d-B.loaded)/200);tn(B.el,$),$<1?v=!0:(B.active?x=!0:this._onOpaqueTile(B),B.active=!0)}}x&&!this._noPrune&&this._pruneTiles(),v&&(X(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:Z,_initContainer:function(){this._container||(this._container=an("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,v=this.options.maxZoom;if(void 0!==d){for(var x in this._levels)x=Number(x),this._levels[x].el.children.length||x===d?(this._levels[x].el.style.zIndex=v-Math.abs(d-x),this._onUpdateLevel(x)):(Pn(this._levels[x].el),this._removeTilesAtZoom(x),this._onRemoveLevel(x),delete this._levels[x]);var M=this._levels[d],B=this._map;return M||((M=this._levels[d]={}).el=an("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=v,M.origin=B.project(B.unproject(B.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,B.getCenter(),B.getZoom()),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:Z,_onRemoveLevel:Z,_onCreateLevel:Z,_pruneTiles:function(){if(this._map){var d,v,x=this._map.getZoom();if(x>this.options.maxZoom||x<this.options.minZoom)return void this._removeAllTiles();for(d in this._tiles)(v=this._tiles[d]).retain=v.current;for(d in this._tiles)if((v=this._tiles[d]).current&&!v.active){var M=v.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var v in this._tiles)this._tiles[v].coords.z===d&&this._removeTile(v)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Pn(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,v,x,M){var B=Math.floor(d/2),$=Math.floor(v/2),ce=x-1,we=new ze(+B,+$);we.z=+ce;var Ee=this._tileCoordsToKey(we),ge=this._tiles[Ee];return ge&&ge.active?(ge.retain=!0,!0):(ge&&ge.loaded&&(ge.retain=!0),ce>M&&this._retainParent(B,$,ce,M))},_retainChildren:function(d,v,x,M){for(var B=2*d;B<2*d+2;B++)for(var $=2*v;$<2*v+2;$++){var ce=new ze(B,$);ce.z=x+1;var we=this._tileCoordsToKey(ce),Ee=this._tiles[we];Ee&&Ee.active?Ee.retain=!0:(Ee&&Ee.loaded&&(Ee.retain=!0),x+1<M&&this._retainChildren(B,$,x+1,M))}},_resetView:function(d){var v=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var v=this.options;return void 0!==v.minNativeZoom&&d<v.minNativeZoom?v.minNativeZoom:void 0!==v.maxNativeZoom&&v.maxNativeZoom<d?v.maxNativeZoom:d},_setView:function(d,v,x,M){var B=Math.round(v);B=void 0!==this.options.maxZoom&&B>this.options.maxZoom||void 0!==this.options.minZoom&&B<this.options.minZoom?void 0:this._clampZoom(B),(!M||this.options.updateWhenZooming&&B!==this._tileZoom)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==B&&this._update(d),x||this._pruneTiles(),this._noPrune=!!x),this._setZoomTransforms(d,v)},_setZoomTransforms:function(d,v){for(var x in this._levels)this._setZoomTransform(this._levels[x],d,v)},_setZoomTransform:function(d,v,x){var M=this._map.getZoomScale(x,d.zoom),B=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(v,x)).round();Ct.any3d?K(d.el,B,M):ot(d.el,B)},_resetGrid:function(){var d=this._map,v=d.options.crs,x=this._tileSize=this.getTileSize(),M=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,v.wrapLng[0]],M).x/x.x),Math.ceil(d.project([0,v.wrapLng[1]],M).x/x.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([v.wrapLat[0],0],M).y/x.x),Math.ceil(d.project([v.wrapLat[1],0],M).y/x.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var v=this._map,x=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),M=v.getZoomScale(x,this._tileZoom),B=v.project(d,this._tileZoom).floor(),$=v.getSize().divideBy(2*M);return new gt(B.subtract($),B.add($))},_update:function(d){var v=this._map;if(v){var x=this._clampZoom(v.getZoom());if(void 0===d&&(d=v.getCenter()),void 0!==this._tileZoom){var M=this._getTiledPixelBounds(d),B=this._pxBoundsToTileRange(M),$=B.getCenter(),ce=[],we=this.options.keepBuffer,Ee=new gt(B.getBottomLeft().subtract([we,-we]),B.getTopRight().add([we,-we]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ge in this._tiles){var Fe=this._tiles[ge].coords;(Fe.z!==this._tileZoom||!Ee.contains(new ze(Fe.x,Fe.y)))&&(this._tiles[ge].current=!1)}if(Math.abs(x-this._tileZoom)>1)return void this._setView(d,x);for(var _t=B.min.y;_t<=B.max.y;_t++)for(var Ut=B.min.x;Ut<=B.max.x;Ut++){var Nn=new ze(Ut,_t);if(Nn.z=this._tileZoom,this._isValidTile(Nn)){var In=this._tiles[this._tileCoordsToKey(Nn)];In?In.current=!0:ce.push(Nn)}}if(ce.sort(function(sn,Hn){return sn.distanceTo($)-Hn.distanceTo($)}),0!==ce.length){this._loading||(this._loading=!0,this.fire("loading"));var Gr=document.createDocumentFragment();for(Ut=0;Ut<ce.length;Ut++)this._addTile(ce[Ut],Gr);this._level.el.appendChild(Gr)}}}},_isValidTile:function(d){var v=this._map.options.crs;if(!v.infinite){var x=this._globalTileRange;if(!v.wrapLng&&(d.x<x.min.x||d.x>x.max.x)||!v.wrapLat&&(d.y<x.min.y||d.y>x.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return ct(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var v=this._map,x=this.getTileSize(),M=d.scaleBy(x),B=M.add(x);return[v.unproject(M,d.z),v.unproject(B,d.z)]},_tileCoordsToBounds:function(d){var v=this._tileCoordsToNwSe(d),x=new Gt(v[0],v[1]);return this.options.noWrap||(x=this._map.wrapLatLngBounds(x)),x},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var v=d.split(":"),x=new ze(+v[0],+v[1]);return x.z=+v[2],x},_removeTile:function(d){var v=this._tiles[d];v&&(Pn(v.el),delete this._tiles[d],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xt(d,"leaflet-tile");var v=this.getTileSize();d.style.width=v.x+"px",d.style.height=v.y+"px",d.onselectstart=Z,d.onmousemove=Z,Ct.ielt9&&this.options.opacity<1&&tn(d,this.options.opacity)},_addTile:function(d,v){var x=this._getTilePos(d),M=this._tileCoordsToKey(d),B=this.createTile(this._wrapCoords(d),P(this._tileReady,this,d));this._initTile(B),this.createTile.length<2&&ee(P(this._tileReady,this,d,null,B)),ot(B,x),this._tiles[M]={el:B,coords:d,current:!0},v.appendChild(B),this.fire("tileloadstart",{tile:B,coords:d})},_tileReady:function(d,v,x){v&&this.fire("tileerror",{error:v,tile:x,coords:d});var M=this._tileCoordsToKey(d);(x=this._tiles[M])&&(x.loaded=+new Date,this._map._fadeAnimated?(tn(x.el,0),X(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(x.active=!0,this._pruneTiles()),v||(xt(x.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:x.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(P(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var v=new ze(this._wrapX?ne(d.x,this._wrapX):d.x,this._wrapY?ne(d.y,this._wrapY):d.y);return v.z=d.z,v},_pxBoundsToTileRange:function(d){var v=this.getTileSize();return new gt(d.min.unscaleBy(v).floor(),d.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});var mo=pi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,v){this._url=d,(v=fe(this,v)).detectRetina&&Ct.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),"string"==typeof v.subdomains&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,v){return this._url===d&&void 0===v&&(v=!0),this._url=d,v||this.redraw(),this},createTile:function(d,v){var x=document.createElement("img");return bt(x,"load",P(this._tileOnLoad,this,v,x)),bt(x,"error",P(this._tileOnError,this,v,x)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(x.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(x.referrerPolicy=this.options.referrerPolicy),x.alt="",x.src=this.getTileUrl(d),x},getTileUrl:function(d){var v={r:Ct.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var x=this._globalTileRange.max.y-d.y;this.options.tms&&(v.y=x),v["-y"]=x}return at(this._url,re(v,this.options))},_tileOnLoad:function(d,v){Ct.ielt9?setTimeout(P(d,this,null,v),0):d(null,v)},_tileOnError:function(d,v,x){var M=this.options.errorTileUrl;M&&v.getAttribute("src")!==M&&(v.src=M),d(x,v)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom;return this.options.zoomReverse&&(d=this.options.maxZoom-d),d+this.options.zoomOffset},_getSubdomain:function(d){var v=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var d,v;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&((v=this._tiles[d].el).onload=Z,v.onerror=Z,!v.complete)){v.src=ut;var x=this._tiles[d].coords;Pn(v),delete this._tiles[d],this.fire("tileabort",{tile:v,coords:x})}},_removeTile:function(d){var v=this._tiles[d];if(v)return v.el.setAttribute("src",ut),pi.prototype._removeTile.call(this,d)},_tileReady:function(d,v,x){if(this._map&&(!x||x.getAttribute("src")!==ut))return pi.prototype._tileReady.call(this,d,v,x)}});function Gc(d,v){return new mo(d,v)}var Ri=mo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,v){this._url=d;var x=re({},this.defaultWmsParams);for(var M in v)M in this.options||(x[M]=v[M]);var B=(v=fe(this,v)).detectRetina&&Ct.retina?2:1,$=this.getTileSize();x.width=$.x*B,x.height=$.y*B,this.wmsParams=x},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,mo.prototype.onAdd.call(this,d)},getTileUrl:function(d){var v=this._tileCoordsToNwSe(d),x=this._crs,M=qe(x.project(v[0]),x.project(v[1])),B=M.min,$=M.max,ce=(this._wmsVersion>=1.3&&this._crs===Fo?[B.y,B.x,$.y,$.x]:[B.x,B.y,$.x,$.y]).join(","),we=mo.prototype.getTileUrl.call(this,d);return we+Re(this.wmsParams,we,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ce},setParams:function(d,v){return re(this.wmsParams,d),v||this.redraw(),this}});mo.WMS=Ri,Gc.wms=function Ja(d,v){return new Ri(d,v)};var _o=ur.extend({options:{padding:.1},initialize:function(d){fe(this,d),z(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,v){var x=this._map.getZoomScale(v,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,v),$=M.multiplyBy(-x).add(B).subtract(this._map._getNewPixelOrigin(d,v));Ct.any3d?K(this._container,$,x):ot(this._container,$)},_reset:function(){for(var d in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,v=this._map.getSize(),x=this._map.containerPointToLayerPoint(v.multiplyBy(-d)).round();this._bounds=new gt(x,x.add(v.multiplyBy(1+2*d)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),hf=_o.extend({options:{tolerance:0},getEvents:function(){var d=_o.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_o.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");bt(d,"mousemove",this._onMouseMove,this),bt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Pn(this._container),lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var v in this._redrawBounds=null,this._layers)this._layers[v]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){_o.prototype._update.call(this);var d=this._bounds,v=this._container,x=d.getSize(),M=Ct.retina?2:1;ot(v,d.min),v.width=M*x.x,v.height=M*x.y,v.style.width=x.x+"px",v.style.height=x.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){_o.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[z(d)]=d;var v=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var v=d._order,x=v.next,M=v.prev;x?x.prev=M:this._drawLast=M,M?M.next=x:this._drawFirst=x,delete d._order,delete this._layers[z(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if("string"==typeof d.options.dashArray){var M,B,v=d.options.dashArray.split(/[, ]+/),x=[];for(B=0;B<v.length;B++){if(M=Number(v[B]),isNaN(M))return;x.push(M)}d.options._dashArray=x}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var v=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new gt,this._redrawBounds.extend(d._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(d._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var v=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,v=this._redrawBounds;if(this._ctx.save(),v){var x=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,x.x,x.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!v||d._pxBounds&&d._pxBounds.intersects(v))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,v){if(this._drawing){var x,M,B,$,ce=d._parts,we=ce.length,Ee=this._ctx;if(we){for(Ee.beginPath(),x=0;x<we;x++){for(M=0,B=ce[x].length;M<B;M++)Ee[M?"lineTo":"moveTo"](($=ce[x][M]).x,$.y);v&&Ee.closePath()}this._fillStroke(Ee,d)}}},_updateCircle:function(d){if(this._drawing&&!d._empty()){var v=d._point,x=this._ctx,M=Math.max(Math.round(d._radius),1),B=(Math.max(Math.round(d._radiusY),1)||M)/M;1!==B&&(x.save(),x.scale(1,B)),x.beginPath(),x.arc(v.x,v.y/B,M,0,2*Math.PI,!1),1!==B&&x.restore(),this._fillStroke(x,d)}},_fillStroke:function(d,v){var x=v.options;x.fill&&(d.globalAlpha=x.fillOpacity,d.fillStyle=x.fillColor||x.color,d.fill(x.fillRule||"evenodd")),x.stroke&&0!==x.weight&&(d.setLineDash&&d.setLineDash(v.options&&v.options._dashArray||[]),d.globalAlpha=x.opacity,d.lineWidth=x.weight,d.strokeStyle=x.color,d.lineCap=x.lineCap,d.lineJoin=x.lineJoin,d.stroke())},_onClick:function(d){for(var x,M,v=this._map.mouseEventToLayerPoint(d),B=this._drawFirst;B;B=B.next)(x=B.layer).options.interactive&&x._containsPoint(v)&&("click"!==d.type&&"preclick"!==d.type||!this._map._draggableMoved(x))&&(M=x);this._fireEvent(!!M&&[M],d)},_onMouseMove:function(d){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var v=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,v)}},_handleMouseOut:function(d){var v=this._hoveredLayer;v&&(Zn(this._container,"leaflet-interactive"),this._fireEvent([v],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,v){if(!this._mouseHoverThrottled){for(var x,M,B=this._drawFirst;B;B=B.next)(x=B.layer).options.interactive&&x._containsPoint(v)&&(M=x);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(xt(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],d),this._mouseHoverThrottled=!0,setTimeout(P(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,v,x){this._map._fireDOMEvent(v,x||v.type,d)},_bringToFront:function(d){var v=d._order;if(v){var x=v.next,M=v.prev;if(!x)return;x.prev=M,M?M.next=x:x&&(this._drawFirst=x),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(d)}},_bringToBack:function(d){var v=d._order;if(v){var x=v.next,M=v.prev;if(!M)return;M.next=x,x?x.prev=M:M&&(this._drawLast=M),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(d)}}});function ff(d){return Ct.canvas?new hf(d):null}var ec=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),tc={_initContainer:function(){this._container=an("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_o.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var v=d._container=ec("shape");xt(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",d._path=ec("path"),v.appendChild(d._path),this._updateStyle(d),this._layers[z(d)]=d},_addPath:function(d){var v=d._container;this._container.appendChild(v),d.options.interactive&&d.addInteractiveTarget(v)},_removePath:function(d){var v=d._container;Pn(v),d.removeInteractiveTarget(v),delete this._layers[z(d)]},_updateStyle:function(d){var v=d._stroke,x=d._fill,M=d.options,B=d._container;B.stroked=!!M.stroke,B.filled=!!M.fill,M.stroke?(v||(v=d._stroke=ec("stroke")),B.appendChild(v),v.weight=M.weight+"px",v.color=M.color,v.opacity=M.opacity,v.dashStyle=M.dashArray?Oe(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):"",v.endcap=M.lineCap.replace("butt","flat"),v.joinstyle=M.lineJoin):v&&(B.removeChild(v),d._stroke=null),M.fill?(x||(x=d._fill=ec("fill")),B.appendChild(x),x.color=M.fillColor||M.color,x.opacity=M.fillOpacity):x&&(B.removeChild(x),d._fill=null)},_updateCircle:function(d){var v=d._point.round(),x=Math.round(d._radius),M=Math.round(d._radiusY||x);this._setPath(d,d._empty()?"M0 0":"AL "+v.x+","+v.y+" "+x+","+M+" 0,23592600")},_setPath:function(d,v){d._path.v=v},_bringToFront:function(d){Vn(d._container)},_bringToBack:function(d){di(d._container)}},Kl=Ct.vml?ec:xn,$c=_o.extend({_initContainer:function(){this._container=Kl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Kl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pn(this._container),lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){_o.prototype._update.call(this);var d=this._bounds,v=d.getSize(),x=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,x.setAttribute("width",v.x),x.setAttribute("height",v.y)),ot(x,d.min),x.setAttribute("viewBox",[d.min.x,d.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(d){var v=d._path=Kl("path");d.options.className&&xt(v,d.options.className),d.options.interactive&&xt(v,"leaflet-interactive"),this._updateStyle(d),this._layers[z(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Pn(d._path),d.removeInteractiveTarget(d._path),delete this._layers[z(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var v=d._path,x=d.options;v&&(x.stroke?(v.setAttribute("stroke",x.color),v.setAttribute("stroke-opacity",x.opacity),v.setAttribute("stroke-width",x.weight),v.setAttribute("stroke-linecap",x.lineCap),v.setAttribute("stroke-linejoin",x.lineJoin),x.dashArray?v.setAttribute("stroke-dasharray",x.dashArray):v.removeAttribute("stroke-dasharray"),x.dashOffset?v.setAttribute("stroke-dashoffset",x.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),x.fill?(v.setAttribute("fill",x.fillColor||x.color),v.setAttribute("fill-opacity",x.fillOpacity),v.setAttribute("fill-rule",x.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(d,v){this._setPath(d,pn(d._parts,v))},_updateCircle:function(d){var v=d._point,x=Math.max(Math.round(d._radius),1),B="a"+x+","+(Math.max(Math.round(d._radiusY),1)||x)+" 0 1,0 ",$=d._empty()?"M0 0":"M"+(v.x-x)+","+v.y+B+2*x+",0 "+B+2*-x+",0 ";this._setPath(d,$)},_setPath:function(d,v){d._path.setAttribute("d",v)},_bringToFront:function(d){Vn(d._path)},_bringToBack:function(d){di(d._path)}});function pf(d){return Ct.svg||Ct.vml?new $c(d):null}Ct.vml&&$c.include(tc),rn.include({getRenderer:function(d){var v=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(d){if("overlayPane"===d||void 0===d)return!1;var v=this._paneRenderers[d];return void 0===v&&(v=this._createRenderer({pane:d}),this._paneRenderers[d]=v),v},_createRenderer:function(d){return this.options.preferCanvas&&ff(d)||pf(d)}});var ya=f.extend({initialize:function(d,v){f.prototype.initialize.call(this,this._boundsToLatLngs(d),v)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return[(d=ct(d)).getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});$c.create=Kl,$c.pointsToPath=pn,m.geometryToLayer=C,m.coordsToLatLng=I,m.coordsToLatLngs=S,m.latLngToCoords=O,m.latLngsToCoords=H,m.getFeature=W,m.asFeature=Q,rn.mergeOptions({boxZoom:!0});var Wc=Fr.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||1!==d.which&&1!==d.button)return!1;this._clearDeferredResetState(),this._resetState(),mr(),At(),this._startPoint=this._map.mouseEventToContainerPoint(d),bt(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=an("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var v=new gt(this._point,this._startPoint),x=v.getSize();ot(this._box,v.min),this._box.style.width=x.x+"px",this._box.style.height=x.y+"px"},_finish:function(){this._moved&&(Pn(this._box),Zn(this._container,"leaflet-crosshair")),Ts(),da(),lt(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if((1===d.which||1===d.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(P(this._resetState,this),0);var v=new Gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(d){27===d.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});rn.addInitHook("addHandler","boxZoom",Wc),rn.mergeOptions({doubleClickZoom:!0});var ks=Fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var v=this._map,x=v.getZoom(),M=v.options.zoomDelta,B=d.originalEvent.shiftKey?x-M:x+M;"center"===v.options.doubleClickZoom?v.setZoom(B):v.setZoomAround(d.containerPoint,B)}});rn.addInitHook("addHandler","doubleClickZoom",ks),rn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ca=Fr.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ei(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Zn(this._map._container,"leaflet-grab"),Zn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=ct(this._map.options.maxBounds);this._offsetLimit=qe(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var v=this._lastTime=+new Date,x=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(x),this._times.push(v),this._prunePositions(v)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,v){return d-(d-v)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var d=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;d.x<v.min.x&&(d.x=this._viscousLimit(d.x,v.min.x)),d.y<v.min.y&&(d.y=this._viscousLimit(d.y,v.min.y)),d.x>v.max.x&&(d.x=this._viscousLimit(d.x,v.max.x)),d.y>v.max.y&&(d.y=this._viscousLimit(d.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,v=Math.round(d/2),x=this._initialWorldOffset,M=this._draggable._newPos.x,B=(M-v+x)%d+v-x,$=(M+v+x)%d-v-x,ce=Math.abs(B+x)<Math.abs($+x)?B:$;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ce},_onDragEnd:function(d){var v=this._map,x=v.options,M=!x.inertia||d.noInertia||this._times.length<2;if(v.fire("dragend",d),M)v.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),ce=x.easeLinearity,we=B.multiplyBy(ce/((this._lastTime-this._times[0])/1e3)),Ee=we.distanceTo([0,0]),ge=Math.min(x.inertiaMaxSpeed,Ee),Fe=we.multiplyBy(ge/Ee),_t=ge/(x.inertiaDeceleration*ce),Ut=Fe.multiplyBy(-_t/2).round();Ut.x||Ut.y?(Ut=v._limitOffset(Ut,v.options.maxBounds),ee(function(){v.panBy(Ut,{duration:_t,easeLinearity:ce,noMoveStart:!0,animate:!0})})):v.fire("moveend")}}});rn.addInitHook("addHandler","dragging",Ca),rn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gf=Fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),bt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,v=document.documentElement,x=d.scrollTop||v.scrollTop,M=d.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(M,x)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var M,B,v=this._panKeys={},x=this.keyCodes;for(M=0,B=x.left.length;M<B;M++)v[x.left[M]]=[-1*d,0];for(M=0,B=x.right.length;M<B;M++)v[x.right[M]]=[d,0];for(M=0,B=x.down.length;M<B;M++)v[x.down[M]]=[0,d];for(M=0,B=x.up.length;M<B;M++)v[x.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var M,B,v=this._zoomKeys={},x=this.keyCodes;for(M=0,B=x.zoomIn.length;M<B;M++)v[x.zoomIn[M]]=d;for(M=0,B=x.zoomOut.length;M<B;M++)v[x.zoomOut[M]]=-d},_addHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var M,v=d.keyCode,x=this._map;if(v in this._panKeys){if(!x._panAnim||!x._panAnim._inProgress)if(M=this._panKeys[v],d.shiftKey&&(M=Ae(M).multiplyBy(3)),x.options.maxBounds&&(M=x._limitOffset(Ae(M),x.options.maxBounds)),x.options.worldCopyJump){var B=x.wrapLatLng(x.unproject(x.project(x.getCenter()).add(M)));x.panTo(B)}else x.panBy(M)}else if(v in this._zoomKeys)x.setZoom(x.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[v]);else{if(27!==v||!x._popup||!x._popup.options.closeOnEscapeKey)return;x.closePopup()}Tr(d)}}});rn.addInitHook("addHandler","keyboard",gf),rn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xd=Fr.extend({addHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var v=Kn(d),x=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(x-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(P(this._performZoom,this),M),Tr(d)},_performZoom:function(){var d=this._map,v=d.getZoom(),x=this._map.options.zoomSnap||0;d._stop();var B=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,$=x?Math.ceil(B/x)*x:B,ce=d._limitZoom(v+(this._delta>0?$:-$))-v;this._delta=0,this._startTime=null,ce&&("center"===d.options.scrollWheelZoom?d.setZoom(v+ce):d.setZoomAround(this._lastMousePos,v+ce))}});rn.addInitHook("addHandler","scrollWheelZoom",xd);rn.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var Ps=Fr.extend({addHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),1===d.touches.length){var v=d.touches[0];this._startPos=this._newPos=new ze(v.clientX,v.clientY),this._holdTimeout=setTimeout(P(function(){this._cancel(),this._isTapValid()&&(bt(document,"touchend",_r),bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),600),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){lt(document,"touchend",_r),lt(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)},_onMove:function(d){var v=d.touches[0];this._newPos=new ze(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,v){var x=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});x._simulated=!0,v.target.dispatchEvent(x)}});rn.addInitHook("addHandler","tapHold",Ps),rn.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var bd=Fr.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Zn(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var v=this._map;if(d.touches&&2===d.touches.length&&!v._animatingZoom&&!this._zooming){var x=v.mouseEventToContainerPoint(d.touches[0]),M=v.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),"center"!==v.options.touchZoom&&(this._pinchStartLatLng=v.containerPointToLatLng(x.add(M)._divideBy(2))),this._startDist=x.distanceTo(M),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),_r(d)}},_onTouchMove:function(d){if(d.touches&&2===d.touches.length&&this._zooming){var v=this._map,x=v.mouseEventToContainerPoint(d.touches[0]),M=v.mouseEventToContainerPoint(d.touches[1]),B=x.distanceTo(M)/this._startDist;if(this._zoom=v.getScaleZoom(B,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&B<1||this._zoom>v.getMaxZoom()&&B>1)&&(this._zoom=v._limitZoom(this._zoom)),"center"===v.options.touchZoom){if(this._center=this._startLatLng,1===B)return}else{var $=x._add(M)._divideBy(2)._subtract(this._centerPoint);if(1===B&&0===$.x&&0===$.y)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract($),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var ce=P(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(ce,this,!0),_r(d)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,X(this._animRequest),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});rn.addInitHook("addHandler","touchZoom",bd),rn.BoxZoom=Wc,rn.DoubleClickZoom=ks,rn.Drag=Ca,rn.Keyboard=gf,rn.ScrollWheelZoom=xd,rn.TapHold=Ps,rn.TouchZoom=bd,G.Bounds=gt,G.Browser=Ct,G.CRS=Kt,G.Canvas=hf,G.Circle=po,G.CircleMarker=Bo,G.Class=pe,G.Control=wi,G.DivIcon=ii,G.DivOverlay=nr,G.DomEvent=ft,G.DomUtil=Fc,G.Draggable=Ei,G.Evented=Se,G.FeatureGroup=Cr,G.GeoJSON=m,G.GridLayer=pi,G.Handler=Fr,G.Icon=cs,G.ImageOverlay=Ie,G.LatLng=$e,G.LatLngBounds=Gt,G.Layer=ur,G.LayerGroup=Ki,G.LineUtil=_a,G.Map=rn,G.Marker=fi,G.Mixin=ga,G.Path=Ji,G.Point=ze,G.PolyUtil=Uc,G.Polygon=f,G.Polyline=c,G.Popup=Hr,G.PosAnimation=is,G.Projection=Lo,G.Rectangle=ya,G.Renderer=_o,G.SVG=$c,G.SVGOverlay=cn,G.TileLayer=mo,G.Tooltip=En,G.Transformation=Ht,G.Util=le,G.VideoOverlay=it,G.bind=P,G.bounds=qe,G.canvas=ff,G.circle=function A(d,v,x){return new po(d,v,x)},G.circleMarker=function wn(d,v){return new Bo(d,v)},G.control=os,G.divIcon=function go(d){return new ii(d)},G.extend=re,G.featureGroup=function(d,v){return new Cr(d,v)},G.geoJSON=he,G.geoJson=ve,G.gridLayer=function ql(d){return new pi(d)},G.icon=function jc(d){return new cs(d)},G.imageOverlay=function(d,v,x){return new Ie(d,v,x)},G.latLng=Pe,G.latLngBounds=ct,G.layerGroup=function(d,v){return new Ki(d,v)},G.map=function Os(d,v){return new rn(d,v)},G.marker=function zc(d,v){return new fi(d,v)},G.point=Ae,G.polygon=function g(d,v){return new f(d,v)},G.polyline=function l(d,v){return new c(d,v)},G.popup=function(d,v){return new Hr(d,v)},G.rectangle=function lm(d,v){return new ya(d,v)},G.setOptions=fe,G.stamp=z,G.svg=pf,G.svgOverlay=function zt(d,v,x){return new cn(d,v,x)},G.tileLayer=Gc,G.tooltip=function(d,v){return new En(d,v)},G.transformation=mt,G.version="1.9.4",G.videoOverlay=function Le(d,v,x){return new it(d,v,x)};var nc=window.L;G.noConflict=function(){return window.L=nc,this},window.L=G}(me)},5770:wt=>{for(var me="0123456789bcdefghjkmnpqrstuvwxyz",G={},o=0;o<32;o++)G[me.charAt(o)]=o;var N=-90,P=90,j=-180,z=180,q=[0,5,7,8,11,12,13,15,16,17,18],ne=function(Ne,ee,X){if("auto"===X){if("number"==typeof Ne||"number"==typeof ee)throw new Error("string notation required for auto precision.");var le=Ne.split(".")[1].length,pe=ee.split(".")[1].length,J=Math.max(le,pe);X=q[J]}else void 0===X&&(X=9);for(var ct,Te=[],Se=0,ze=0,ht=0,Ae=P,gt=N,qe=z,Gt=j;Te.length<X;)ze%2==0?ee>(ct=(qe+Gt)/2)?(ht=1+(ht<<1),Gt=ct):(ht=0+(ht<<1),qe=ct):Ne>(ct=(Ae+gt)/2)?(ht=1+(ht<<1),gt=ct):(ht=0+(ht<<1),Ae=ct),ze++,5==++Se&&(Te.push(me[ht]),Se=0,ht=0);return Te.join("")},Z=function(Ne,ee,X){X=X||52;for(var ze,le=0,pe=P,J=N,Te=z,Se=j,ht=0;le<X;)ht*=2,le%2==0?ee>(ze=(Te+Se)/2)?(ht+=1,Se=ze):Te=ze:Ne>(ze=(pe+J)/2)?(ht+=1,J=ze):pe=ze,le++;return ht},ae=function(Ne){for(var Te,ee=!0,X=P,le=N,pe=z,J=j,Se=0,ze=0,ht=Ne.length;ze<ht;ze++){var Ae=Ne[ze].toLowerCase();Se=G[Ae];for(var gt=4;gt>=0;gt--){var qe=Se>>gt&1;ee?(Te=(pe+J)/2,1===qe?J=Te:pe=Te):(Te=(X+le)/2,1===qe?le=Te:X=Te),ee=!ee}}return[le,J,X,pe]},te=function(Ne,ee){for(var X=P,le=N,pe=z,J=j,Se=0,ze=(ee=ee||52)/2,ht=0;ht<ze;ht++)Se=_e(Ne,2*(ze-ht)-1),0===_e(Ne,2*(ze-ht)-2)?X=(X+le)/2:le=(X+le)/2,0===Se?pe=(pe+J)/2:J=(pe+J)/2;return[le,J,X,pe]};function _e(Ne,ee){return Ne/Math.pow(2,ee)&1}var fe=function(Ne){var ee=ae(Ne),X=(ee[0]+ee[2])/2,le=(ee[1]+ee[3])/2;return{latitude:X,longitude:le,error:{latitude:ee[2]-X,longitude:ee[3]-le}}},Re=function(Ne,ee){var X=te(Ne,ee),le=(X[0]+X[2])/2,pe=(X[1]+X[3])/2;return{latitude:le,longitude:pe,error:{latitude:X[2]-le,longitude:X[3]-pe}}},Ve=function(Ne,ee){var X=fe(Ne),le=X.latitude+ee[0]*X.error.latitude*2,pe=X.longitude+ee[1]*X.error.longitude*2;return pe=ke(pe),le=We(le),ne(le,pe,Ne.length)},at=function(Ne,ee,X){var le=Re(Ne,X=X||52),pe=le.latitude+ee[0]*le.error.latitude*2,J=le.longitude+ee[1]*le.error.longitude*2;return J=ke(J),pe=We(pe),Z(pe,J,X)};function ke(Ne){return Ne>z?j+Ne%z:Ne<j?z+Ne%z:Ne}function We(Ne){return Ne>P?P:Ne<N?N:Ne}wt.exports={ENCODE_AUTO:"auto",encode:ne,encode_uint64:Z,encode_int:Z,decode:fe,decode_int:Re,decode_uint64:Re,decode_bbox:ae,decode_bbox_uint64:te,decode_bbox_int:te,neighbor:Ve,neighbor_int:at,neighbors:function(Ne){var Se,ze,ee=Ne.length,X=fe(Ne),le=X.latitude,pe=X.longitude,J=2*X.error.latitude,Te=2*X.error.longitude;function Ae(gt,qe){return Se=le+gt*J,ze=ke(ze=pe+qe*Te),Se=We(Se),ne(Se,ze,ee)}return[Ae(1,0),Ae(1,1),Ae(0,1),Ae(-1,1),Ae(-1,0),Ae(-1,-1),Ae(0,-1),Ae(1,-1)]},neighbors_int:function(Ne,ee){var Se,ze,X=Re(Ne,ee=ee||52),le=X.latitude,pe=X.longitude,J=2*X.error.latitude,Te=2*X.error.longitude;function Ae(gt,qe){return Se=le+gt*J,ze=ke(ze=pe+qe*Te),Se=We(Se),Z(Se,ze,ee)}return[Ae(1,0),Ae(1,1),Ae(0,1),Ae(-1,1),Ae(-1,0),Ae(-1,-1),Ae(0,-1),Ae(1,-1)]},bboxes:function(Ne,ee,X,le,pe){for(var J=ne(Ne,ee,pe=pe||9),Te=ne(X,le,pe),Se=fe(J),ze=2*Se.error.latitude,ht=2*Se.error.longitude,Ae=ae(J),gt=ae(Te),qe=Math.round((gt[0]-Ae[0])/ze),Gt=Math.round((gt[1]-Ae[1])/ht),ct=[],$e=0;$e<=qe;$e++)for(var Pe=0;Pe<=Gt;Pe++)ct.push(Ve(J,[$e,Pe]));return ct},bboxes_int:function(Ne,ee,X,le,pe){for(var J=Z(Ne,ee,pe=pe||52),Te=Z(X,le,pe),Se=Re(J,pe),ze=2*Se.error.latitude,ht=2*Se.error.longitude,Ae=te(J,pe),gt=te(Te,pe),qe=Math.round((gt[0]-Ae[0])/ze),Gt=Math.round((gt[1]-Ae[1])/ht),ct=[],$e=0;$e<=qe;$e++)for(var Pe=0;Pe<=Gt;Pe++)ct.push(at(J,[$e,Pe],pe));return ct}}},262:function(wt,me){var G,re;G=function N(){"use strict";var P=typeof self<"u"?self:typeof window<"u"?window:void 0!==P?P:{},j=!P.document&&!!P.postMessage,z=P.IS_PAPA_WORKER||!1,q={},ne=0,Z={parse:function(ee,X){var le=(X=X||{}).dynamicTyping||!1;if(Ne(le)&&(X.dynamicTypingFunction=le,le={}),X.dynamicTyping=le,X.transform=!!Ne(X.transform)&&X.transform,X.worker&&Z.WORKERS_SUPPORTED){var pe=function(){if(!Z.WORKERS_SUPPORTED)return!1;var ze,ht,Te=(ze=P.URL||P.webkitURL||null,ht=N.toString(),Z.BLOB_URL||(Z.BLOB_URL=ze.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ht,")();"],{type:"text/javascript"})))),Se=new P.Worker(Te);return Se.onmessage=ut,Se.id=ne++,q[Se.id]=Se}();return pe.userStep=X.step,pe.userChunk=X.chunk,pe.userComplete=X.complete,pe.userError=X.error,X.step=Ne(X.step),X.chunk=Ne(X.chunk),X.complete=Ne(X.complete),X.error=Ne(X.error),delete X.worker,void pe.postMessage({input:ee,config:X,workerId:pe.id})}var Te,J=null;return"string"==typeof ee?(ee=65279===(Te=ee).charCodeAt(0)?Te.slice(1):Te,J=X.download?new _e(X):new Re(X)):!0===ee.readable&&Ne(ee.read)&&Ne(ee.on)?J=new Ve(X):(P.File&&ee instanceof File||ee instanceof Object)&&(J=new fe(X)),J.stream(ee)},unparse:function(ee,X){var le=!1,pe=!0,J=",",Te="\r\n",Se='"',ze=Se+Se,ht=!1,Ae=null,gt=!1;!function(){if("object"==typeof X){if("string"!=typeof X.delimiter||Z.BAD_DELIMITERS.filter(function($e){return-1!==X.delimiter.indexOf($e)}).length||(J=X.delimiter),("boolean"==typeof X.quotes||"function"==typeof X.quotes||Array.isArray(X.quotes))&&(le=X.quotes),"boolean"!=typeof X.skipEmptyLines&&"string"!=typeof X.skipEmptyLines||(ht=X.skipEmptyLines),"string"==typeof X.newline&&(Te=X.newline),"string"==typeof X.quoteChar&&(Se=X.quoteChar),"boolean"==typeof X.header&&(pe=X.header),Array.isArray(X.columns)){if(0===X.columns.length)throw new Error("Option columns is empty");Ae=X.columns}void 0!==X.escapeChar&&(ze=X.escapeChar+Se),("boolean"==typeof X.escapeFormulae||X.escapeFormulae instanceof RegExp)&&(gt=X.escapeFormulae instanceof RegExp?X.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var qe=new RegExp(Oe(Se),"g");if("string"==typeof ee&&(ee=JSON.parse(ee)),Array.isArray(ee)){if(!ee.length||Array.isArray(ee[0]))return Gt(null,ee,ht);if("object"==typeof ee[0])return Gt(Ae||Object.keys(ee[0]),ee,ht)}else if("object"==typeof ee)return"string"==typeof ee.data&&(ee.data=JSON.parse(ee.data)),Array.isArray(ee.data)&&(ee.fields||(ee.fields=ee.meta&&ee.meta.fields||Ae),ee.fields||(ee.fields=Array.isArray(ee.data[0])?ee.fields:"object"==typeof ee.data[0]?Object.keys(ee.data[0]):[]),Array.isArray(ee.data[0])||"object"==typeof ee.data[0]||(ee.data=[ee.data])),Gt(ee.fields||[],ee.data||[],ht);throw new Error("Unable to serialize unrecognized input");function Gt($e,Pe,Kt){var Rt="";"string"==typeof $e&&($e=JSON.parse($e)),"string"==typeof Pe&&(Pe=JSON.parse(Pe));var Fn=Array.isArray($e)&&0<$e.length,fn=!Array.isArray(Pe[0]);if(Fn&&pe){for(var Ht=0;Ht<$e.length;Ht++)0<Ht&&(Rt+=J),Rt+=ct($e[Ht],Ht);0<Pe.length&&(Rt+=Te)}for(var mt=0;mt<Pe.length;mt++){var pt=Fn?$e.length:Pe[mt].length,An=!1,xn=Fn?0===Object.keys(Pe[mt]).length:0===Pe[mt].length;if(Kt&&!Fn&&(An="greedy"===Kt?""===Pe[mt].join("").trim():1===Pe[mt].length&&0===Pe[mt][0].length),"greedy"===Kt&&Fn){for(var pn=[],dn=0;dn<pt;dn++)pn.push(Pe[mt][fn?$e[dn]:dn]);An=""===pn.join("").trim()}if(!An){for(var Et=0;Et<pt;Et++)0<Et&&!xn&&(Rt+=J),Rt+=ct(Pe[mt][Fn&&fn?$e[Et]:Et],Et);mt<Pe.length-1&&(!Kt||0<pt&&!xn)&&(Rt+=Te)}}return Rt}function ct($e,Pe){if(null==$e)return"";if($e.constructor===Date)return JSON.stringify($e).slice(1,25);var Kt=!1;gt&&"string"==typeof $e&&gt.test($e)&&($e="'"+$e,Kt=!0);var Rt=$e.toString().replace(qe,ze);return(Kt=Kt||!0===le||"function"==typeof le&&le($e,Pe)||Array.isArray(le)&&le[Pe]||function(Fn,fn){for(var Ht=0;Ht<fn.length;Ht++)if(-1<Fn.indexOf(fn[Ht]))return!0;return!1}(Rt,Z.BAD_DELIMITERS)||-1<Rt.indexOf(J)||" "===Rt.charAt(0)||" "===Rt.charAt(Rt.length-1))?Se+Rt+Se:Rt}},RECORD_SEP:"\x1e",UNIT_SEP:"\x1f",BYTE_ORDER_MARK:"\ufeff"};if(Z.BAD_DELIMITERS=["\r","\n",'"',Z.BYTE_ORDER_MARK],Z.WORKERS_SUPPORTED=!j&&!!P.Worker,Z.NODE_STREAM_INPUT=1,Z.LocalChunkSize=10485760,Z.RemoteChunkSize=5242880,Z.DefaultDelimiter=",",Z.Parser=Ye,Z.ParserHandle=at,Z.NetworkStreamer=_e,Z.FileStreamer=fe,Z.StringStreamer=Re,Z.ReadableStreamStreamer=Ve,P.jQuery){var ae=P.jQuery;ae.fn.parse=function(ee){var X=ee.config||{},le=[];return this.each(function(Te){if("INPUT"!==ae(this).prop("tagName").toUpperCase()||"file"!==ae(this).attr("type").toLowerCase()||!P.FileReader||!this.files||0===this.files.length)return!0;for(var Se=0;Se<this.files.length;Se++)le.push({file:this.files[Se],inputElem:this,instanceConfig:ae.extend({},X)})}),pe(),this;function pe(){if(0!==le.length){var Se,ze,ht,Ae=le[0];if(Ne(ee.before)){var gt=ee.before(Ae.file,Ae.inputElem);if("object"==typeof gt){if("abort"===gt.action)return Se=Ae.file,ze=Ae.inputElem,ht=gt.reason,void(Ne(ee.error)&&ee.error({name:"AbortError"},Se,ze,ht));if("skip"===gt.action)return void J();"object"==typeof gt.config&&(Ae.instanceConfig=ae.extend(Ae.instanceConfig,gt.config))}else if("skip"===gt)return void J()}var qe=Ae.instanceConfig.complete;Ae.instanceConfig.complete=function(Gt){Ne(qe)&&qe(Gt,Ae.file,Ae.inputElem),J()},Z.parse(Ae.file,Ae.instanceConfig)}else Ne(ee.complete)&&ee.complete()}function J(){le.splice(0,1),pe()}}}function te(ee){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(X){var le=We(X);le.chunkSize=parseInt(le.chunkSize),X.step||X.chunk||(le.chunkSize=null),this._handle=new at(le),(this._handle.streamer=this)._config=le}.call(this,ee),this.parseChunk=function(X,le){if(this.isFirstChunk&&Ne(this._config.beforeFirstChunk)){var pe=this._config.beforeFirstChunk(X);void 0!==pe&&(X=pe)}this.isFirstChunk=!1,this._halted=!1;var J=this._partialLine+X;this._partialLine="";var Te=this._handle.parse(J,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Se=Te.meta.cursor;this._finished||(this._partialLine=J.substring(Se-this._baseIndex),this._baseIndex=Se),Te&&Te.data&&(this._rowCount+=Te.data.length);var ze=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(z)P.postMessage({results:Te,workerId:Z.WORKER_ID,finished:ze});else if(Ne(this._config.chunk)&&!le){if(this._config.chunk(Te,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Te=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Te.data),this._completeResults.errors=this._completeResults.errors.concat(Te.errors),this._completeResults.meta=Te.meta),this._completed||!ze||!Ne(this._config.complete)||Te&&Te.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),ze||Te&&Te.meta.paused||this._nextChunk(),Te}this._halted=!0},this._sendError=function(X){Ne(this._config.error)?this._config.error(X):z&&this._config.error&&P.postMessage({workerId:Z.WORKER_ID,error:X,finished:!1})}}function _e(ee){var X;(ee=ee||{}).chunkSize||(ee.chunkSize=Z.RemoteChunkSize),te.call(this,ee),this._nextChunk=j?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(le){this._input=le,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(X=new XMLHttpRequest,this._config.withCredentials&&(X.withCredentials=this._config.withCredentials),j||(X.onload=Ce(this._chunkLoaded,this),X.onerror=Ce(this._chunkError,this)),X.open(this._config.downloadRequestBody?"POST":"GET",this._input,!j),this._config.downloadRequestHeaders){var le=this._config.downloadRequestHeaders;for(var pe in le)X.setRequestHeader(pe,le[pe])}this._config.chunkSize&&X.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{X.send(this._config.downloadRequestBody)}catch(Te){this._chunkError(Te.message)}j&&0===X.status&&this._chunkError()}},this._chunkLoaded=function(){var pe;4===X.readyState&&(X.status<200||400<=X.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:X.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(pe=X.getResponseHeader("Content-Range"))?-1:parseInt(pe.substring(pe.lastIndexOf("/")+1))),this.parseChunk(X.responseText)))},this._chunkError=function(le){this._sendError(new Error(X.statusText||le))}}function fe(ee){var X,le;(ee=ee||{}).chunkSize||(ee.chunkSize=Z.LocalChunkSize),te.call(this,ee);var pe=typeof FileReader<"u";this.stream=function(J){this._input=J,le=J.slice||J.webkitSlice||J.mozSlice,pe?((X=new FileReader).onload=Ce(this._chunkLoaded,this),X.onerror=Ce(this._chunkError,this)):X=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var J=this._input;if(this._config.chunkSize){var Te=Math.min(this._start+this._config.chunkSize,this._input.size);J=le.call(J,this._start,Te)}var Se=X.readAsText(J,this._config.encoding);pe||this._chunkLoaded({target:{result:Se}})},this._chunkLoaded=function(J){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(J.target.result)},this._chunkError=function(){this._sendError(X.error)}}function Re(ee){var X;te.call(this,ee=ee||{}),this.stream=function(le){return X=le,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var le,pe=this._config.chunkSize;return pe?(le=X.substring(0,pe),X=X.substring(pe)):(le=X,X=""),this._finished=!X,this.parseChunk(le)}}}function Ve(ee){te.call(this,ee=ee||{});var X=[],le=!0,pe=!1;this.pause=function(){te.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){te.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(J){this._input=J,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){pe&&1===X.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),X.length?this.parseChunk(X.shift()):le=!0},this._streamData=Ce(function(J){try{X.push("string"==typeof J?J:J.toString(this._config.encoding)),le&&(le=!1,this._checkIsFinished(),this.parseChunk(X.shift()))}catch(Te){this._streamError(Te)}},this),this._streamError=Ce(function(J){this._streamCleanUp(),this._sendError(J)},this),this._streamEnd=Ce(function(){this._streamCleanUp(),pe=!0,this._streamData("")},this),this._streamCleanUp=Ce(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function at(ee){var X,le,pe,J=Math.pow(2,53),Te=-J,Se=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,ze=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ht=this,Ae=0,gt=0,qe=!1,Gt=!1,ct=[],$e={data:[],errors:[],meta:{}};if(Ne(ee.step)){var Pe=ee.step;ee.step=function(mt){if($e=mt,Fn())Rt();else{if(Rt(),0===$e.data.length)return;Ae+=mt.data.length,ee.preview&&Ae>ee.preview?le.abort():($e.data=$e.data[0],Pe($e,ht))}}}function Kt(mt){return"greedy"===ee.skipEmptyLines?""===mt.join("").trim():1===mt.length&&0===mt[0].length}function Rt(){return $e&&pe&&(Ht("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Z.DefaultDelimiter+"'"),pe=!1),ee.skipEmptyLines&&($e.data=$e.data.filter(function(mt){return!Kt(mt)})),Fn()&&function(){if($e)if(Array.isArray($e.data[0])){for(var pt=0;Fn()&&pt<$e.data.length;pt++)$e.data[pt].forEach(mt);$e.data.splice(0,1)}else $e.data.forEach(mt);function mt(An,xn){Ne(ee.transformHeader)&&(An=ee.transformHeader(An,xn)),ct.push(An)}}(),function(){if(!$e||!ee.header&&!ee.dynamicTyping&&!ee.transform)return $e;function mt(An,xn){var pn,dn=ee.header?{}:[];for(pn=0;pn<An.length;pn++){var en=pn,Et=An[pn];ee.header&&(en=pn>=ct.length?"__parsed_extra":ct[pn]),ee.transform&&(Et=ee.transform(Et,en)),Et=fn(en,Et),"__parsed_extra"===en?(dn[en]=dn[en]||[],dn[en].push(Et)):dn[en]=Et}return ee.header&&(pn>ct.length?Ht("FieldMismatch","TooManyFields","Too many fields: expected "+ct.length+" fields but parsed "+pn,gt+xn):pn<ct.length&&Ht("FieldMismatch","TooFewFields","Too few fields: expected "+ct.length+" fields but parsed "+pn,gt+xn)),dn}var pt=1;return!$e.data.length||Array.isArray($e.data[0])?($e.data=$e.data.map(mt),pt=$e.data.length):$e.data=mt($e.data,0),ee.header&&$e.meta&&($e.meta.fields=ct),gt+=pt,$e}()}function Fn(){return ee.header&&0===ct.length}function fn(mt,pt){return An=mt,ee.dynamicTypingFunction&&void 0===ee.dynamicTyping[An]&&(ee.dynamicTyping[An]=ee.dynamicTypingFunction(An)),!0===(ee.dynamicTyping[An]||ee.dynamicTyping)?"true"===pt||"TRUE"===pt||"false"!==pt&&"FALSE"!==pt&&(function(xn){if(Se.test(xn)){var pn=parseFloat(xn);if(Te<pn&&pn<J)return!0}return!1}(pt)?parseFloat(pt):ze.test(pt)?new Date(pt):""===pt?null:pt):pt;var An}function Ht(mt,pt,An,xn){var pn={type:mt,code:pt,message:An};void 0!==xn&&(pn.row=xn),$e.errors.push(pn)}this.parse=function(mt,pt,An){if(ee.newline||(ee.newline=function(en,Et){en=en.substring(0,1048576);var xr=new RegExp(Oe(Et)+"([^]*?)"+Oe(Et),"gm"),De=(en=en.replace(xr,"")).split("\r"),tr=en.split("\n");if(1===De.length||1<tr.length&&tr[0].length<De[0].length)return"\n";for(var or=0,Bn=0;Bn<De.length;Bn++)"\n"===De[Bn][0]&&or++;return or>=De.length/2?"\r\n":"\r"}(mt,ee.quoteChar||'"')),pe=!1,ee.delimiter)Ne(ee.delimiter)&&(ee.delimiter=ee.delimiter(mt),$e.meta.delimiter=ee.delimiter);else{var pn=function(en,Et,xr,De,tr){var Pr,or,Bn,Yt;tr=tr||[",","\t","|",";",Z.RECORD_SEP,Z.UNIT_SEP];for(var $t=0;$t<tr.length;$t++){var st=tr[$t],kn=0,sr=0,Un=0;Bn=void 0;for(var Xr=new Ye({comments:De,delimiter:st,newline:Et,preview:10}).parse(en),Wt=0;Wt<Xr.data.length;Wt++)if(xr&&Kt(Xr.data[Wt]))Un++;else{var Xe=Xr.data[Wt].length;sr+=Xe,void 0!==Bn?0<Xe&&(kn+=Math.abs(Xe-Bn),Bn=Xe):Bn=Xe}0<Xr.data.length&&(sr/=Xr.data.length-Un),(void 0===or||kn<=or)&&(void 0===Yt||Yt<sr)&&1.99<sr&&(or=kn,Pr=st,Yt=sr)}return{successful:!!(ee.delimiter=Pr),bestDelimiter:Pr}}(mt,ee.newline,ee.skipEmptyLines,ee.comments,ee.delimitersToGuess);pn.successful?ee.delimiter=pn.bestDelimiter:(pe=!0,ee.delimiter=Z.DefaultDelimiter),$e.meta.delimiter=ee.delimiter}var dn=We(ee);return ee.preview&&ee.header&&dn.preview++,X=mt,le=new Ye(dn),$e=le.parse(X,pt,An),Rt(),qe?{meta:{paused:!0}}:$e||{meta:{paused:!1}}},this.paused=function(){return qe},this.pause=function(){qe=!0,le.abort(),X=Ne(ee.chunk)?"":X.substring(le.getCharIndex())},this.resume=function(){ht.streamer._halted?(qe=!1,ht.streamer.parseChunk(X,!0)):setTimeout(ht.resume,3)},this.aborted=function(){return Gt},this.abort=function(){Gt=!0,le.abort(),$e.meta.aborted=!0,Ne(ee.complete)&&ee.complete($e),X=""}}function Oe(ee){return ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ye(ee){var X,le=(ee=ee||{}).delimiter,pe=ee.newline,J=ee.comments,Te=ee.step,Se=ee.preview,ze=ee.fastMode,ht=X=null==ee.quoteChar?'"':ee.quoteChar;if(void 0!==ee.escapeChar&&(ht=ee.escapeChar),("string"!=typeof le||-1<Z.BAD_DELIMITERS.indexOf(le))&&(le=","),J===le)throw new Error("Comment character same as delimiter");!0===J?J="#":("string"!=typeof J||-1<Z.BAD_DELIMITERS.indexOf(J))&&(J=!1),"\n"!==pe&&"\r"!==pe&&"\r\n"!==pe&&(pe="\n");var Ae=0,gt=!1;this.parse=function(qe,Gt,ct){if("string"!=typeof qe)throw new Error("Input must be a string");var $e=qe.length,Pe=le.length,Kt=pe.length,Rt=J.length,Fn=Ne(Te),fn=[],Ht=[],mt=[],pt=Ae=0;if(!qe)return gn();if(ee.header&&!Gt){var An=qe.split(pe)[0].split(le),xn=[],pn={},dn=!1;for(var en in An){var Et=An[en];Ne(ee.transformHeader)&&(Et=ee.transformHeader(Et,en));var xr=Et,De=pn[Et]||0;for(0<De&&(dn=!0,xr=Et+"_"+De),pn[Et]=De+1;xn.includes(xr);)xr=xr+"_"+De;xn.push(xr)}if(dn){var tr=qe.split(pe);tr[0]=xn.join(le),qe=tr.join(pe)}}if(ze||!1!==ze&&-1===qe.indexOf(X)){for(var Pr=qe.split(pe),or=0;or<Pr.length;or++){if(Ae+=(mt=Pr[or]).length,or!==Pr.length-1)Ae+=pe.length;else if(ct)return gn();if(!J||mt.substring(0,Rt)!==J){if(Fn){if(fn=[],Un(mt.split(le)),Lt(),gt)return gn()}else Un(mt.split(le));if(Se&&Se<=or)return fn=fn.slice(0,Se),gn(!0)}}return gn()}for(var Bn=qe.indexOf(le,Ae),Yt=qe.indexOf(pe,Ae),$t=new RegExp(Oe(ht)+Oe(X),"g"),st=qe.indexOf(X,Ae);;)if(qe[Ae]!==X)if(J&&0===mt.length&&qe.substring(Ae,Ae+Rt)===J){if(-1===Yt)return gn();Yt=qe.indexOf(pe,Ae=Yt+Kt),Bn=qe.indexOf(le,Ae)}else if(-1!==Bn&&(Bn<Yt||-1===Yt))mt.push(qe.substring(Ae,Bn)),Bn=qe.indexOf(le,Ae=Bn+Pe);else{if(-1===Yt)break;if(mt.push(qe.substring(Ae,Yt)),Xe(Yt+Kt),Fn&&(Lt(),gt))return gn();if(Se&&fn.length>=Se)return gn(!0)}else for(st=Ae,Ae++;;){if(-1===(st=qe.indexOf(X,st+1)))return ct||Ht.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:fn.length,index:Ae}),Wt();if(st===$e-1)return Wt(qe.substring(Ae,st).replace($t,X));if(X!==ht||qe[st+1]!==ht){if(X===ht||0===st||qe[st-1]!==ht){-1!==Bn&&Bn<st+1&&(Bn=qe.indexOf(le,st+1)),-1!==Yt&&Yt<st+1&&(Yt=qe.indexOf(pe,st+1));var kn=Xr(-1===Yt?Bn:Math.min(Bn,Yt));if(qe.substr(st+1+kn,Pe)===le){mt.push(qe.substring(Ae,st).replace($t,X)),qe[Ae=st+1+kn+Pe]!==X&&(st=qe.indexOf(X,Ae)),Bn=qe.indexOf(le,Ae),Yt=qe.indexOf(pe,Ae);break}var sr=Xr(Yt);if(qe.substring(st+1+sr,st+1+sr+Kt)===pe){if(mt.push(qe.substring(Ae,st).replace($t,X)),Xe(st+1+sr+Kt),Bn=qe.indexOf(le,Ae),st=qe.indexOf(X,Ae),Fn&&(Lt(),gt))return gn();if(Se&&fn.length>=Se)return gn(!0);break}Ht.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:fn.length,index:Ae}),st++}}else st++}return Wt();function Un(yt){fn.push(yt),pt=Ae}function Xr(yt){var Oo=0;if(-1!==yt){var nn=qe.substring(st+1,yt);nn&&""===nn.trim()&&(Oo=nn.length)}return Oo}function Wt(yt){return ct||(void 0===yt&&(yt=qe.substring(Ae)),mt.push(yt),Ae=$e,Un(mt),Fn&&Lt()),gn()}function Xe(yt){Ae=yt,Un(mt),mt=[],Yt=qe.indexOf(pe,Ae)}function gn(yt){return{data:fn,errors:Ht,meta:{delimiter:le,linebreak:pe,aborted:gt,truncated:!!yt,cursor:pt+(Gt||0)}}}function Lt(){Te(gn()),fn=[],Ht=[]}},this.abort=function(){gt=!0},this.getCharIndex=function(){return Ae}}function ut(ee){var X=ee.data,le=q[X.workerId],pe=!1;if(X.error)le.userError(X.error,X.file);else if(X.results&&X.results.data){var J={abort:function(){pe=!0,Qe(X.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ke,resume:ke};if(Ne(le.userStep)){for(var Te=0;Te<X.results.data.length&&(le.userStep({data:X.results.data[Te],errors:X.results.errors,meta:X.results.meta},J),!pe);Te++);delete X.results}else Ne(le.userChunk)&&(le.userChunk(X.results,J,X.file),delete X.results)}X.finished&&!pe&&Qe(X.workerId,X.results)}function Qe(ee,X){var le=q[ee];Ne(le.userComplete)&&le.userComplete(X),le.terminate(),delete q[ee]}function ke(){throw new Error("Not implemented.")}function We(ee){if("object"!=typeof ee||null===ee)return ee;var X=Array.isArray(ee)?[]:{};for(var le in ee)X[le]=We(ee[le]);return X}function Ce(ee,X){return function(){ee.apply(X,arguments)}}function Ne(ee){return"function"==typeof ee}return z&&(P.onmessage=function(ee){var X=ee.data;if(void 0===Z.WORKER_ID&&X&&(Z.WORKER_ID=X.workerId),"string"==typeof X.input)P.postMessage({workerId:Z.WORKER_ID,results:Z.parse(X.input,X.config),finished:!0});else if(P.File&&X.input instanceof File||X.input instanceof Object){var le=Z.parse(X.input,X.config);le&&P.postMessage({workerId:Z.WORKER_ID,results:le,finished:!0})}}),(_e.prototype=Object.create(te.prototype)).constructor=_e,(fe.prototype=Object.create(te.prototype)).constructor=fe,(Re.prototype=Object.create(Re.prototype)).constructor=Re,(Ve.prototype=Object.create(te.prototype)).constructor=Ve,Z},void 0!==(re=G.apply(me,[]))&&(wt.exports=re)},8314:(wt,me,G)=>{const re=G(2836),N=G(9460),P=G(7030),j=G(6511);function z(q,ne,Z,ae,te){const _e=[].slice.call(arguments,1),fe=_e.length,Re="function"==typeof _e[fe-1];if(!Re&&!re())throw new Error("Callback required as last argument");if(!Re){if(fe<1)throw new Error("Too few arguments provided");return 1===fe?(Z=ne,ne=ae=void 0):2===fe&&!ne.getContext&&(ae=Z,Z=ne,ne=void 0),new Promise(function(Ve,at){try{const Oe=N.create(Z,ae);Ve(q(Oe,ne,ae))}catch(Oe){at(Oe)}})}if(fe<2)throw new Error("Too few arguments provided");2===fe?(te=Z,Z=ne,ne=ae=void 0):3===fe&&(ne.getContext&&typeof te>"u"?(te=ae,ae=void 0):(te=ae,ae=Z,Z=ne,ne=void 0));try{const Ve=N.create(Z,ae);te(null,q(Ve,ne,ae))}catch(Ve){te(Ve)}}me.mo=z.bind(null,P.render),z.bind(null,P.renderToDataURL),z.bind(null,function(q,ne,Z){return j.render(q,Z)})},2836:wt=>{wt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(wt,me,G)=>{const o=G(9089).getSymbolSize;me.getRowColCoords=function(N){if(1===N)return[];const P=Math.floor(N/7)+2,j=o(N),z=145===j?26:2*Math.ceil((j-13)/(2*P-2)),q=[j-7];for(let ne=1;ne<P-1;ne++)q[ne]=q[ne-1]-z;return q.push(6),q.reverse()},me.getPositions=function(N){const P=[],j=me.getRowColCoords(N),z=j.length;for(let q=0;q<z;q++)for(let ne=0;ne<z;ne++)0===q&&0===ne||0===q&&ne===z-1||q===z-1&&0===ne||P.push([j[q],j[ne]]);return P}},1018:(wt,me,G)=>{const o=G(1677),re=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function N(P){this.mode=o.ALPHANUMERIC,this.data=P}N.getBitsLength=function(j){return 11*Math.floor(j/2)+j%2*6},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(j){let z;for(z=0;z+2<=this.data.length;z+=2){let q=45*re.indexOf(this.data[z]);q+=re.indexOf(this.data[z+1]),j.put(q,11)}this.data.length%2&&j.put(re.indexOf(this.data[z]),6)},wt.exports=N},4662:wt=>{function me(){this.buffer=[],this.length=0}me.prototype={get:function(G){const o=Math.floor(G/8);return 1==(this.buffer[o]>>>7-G%8&1)},put:function(G,o){for(let re=0;re<o;re++)this.putBit(1==(G>>>o-re-1&1))},getLengthInBits:function(){return this.length},putBit:function(G){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),G&&(this.buffer[o]|=128>>>this.length%8),this.length++}},wt.exports=me},5941:wt=>{function me(G){if(!G||G<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=G,this.data=new Uint8Array(G*G),this.reservedBit=new Uint8Array(G*G)}me.prototype.set=function(G,o,re,N){const P=G*this.size+o;this.data[P]=re,N&&(this.reservedBit[P]=!0)},me.prototype.get=function(G,o){return this.data[G*this.size+o]},me.prototype.xor=function(G,o,re){this.data[G*this.size+o]^=re},me.prototype.isReserved=function(G,o){return this.reservedBit[G*this.size+o]},wt.exports=me},4969:(wt,me,G)=>{const o=G(1677);function re(N){this.mode=o.BYTE,this.data="string"==typeof N?(new TextEncoder).encode(N):new Uint8Array(N)}re.getBitsLength=function(P){return 8*P},re.prototype.getLength=function(){return this.data.length},re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)},re.prototype.write=function(N){for(let P=0,j=this.data.length;P<j;P++)N.put(this.data[P],8)},wt.exports=re},3677:(wt,me,G)=>{const o=G(7424),re=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],N=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];me.getBlocksCount=function(j,z){switch(z){case o.L:return re[4*(j-1)+0];case o.M:return re[4*(j-1)+1];case o.Q:return re[4*(j-1)+2];case o.H:return re[4*(j-1)+3];default:return}},me.getTotalCodewordsCount=function(j,z){switch(z){case o.L:return N[4*(j-1)+0];case o.M:return N[4*(j-1)+1];case o.Q:return N[4*(j-1)+2];case o.H:return N[4*(j-1)+3];default:return}}},7424:(wt,me)=>{me.L={bit:1},me.M={bit:0},me.Q={bit:3},me.H={bit:2},me.isValid=function(re){return re&&typeof re.bit<"u"&&re.bit>=0&&re.bit<4},me.from=function(re,N){if(me.isValid(re))return re;try{return function G(o){if("string"!=typeof o)throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return me.L;case"m":case"medium":return me.M;case"q":case"quartile":return me.Q;case"h":case"high":return me.H;default:throw new Error("Unknown EC Level: "+o)}}(re)}catch{return N}}},6269:(wt,me,G)=>{const o=G(9089).getSymbolSize;me.getPositions=function(P){const j=o(P);return[[0,0],[j-7,0],[0,j-7]]}},6254:(wt,me,G)=>{const o=G(9089),P=o.getBCHDigit(1335);me.getEncodedBits=function(z,q){const ne=z.bit<<3|q;let Z=ne<<10;for(;o.getBCHDigit(Z)-P>=0;)Z^=1335<<o.getBCHDigit(Z)-P;return 21522^(ne<<10|Z)}},6686:(wt,me)=>{const G=new Uint8Array(512),o=new Uint8Array(256);(function(){let N=1;for(let P=0;P<255;P++)G[P]=N,o[N]=P,N<<=1,256&N&&(N^=285);for(let P=255;P<512;P++)G[P]=G[P-255]})(),me.log=function(N){if(N<1)throw new Error("log("+N+")");return o[N]},me.exp=function(N){return G[N]},me.mul=function(N,P){return 0===N||0===P?0:G[o[N]+o[P]]}},3264:(wt,me,G)=>{const o=G(1677),re=G(9089);function N(P){this.mode=o.KANJI,this.data=P}N.getBitsLength=function(j){return 13*j},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(P){let j;for(j=0;j<this.data.length;j++){let z=re.toSJIS(this.data[j]);if(z>=33088&&z<=40956)z-=33088;else{if(!(z>=57408&&z<=60351))throw new Error("Invalid SJIS character: "+this.data[j]+"\nMake sure your charset is UTF-8");z-=49472}z=192*(z>>>8&255)+(255&z),P.put(z,13)}},wt.exports=N},3361:(wt,me)=>{me.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function o(re,N,P){switch(re){case me.Patterns.PATTERN000:return(N+P)%2==0;case me.Patterns.PATTERN001:return N%2==0;case me.Patterns.PATTERN010:return P%3==0;case me.Patterns.PATTERN011:return(N+P)%3==0;case me.Patterns.PATTERN100:return(Math.floor(N/2)+Math.floor(P/3))%2==0;case me.Patterns.PATTERN101:return N*P%2+N*P%3==0;case me.Patterns.PATTERN110:return(N*P%2+N*P%3)%2==0;case me.Patterns.PATTERN111:return(N*P%3+(N+P)%2)%2==0;default:throw new Error("bad maskPattern:"+re)}}me.isValid=function(N){return null!=N&&""!==N&&!isNaN(N)&&N>=0&&N<=7},me.from=function(N){return me.isValid(N)?parseInt(N,10):void 0},me.getPenaltyN1=function(N){const P=N.size;let j=0,z=0,q=0,ne=null,Z=null;for(let ae=0;ae<P;ae++){z=q=0,ne=Z=null;for(let te=0;te<P;te++){let _e=N.get(ae,te);_e===ne?z++:(z>=5&&(j+=z-5+3),ne=_e,z=1),_e=N.get(te,ae),_e===Z?q++:(q>=5&&(j+=q-5+3),Z=_e,q=1)}z>=5&&(j+=z-5+3),q>=5&&(j+=q-5+3)}return j},me.getPenaltyN2=function(N){const P=N.size;let j=0;for(let z=0;z<P-1;z++)for(let q=0;q<P-1;q++){const ne=N.get(z,q)+N.get(z,q+1)+N.get(z+1,q)+N.get(z+1,q+1);(4===ne||0===ne)&&j++}return 3*j},me.getPenaltyN3=function(N){const P=N.size;let j=0,z=0,q=0;for(let ne=0;ne<P;ne++){z=q=0;for(let Z=0;Z<P;Z++)z=z<<1&2047|N.get(ne,Z),Z>=10&&(1488===z||93===z)&&j++,q=q<<1&2047|N.get(Z,ne),Z>=10&&(1488===q||93===q)&&j++}return 40*j},me.getPenaltyN4=function(N){let P=0;const j=N.data.length;for(let q=0;q<j;q++)P+=N.data[q];return 10*Math.abs(Math.ceil(100*P/j/5)-10)},me.applyMask=function(N,P){const j=P.size;for(let z=0;z<j;z++)for(let q=0;q<j;q++)P.isReserved(q,z)||P.xor(q,z,o(N,q,z))},me.getBestMask=function(N,P){const j=Object.keys(me.Patterns).length;let z=0,q=1/0;for(let ne=0;ne<j;ne++){P(ne),me.applyMask(ne,N);const Z=me.getPenaltyN1(N)+me.getPenaltyN2(N)+me.getPenaltyN3(N)+me.getPenaltyN4(N);me.applyMask(ne,N),Z<q&&(q=Z,z=ne)}return z}},1677:(wt,me,G)=>{const o=G(377),re=G(9359);me.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},me.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},me.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},me.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},me.MIXED={bit:-1},me.getCharCountIndicator=function(j,z){if(!j.ccBits)throw new Error("Invalid mode: "+j);if(!o.isValid(z))throw new Error("Invalid version: "+z);return z>=1&&z<10?j.ccBits[0]:z<27?j.ccBits[1]:j.ccBits[2]},me.getBestModeForData=function(j){return re.testNumeric(j)?me.NUMERIC:re.testAlphanumeric(j)?me.ALPHANUMERIC:re.testKanji(j)?me.KANJI:me.BYTE},me.toString=function(j){if(j&&j.id)return j.id;throw new Error("Invalid mode")},me.isValid=function(j){return j&&j.bit&&j.ccBits},me.from=function(j,z){if(me.isValid(j))return j;try{return function N(P){if("string"!=typeof P)throw new Error("Param is not a string");switch(P.toLowerCase()){case"numeric":return me.NUMERIC;case"alphanumeric":return me.ALPHANUMERIC;case"kanji":return me.KANJI;case"byte":return me.BYTE;default:throw new Error("Unknown mode: "+P)}}(j)}catch{return z}}},6628:(wt,me,G)=>{const o=G(1677);function re(N){this.mode=o.NUMERIC,this.data=N.toString()}re.getBitsLength=function(P){return 10*Math.floor(P/3)+(P%3?P%3*3+1:0)},re.prototype.getLength=function(){return this.data.length},re.prototype.getBitsLength=function(){return re.getBitsLength(this.data.length)},re.prototype.write=function(P){let j,z,q;for(j=0;j+3<=this.data.length;j+=3)z=this.data.substr(j,3),q=parseInt(z,10),P.put(q,10);const ne=this.data.length-j;ne>0&&(z=this.data.substr(j),q=parseInt(z,10),P.put(q,3*ne+1))},wt.exports=re},1744:(wt,me,G)=>{const o=G(6686);me.mul=function(N,P){const j=new Uint8Array(N.length+P.length-1);for(let z=0;z<N.length;z++)for(let q=0;q<P.length;q++)j[z+q]^=o.mul(N[z],P[q]);return j},me.mod=function(N,P){let j=new Uint8Array(N);for(;j.length-P.length>=0;){const z=j[0];for(let ne=0;ne<P.length;ne++)j[ne]^=o.mul(P[ne],z);let q=0;for(;q<j.length&&0===j[q];)q++;j=j.slice(q)}return j},me.generateECPolynomial=function(N){let P=new Uint8Array([1]);for(let j=0;j<N;j++)P=me.mul(P,new Uint8Array([1,o.exp(j)]));return P}},9460:(wt,me,G)=>{const o=G(9089),re=G(7424),N=G(4662),P=G(5941),j=G(6214),z=G(6269),q=G(3361),ne=G(3677),Z=G(6289),ae=G(1252),te=G(6254),_e=G(1677),fe=G(2868);function Ye(Ce,Ne,ee){const X=Ce.size,le=te.getEncodedBits(Ne,ee);let pe,J;for(pe=0;pe<15;pe++)J=1==(le>>pe&1),Ce.set(pe<6?pe:pe<8?pe+1:X-15+pe,8,J,!0),Ce.set(8,pe<8?X-pe-1:pe<9?15-pe-1+1:15-pe-1,J,!0);Ce.set(X-8,8,1,!0)}function We(Ce,Ne,ee,X){let le;if(Array.isArray(Ce))le=fe.fromArray(Ce);else{if("string"!=typeof Ce)throw new Error("Invalid data");{let ze=Ne;if(!ze){const ht=fe.rawSplit(Ce);ze=ae.getBestVersionForData(ht,ee)}le=fe.fromString(Ce,ze||40)}}const pe=ae.getBestVersionForData(le,ee);if(!pe)throw new Error("The amount of data is too big to be stored in a QR Code");if(Ne){if(Ne<pe)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+pe+".\n")}else Ne=pe;const J=function Qe(Ce,Ne,ee){const X=new N;ee.forEach(function(Se){X.put(Se.mode.bit,4),X.put(Se.getLength(),_e.getCharCountIndicator(Se.mode,Ce)),Se.write(X)});const J=8*(o.getSymbolTotalCodewords(Ce)-ne.getTotalCodewordsCount(Ce,Ne));for(X.getLengthInBits()+4<=J&&X.put(0,4);X.getLengthInBits()%8!=0;)X.putBit(0);const Te=(J-X.getLengthInBits())/8;for(let Se=0;Se<Te;Se++)X.put(Se%2?17:236,8);return function ke(Ce,Ne,ee){const X=o.getSymbolTotalCodewords(Ne),pe=X-ne.getTotalCodewordsCount(Ne,ee),J=ne.getBlocksCount(Ne,ee),Se=J-X%J,ze=Math.floor(X/J),ht=Math.floor(pe/J),Ae=ht+1,gt=ze-ht,qe=new Z(gt);let Gt=0;const ct=new Array(J),$e=new Array(J);let Pe=0;const Kt=new Uint8Array(Ce.buffer);for(let mt=0;mt<J;mt++){const pt=mt<Se?ht:Ae;ct[mt]=Kt.slice(Gt,Gt+pt),$e[mt]=qe.encode(ct[mt]),Gt+=pt,Pe=Math.max(Pe,pt)}const Rt=new Uint8Array(X);let fn,Ht,Fn=0;for(fn=0;fn<Pe;fn++)for(Ht=0;Ht<J;Ht++)fn<ct[Ht].length&&(Rt[Fn++]=ct[Ht][fn]);for(fn=0;fn<gt;fn++)for(Ht=0;Ht<J;Ht++)Rt[Fn++]=$e[Ht][fn];return Rt}(X,Ce,Ne)}(Ne,ee,le),Te=o.getSymbolSize(Ne),Se=new P(Te);return function Re(Ce,Ne){const ee=Ce.size,X=z.getPositions(Ne);for(let le=0;le<X.length;le++){const pe=X[le][0],J=X[le][1];for(let Te=-1;Te<=7;Te++)if(!(pe+Te<=-1||ee<=pe+Te))for(let Se=-1;Se<=7;Se++)J+Se<=-1||ee<=J+Se||Ce.set(pe+Te,J+Se,Te>=0&&Te<=6&&(0===Se||6===Se)||Se>=0&&Se<=6&&(0===Te||6===Te)||Te>=2&&Te<=4&&Se>=2&&Se<=4,!0)}}(Se,Ne),function Ve(Ce){const Ne=Ce.size;for(let ee=8;ee<Ne-8;ee++){const X=ee%2==0;Ce.set(ee,6,X,!0),Ce.set(6,ee,X,!0)}}(Se),function at(Ce,Ne){const ee=j.getPositions(Ne);for(let X=0;X<ee.length;X++){const le=ee[X][0],pe=ee[X][1];for(let J=-2;J<=2;J++)for(let Te=-2;Te<=2;Te++)Ce.set(le+J,pe+Te,-2===J||2===J||-2===Te||2===Te||0===J&&0===Te,!0)}}(Se,Ne),Ye(Se,ee,0),Ne>=7&&function Oe(Ce,Ne){const ee=Ce.size,X=ae.getEncodedBits(Ne);let le,pe,J;for(let Te=0;Te<18;Te++)le=Math.floor(Te/3),pe=Te%3+ee-8-3,J=1==(X>>Te&1),Ce.set(le,pe,J,!0),Ce.set(pe,le,J,!0)}(Se,Ne),function ut(Ce,Ne){const ee=Ce.size;let X=-1,le=ee-1,pe=7,J=0;for(let Te=ee-1;Te>0;Te-=2)for(6===Te&&Te--;;){for(let Se=0;Se<2;Se++)if(!Ce.isReserved(le,Te-Se)){let ze=!1;J<Ne.length&&(ze=1==(Ne[J]>>>pe&1)),Ce.set(le,Te-Se,ze),pe--,-1===pe&&(J++,pe=7)}if(le+=X,le<0||ee<=le){le-=X,X=-X;break}}}(Se,J),isNaN(X)&&(X=q.getBestMask(Se,Ye.bind(null,Se,ee))),q.applyMask(X,Se),Ye(Se,ee,X),{modules:Se,version:Ne,errorCorrectionLevel:ee,maskPattern:X,segments:le}}me.create=function(Ne,ee){if(typeof Ne>"u"||""===Ne)throw new Error("No input text");let le,pe,X=re.M;return typeof ee<"u"&&(X=re.from(ee.errorCorrectionLevel,re.M),le=ae.from(ee.version),pe=q.from(ee.maskPattern),ee.toSJISFunc&&o.setToSJISFunction(ee.toSJISFunc)),We(Ne,le,X,pe)}},6289:(wt,me,G)=>{const o=G(1744);function re(N){this.genPoly=void 0,this.degree=N,this.degree&&this.initialize(this.degree)}re.prototype.initialize=function(P){this.degree=P,this.genPoly=o.generateECPolynomial(this.degree)},re.prototype.encode=function(P){if(!this.genPoly)throw new Error("Encoder not initialized");const j=new Uint8Array(P.length+this.degree);j.set(P);const z=o.mod(j,this.genPoly),q=this.degree-z.length;if(q>0){const ne=new Uint8Array(this.degree);return ne.set(z,q),ne}return z},wt.exports=re},9359:(wt,me)=>{const G="[0-9]+";let re="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";re=re.replace(/u/g,"\\u");const N="(?:(?![A-Z0-9 $%*+\\-./:]|"+re+")(?:.|[\r\n]))+";me.KANJI=new RegExp(re,"g"),me.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),me.BYTE=new RegExp(N,"g"),me.NUMERIC=new RegExp(G,"g"),me.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const P=new RegExp("^"+re+"$"),j=new RegExp("^"+G+"$"),z=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");me.testKanji=function(ne){return P.test(ne)},me.testNumeric=function(ne){return j.test(ne)},me.testAlphanumeric=function(ne){return z.test(ne)}},2868:(wt,me,G)=>{const o=G(1677),re=G(6628),N=G(1018),P=G(4969),j=G(3264),z=G(9359),q=G(9089),ne=G(243);function Z(Oe){return unescape(encodeURIComponent(Oe)).length}function ae(Oe,Ye,ut){const Qe=[];let ke;for(;null!==(ke=Oe.exec(ut));)Qe.push({data:ke[0],index:ke.index,mode:Ye,length:ke[0].length});return Qe}function te(Oe){const Ye=ae(z.NUMERIC,o.NUMERIC,Oe),ut=ae(z.ALPHANUMERIC,o.ALPHANUMERIC,Oe);let Qe,ke;return q.isKanjiModeEnabled()?(Qe=ae(z.BYTE,o.BYTE,Oe),ke=ae(z.KANJI,o.KANJI,Oe)):(Qe=ae(z.BYTE_KANJI,o.BYTE,Oe),ke=[]),Ye.concat(ut,Qe,ke).sort(function(Ce,Ne){return Ce.index-Ne.index}).map(function(Ce){return{data:Ce.data,mode:Ce.mode,length:Ce.length}})}function _e(Oe,Ye){switch(Ye){case o.NUMERIC:return re.getBitsLength(Oe);case o.ALPHANUMERIC:return N.getBitsLength(Oe);case o.KANJI:return j.getBitsLength(Oe);case o.BYTE:return P.getBitsLength(Oe)}}function at(Oe,Ye){let ut;const Qe=o.getBestModeForData(Oe);if(ut=o.from(Ye,Qe),ut!==o.BYTE&&ut.bit<Qe.bit)throw new Error('"'+Oe+'" cannot be encoded with mode '+o.toString(ut)+".\n Suggested mode is: "+o.toString(Qe));switch(ut===o.KANJI&&!q.isKanjiModeEnabled()&&(ut=o.BYTE),ut){case o.NUMERIC:return new re(Oe);case o.ALPHANUMERIC:return new N(Oe);case o.KANJI:return new j(Oe);case o.BYTE:return new P(Oe)}}me.fromArray=function(Ye){return Ye.reduce(function(ut,Qe){return"string"==typeof Qe?ut.push(at(Qe,null)):Qe.data&&ut.push(at(Qe.data,Qe.mode)),ut},[])},me.fromString=function(Ye,ut){const ke=function Re(Oe){const Ye=[];for(let ut=0;ut<Oe.length;ut++){const Qe=Oe[ut];switch(Qe.mode){case o.NUMERIC:Ye.push([Qe,{data:Qe.data,mode:o.ALPHANUMERIC,length:Qe.length},{data:Qe.data,mode:o.BYTE,length:Qe.length}]);break;case o.ALPHANUMERIC:Ye.push([Qe,{data:Qe.data,mode:o.BYTE,length:Qe.length}]);break;case o.KANJI:Ye.push([Qe,{data:Qe.data,mode:o.BYTE,length:Z(Qe.data)}]);break;case o.BYTE:Ye.push([{data:Qe.data,mode:o.BYTE,length:Z(Qe.data)}])}}return Ye}(te(Ye,q.isKanjiModeEnabled())),We=function Ve(Oe,Ye){const ut={},Qe={start:{}};let ke=["start"];for(let We=0;We<Oe.length;We++){const Ce=Oe[We],Ne=[];for(let ee=0;ee<Ce.length;ee++){const X=Ce[ee],le=""+We+ee;Ne.push(le),ut[le]={node:X,lastCount:0},Qe[le]={};for(let pe=0;pe<ke.length;pe++){const J=ke[pe];ut[J]&&ut[J].node.mode===X.mode?(Qe[J][le]=_e(ut[J].lastCount+X.length,X.mode)-_e(ut[J].lastCount,X.mode),ut[J].lastCount+=X.length):(ut[J]&&(ut[J].lastCount=X.length),Qe[J][le]=_e(X.length,X.mode)+4+o.getCharCountIndicator(X.mode,Ye))}}ke=Ne}for(let We=0;We<ke.length;We++)Qe[ke[We]].end=0;return{map:Qe,table:ut}}(ke,ut),Ce=ne.find_path(We.map,"start","end"),Ne=[];for(let ee=1;ee<Ce.length-1;ee++)Ne.push(We.table[Ce[ee]].node);return me.fromArray(function fe(Oe){return Oe.reduce(function(Ye,ut){const Qe=Ye.length-1>=0?Ye[Ye.length-1]:null;return Qe&&Qe.mode===ut.mode?(Ye[Ye.length-1].data+=ut.data,Ye):(Ye.push(ut),Ye)},[])}(Ne))},me.rawSplit=function(Ye){return me.fromArray(te(Ye,q.isKanjiModeEnabled()))}},9089:(wt,me)=>{let G;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];me.getSymbolSize=function(N){if(!N)throw new Error('"version" cannot be null or undefined');if(N<1||N>40)throw new Error('"version" should be in range from 1 to 40');return 4*N+17},me.getSymbolTotalCodewords=function(N){return o[N]},me.getBCHDigit=function(re){let N=0;for(;0!==re;)N++,re>>>=1;return N},me.setToSJISFunction=function(N){if("function"!=typeof N)throw new Error('"toSJISFunc" is not a valid function.');G=N},me.isKanjiModeEnabled=function(){return typeof G<"u"},me.toSJIS=function(N){return G(N)}},377:(wt,me)=>{me.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},1252:(wt,me,G)=>{const o=G(9089),re=G(3677),N=G(7424),P=G(1677),j=G(377),q=o.getBCHDigit(7973);function Z(_e,fe){return P.getCharCountIndicator(_e,fe)+4}function ae(_e,fe){let Re=0;return _e.forEach(function(Ve){const at=Z(Ve.mode,fe);Re+=at+Ve.getBitsLength()}),Re}me.from=function(fe,Re){return j.isValid(fe)?parseInt(fe,10):Re},me.getCapacity=function(fe,Re,Ve){if(!j.isValid(fe))throw new Error("Invalid QR Code version");typeof Ve>"u"&&(Ve=P.BYTE);const Ye=8*(o.getSymbolTotalCodewords(fe)-re.getTotalCodewordsCount(fe,Re));if(Ve===P.MIXED)return Ye;const ut=Ye-Z(Ve,fe);switch(Ve){case P.NUMERIC:return Math.floor(ut/10*3);case P.ALPHANUMERIC:return Math.floor(ut/11*2);case P.KANJI:return Math.floor(ut/13);default:return Math.floor(ut/8)}},me.getBestVersionForData=function(fe,Re){let Ve;const at=N.from(Re,N.M);if(Array.isArray(fe)){if(fe.length>1)return function te(_e,fe){for(let Re=1;Re<=40;Re++)if(ae(_e,Re)<=me.getCapacity(Re,fe,P.MIXED))return Re}(fe,at);if(0===fe.length)return 1;Ve=fe[0]}else Ve=fe;return function ne(_e,fe,Re){for(let Ve=1;Ve<=40;Ve++)if(fe<=me.getCapacity(Ve,Re,_e))return Ve}(Ve.mode,Ve.getLength(),at)},me.getEncodedBits=function(fe){if(!j.isValid(fe)||fe<7)throw new Error("Invalid QR Code version");let Re=fe<<12;for(;o.getBCHDigit(Re)-q>=0;)Re^=7973<<o.getBCHDigit(Re)-q;return fe<<12|Re}},7030:(wt,me,G)=>{const o=G(7077);me.render=function(j,z,q){let ne=q,Z=z;typeof ne>"u"&&(!z||!z.getContext)&&(ne=z,z=void 0),z||(Z=function N(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),ne=o.getOptions(ne);const ae=o.getImageWidth(j.modules.size,ne),te=Z.getContext("2d"),_e=te.createImageData(ae,ae);return o.qrToImageData(_e.data,j,ne),function re(P,j,z){P.clearRect(0,0,j.width,j.height),j.style||(j.style={}),j.height=z,j.width=z,j.style.height=z+"px",j.style.width=z+"px"}(te,Z,ae),te.putImageData(_e,0,0),Z},me.renderToDataURL=function(j,z,q){let ne=q;return typeof ne>"u"&&(!z||!z.getContext)&&(ne=z,z=void 0),ne||(ne={}),me.render(j,z,ne).toDataURL(ne.type||"image/png",(ne.rendererOpts||{}).quality)}},6511:(wt,me,G)=>{const o=G(7077);function re(j,z){const q=j.a/255,ne=z+'="'+j.hex+'"';return q<1?ne+" "+z+'-opacity="'+q.toFixed(2).slice(1)+'"':ne}function N(j,z,q){let ne=j+z;return typeof q<"u"&&(ne+=" "+q),ne}me.render=function(z,q,ne){const Z=o.getOptions(q),ae=z.modules.size,te=z.modules.data,_e=ae+2*Z.margin,fe=Z.color.light.a?"<path "+re(Z.color.light,"fill")+' d="M0 0h'+_e+"v"+_e+'H0z"/>':"",Re="<path "+re(Z.color.dark,"stroke")+' d="'+function P(j,z,q){let ne="",Z=0,ae=!1,te=0;for(let _e=0;_e<j.length;_e++){const fe=Math.floor(_e%z),Re=Math.floor(_e/z);!fe&&!ae&&(ae=!0),j[_e]?(te++,_e>0&&fe>0&&j[_e-1]||(ne+=ae?N("M",fe+q,.5+Re+q):N("m",Z,0),Z=0,ae=!1),fe+1<z&&j[_e+1]||(ne+=N("h",te),te=0)):Z++}return ne}(te,ae,Z.margin)+'"/>',Oe='<svg xmlns="http://www.w3.org/2000/svg" '+(Z.width?'width="'+Z.width+'" height="'+Z.width+'" ':"")+'viewBox="0 0 '+_e+" "+_e+'" shape-rendering="crispEdges">'+fe+Re+"</svg>\n";return"function"==typeof ne&&ne(null,Oe),Oe}},7077:(wt,me)=>{function G(o){if("number"==typeof o&&(o=o.toString()),"string"!=typeof o)throw new Error("Color should be defined as hex string");let re=o.slice().replace("#","").split("");if(re.length<3||5===re.length||re.length>8)throw new Error("Invalid hex color: "+o);(3===re.length||4===re.length)&&(re=Array.prototype.concat.apply([],re.map(function(P){return[P,P]}))),6===re.length&&re.push("F","F");const N=parseInt(re.join(""),16);return{r:N>>24&255,g:N>>16&255,b:N>>8&255,a:255&N,hex:"#"+re.slice(0,6).join("")}}me.getOptions=function(re){re||(re={}),re.color||(re.color={});const P=re.width&&re.width>=21?re.width:void 0;return{width:P,scale:P?4:re.scale||4,margin:typeof re.margin>"u"||null===re.margin||re.margin<0?4:re.margin,color:{dark:G(re.color.dark||"#000000ff"),light:G(re.color.light||"#ffffffff")},type:re.type,rendererOpts:re.rendererOpts||{}}},me.getScale=function(re,N){return N.width&&N.width>=re+2*N.margin?N.width/(re+2*N.margin):N.scale},me.getImageWidth=function(re,N){const P=me.getScale(re,N);return Math.floor((re+2*N.margin)*P)},me.qrToImageData=function(re,N,P){const j=N.modules.size,z=N.modules.data,q=me.getScale(j,P),ne=Math.floor((j+2*P.margin)*q),Z=P.margin*q,ae=[P.color.light,P.color.dark];for(let te=0;te<ne;te++)for(let _e=0;_e<ne;_e++){let fe=4*(te*ne+_e),Re=P.color.light;te>=Z&&_e>=Z&&te<ne-Z&&_e<ne-Z&&(Re=ae[z[Math.floor((te-Z)/q)*j+Math.floor((_e-Z)/q)]?1:0]),re[fe++]=Re.r,re[fe++]=Re.g,re[fe++]=Re.b,re[fe]=Re.a}}},4412:(wt,me,G)=>{"use strict";G.d(me,{t:()=>re});var o=G(1413);class re extends o.B{constructor(P){super(),this._value=P}get value(){return this.getValue()}_subscribe(P){const j=super._subscribe(P);return!j.closed&&P.next(this._value),j}getValue(){const{hasError:P,thrownError:j,_value:z}=this;if(P)throw j;return this._throwIfClosed(),z}next(P){super.next(this._value=P)}}},1985:(wt,me,G)=>{"use strict";G.d(me,{c:()=>ne});var o=G(7707),re=G(8359),N=G(3494),P=G(1203),j=G(1026),z=G(8071),q=G(9786);let ne=(()=>{class _e{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ve=new _e;return Ve.source=this,Ve.operator=Re,Ve}subscribe(Re,Ve,at){const Oe=function te(_e){return _e&&_e instanceof o.vU||function ae(_e){return _e&&(0,z.T)(_e.next)&&(0,z.T)(_e.error)&&(0,z.T)(_e.complete)}(_e)&&(0,re.Uv)(_e)}(Re)?Re:new o.Ms(Re,Ve,at);return(0,q.Y)(()=>{const{operator:Ye,source:ut}=this;Oe.add(Ye?Ye.call(Oe,ut):ut?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ve){Re.error(Ve)}}forEach(Re,Ve){return new(Ve=Z(Ve))((at,Oe)=>{const Ye=new o.Ms({next:ut=>{try{Re(ut)}catch(Qe){Oe(Qe),Ye.unsubscribe()}},error:Oe,complete:at});this.subscribe(Ye)})}_subscribe(Re){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Re)}[N.s](){return this}pipe(...Re){return(0,P.m)(Re)(this)}toPromise(Re){return new(Re=Z(Re))((Ve,at)=>{let Oe;this.subscribe(Ye=>Oe=Ye,Ye=>at(Ye),()=>Ve(Oe))})}}return _e.create=fe=>new _e(fe),_e})();function Z(_e){var fe;return null!==(fe=_e??j.$.Promise)&&void 0!==fe?fe:Promise}},1413:(wt,me,G)=>{"use strict";G.d(me,{B:()=>q});var o=G(1985),re=G(8359);const P=(0,G(1853).L)(Z=>function(){Z(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=G(7908),z=G(9786);let q=(()=>{class Z extends o.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const _e=new ne(this,this);return _e.operator=te,_e}_throwIfClosed(){if(this.closed)throw new P}next(te){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const _e of this.currentObservers)_e.next(te)}})}error(te){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:_e}=this;for(;_e.length;)_e.shift().error(te)}})}complete(){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:_e,isStopped:fe,observers:Re}=this;return _e||fe?re.Kn:(this.currentObservers=null,Re.push(te),new re.yU(()=>{this.currentObservers=null,(0,j.o)(Re,te)}))}_checkFinalizedStatuses(te){const{hasError:_e,thrownError:fe,isStopped:Re}=this;_e?te.error(fe):Re&&te.complete()}asObservable(){const te=new o.c;return te.source=this,te}}return Z.create=(ae,te)=>new ne(ae,te),Z})();class ne extends q{constructor(ae,te){super(),this.destination=ae,this.source=te}next(ae){var te,_e;null===(_e=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===_e||_e.call(te,ae)}error(ae){var te,_e;null===(_e=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===_e||_e.call(te,ae)}complete(){var ae,te;null===(te=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===te||te.call(ae)}_subscribe(ae){var te,_e;return null!==(_e=null===(te=this.source)||void 0===te?void 0:te.subscribe(ae))&&void 0!==_e?_e:re.Kn}}},7707:(wt,me,G)=>{"use strict";G.d(me,{Ms:()=>at,vU:()=>_e});var o=G(8071),re=G(8359),N=G(1026),P=G(5334),j=G(5343);const z=Z("C",void 0,void 0);function Z(ke,We,Ce){return{kind:ke,value:We,error:Ce}}var ae=G(9270),te=G(9786);class _e extends re.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,re.Uv)(We)&&We.add(this)):this.destination=Qe}static create(We,Ce,Ne){return new at(We,Ce,Ne)}next(We){this.isStopped?ut(function ne(ke){return Z("N",ke,void 0)}(We),this):this._next(We)}error(We){this.isStopped?ut(function q(ke){return Z("E",void 0,ke)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?ut(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fe=Function.prototype.bind;function Re(ke,We){return fe.call(ke,We)}class Ve{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(We)}catch(Ne){Oe(Ne)}}error(We){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(We)}catch(Ne){Oe(Ne)}else Oe(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ce){Oe(Ce)}}}class at extends _e{constructor(We,Ce,Ne){let ee;if(super(),(0,o.T)(We)||!We)ee={next:We??void 0,error:Ce??void 0,complete:Ne??void 0};else{let X;this&&N.$.useDeprecatedNextContext?(X=Object.create(We),X.unsubscribe=()=>this.unsubscribe(),ee={next:We.next&&Re(We.next,X),error:We.error&&Re(We.error,X),complete:We.complete&&Re(We.complete,X)}):ee=We}this.destination=new Ve(ee)}}function Oe(ke){N.$.useDeprecatedSynchronousErrorHandling?(0,te.l)(ke):(0,P.m)(ke)}function ut(ke,We){const{onStoppedNotification:Ce}=N.$;Ce&&ae.f.setTimeout(()=>Ce(ke,We))}const Qe={closed:!0,next:j.l,error:function Ye(ke){throw ke},complete:j.l}},8359:(wt,me,G)=>{"use strict";G.d(me,{Kn:()=>z,yU:()=>j,Uv:()=>q});var o=G(8071);const N=(0,G(1853).L)(Z=>function(te){Z(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((_e,fe)=>`${fe+1}) ${_e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var P=G(7908);class j{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const Re of te)Re.remove(this);else te.remove(this);const{initialTeardown:_e}=this;if((0,o.T)(_e))try{_e()}catch(Re){ae=Re instanceof N?Re.errors:[Re]}const{_finalizers:fe}=this;if(fe){this._finalizers=null;for(const Re of fe)try{ne(Re)}catch(Ve){ae=ae??[],Ve instanceof N?ae=[...ae,...Ve.errors]:ae.push(Ve)}}if(ae)throw new N(ae)}}add(ae){var te;if(ae&&ae!==this)if(this.closed)ne(ae);else{if(ae instanceof j){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(te=this._finalizers)&&void 0!==te?te:[]).push(ae)}}_hasParent(ae){const{_parentage:te}=this;return te===ae||Array.isArray(te)&&te.includes(ae)}_addParent(ae){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(ae),te):te?[te,ae]:ae}_removeParent(ae){const{_parentage:te}=this;te===ae?this._parentage=null:Array.isArray(te)&&(0,P.o)(te,ae)}remove(ae){const{_finalizers:te}=this;te&&(0,P.o)(te,ae),ae instanceof j&&ae._removeParent(this)}}j.EMPTY=(()=>{const Z=new j;return Z.closed=!0,Z})();const z=j.EMPTY;function q(Z){return Z instanceof j||Z&&"closed"in Z&&(0,o.T)(Z.remove)&&(0,o.T)(Z.add)&&(0,o.T)(Z.unsubscribe)}function ne(Z){(0,o.T)(Z)?Z():Z.unsubscribe()}},1026:(wt,me,G)=>{"use strict";G.d(me,{$:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(wt,me,G)=>{"use strict";G.d(me,{_:()=>re});var o=G(7707);function re(P,j,z,q,ne){return new N(P,j,z,q,ne)}class N extends o.vU{constructor(j,z,q,ne,Z,ae){super(j),this.onFinalize=Z,this.shouldUnsubscribe=ae,this._next=z?function(te){try{z(te)}catch(_e){j.error(_e)}}:super._next,this._error=ne?function(te){try{ne(te)}catch(_e){j.error(_e)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(te){j.error(te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var j;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(j=this.onFinalize)||void 0===j||j.call(this))}}}},6354:(wt,me,G)=>{"use strict";G.d(me,{T:()=>N});var o=G(9974),re=G(4360);function N(P,j){return(0,o.N)((z,q)=>{let ne=0;z.subscribe((0,re._)(q,Z=>{q.next(P.call(j,Z,ne++))}))})}},9270:(wt,me,G)=>{"use strict";G.d(me,{f:()=>o});const o={setTimeout(re,N,...P){const{delegate:j}=o;return j?.setTimeout?j.setTimeout(re,N,...P):setTimeout(re,N,...P)},clearTimeout(re){const{delegate:N}=o;return(N?.clearTimeout||clearTimeout)(re)},delegate:void 0}},3494:(wt,me,G)=>{"use strict";G.d(me,{s:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(wt,me,G)=>{"use strict";function o(re,N){if(re){const P=re.indexOf(N);0<=P&&re.splice(P,1)}}G.d(me,{o:()=>o})},1853:(wt,me,G)=>{"use strict";function o(re){const P=re(j=>{Error.call(j),j.stack=(new Error).stack});return P.prototype=Object.create(Error.prototype),P.prototype.constructor=P,P}G.d(me,{L:()=>o})},9786:(wt,me,G)=>{"use strict";G.d(me,{Y:()=>N,l:()=>P});var o=G(1026);let re=null;function N(j){if(o.$.useDeprecatedSynchronousErrorHandling){const z=!re;if(z&&(re={errorThrown:!1,error:null}),j(),z){const{errorThrown:q,error:ne}=re;if(re=null,q)throw ne}}else j()}function P(j){o.$.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=j)}},3669:(wt,me,G)=>{"use strict";function o(re){return re}G.d(me,{D:()=>o})},8071:(wt,me,G)=>{"use strict";function o(re){return"function"==typeof re}G.d(me,{T:()=>o})},9974:(wt,me,G)=>{"use strict";G.d(me,{N:()=>N,S:()=>re});var o=G(8071);function re(P){return(0,o.T)(P?.lift)}function N(P){return j=>{if(re(j))return j.lift(function(z){try{return P(z,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(wt,me,G)=>{"use strict";function o(){}G.d(me,{l:()=>o})},1203:(wt,me,G)=>{"use strict";G.d(me,{F:()=>re,m:()=>N});var o=G(3669);function re(...P){return N(P)}function N(P){return 0===P.length?o.D:1===P.length?P[0]:function(z){return P.reduce((q,ne)=>ne(q),z)}}},5334:(wt,me,G)=>{"use strict";G.d(me,{m:()=>N});var o=G(1026),re=G(9270);function N(P){re.f.setTimeout(()=>{const{onUnhandledError:j}=o.$;if(!j)throw P;j(P)})}},4438:(wt,me,G)=>{"use strict";function o(e,n){return Object.is(e,n)}G.d(me,{bc$:()=>Cu,iLQ:()=>Vv,sZ2:()=>Ws,hnV:()=>eD,Hbi:()=>SM,o8S:()=>$a,BIS:()=>Gy,gRc:()=>mD,Ql9:()=>KA,Ocv:()=>iM,Z63:()=>Oi,aKT:()=>du,uvJ:()=>Ri,zcH:()=>Io,bkB:()=>bo,$GK:()=>Qt,nKC:()=>Je,zZn:()=>_i,_q3:()=>vx,MKu:()=>yx,xe9:()=>hx,Co$:()=>k_,Vns:()=>Ic,SKi:()=>dr,Xx1:()=>Po,Agw:()=>eh,PLl:()=>_0,sFG:()=>Cb,_9s:()=>e_,czy:()=>gh,kdw:()=>hi,C4Q:()=>Xo,NYb:()=>GA,giA:()=>Q2,RxE:()=>G2,c1b:()=>Ir,gXe:()=>yr,mal:()=>Kh,L39:()=>iN,EWP:()=>sN,Ol2:()=>Eg,w6W:()=>Xw,oH4:()=>hD,Rfq:()=>Sr,WQX:()=>ft,QuC:()=>S,EmA:()=>ve,fpN:()=>DM,HJs:()=>fN,N4e:()=>lm,vPA:()=>C_,O8t:()=>aN,An2:()=>bc,H3F:()=>$2,H8p:()=>go,KH2:()=>cf,TgB:()=>Ta,wOt:()=>De,WHO:()=>q2,e01:()=>K2,H5H:()=>VE,Zy3:()=>tr,mq5:()=>cI,JZv:()=>Lt,LfX:()=>Ss,plB:()=>ja,jNT:()=>cx,zjR:()=>J2,ngT:()=>$r,TL$:()=>zy,Tbb:()=>kt,Vt3:()=>yg,GFd:()=>R_,OA$:()=>yf,Jv_:()=>p2,aNF:()=>g2,R7$:()=>o1,BMQ:()=>pd,HbH:()=>Cv,AVh:()=>Xg,wni:()=>HI,VBU:()=>po,FsC:()=>g,jDH:()=>Rn,G2t:()=>co,$C:()=>l,EJ8:()=>m,rXU:()=>_l,nrm:()=>FE,k0s:()=>Av,j41:()=>Tv,RV6:()=>oI,xGo:()=>Ym,KVO:()=>Kn,kS0:()=>cc,QTQ:()=>bh,bIt:()=>zE,lsd:()=>$I,joV:()=>Vm,qSk:()=>Bm,XpG:()=>RI,nI1:()=>I2,bMT:()=>D2,i5U:()=>S2,Y8G:()=>Wg,FS9:()=>$E,Mz_:()=>kv,lJ4:()=>v2,eq3:()=>y2,mGM:()=>GI,sdS:()=>WI,Njj:()=>Am,EBC:()=>xp,eBV:()=>Tm,B4B:()=>$0,n$t:()=>wp,DNE:()=>bg,C5r:()=>T2,EFF:()=>n2,JRh:()=>ZE,SpI:()=>Pv,Lme:()=>XE,E5c:()=>YE,wXG:()=>Cp,DH7:()=>u2,mxI:()=>KE,R50:()=>qE,GBs:()=>zI});let re=null,N=!1,P=1;const j=Symbol("SIGNAL");function z(e){const n=re;return re=e,n}const ae={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function te(e){if(N)throw new Error("");if(null===re)return;re.consumerOnSignalRead(e);const n=re.nextProducerIndex++;Ne(re),n<re.producerNode.length&&re.producerNode[n]!==e&&Ce(re)&&We(re.producerNode[n],re.producerIndexOfThis[n]),re.producerNode[n]!==e&&(re.producerNode[n]=e,re.producerIndexOfThis[n]=Ce(re)?ke(e,re,n):0),re.producerLastReadVersion[n]=e.version}function fe(e){if((!Ce(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==P)){if(!e.producerMustRecompute(e)&&!ut(e))return e.dirty=!1,void(e.lastCleanEpoch=P);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=P}}function Re(e){if(void 0===e.liveConsumerNode)return;const n=N;N=!0;try{for(const i of e.liveConsumerNode)i.dirty||at(i)}finally{N=n}}function Ve(){return!1!==re?.consumerAllowSignalWrites}function at(e){e.dirty=!0,Re(e),e.consumerMarkedDirty?.(e)}function Oe(e){return e&&(e.nextProducerIndex=0),z(e)}function Ye(e,n){if(z(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ce(e))for(let i=e.nextProducerIndex;i<e.producerNode.length;i++)We(e.producerNode[i],e.producerIndexOfThis[i]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ut(e){Ne(e);for(let n=0;n<e.producerNode.length;n++){const i=e.producerNode[n],u=e.producerLastReadVersion[n];if(u!==i.version||(fe(i),u!==i.version))return!0}return!1}function Qe(e){if(Ne(e),Ce(e))for(let n=0;n<e.producerNode.length;n++)We(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ke(e,n,i){if(ee(e),0===e.liveConsumerNode.length&&X(e))for(let u=0;u<e.producerNode.length;u++)e.producerIndexOfThis[u]=ke(e.producerNode[u],e,u);return e.liveConsumerIndexOfThis.push(i),e.liveConsumerNode.push(n)-1}function We(e,n){if(ee(e),1===e.liveConsumerNode.length&&X(e))for(let u=0;u<e.producerNode.length;u++)We(e.producerNode[u],e.producerIndexOfThis[u]);const i=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[i],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[i],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const u=e.liveConsumerIndexOfThis[n],p=e.liveConsumerNode[n];Ne(p),p.producerIndexOfThis[u]=n}}function Ce(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ne(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function ee(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function X(e){return void 0!==e.producerNode}const pe=Symbol("UNSET"),J=Symbol("COMPUTING"),Te=Symbol("ERRORED"),Se={...ae,value:pe,dirty:!0,error:null,equal:o,producerMustRecompute:e=>e.value===pe||e.value===J,producerRecomputeValue(e){if(e.value===J)throw new Error("Detected cycle in computations.");const n=e.value;e.value=J;const i=Oe(e);let u;try{u=e.computation()}catch(p){u=Te,e.error=p}finally{Ye(e,i)}n!==pe&&n!==Te&&u!==Te&&e.equal(n,u)?e.value=n:(e.value=u,e.version++)}};let ht=function ze(){throw new Error};function Ae(){ht()}let qe=null;function Pe(e,n){Ve()||Ae(),e.equal(e.value,n)||(e.value=n,function fn(e){e.version++,function _e(){P++}(),Re(e),qe?.()}(e))}const Fn={...ae,equal:o,value:void 0};var xn=G(4412),pn=G(1413),dn=G(8359),en=G(6354);const xr="https://g.co/ng/security#xss";class De extends Error{constructor(n,i){super(tr(n,i)),this.code=n}}function tr(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}function st(e){return{toString:e}.toString()}const sr="__parameters__";function Xe(e,n,i){return st(()=>{const u=function Wt(e){return function(...i){if(e){const u=e(...i);for(const p in u)this[p]=u[p]}}}(n);function p(..._){if(this instanceof p)return u.apply(this,_),this;const E=new p(..._);return D.annotation=E,D;function D(T,R,V){const Y=T.hasOwnProperty(sr)?T[sr]:Object.defineProperty(T,sr,{value:[]})[sr];for(;Y.length<=V;)Y.push(null);return(Y[V]=Y[V]||[]).push(E),T}}return i&&(p.prototype=Object.create(i.prototype)),p.prototype.ngMetadataName=e,p.annotationCls=p,p})}const Lt=globalThis;function nn(e){for(let n in e)if(e[n]===nn)return n;throw Error("Could not find renamed property on target object.")}function Wa(e,n){for(const i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=n[i])}function kt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(kt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function Ro(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const ca=nn({__forward_ref__:nn});function Sr(e){return e.__forward_ref__=Sr,e.toString=function(){return kt(this())},e}function Pt(e){return Ai(e)?e():e}function Ai(e){return"function"==typeof e&&e.hasOwnProperty(ca)&&e.__forward_ref__===Sr}function Rn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function co(e){return{providers:e.providers||[],imports:e.imports||[]}}function ri(e){return He(e,ui)||He(e,mn)}function Ss(e){return null!==ri(e)}function He(e,n){return e.hasOwnProperty(n)?e[n]:null}function Wn(e){return e&&(e.hasOwnProperty($i)||e.hasOwnProperty(_n))?e[$i]:null}const ui=nn({\u0275prov:nn}),$i=nn({\u0275inj:nn}),mn=nn({ngInjectableDef:nn}),_n=nn({ngInjectorDef:nn});class Je{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=Rn({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tn(e){return e&&!!e.\u0275providers}const hr=nn({\u0275cmp:nn}),xe=nn({\u0275dir:nn}),K=nn({\u0275pipe:nn}),ot=nn({\u0275mod:nn}),bn=nn({\u0275fac:nn}),mr=nn({__NG_ELEMENT_ID__:nn}),Ts=nn({__NG_ENV_ID__:nn});function Ft(e){return"string"==typeof e?e:null==e?"":String(e)}function Zi(e,n){throw new De(-201,!1)}var Qt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Qt||{});let Ns;function Fc(){return Ns}function bt(e){const n=Ns;return Ns=e,n}function br(e,n,i){const u=ri(e);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:i&Qt.Optional?null:void 0!==n?n:void Zi()}const Bt={},cr="__NG_DI_FLAG__",rs="ngTempTokenPath",ha=/\n/gm,_r="__source";let Tr;function Lr(e){const n=Tr;return Tr=e,n}function fa(e,n=Qt.Default){if(void 0===Tr)throw new De(-203,!1);return null===Tr?br(e,void 0,n):Tr.get(e,n&Qt.Optional?null:void 0,n)}function Kn(e,n=Qt.Default){return(Fc()||fa)(Pt(e),n)}function ft(e,n=Qt.Default){return Kn(e,is(n))}function is(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function rn(e){const n=[];for(let i=0;i<e.length;i++){const u=Pt(e[i]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let p,_=Qt.Default;for(let E=0;E<u.length;E++){const D=u[E],T=wi(D);"number"==typeof T?-1===T?p=D.token:_|=T:p=D}n.push(Kn(p,_))}else n.push(Kn(u))}return n}function Os(e,n){return e[cr]=n,e.prototype[cr]=n,e}function wi(e){return e[cr]}const Po=Os(Xe("Optional"),8),hi=Os(Xe("SkipSelf"),4);function be(e,n){return e.hasOwnProperty(bn)?e[bn]:null}function Fr(e,n){e.forEach(i=>Array.isArray(i)?Fr(i,n):n(i))}function ga(e,n,i){n>=e.length?e.push(i):e.splice(n,0,i)}function Rs(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function vr(e,n,i){let u=ho(e,n);return u>=0?e[1|u]=i:(u=~u,function lr(e,n,i,u){let p=e.length;if(p==n)e.push(i,u);else if(1===p)e.push(u,e[0]),e[0]=i;else{for(p--,e.push(e[p-1],e[p]);p>n;)e[p]=e[p-2],p--;e[n]=i,e[n+1]=u}}(e,u,n,i)),u}function ss(e,n){const i=ho(e,n);if(i>=0)return e[1|i]}function ho(e,n){return function Mt(e,n,i){let u=0,p=e.length>>i;for(;p!==u;){const _=u+(p-u>>1),E=e[_<<i];if(n===E)return _<<i;E>n?p=_:u=_+1}return~(p<<i)}(e,n,1)}const Ni={},Dt=[],Oi=new Je(""),as=new Je("",-1),Yi=new Je("");class ma{get(n,i=Bt){if(i===Bt){const u=new Error(`NullInjectorError: No provider for ${kt(n)}!`);throw u.name="NullInjectorError",u}return i}}var qi=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(qi||{}),yr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(yr||{}),xi=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(xi||{});function Ka(e,n,i){let u=e.length;for(;;){const p=e.indexOf(n,i);if(-1===p)return p;if(0===p||e.charCodeAt(p-1)<=32){const _=n.length;if(p+_===u||e.charCodeAt(p+_)<=32)return p}i=p+1}}function _a(e,n,i){let u=0;for(;u<i.length;){const p=i[u];if("number"==typeof p){if(0!==p)break;u++;const _=i[u++],E=i[u++],D=i[u++];e.setAttribute(n,E,D,_)}else{const _=p,E=i[++u];fo(_)?e.setProperty(n,_,E):e.setAttribute(n,_,E),u++}}return u}function Qa(e){return 3===e||4===e||6===e}function fo(e){return 64===e.charCodeAt(0)}function Lo(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let i=-1;for(let u=0;u<n.length;u++){const p=n[u];"number"==typeof p?i=p:0===i||Vc(e,i,p,null,-1===i||2===i?n[++u]:null)}}return e}function Vc(e,n,i,u,p){let _=0,E=e.length;if(-1===n)E=-1;else for(;_<e.length;){const D=e[_++];if("number"==typeof D){if(D===n){E=-1;break}if(D>n){E=_-1;break}}}for(;_<e.length;){const D=e[_];if("number"==typeof D)break;if(D===i){if(null===u)return void(null!==p&&(e[_+1]=p));if(u===e[_+1])return void(e[_+2]=p)}_++,null!==u&&_++,null!==p&&_++}-1!==E&&(e.splice(E,0,n),_=E+1),e.splice(_++,0,i),null!==u&&e.splice(_++,0,u),null!==p&&e.splice(_++,0,p)}const Fo="ng-template";function Ed(e,n,i,u){let p=0;if(u){for(;p<n.length&&"string"==typeof n[p];p+=2)if("class"===n[p]&&-1!==Ka(n[p+1].toLowerCase(),i,0))return!0}else if(ur(e))return!1;if(p=n.indexOf(1,p),p>-1){let _;for(;++p<n.length&&"string"==typeof(_=n[p]);)if(_.toLowerCase()===i)return!0}return!1}function ur(e){return 4===e.type&&e.value!==Fo}function Ki(e,n,i){return n===(4!==e.type||i?e.value:Fo)}function on(e,n,i){let u=4;const p=e.attrs,_=null!==p?function va(e){for(let n=0;n<e.length;n++)if(Qa(e[n]))return n;return e.length}(p):0;let E=!1;for(let D=0;D<n.length;D++){const T=n[D];if("number"!=typeof T){if(!E)if(4&u){if(u=2|1&u,""!==T&&!Ki(e,T,i)||""===T&&1===n.length){if(Cr(u))return!1;E=!0}}else if(8&u){if(null===p||!Ed(e,p,T,i)){if(Cr(u))return!1;E=!0}}else{const R=n[++D],V=Qi(T,p,ur(e),i);if(-1===V){if(Cr(u))return!1;E=!0;continue}if(""!==R){let Y;if(Y=V>_?"":p[V+1].toLowerCase(),2&u&&R!==Y){if(Cr(u))return!1;E=!0}}}}else{if(!E&&!Cr(u)&&!Cr(T))return!1;if(E&&Cr(T))continue;E=!1,u=T|1&u}}return Cr(u)||E}function Cr(e){return!(1&e)}function Qi(e,n,i,u){if(null===n)return-1;let p=0;if(u||!i){let _=!1;for(;p<n.length;){const E=n[p];if(E===e)return p;if(3===E||6===E)_=!0;else{if(1===E||2===E){let D=n[++p];for(;"string"==typeof D;)D=n[++p];continue}if(4===E)break;if(0===E){p+=4;continue}}p+=_?1:2}return-1}return function Hc(e,n){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const u=e[i];if("number"==typeof u)return-1;if(u===n)return i;i++}return-1}(n,e)}function cs(e,n,i=!1){for(let u=0;u<n.length;u++)if(on(e,n[u],i))return!0;return!1}function zc(e,n){return e?":not("+n.trim()+")":n}function Ji(e){let n=e[0],i=1,u=2,p="",_=!1;for(;i<e.length;){let E=e[i];if("string"==typeof E)if(2&u){const D=e[++i];p+="["+E+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?p+="."+E:4&u&&(p+=" "+E);else""!==p&&!Cr(E)&&(n+=zc(_,p),p=""),u=E,_=_||!Cr(u);i++}return""!==p&&(n+=zc(_,p)),n}function po(e){return st(()=>{const n=H(e),i={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===qi.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||yr.Emulated,styles:e.styles||Dt,_:null,schemas:e.schemas||null,tView:null,id:""};W(i);const u=e.dependencies;return i.directiveDefs=Q(u,!1),i.pipeDefs=Q(u,!0),i.id=function he(e){let n=0;const i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const p of i)n=Math.imul(31,n)+p.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function A(e){return C(e)||w(e)}function c(e){return null!==e}function l(e){return st(()=>({type:e.type,bootstrap:e.bootstrap||Dt,declarations:e.declarations||Dt,imports:e.imports||Dt,exports:e.exports||Dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function f(e,n){if(null==e)return Ni;const i={};for(const u in e)if(e.hasOwnProperty(u)){const p=e[u];let _,E,D=xi.None;Array.isArray(p)?(D=p[0],_=p[1],E=p[2]??_):(_=p,E=p),n?(i[_]=D!==xi.None?[u,D]:u,n[_]=E):i[_]=u}return i}function g(e){return st(()=>{const n=H(e);return W(n),n})}function m(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function C(e){return e[hr]||null}function w(e){return e[xe]||null}function I(e){return e[K]||null}function S(e){const n=C(e)||w(e)||I(e);return null!==n&&n.standalone}function O(e,n){const i=e[ot]||null;if(!i&&!0===n)throw new Error(`Type ${kt(e)} does not have '\u0275mod' property.`);return i}function H(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Ni,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:f(e.inputs,n),outputs:f(e.outputs),debugInfo:null}}function W(e){e.features?.forEach(n=>n(e))}function Q(e,n){if(!e)return null;const i=n?I:A;return()=>("function"==typeof e?e():e).map(u=>i(u)).filter(c)}function ve(e){return{\u0275providers:e}}function Ie(...e){return{\u0275providers:Ze(0,e),\u0275fromNgModule:!0}}function Ze(e,...n){const i=[],u=new Set;let p;const _=E=>{i.push(E)};return Fr(n,E=>{const D=E;Le(D,_,[],u)&&(p||=[],p.push(D))}),void 0!==p&&it(p,_),i}function it(e,n){for(let i=0;i<e.length;i++){const{ngModule:u,providers:p}=e[i];zt(p,_=>{n(_,u)})}}function Le(e,n,i,u){if(!(e=Pt(e)))return!1;let p=null,_=Wn(e);const E=!_&&C(e);if(_||E){if(E&&!E.standalone)return!1;p=e}else{const T=e.ngModule;if(_=Wn(T),!_)return!1;p=T}const D=u.has(p);if(E){if(D)return!1;if(u.add(p),E.dependencies){const T="function"==typeof E.dependencies?E.dependencies():E.dependencies;for(const R of T)Le(R,n,i,u)}}else{if(!_)return!1;{if(null!=_.imports&&!D){let R;u.add(p);try{Fr(_.imports,V=>{Le(V,n,i,u)&&(R||=[],R.push(V))})}finally{}void 0!==R&&it(R,n)}if(!D){const R=be(p)||(()=>new p);n({provide:p,useFactory:R,deps:Dt},p),n({provide:Yi,useValue:p,multi:!0},p),n({provide:Oi,useValue:()=>Kn(p),multi:!0},p)}const T=_.providers;if(null!=T&&!D){const R=e;zt(T,V=>{n(V,R)})}}}return p!==e&&void 0!==e.providers}function zt(e,n){for(let i of e)tn(i)&&(i=i.\u0275providers),Array.isArray(i)?zt(i,n):n(i)}const nr=nn({provide:String,useValue:nn});function Hr(e){return null!==e&&"object"==typeof e&&nr in e}function Qn(e){return"function"==typeof e}const go=new Je(""),pi={},ql={};let mo;function Gc(){return void 0===mo&&(mo=new ma),mo}class Ri{}class Ja extends Ri{get destroyed(){return this._destroyed}constructor(n,i,u,p){super(),this.parent=i,this.source=u,this.scopes=p,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ya(n,E=>this.processProvider(E)),this.records.set(as,tc(void 0,this)),p.has("environment")&&this.records.set(Ri,tc(void 0,this));const _=this.records.get(go);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Yi,Dt,Qt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=z(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of i)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const i=Lr(this),u=bt(void 0);try{return n()}finally{Lr(i),bt(u)}}get(n,i=Bt,u=Qt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Ts))return n[Ts](this);u=is(u);const _=Lr(this),E=bt(void 0);try{if(!(u&Qt.SkipSelf)){let T=this.records.get(n);if(void 0===T){const R=function pf(e){return"function"==typeof e||"object"==typeof e&&e instanceof Je}(n)&&ri(n);T=R&&this.injectableDefInScope(R)?tc(_o(n),pi):null,this.records.set(n,T)}if(null!=T)return this.hydrate(n,T)}return(u&Qt.Self?Gc():this.parent).get(n,i=u&Qt.Optional&&i===Bt?null:i)}catch(D){if("NullInjectorError"===D.name){if((D[rs]=D[rs]||[]).unshift(kt(n)),_)throw D;return function os(e,n,i,u){const p=e[rs];throw n[_r]&&p.unshift(n[_r]),e.message=function Yl(e,n,i,u=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let p=kt(n);if(Array.isArray(n))p=n.map(kt).join(" -> ");else if("object"==typeof n){let _=[];for(let E in n)if(n.hasOwnProperty(E)){let D=n[E];_.push(E+":"+("string"==typeof D?JSON.stringify(D):kt(D)))}p=`{${_.join(", ")}}`}return`${i}${u?"("+u+")":""}[${p}]: ${e.replace(ha,"\n  ")}`}("\n"+e.message,p,i,u),e.ngTokenPath=p,e[rs]=null,e}(D,n,"R3InjectorError",this.source)}throw D}finally{bt(E),Lr(_)}}resolveInjectorInitializers(){const n=z(null),i=Lr(this),u=bt(void 0);try{const _=this.get(Oi,Dt,Qt.Self);for(const E of _)E()}finally{Lr(i),bt(u),z(n)}}toString(){const n=[],i=this.records;for(const u of i.keys())n.push(kt(u));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(n){let i=Qn(n=Pt(n))?n:Pt(n&&n.provide);const u=function ff(e){return Hr(e)?tc(void 0,e.useValue):tc(ec(e),pi)}(n);if(!Qn(n)&&!0===n.multi){let p=this.records.get(i);p||(p=tc(void 0,pi,!0),p.factory=()=>rn(p.multi),this.records.set(i,p)),i=n,p.multi.push(n)}this.records.set(i,u)}hydrate(n,i){const u=z(null);try{return i.value===pi&&(i.value=ql,i.value=i.factory()),"object"==typeof i.value&&i.value&&function $c(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{z(u)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Pt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function _o(e){const n=ri(e),i=null!==n?n.factory:be(e);if(null!==i)return i;if(e instanceof Je)throw new De(204,!1);if(e instanceof Function)return function hf(e){if(e.length>0)throw new De(204,!1);const i=function Xl(e){return e&&(e[ui]||e[mn])||null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new De(204,!1)}function ec(e,n,i){let u;if(Qn(e)){const p=Pt(e);return be(p)||_o(p)}if(Hr(e))u=()=>Pt(e.useValue);else if(function En(e){return!(!e||!e.useFactory)}(e))u=()=>e.useFactory(...rn(e.deps||[]));else if(function zr(e){return!(!e||!e.useExisting)}(e))u=()=>Kn(Pt(e.useExisting));else{const p=Pt(e&&(e.useClass||e.provide));if(!function Kl(e){return!!e.deps}(e))return be(p)||_o(p);u=()=>new p(...rn(e.deps))}return u}function tc(e,n,i=!1){return{factory:e,value:n,multi:i?[]:void 0}}function ya(e,n){for(const i of e)Array.isArray(i)?ya(i,n):i&&tn(i)?ya(i.\u0275providers,n):n(i)}function lm(e,n){e instanceof Ja&&e.assertNotDestroyed();const u=Lr(e),p=bt(void 0);try{return n()}finally{Lr(u),bt(p)}}function Wc(){return void 0!==Fc()||null!=function Xa(){return Tr}()}const Ee=0,ge=1,Fe=2,_t=3,Ut=4,Nn=5,In=6,Gr=7,sn=8,Hn=9,ki=10,Vt=11,Zc=12,Xc=13,wa=14,zn=15,Gn=16,Uo=17,vo=18,Ea=19,Id=20,yo=21,Yc=22,eo=23,It=25,um=1,ls=7,rc=9,Ar=10;var Sd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Sd||{});function Br(e){return Array.isArray(e)&&"object"==typeof e[um]}function oi(e){return Array.isArray(e)&&!0===e[um]}function mf(e){return!!(4&e.flags)}function qc(e){return e.componentOffset>-1}function _f(e){return!(1&~e.flags)}function Vo(e){return!!e.template}function Kc(e){return!!(512&e[Fe])}class Kr{constructor(n,i,u){this.previousValue=n,this.currentValue=i,this.firstChange=u}isFirstChange(){return this.firstChange}}function gi(e,n,i,u){null!==n?n.applyValueToInputSignal(n,u):e[i]=u}function yf(){return Ad}function Ad(e){return e.type.prototype.ngOnChanges&&(e.setInput=Cf),ry}function ry(){const e=pm(this),n=e?.current;if(n){const i=e.previous;if(i===Ni)e.previous=n;else for(let u in n)i[u]=n[u];e.current=null,this.ngOnChanges(n)}}function Cf(e,n,i,u,p){const _=this.declaredInputs[u],E=pm(e)||function iy(e,n){return e[fm]=n}(e,{previous:Ni,current:null}),D=E.current||(E.current={}),T=E.previous,R=T[_];D[_]=new Kr(R&&R.currentValue,i,T===Ni),gi(e,n,p,i)}yf.ngInherit=!0;const fm="__ngSimpleChanges__";function pm(e){return e[fm]||null}const Ls=function(e,n,i){},oy="svg";function Dn(e){for(;Array.isArray(e);)e=e[Ee];return e}function ic(e,n){return Dn(n[e])}function bi(e,n){return Dn(n[e.index])}function Jc(e,n){return e.data[n]}function oc(e,n){return e[n]}function to(e,n){const i=n[e];return Br(i)?i:i[Ee]}function us(e){return!(128&~e[Fe])}function Co(e,n){return null==n?null:e[n]}function xf(e){e[Uo]=0}function vm(e){1024&e[Fe]||(e[Fe]|=1024,us(e)&&Nd(e))}function Md(e){return!!(9216&e[Fe]||e[eo]?.dirty)}function bf(e){e[ki].changeDetectionScheduler?.notify(8),64&e[Fe]&&(e[Fe]|=1024),Md(e)&&Nd(e)}function Nd(e){e[ki].changeDetectionScheduler?.notify(0);let n=Fs(e);for(;null!==n&&!(8192&n[Fe])&&(n[Fe]|=8192,us(n));)n=Fs(n)}function Od(e,n){if(!(256&~e[Fe]))throw new De(911,!1);null===e[yo]&&(e[yo]=[]),e[yo].push(n)}function Fs(e){const n=e[_t];return oi(n)?n[_t]:n}const jt={lFrame:Fm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Df=!1;function Sf(){return jt.bindingsEnabled}function Me(){return jt.lFrame.lView}function hn(){return jt.lFrame.tView}function Tm(e){return jt.lFrame.contextLView=e,e[sn]}function Am(e){return jt.lFrame.contextLView=null,e}function $n(){let e=Tf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Tf(){return jt.lFrame.currentTNode}function jo(e,n){const i=jt.lFrame;i.currentTNode=e,i.isParent=n}function Ho(){return jt.lFrame.isParent}function Nm(){return Df}function Om(e){Df=e}function Ii(){const e=jt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function ds(){return jt.lFrame.bindingIndex}function zo(){return jt.lFrame.bindingIndex++}function Jn(e){const n=jt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,i}function km(e,n){const i=jt.lFrame;i.bindingIndex=i.bindingRootIndex=e,Pm(n)}function Pm(e){jt.lFrame.currentDirectiveIndex=e}function Qr(){return jt.lFrame.currentQueryIndex}function Ld(e){jt.lFrame.currentQueryIndex=e}function hy(e){const n=e[ge];return 2===n.type?n.declTNode:1===n.type?e[Nn]:null}function Lm(e,n,i){if(i&Qt.SkipSelf){let p=n,_=e;for(;!(p=p.parent,null!==p||i&Qt.Host||(p=hy(_),null===p||(_=_[wa],10&p.type))););if(null===p)return!1;n=p,e=_}const u=jt.lFrame=Mf();return u.currentTNode=n,u.lView=e,!0}function Af(e){const n=Mf(),i=e[ge];jt.lFrame=n,n.currentTNode=i.firstChild,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function Mf(){const e=jt.lFrame,n=null===e?null:e.child;return null===n?Fm(e):n}function Fm(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function xa(){const e=jt.lFrame;return jt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Sn=xa;function Nf(){const e=xa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jr(){return jt.lFrame.selectedIndex}function ba(e){jt.lFrame.selectedIndex=e}function Xn(){const e=jt.lFrame;return Jc(e.tView,e.selectedIndex)}function Bm(){jt.lFrame.currentNamespace=oy}function Vm(){!function eu(){jt.lFrame.currentNamespace=null}()}let si=!0;function Bs(){return si}function hs(e){si=e}function tu(e,n){for(let i=n.directiveStart,u=n.directiveEnd;i<u;i++){const _=e.data[i].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:V}=_;E&&(e.contentHooks??=[]).push(-i,E),D&&((e.contentHooks??=[]).push(i,D),(e.contentCheckHooks??=[]).push(i,D)),T&&(e.viewHooks??=[]).push(-i,T),R&&((e.viewHooks??=[]).push(i,R),(e.viewCheckHooks??=[]).push(i,R)),null!=V&&(e.destroyHooks??=[]).push(i,V)}}function Fd(e,n,i){py(e,n,3,i)}function Us(e,n,i,u){(3&e[Fe])===i&&py(e,n,i,u)}function wo(e,n){let i=e[Fe];(3&i)===n&&(i&=16383,i+=1,e[Fe]=i)}function py(e,n,i,u){const _=u??-1,E=n.length-1;let D=0;for(let T=void 0!==u?65535&e[Uo]:0;T<E;T++)if("number"==typeof n[T+1]){if(D=n[T],null!=u&&D>=u)break}else n[T]<0&&(e[Uo]+=65536),(D<_||-1==_)&&(Bd(e,i,n,T),e[Uo]=(4294901760&e[Uo])+T+2),T++}function Hm(e,n){Ls(4,e,n);const i=z(null);try{n.call(e)}finally{z(i),Ls(5,e,n)}}function Bd(e,n,i,u){const p=i[u]<0,_=i[u+1],D=e[p?-i[u]:i[u]];p?e[Fe]>>14<e[Uo]>>16&&(3&e[Fe])===n&&(e[Fe]+=16384,Hm(D,_)):Hm(D,_)}const Ia=-1;class el{constructor(n,i,u){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=u}}const js={};class Eo{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,u){u=is(u);const p=this.injector.get(n,js,u);return p!==js||i===js?p:this.parentInjector.get(n,i,u)}}function ei(e){return e!==Ia}function mi(e){return 32767&e}function nu(e,n){let i=function _y(e){return e>>16}(e),u=n;for(;i>0;)u=u[wa],i--;return u}let kf=!0;function Vd(e){const n=kf;return kf=e,n}const zm=255,Gm=5;let ln=0;const Pi={};function Hs(e,n){const i=$m(e,n);if(-1!==i)return i;const u=n[ge];u.firstCreatePass&&(e.injectorIndex=n.length,Pf(u.data,e),Pf(n,null),Pf(u.blueprint,null));const p=no(e,n),_=e.injectorIndex;if(ei(p)){const E=mi(p),D=nu(p,n),T=D[ge].data;for(let R=0;R<8;R++)n[_+R]=D[E+R]|T[E+R]}return n[_+8]=p,_}function Pf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function $m(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function no(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=0,u=null,p=n;for(;null!==p;){if(u=ac(p),null===u)return Ia;if(i++,p=p[wa],-1!==u.injectorIndex)return u.injectorIndex|i<<16}return Ia}function ru(e,n,i){!function vy(e,n,i){let u;"string"==typeof i?u=i.charCodeAt(0)||0:i.hasOwnProperty(mr)&&(u=i[mr]),null==u&&(u=i[mr]=ln++);const p=u&zm;n.data[e+(p>>Gm)]|=1<<p}(e,n,i)}function Lf(e,n,i){if(i&Qt.Optional||void 0!==e)return e;Zi()}function zs(e,n,i,u){if(i&Qt.Optional&&void 0===u&&(u=null),!(i&(Qt.Self|Qt.Host))){const p=e[Hn],_=bt(void 0);try{return p?p.get(n,u,i&Qt.Optional):br(n,u,i&Qt.Optional)}finally{bt(_)}}return Lf(u,0,i)}function Zm(e,n,i,u=Qt.Default,p){if(null!==e){if(2048&n[Fe]&&!(u&Qt.Self)){const E=function Cy(e,n,i,u,p){let _=e,E=n;for(;null!==_&&null!==E&&2048&E[Fe]&&!(512&E[Fe]);){const D=Ff(_,E,i,u|Qt.Self,Pi);if(D!==Pi)return D;let T=_.parent;if(!T){const R=E[Id];if(R){const V=R.get(i,Pi,u);if(V!==Pi)return V}T=ac(E),E=E[wa]}_=T}return p}(e,n,i,u,Pi);if(E!==Pi)return E}const _=Ff(e,n,i,u,Pi);if(_!==Pi)return _}return zs(n,i,u,p)}function Ff(e,n,i,u,p){const _=function yy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(mr)?e[mr]:void 0;return"number"==typeof n?n>=0?n&zm:iu:n}(i);if("function"==typeof _){if(!Lm(n,e,u))return u&Qt.Host?Lf(p,0,u):zs(n,i,u,p);try{let E;if(E=_(u),null!=E||u&Qt.Optional)return E;Zi()}finally{Sn()}}else if("number"==typeof _){let E=null,D=$m(e,n),T=Ia,R=u&Qt.Host?n[zn][Nn]:null;for((-1===D||u&Qt.SkipSelf)&&(T=-1===D?no(e,n):n[D+8],T!==Ia&&Uf(u,!1)?(E=n[ge],D=mi(T),n=nu(T,n)):D=-1);-1!==D;){const V=n[ge];if(Bf(_,D,V.data)){const Y=Xm(D,n,i,E,u,R);if(Y!==Pi)return Y}T=n[D+8],T!==Ia&&Uf(u,n[ge].data[D+8]===R)&&Bf(_,D,n)?(E=V,D=mi(T),n=nu(T,n)):D=-1}}return p}function Xm(e,n,i,u,p,_){const E=n[ge],D=E.data[e+8],V=Hd(D,E,i,null==u?qc(D)&&kf:u!=E&&!!(3&D.type),p&Qt.Host&&_===D);return null!==V?Sa(n,E,V,D):Pi}function Hd(e,n,i,u,p){const _=e.providerIndexes,E=n.data,D=1048575&_,T=e.directiveStart,V=_>>20,oe=p?D+V:e.directiveEnd;for(let ue=u?D:D+V;ue<oe;ue++){const ye=E[ue];if(ue<T&&i===ye||ue>=T&&ye.type===i)return ue}if(p){const ue=E[T];if(ue&&Vo(ue)&&ue.type===i)return T}return null}function Sa(e,n,i,u){let p=e[i];const _=n.data;if(function Vs(e){return e instanceof el}(p)){const E=p;E.resolving&&function As(e,n){throw n&&n.join(" > "),new De(-200,e)}(function Tt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ft(e)}(_[i]));const D=Vd(E.canSeeViewProviders);E.resolving=!0;const R=E.injectImpl?bt(E.injectImpl):null;Lm(e,u,Qt.Default);try{p=e[i]=E.factory(void 0,_,e,u),n.firstCreatePass&&i>=u.directiveStart&&function Of(e,n,i){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:_}=n.type.prototype;if(u){const E=Ad(n);(i.preOrderHooks??=[]).push(e,E),(i.preOrderCheckHooks??=[]).push(e,E)}p&&(i.preOrderHooks??=[]).push(0-e,p),_&&((i.preOrderHooks??=[]).push(e,_),(i.preOrderCheckHooks??=[]).push(e,_))}(i,_[i],n)}finally{null!==R&&bt(R),Vd(D),E.resolving=!1,Sn()}}return p}function Bf(e,n,i){return!!(i[n+(e>>Gm)]&1<<e)}function Uf(e,n){return!(e&Qt.Self||e&Qt.Host&&n)}class Zt{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,u){return Zm(this._tNode,this._lView,n,is(u),i)}}function iu(){return new Zt($n(),Me())}function Ym(e){return st(()=>{const n=e.prototype.constructor,i=n[bn]||$s(n),u=Object.prototype;let p=Object.getPrototypeOf(e.prototype).constructor;for(;p&&p!==u;){const _=p[bn]||$s(p);if(_&&_!==i)return _;p=Object.getPrototypeOf(p)}return _=>new _})}function $s(e){return Ai(e)?()=>{const n=$s(Pt(e));return n&&n()}:be(e)}function ac(e){const n=e[ge],i=n.type;return 2===i?n.declTNode:1===i?e[Nn]:null}function cc(e){return function Wm(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const i=e.attrs;if(i){const u=i.length;let p=0;for(;p<u;){const _=i[p];if(Qa(_))break;if(0===_)p+=2;else if("number"==typeof _)for(p++;p<u&&"string"==typeof i[p];)p++;else{if(_===n)return i[p+1];p+=2}}}return null}($n(),e)}function Jm(e,n=null,i=null,u){const p=e0(e,n,i,u);return p.resolveInjectorInitializers(),p}function e0(e,n=null,i=null,u,p=new Set){const _=[i||Dt,Ie(e)];return u=u||("object"==typeof e?void 0:kt(e)),new Ja(_,n||Gc(),u||null,p)}class _i{static{this.THROW_IF_NOT_FOUND=Bt}static{this.NULL=new ma}static create(n,i){if(Array.isArray(n))return Jm({name:""},i,n,"");{const u=n.name??"";return Jm({name:u},n.parent,n.providers,u)}}static{this.\u0275prov=Rn({token:_i,providedIn:"any",factory:()=>Kn(as)})}static{this.__NG_ELEMENT_ID__=-1}}new Je("").__NG_ELEMENT_ID__=e=>{const n=$n();if(null===n)throw new De(204,!1);if(2&n.type)return n.value;if(e&Qt.Optional)return null;throw new De(204,!1)};function Gd(e){return e.ngOriginalError}const n0=!0;let Go=(()=>{class e{static{this.__NG_ELEMENT_ID__=r0}static{this.__NG_ENV_ID__=i=>i}}return e})();class Sy extends Go{constructor(n){super(),this._lView=n}onDestroy(n){return Od(this._lView,n),()=>function If(e,n){if(null===e[yo])return;const i=e[yo].indexOf(n);-1!==i&&e[yo].splice(i,1)}(this._lView,n)}}function r0(){return new Sy(Me())}let Ta=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new e})}}return e})();const bo=class cu extends pn.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Wc()&&(this.destroyRef=ft(Go,{optional:!0})??void 0,this.pendingTasks=ft(Ta,{optional:!0})??void 0)}emit(n){const i=z(null);try{super.next(n)}finally{z(i)}}subscribe(n,i,u){let p=n,_=i||(()=>null),E=u;if(n&&"object"==typeof n){const T=n;p=T.next?.bind(T),_=T.error?.bind(T),E=T.complete?.bind(T)}this.__isAsync&&(_=this.wrapInTimeout(_),p&&(p=this.wrapInTimeout(p)),E&&(E=this.wrapInTimeout(E)));const D=super.subscribe({next:p,error:_,complete:E});return n instanceof dn.yU&&n.add(D),D}wrapInTimeout(n){return i=>{const u=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==u&&this.pendingTasks?.remove(u)})}}};function lu(...e){}function zf(e){let n,i;function u(){e=lu;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),u()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{e(),u()})),()=>u()}function o0(e){return queueMicrotask(()=>e()),()=>{e=lu}}const $f="isAngularZone",$d=$f+"_ID";let Ty=0;class dr{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1);const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:p=!1,scheduleInRootZone:_=n0}=n;if(typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const E=this;E._nesting=0,E._outer=E._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(E._inner=E._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(E._inner=E._inner.fork(Zone.longStackTraceZoneSpec)),E.shouldCoalesceEventChangeDetection=!p&&u,E.shouldCoalesceRunChangeDetection=p,E.callbackScheduled=!1,E.scheduleInRootZone=_,function Ay(e){const n=()=>{!function Zf(e){function n(){zf(()=>{e.callbackScheduled=!1,Wd(e),e.isCheckStableRunning=!0,Wf(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Wd(e))}(e)},i=Ty++;e._inner=e._inner.fork({name:"angular",properties:{[$f]:!0,[$d]:i,[$d+i]:!0},onInvokeTask:(u,p,_,E,D,T)=>{if(function ps(e){return $o(e,"__ignore_ng_zone__")}(T))return u.invokeTask(_,E,D,T);try{return Xf(e),u.invokeTask(_,E,D,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||e.shouldCoalesceRunChangeDetection)&&n(),tl(e)}},onInvoke:(u,p,_,E,D,T,R)=>{try{return Xf(e),u.invoke(_,E,D,T,R)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Zd(e){return $o(e,"__scheduler_tick__")}(T)&&n(),tl(e)}},onHasTask:(u,p,_,E)=>{u.hasTask(_,E),p===_&&("microTask"==E.change?(e._hasPendingMicrotasks=E.microTask,Wd(e),Wf(e)):"macroTask"==E.change&&(e.hasPendingMacrotasks=E.macroTask))},onHandleError:(u,p,_,E)=>(u.handleError(_,E),e.runOutsideAngular(()=>e.onError.emit(E)),!1)})}(E)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get($f)}static assertInAngularZone(){if(!dr.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(dr.isInAngularZone())throw new De(909,!1)}run(n,i,u){return this._inner.run(n,i,u)}runTask(n,i,u,p){const _=this._inner,E=_.scheduleEventTask("NgZoneEvent: "+p,n,uu,lu,lu);try{return _.runTask(E,i,u)}finally{_.cancelTask(E)}}runGuarded(n,i,u){return this._inner.runGuarded(n,i,u)}runOutsideAngular(n){return this._outer.run(n)}}const uu={};function Wf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Wd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tl(e){e._nesting--,Wf(e)}class yn{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(n,i,u){return n.apply(i,u)}runGuarded(n,i,u){return n.apply(i,u)}runOutsideAngular(n){return n()}runTask(n,i,u,p){return n.apply(i,u)}}function $o(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Io{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Gd(n);for(;i&&Gd(i);)i=Gd(i);return i||null}}const uc=new Je("",{providedIn:"root",factory:()=>{const e=ft(dr),n=ft(Io);return i=>e.runOutsideAngular(()=>n.handleError(i))}});function Ny(){return nl($n(),Me())}function nl(e,n){return new du(bi(e,n))}let du=(()=>{class e{constructor(i){this.nativeElement=i}static{this.__NG_ELEMENT_ID__=Ny}}return e})();function a0(e){return e instanceof du?e.nativeElement:e}function Oy(){return this._results[Symbol.iterator]()}class Yf{get changes(){return this._changes??=new bo}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const i=Yf.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Oy)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const u=function vn(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Jt(e,n,i){if(e.length!==n.length)return!1;for(let u=0;u<e.length;u++){let p=e[u],_=n[u];if(i&&(p=i(p),_=i(_)),_!==p)return!1}return!0}(this._results,u,i))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Xd(e){return!(128&~e.flags)}const l0=new Map;let Nx=0;function qf(e){l0.delete(e[Ea])}const Yd="__ngContext__";function ti(e,n){Br(n)?(e[Yd]=n[Ea],function ky(e){l0.set(e[Ea],e)}(n)):e[Yd]=n}function Qd(e){return Jd(e[Zc])}function tp(e){return Jd(e[Ut])}function Jd(e){for(;null!==e&&!oi(e);)e=e[Ut];return e}let sl;function zy(e){sl=e}const Ws=new Je("",{providedIn:"root",factory:()=>yu}),yu="ng",_0=new Je(""),eh=new Je("",{providedIn:"platform",factory:()=>"unknown"}),Cu=new Je(""),Gy=new Je("",{providedIn:"root",factory:()=>function Ma(){if(void 0!==sl)return sl;if(typeof document<"u")return document;throw new De(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let pc=()=>null;function lp(e,n,i=!1){return pc(e,n,i)}const b0=new Je("",{providedIn:"root",factory:()=>!1});let dh,Du;function T0(e){return function Su(){if(void 0===Du&&(Du=null,Lt.trustedTypes))try{Du=Lt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Du}()?.createScriptURL(e)||e}class A0{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xr})`}}function ka(e){return e instanceof A0?e.changingThisBreaksApplicationSecurity:e}function Tu(e,n){const i=function R0(e){return e instanceof A0&&e.getTypeName()||null}(e);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${xr})`)}return i===n}const nC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var dl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(dl||{});function $0(e){const n=Mu();return n?n.sanitize(dl.URL,e)||"":Tu(e,"URL")?ka(e):function vp(e){return(e=String(e)).match(nC)?e:"unsafe:"+e}(Ft(e))}function W0(e){const n=Mu();if(n)return T0(n.sanitize(dl.RESOURCE_URL,e)||"");if(Tu(e,"ResourceURL"))return T0(ka(e));throw new De(904,!1)}function Cp(e){return function Jy(e){return function pp(){if(void 0===dh&&(dh=null,Lt.trustedTypes))try{dh=Lt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dh}()?.createScriptURL(e)||e}(e[0])}function wp(e,n,i){return function lC(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?W0:$0}(n,i)(e)}function Mu(){const e=Me();return e&&e[ki].sanitizer}function xp(e){return e.ownerDocument}function Li(e){return e instanceof Function?e():e}var gh=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(gh||{});let mh;function _h(e,n){return mh(e,n)}function _c(e,n,i,u,p){if(null!=u){let _,E=!1;oi(u)?_=u:Br(u)&&(E=!0,u=u[Ee]);const D=Dn(u);0===e&&null!==i?null==p?Ch(n,i,D):vc(n,i,D,p||null,!0):1===e&&null!==i?vc(n,i,D,p||null,!0):2===e?function wh(e,n,i){e.removeChild(null,n,i)}(n,D,E):3===e&&n.destroyNode(D),null!=_&&function ml(e,n,i,u,p){const _=i[ls];_!==Dn(i)&&_c(n,e,u,_,p);for(let D=Ar;D<i.length;D++){const T=i[D];wc(T[ge],T,e,n,u,_)}}(n,e,_,i,p)}}function Ru(e,n,i){return e.createElement(n,i)}function Op(e,n){n[ki].changeDetectionScheduler?.notify(9),wc(e,n,n[Vt],2,null,null)}function yi(e,n){const i=e[rc],u=n[_t];(Br(u)||n[zn]!==u[_t][zn])&&(e[Fe]|=Sd.HasTransplantedViews),null===i?e[rc]=[n]:i.push(n)}function ms(e,n){const i=e[rc],u=i.indexOf(n);i.splice(u,1)}function fl(e,n){if(e.length<=Ar)return;const i=Ar+n,u=e[i];if(u){const p=u[Gn];null!==p&&p!==e&&ms(p,u),n>0&&(e[i-1][Ut]=u[Ut]);const _=Rs(e,Ar+n);!function Np(e,n){Op(e,n),n[Ee]=null,n[Nn]=null}(u[ge],u);const E=_[vo];null!==E&&E.detachView(_[ge]),u[_t]=null,u[Ut]=null,u[Fe]&=-129}return u}function Rp(e,n){if(!(256&n[Fe])){const i=n[Vt];i.destroyNode&&wc(e,n,i,3,null,null),function K0(e){let n=e[Zc];if(!n)return J0(e[ge],e);for(;n;){let i=null;if(Br(n))i=n[Zc];else{const u=n[Ar];u&&(i=u)}if(!i){for(;n&&!n[Ut]&&n!==e;)Br(n)&&J0(n[ge],n),n=n[_t];null===n&&(n=e),Br(n)&&J0(n[ge],n),i=n&&n[Ut]}n=i}}(n)}}function J0(e,n){if(256&n[Fe])return;const i=z(null);try{n[Fe]&=-129,n[Fe]|=256,n[eo]&&Qe(n[eo]),function Zo(e,n){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let u=0;u<i.length;u+=2){const p=n[i[u]];if(!(p instanceof el)){const _=i[u+1];if(Array.isArray(_))for(let E=0;E<_.length;E+=2){const D=p[_[E]],T=_[E+1];Ls(4,D,T);try{T.call(D)}finally{Ls(5,D,T)}}else{Ls(4,p,_);try{_.call(p)}finally{Ls(5,p,_)}}}}}(e,n),function Di(e,n){const i=e.cleanup,u=n[Gr];if(null!==i)for(let _=0;_<i.length-1;_+=2)if("string"==typeof i[_]){const E=i[_+3];E>=0?u[E]():u[-E].unsubscribe(),_+=2}else i[_].call(u[i[_+1]]);null!==u&&(n[Gr]=null);const p=n[yo];if(null!==p){n[yo]=null;for(let _=0;_<p.length;_++)(0,p[_])()}}(e,n),1===n[ge].type&&n[Vt].destroy();const u=n[Gn];if(null!==u&&oi(n[_t])){u!==n[_t]&&ms(u,n);const p=n[vo];null!==p&&p.detachView(e)}qf(n)}finally{z(i)}}function ku(e,n,i){return function Pu(e,n,i){let u=n;for(;null!==u&&168&u.type;)u=(n=u).parent;if(null===u)return i[Ee];{const{componentOffset:p}=u;if(p>-1){const{encapsulation:_}=e.data[u.directiveStart+p];if(_===yr.None||_===yr.Emulated)return null}return bi(u,i)}}(e,n.parent,i)}function vc(e,n,i,u,p){e.insertBefore(n,i,u,p)}function Ch(e,n,i){e.appendChild(n,i)}function e1(e,n,i,u,p){null!==u?vc(e,n,i,u,p):Ch(e,n,i)}function t1(e,n){return e.parentNode(n)}let n1,CC=function yC(e,n,i){return 40&e.type?bi(e,i):null};function kp(e,n,i,u){const p=ku(e,u,n),_=n[Vt],D=function vC(e,n,i){return CC(e,n,i)}(u.parent||n[Nn],u,n);if(null!=p)if(Array.isArray(i))for(let T=0;T<i.length;T++)e1(_,p,i[T],D,!1);else e1(_,p,i,D,!1);void 0!==n1&&n1(_,u,n,i,p)}function yc(e,n){if(null!==n){const i=n.type;if(3&i)return bi(n,e);if(4&i)return r1(-1,e[n.index]);if(8&i){const u=n.child;if(null!==u)return yc(e,u);{const p=e[n.index];return oi(p)?r1(-1,p):Dn(p)}}if(128&i)return yc(e,n.next);if(32&i)return _h(n,e)()||Dn(e[n.index]);{const u=Pp(e,n);return null!==u?Array.isArray(u)?u[0]:yc(Fs(e[zn]),u):yc(e,n.next)}}return null}function Pp(e,n){return null!==n?e[zn][Nn].projection[n.projection]:null}function r1(e,n){const i=Ar+e+1;if(i<n.length){const u=n[i],p=u[ge].firstChild;if(null!==p)return yc(u,p)}return n[ls]}function Cc(e,n,i,u,p,_,E){for(;null!=i;){if(128===i.type){i=i.next;continue}const D=u[i.index],T=i.type;if(E&&0===n&&(D&&ti(Dn(D),u),i.flags|=2),32&~i.flags)if(8&T)Cc(e,n,i.child,u,p,_,!1),_c(n,e,p,D,_);else if(32&T){const R=_h(i,u);let V;for(;V=R();)_c(n,e,p,V,_);_c(n,e,p,D,_)}else 16&T?gl(e,n,u,i,p,_):_c(n,e,p,D,_);i=E?i.projectionNext:i.next}}function wc(e,n,i,u,p,_){Cc(i,u,e.firstChild,n,p,_,!1)}function gl(e,n,i,u,p,_){const E=i[zn],T=E[Nn].projection[u.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)_c(n,e,p,T[R],_);else{let R=T;const V=E[_t];Xd(u)&&(R.flags|=128),Cc(e,n,R,V,p,_,!0)}}function Eh(e,n,i){""===i?e.removeAttribute(n,"class"):e.setAttribute(n,"class",i)}function Lu(e,n,i){const{mergedAttrs:u,classes:p,styles:_}=i;null!==u&&_a(e,n,u),null!==p&&Eh(e,n,p),null!==_&&function Lp(e,n,i){e.setAttribute(n,"style",i)}(e,n,_)}const qt={};function o1(e=1){xh(hn(),Me(),Jr()+e,!1)}function xh(e,n,i,u){if(!u)if(3&~n[Fe]){const _=e.preOrderHooks;null!==_&&Us(n,_,0,i)}else{const _=e.preOrderCheckHooks;null!==_&&Fd(n,_,i)}ba(i)}function _l(e,n=Qt.Default){const i=Me();return null===i?Kn(e,n):Zm($n(),i,Pt(e),n)}function bh(){throw new Error("invalid")}function s1(e,n,i,u,p,_){const E=z(null);try{let D=null;p&xi.SignalBased&&(D=n[u][j]),null!==D&&void 0!==D.transformFn&&(_=D.transformFn(_)),p&xi.HasDecoratorInputTransform&&(_=e.inputTransforms[u].call(n,_)),null!==e.setInput?e.setInput(n,D,_,i,u):gi(n,D,u,_)}finally{z(E)}}function Fu(e,n,i,u,p,_,E,D,T,R,V){const Y=n.blueprint.slice();return Y[Ee]=p,Y[Fe]=204|u,(null!==R||e&&2048&e[Fe])&&(Y[Fe]|=2048),xf(Y),Y[_t]=Y[wa]=e,Y[sn]=i,Y[ki]=E||e&&e[ki],Y[Vt]=D||e&&e[Vt],Y[Hn]=T||e&&e[Hn]||null,Y[Nn]=_,Y[Ea]=function Ox(){return Nx++}(),Y[In]=V,Y[Id]=R,Y[zn]=2==n.type?e[zn]:Y,Y}function Pa(e,n,i,u,p){let _=e.data[n];if(null===_)_=function vl(e,n,i,u,p){const _=Tf(),E=Ho(),T=e.data[n]=function Ah(e,n,i,u,p,_){let E=n?n.injectorIndex:-1,D=0;return function sc(){return null!==jt.skipHydrationRootTNode}()&&(D|=128),{type:i,index:u,insertBeforeIndex:null,injectorIndex:E,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:D,providerIndexes:0,value:p,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?_:_&&_.parent,i,n,u,p);return null===e.firstChild&&(e.firstChild=T),null!==_&&(E?null==_.child&&null!==T.parent&&(_.child=T):null===_.next&&(_.next=T,T.prev=_)),T}(e,n,i,u,p),function dy(){return jt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=i,_.value=u,_.attrs=p;const E=function Jl(){const e=jt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();_.injectorIndex=null===E?-1:E.injectorIndex}return jo(_,!0),_}function qs(e,n,i,u){if(0===i)return-1;const p=n.length;for(let _=0;_<i;_++)n.push(u),e.blueprint.push(u),e.data.push(null);return p}function xC(e,n,i,u,p){const _=Jr(),E=2&u;try{ba(-1),E&&n.length>It&&xh(e,n,It,!1),Ls(E?2:0,p),i(u,p)}finally{ba(_),Ls(E?3:1,p)}}function a1(e,n,i){if(mf(n)){const u=z(null);try{const _=n.directiveEnd;for(let E=n.directiveStart;E<_;E++){const D=e.data[E];D.contentQueries&&D.contentQueries(1,i[E],E)}}finally{z(u)}}}function c1(e,n,i){Sf()&&(function AC(e,n,i,u){const p=i.directiveStart,_=i.directiveEnd;qc(i)&&function p1(e,n,i){const u=bi(n,e),p=bC(i);let E=16;i.signals?E=4096:i.onPush&&(E=64);const D=jp(e,Fu(e,p,null,E,u,n,null,e[ki].rendererFactory.createRenderer(u,i),null,null,null));e[n.index]=D}(n,i,e.data[p+i.componentOffset]),e.firstCreatePass||Hs(i,n),ti(u,n);const E=i.initialInputs;for(let D=p;D<_;D++){const T=e.data[D],R=Sa(n,e,D,i);ti(R,n),null!==E&&OC(0,D-p,R,T,0,E),Vo(T)&&(to(i.index,n)[sn]=Sa(n,e,D,i))}}(e,n,i,bi(i,n)),!(64&~i.flags)&&Up(e,n,i))}function Dh(e,n,i=bi){const u=n.localNames;if(null!==u){let p=n.index+1;for(let _=0;_<u.length;_+=2){const E=u[_+1],D=-1===E?i(n,e):e[E];e[p++]=D}}}function bC(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ks(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ks(e,n,i,u,p,_,E,D,T,R,V){const Y=It+u,oe=Y+p,ue=function Bu(e,n){const i=[];for(let u=0;u<n;u++)i.push(u<e?null:qt);return i}(Y,oe),ye="function"==typeof R?R():R;return ue[ge]={type:e,blueprint:ue,template:i,queries:null,viewQuery:D,declTNode:n,data:ue.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:T,consts:ye,incompleteFirstPass:!1,ssrId:V}}let Vu=()=>null;function l1(e,n,i,u,p){for(let _ in n){if(!n.hasOwnProperty(_))continue;const E=n[_];if(void 0===E)continue;u??={};let D,T=xi.None;Array.isArray(E)?(D=E[0],T=E[1]):D=E;let R=_;if(null!==p){if(!p.hasOwnProperty(_))continue;R=p[_]}0===e?u1(u,i,R,D,T):u1(u,i,R,D)}return u}function u1(e,n,i,u,p){let _;e.hasOwnProperty(i)?(_=e[i]).push(n,u):_=e[i]=[n,u],void 0!==p&&_.push(p)}function Si(e,n,i,u,p,_,E,D){const T=bi(n,i);let V,R=n.inputs;!D&&null!=R&&(V=R[u])?(io(e,i,V,u,p),qc(n)&&function SC(e,n){const i=to(n,e);16&i[Fe]||(i[Fe]|=64)}(i,n.index)):3&n.type&&(u=function DC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(u),p=null!=E?E(p,n.value||"",u):p,_.setProperty(T,u,p))}function ju(e,n,i,u){if(Sf()){const p=null===u?null:{"":-1},_=function MC(e,n){const i=e.directiveRegistry;let u=null,p=null;if(i)for(let _=0;_<i.length;_++){const E=i[_];if(cs(n,E.selectors,!1))if(u||(u=[]),Vo(E))if(null!==E.findHostDirectiveDefs){const D=[];p=p||new Map,E.findHostDirectiveDefs(E,D,p),u.unshift(...D,E),h1(e,n,D.length)}else u.unshift(E),h1(e,n,0);else p=p||new Map,E.findHostDirectiveDefs?.(E,u,p),u.push(E)}return null===u?null:[u,p]}(e,i);let E,D;null===_?E=D=null:[E,D]=_,null!==E&&TC(e,n,i,E,p,D),p&&function NC(e,n,i){if(n){const u=e.localNames=[];for(let p=0;p<n.length;p+=2){const _=i[n[p+1]];if(null==_)throw new De(-301,!1);u.push(n[p],_)}}}(i,u,p)}i.mergedAttrs=Lo(i.mergedAttrs,i.attrs)}function TC(e,n,i,u,p,_){for(let R=0;R<u.length;R++)ru(Hs(i,n),e,u[R].type);!function La(e,n,i){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+i,e.providerIndexes=n}(i,e.data.length,u.length);for(let R=0;R<u.length;R++){const V=u[R];V.providersResolver&&V.providersResolver(V)}let E=!1,D=!1,T=qs(e,n,u.length,null);for(let R=0;R<u.length;R++){const V=u[R];i.mergedAttrs=Lo(i.mergedAttrs,V.hostAttrs),f1(e,i,n,T,V),Hu(T,V,p),null!==V.contentQueries&&(i.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(i.flags|=64);const Y=V.type.prototype;!E&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((e.preOrderHooks??=[]).push(i.index),E=!0),!D&&(Y.ngOnChanges||Y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(i.index),D=!0),T++}!function d1(e,n,i){const p=n.directiveEnd,_=e.data,E=n.attrs,D=[];let T=null,R=null;for(let V=n.directiveStart;V<p;V++){const Y=_[V],oe=i?i.get(Y):null,ye=oe?oe.outputs:null;T=l1(0,Y.inputs,V,T,oe?oe.inputs:null),R=l1(1,Y.outputs,V,R,ye);const Ue=null===T||null===E||ur(n)?null:m1(T,V,E);D.push(Ue)}null!==T&&(T.hasOwnProperty("class")&&(n.flags|=8),T.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=D,n.inputs=T,n.outputs=R}(e,i,_)}function Up(e,n,i){const u=i.directiveStart,p=i.directiveEnd,_=i.index,E=function Pd(){return jt.lFrame.currentDirectiveIndex}();try{ba(_);for(let D=u;D<p;D++){const T=e.data[D],R=n[D];Pm(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Vp(T,R)}}finally{ba(-1),Pm(E)}}function Vp(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function h1(e,n,i){n.componentOffset=i,(e.components??=[]).push(n.index)}function Hu(e,n,i){if(i){if(n.exportAs)for(let u=0;u<n.exportAs.length;u++)i[n.exportAs[u]]=e;Vo(n)&&(i[""]=e)}}function f1(e,n,i,u,p){e.data[u]=p;const _=p.factory||(p.factory=be(p.type)),E=new el(_,Vo(p),_l);e.blueprint[u]=E,i[u]=E,function hb(e,n,i,u,p){const _=p.hostBindings;if(_){let E=e.hostBindingOpCodes;null===E&&(E=e.hostBindingOpCodes=[]);const D=~n.index;(function Bp(e){let n=e.length;for(;n>0;){const i=e[--n];if("number"==typeof i&&i<0)return i}return 0})(E)!=D&&E.push(D),E.push(i,u,_)}}(e,n,u,qs(e,i,p.hostVars,qt),p)}function Bi(e,n,i,u,p,_){const E=bi(e,n);!function g1(e,n,i,u,p,_,E){if(null==_)e.removeAttribute(n,p,i);else{const D=null==E?Ft(_):E(_,u||"",p);e.setAttribute(n,p,D,i)}}(n[Vt],E,_,e.value,i,u,p)}function OC(e,n,i,u,p,_){const E=_[n];if(null!==E)for(let D=0;D<E.length;)s1(u,i,E[D++],E[D++],E[D++],E[D++])}function m1(e,n,i){let u=null,p=0;for(;p<i.length;){const _=i[p];if(0!==_)if(5!==_){if("number"==typeof _)break;if(e.hasOwnProperty(_)){null===u&&(u=[]);const E=e[_];for(let D=0;D<E.length;D+=3)if(E[D]===n){u.push(_,E[D+1],E[D+2],i[p+1]);break}}p+=2}else p+=2;else p+=4}return u}function RC(e,n,i,u){return[e,!0,0,n,null,u,null,i,null,null]}function kC(e,n){const i=e.contentQueries;if(null!==i){const u=z(null);try{for(let p=0;p<i.length;p+=2){const E=i[p+1];if(-1!==E){const D=e.data[E];Ld(i[p]),D.contentQueries(2,n[E],E)}}}finally{z(u)}}}function jp(e,n){return e[Zc]?e[Xc][Ut]=n:e[Zc]=n,e[Xc]=n,n}function _1(e,n,i){Ld(0);const u=z(null);try{n(e,i)}finally{z(u)}}function Hp(e){return e[Gr]??=[]}function v1(e){return e.cleanup??=[]}function Ui(e,n){const i=e[Hn],u=i?i.get(Io,null):null;u&&u.handleError(n)}function io(e,n,i,u,p){for(let _=0;_<i.length;){const E=i[_++],D=i[_++],T=i[_++];s1(e.data[E],n[E],u,D,T,p)}}function Qs(e,n,i){const u=ic(n,e);!function Mp(e,n,i){e.setValue(n,i)}(e[Vt],u,i)}function Mh(e,n){const i=to(n,e),u=i[ge];!function PC(e,n){for(let i=n.length;i<e.blueprint.length;i++)n.push(e.blueprint[i])}(u,i);const p=i[Ee];null!==p&&null===i[In]&&(i[In]=lp(p,i[Hn])),y1(u,i,i[sn])}function y1(e,n,i){Af(n);try{const u=e.viewQuery;null!==u&&_1(1,u,i);const p=e.template;null!==p&&xC(e,n,p,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),n[vo]?.finishViewCreation(e),e.staticContentQueries&&kC(e,n),e.staticViewQueries&&_1(2,e.viewQuery,i);const _=e.components;null!==_&&function LC(e,n){for(let i=0;i<n.length;i++)Mh(e,n[i])}(n,_)}catch(u){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),u}finally{n[Fe]&=-5,Nf()}}function Fa(e,n){return!n||null===n.firstChild||Xd(e)}function yl(e,n,i,u,p=!1){for(;null!==i;){if(128===i.type){i=p?i.projectionNext:i.next;continue}const _=n[i.index];null!==_&&u.push(Dn(_)),oi(_)&&w1(_,u);const E=i.type;if(8&E)yl(e,n,i.child,u);else if(32&E){const D=_h(i,n);let T;for(;T=D();)u.push(T)}else if(16&E){const D=Pp(n,i);if(Array.isArray(D))u.push(...D);else{const T=Fs(n[zn]);yl(T[ge],T,D,u,!0)}}i=p?i.projectionNext:i.next}return u}function w1(e,n){for(let i=Ar;i<e.length;i++){const u=e[i],p=u[ge].firstChild;null!==p&&yl(u[ge],u,p,n)}e[ls]!==e[Ee]&&n.push(e[ls])}let Js=[];const Gu={...ae,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Nd(e.lView)},consumerOnSignalRead(){this.lView[eo]=this}},UC={...ae,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Fs(e.lView);for(;n&&!Ua(n[ge]);)n=Fs(n);n&&vm(n)},consumerOnSignalRead(){this.lView[eo]=this}};function Ua(e){return 2!==e.type}const VC=100;function $u(e,n=!0,i=0){const u=e[ki],p=u.rendererFactory;p.begin?.();try{!function jC(e,n){const i=Nm();try{Om(!0),Wu(e,n);let u=0;for(;Md(e);){if(u===VC)throw new De(103,!1);u++,Wu(e,1)}}finally{Om(i)}}(e,i)}catch(E){throw n&&Ui(e,E),E}finally{p.end?.(),u.inlineEffectRunner?.flush()}}function Nh(e,n,i,u){const p=n[Fe];if(!(256&~p))return;n[ki].inlineEffectRunner?.flush(),Af(n);let D=!0,T=null,R=null;Ua(e)?(R=function FC(e){return e[eo]??function zu(e){const n=Js.pop()??Object.create(Gu);return n.lView=e,n}(e)}(n),T=Oe(R)):null===function q(){return re}()?(D=!1,R=function E1(e){const n=e[eo]??Object.create(UC);return n.lView=e,n}(n),T=Oe(R)):n[eo]&&(Qe(n[eo]),n[eo]=null);try{xf(n),function Rm(e){return jt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==i&&xC(e,n,i,2,u);const V=!(3&~p);if(V){const ue=e.preOrderCheckHooks;null!==ue&&Fd(n,ue,null)}else{const ue=e.preOrderHooks;null!==ue&&Us(n,ue,0,null),wo(n,0)}if(function b1(e){for(let n=Qd(e);null!==n;n=tp(n)){if(!(n[Fe]&Sd.HasTransplantedViews))continue;const i=n[rc];for(let u=0;u<i.length;u++)vm(i[u])}}(n),x1(n,0),null!==e.contentQueries&&kC(e,n),V){const ue=e.contentCheckHooks;null!==ue&&Fd(n,ue)}else{const ue=e.contentHooks;null!==ue&&Us(n,ue,1),wo(n,1)}!function Ih(e,n){const i=e.hostBindingOpCodes;if(null!==i)try{for(let u=0;u<i.length;u++){const p=i[u];if(p<0)ba(~p);else{const _=p,E=i[++u],D=i[++u];km(E,_),D(2,n[_])}}}finally{ba(-1)}}(e,n);const Y=e.components;null!==Y&&Zu(n,Y,0);const oe=e.viewQuery;if(null!==oe&&_1(2,oe,u),V){const ue=e.viewCheckHooks;null!==ue&&Fd(n,ue)}else{const ue=e.viewHooks;null!==ue&&Us(n,ue,2),wo(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Yc]){for(const ue of n[Yc])ue();n[Yc]=null}n[Fe]&=-73}catch(V){throw Nd(n),V}finally{null!==R&&(Ye(R,T),D&&function BC(e){e.lView[eo]!==e&&(e.lView=null,Js.push(e))}(R)),Nf()}}function x1(e,n){for(let i=Qd(e);null!==i;i=tp(i))for(let u=Ar;u<i.length;u++)zC(i[u],n)}function HC(e,n,i){zC(to(n,e),i)}function zC(e,n){us(e)&&Wu(e,n)}function Wu(e,n){const u=e[ge],p=e[Fe],_=e[eo];let E=!!(0===n&&16&p);if(E||=!!(64&p&&0===n),E||=!!(1024&p),E||=!(!_?.dirty||!ut(_)),E||=!1,_&&(_.dirty=!1),e[Fe]&=-9217,E)Nh(u,e,u.template,e[sn]);else if(8192&p){x1(e,1);const D=u.components;null!==D&&Zu(e,D,1)}}function Zu(e,n,i){for(let u=0;u<n.length;u++)HC(e,n[u],i)}function Cl(e,n){const i=Nm()?64:1088;for(e[ki].changeDetectionScheduler?.notify(n);e;){e[Fe]|=i;const u=Fs(e);if(Kc(e)&&!u)return e;e=u}return null}class wl{get rootNodes(){const n=this._lView,i=n[ge];return yl(i,n,i.firstChild,[])}constructor(n,i,u=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(n){this._lView[sn]=n}get destroyed(){return!(256&~this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[_t];if(oi(n)){const i=n[8],u=i?i.indexOf(this):-1;u>-1&&(fl(n,u),Rs(i,u))}this._attachedToViewContainer=!1}Rp(this._lView[ge],this._lView)}onDestroy(n){Od(this._lView,n)}markForCheck(){Cl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Fe]&=-129}reattach(){bf(this._lView),this._lView[Fe]|=128}detectChanges(){this._lView[Fe]|=1024,$u(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Kc(this._lView),i=this._lView[Gn];null!==i&&!n&&ms(i,this._lView),Op(this._lView[ge],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=n;const i=Kc(this._lView),u=this._lView[Gn];null!==u&&!i&&yi(u,this._lView),bf(this._lView)}}let Xo=(()=>{class e{static{this.__NG_ELEMENT_ID__=$C}}return e})();const GC=Xo,I1=class extends GC{constructor(n,i,u){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,u){const p=function Ec(e,n,i,u){const p=z(null);try{const _=n.tView,T=Fu(e,_,i,4096&e[Fe]?4096:16,null,n,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[Gn]=e[n.index];const V=e[vo];return null!==V&&(T[vo]=V.createEmbeddedView(_)),y1(_,T,i),T}finally{z(p)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:u});return new wl(p)}};function $C(){return Xu($n(),Me())}function Xu(e,n){return 4&e.type?new I1(n,e,nl(e,n)):null}class bc{}const td=new Je("",{providedIn:"root",factory:()=>!1}),ia=new Je(""),oa=new Je("");class Cw{}class ww{}class yb{resolveComponentFactory(n){throw function Q1(e){const n=Error(`No component factory found for ${kt(e)}.`);return n.ngComponent=e,n}(n)}}class Jp{static{this.NULL=new yb}}class e_{}let Cb=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function wb(){const e=Me(),i=to($n().index,e);return(Br(i)?i:e)[Vt]}()}}return e})(),Eb=(()=>{class e{static{this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>null})}}return e})();function ja(e){return!!O(e)}function jh(e,n,i){let u=i?e.styles:null,p=i?e.classes:null,_=0;if(null!==n)for(let E=0;E<n.length;E++){const D=n[E];"number"==typeof D?_=D:1==_?p=Ro(p,D):2==_&&(u=Ro(u,D+": "+n[++E]+";"))}i?e.styles=u:e.stylesWithoutHost=u,i?e.classes=p:e.classesWithoutHost=p}class tg extends Jp{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=C(n);return new Hh(i,this.ngModule)}}function i_(e,n){const i=[];for(const u in e){if(!e.hasOwnProperty(u))continue;const p=e[u];if(void 0===p)continue;const _=Array.isArray(p),E=_?p[0]:p;i.push(n?{propName:E,templateName:u,isSignal:!!((_?p[1]:xi.None)&xi.SignalBased)}:{propName:E,templateName:u})}return i}class Hh extends ww{get inputs(){const n=this.componentDef,i=n.inputTransforms,u=i_(n.inputs,!0);if(null!==i)for(const p of u)i.hasOwnProperty(p.propName)&&(p.transform=i[p.propName]);return u}get outputs(){return i_(this.componentDef.outputs,!1)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Bo(e){return e.map(Ji).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}create(n,i,u,p){const _=z(null);try{let E=(p=p||this.ngModule)instanceof Ri?p:p?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const D=E?new Eo(n,E):n,T=D.get(e_,null);if(null===T)throw new De(407,!1);const Y={rendererFactory:T,sanitizer:D.get(Eb,null),inlineEffectRunner:null,changeDetectionScheduler:D.get(bc,null)},oe=T.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",ye=u?function Sh(e,n,i,u){const _=u.get(b0,!1)||i===yr.ShadowDom,E=e.selectRootElement(n,_);return function Uu(e){Vu(e)}(E),E}(oe,u,this.componentDef.encapsulation,D):Ru(oe,ue,function Ew(e){const n=e.toLowerCase();return"svg"===n?oy:"math"===n?"math":null}(ue));let Ue=512;this.componentDef.signals?Ue|=4096:this.componentDef.onPush||(Ue|=16);let Ke=null;null!==ye&&(Ke=lp(ye,D,!0));const et=Ks(0,null,null,1,0,null,null,null,null,null,null),Be=Fu(null,et,null,Ue,null,null,Y,oe,D,null,Ke);Af(Be);let Xt,Tn,ir=null;try{const Zr=this.componentDef;let No,df=null;Zr.findHostDirectiveDefs?(No=[],df=new Map,Zr.findHostDirectiveDefs(Zr,No,df),No.push(Zr)):No=[Zr];const XD=function xw(e,n){const i=e[ge],u=It;return e[u]=n,Pa(i,u,2,"#host",null)}(Be,ye);ir=function Ib(e,n,i,u,p,_,E){const D=p[ge];!function ng(e,n,i,u){for(const p of e)n.mergedAttrs=Lo(n.mergedAttrs,p.hostAttrs);null!==n.mergedAttrs&&(jh(n,n.mergedAttrs,!0),null!==i&&Lu(u,i,n))}(u,e,n,E);let T=null;null!==n&&(T=lp(n,p[Hn]));const R=_.rendererFactory.createRenderer(n,i);let V=16;i.signals?V=4096:i.onPush&&(V=64);const Y=Fu(p,bC(i),null,V,p[e.index],e,_,R,null,null,T);return D.firstCreatePass&&h1(D,e,u.length-1),jp(p,Y),p[e.index]=Y}(XD,ye,Zr,No,Be,Y,oe),Tn=Jc(et,It),ye&&function Db(e,n,i,u){if(u)_a(e,i,["ng-version","18.2.9"]);else{const{attrs:p,classes:_}=function wn(e){const n=[],i=[];let u=1,p=2;for(;u<e.length;){let _=e[u];if("string"==typeof _)2===p?""!==_&&n.push(_,e[++u]):8===p&&i.push(_);else{if(!Cr(p))break;p=_}u++}return{attrs:n,classes:i}}(n.selectors[0]);p&&_a(e,i,p),_&&_.length>0&&Eh(e,i,_.join(" "))}}(oe,Zr,ye,u),void 0!==i&&function Sb(e,n,i){const u=e.projection=[];for(let p=0;p<n.length;p++){const _=i[p];u.push(null!=_?Array.from(_):null)}}(Tn,this.ngContentSelectors,i),Xt=function o_(e,n,i,u,p,_){const E=$n(),D=p[ge],T=bi(E,p);TC(D,p,E,i,null,u);for(let V=0;V<i.length;V++)ti(Sa(p,D,E.directiveStart+V,E),p);Up(D,p,E),T&&ti(T,p);const R=Sa(p,D,E.directiveStart+E.componentOffset,E);if(e[sn]=p[sn]=R,null!==_)for(const V of _)V(R,n);return a1(D,E,p),R}(ir,Zr,No,df,Be,[Tb]),y1(et,Be,null)}catch(Zr){throw null!==ir&&qf(ir),qf(Be),Zr}finally{Nf()}return new bb(this.componentType,Xt,nl(Tn,Be),Be,Tn)}finally{z(_)}}}class bb extends Cw{constructor(n,i,u,p,_){super(),this.location=u,this._rootLView=p,this._tNode=_,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new wl(p,void 0,!1),this.componentType=n}setInput(n,i){const u=this._tNode.inputs;let p;if(null!==u&&(p=u[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const _=this._rootLView;io(_[ge],_,p,n,i),this.previousInputValues.set(n,i),Cl(to(this._tNode.index,_),1)}}get injector(){return new Zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Tb(){const e=$n();tu(Me()[ge],e)}let Ir=(()=>{class e{static{this.__NG_ELEMENT_ID__=ys}}return e})();function ys(){return c_($n(),Me())}const bw=Ir,s_=class extends bw{constructor(n,i,u){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=u}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new Zt(this._hostTNode,this._hostLView)}get parentInjector(){const n=no(this._hostTNode,this._hostLView);if(ei(n)){const i=nu(n,this._hostLView),u=mi(n);return new Zt(i[ge].data[u+8],i)}return new Zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=a_(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-Ar}createEmbeddedView(n,i,u){let p,_;"number"==typeof u?p=u:null!=u&&(p=u.index,_=u.injector);const D=n.createEmbeddedViewImpl(i||{},_,null);return this.insertImpl(D,p,Fa(this._hostTNode,null)),D}createComponent(n,i,u,p,_){const E=n&&!function nc(e){return"function"==typeof e}(n);let D;if(E)D=i;else{const ye=i||{};D=ye.index,u=ye.injector,p=ye.projectableNodes,_=ye.environmentInjector||ye.ngModuleRef}const T=E?n:new Hh(C(n)),R=u||this.parentInjector;if(!_&&null==T.ngModule){const Ue=(E?R:this.parentInjector).get(Ri,null);Ue&&(_=Ue)}C(T.componentType??{});const ue=T.create(R,p,null,_);return this.insertImpl(ue.hostView,D,Fa(this._hostTNode,null)),ue}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,u){const p=n._lView;if(function _m(e){return oi(e[_t])}(p)){const D=this.indexOf(n);if(-1!==D)this.detach(D);else{const T=p[_t],R=new s_(T,T[Nn],T[_t]);R.detach(R.indexOf(n))}}const _=this._adjustIndex(i),E=this._lContainer;return function Ba(e,n,i,u=!0){const p=n[ge];if(function Q0(e,n,i,u){const p=Ar+u,_=i.length;u>0&&(i[p-1][Ut]=n),u<_-Ar?(n[Ut]=i[p],ga(i,Ar+u,n)):(i.push(n),n[Ut]=null),n[_t]=i;const E=n[Gn];null!==E&&i!==E&&yi(E,n);const D=n[vo];null!==D&&D.insertView(e),bf(n),n[Fe]|=128}(p,n,e,i),u){const E=r1(i,e),D=n[Vt],T=t1(D,e[ls]);null!==T&&function yh(e,n,i,u,p,_){u[Ee]=p,u[Nn]=n,wc(e,u,i,1,p,_)}(p,e[Nn],D,n,T,E)}const _=n[In];null!==_&&null!==_.firstChild&&(_.firstChild=null)}(E,p,_,u),n.attachToViewContainerRef(),ga(rg(E),_,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=a_(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),u=fl(this._lContainer,i);u&&(Rs(rg(this._lContainer),i),Rp(u[ge],u))}detach(n){const i=this._adjustIndex(n,-1),u=fl(this._lContainer,i);return u&&null!=Rs(rg(this._lContainer),i)?new wl(u):null}_adjustIndex(n,i=0){return n??this.length+i}};function a_(e){return e[8]}function rg(e){return e[8]||(e[8]=[])}function c_(e,n){let i;const u=n[e.index];return oi(u)?i=u:(i=RC(u,n,null,e),n[e.index]=i,jp(n,i)),l_(i,n,e,u),new s_(i,e,n)}let l_=function d_(e,n,i,u){if(e[ls])return;let p;p=8&i.type?Dn(u):function Iw(e,n){const i=e[Vt],u=i.createComment(""),p=bi(n,e);return vc(i,t1(i,p),u,function _C(e,n){return e.nextSibling(n)}(i,p),!1),u}(n,i),e[ls]=p},ig=()=>!1;class og{constructor(n){this.queryList=n,this.matches=null}clone(){return new og(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const u=null!==n.contentQueries?n.contentQueries[0]:i.length,p=[];for(let _=0;_<u;_++){const E=i.getByIndex(_);p.push(this.queries[E.indexInDeclarationView].clone())}return new sg(p)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==hg(n,i).matches&&this.queries[i].setDirty()}}class h_{constructor(n,i,u=null){this.flags=i,this.read=u,this.predicate="string"==typeof n?function m_(e){return e.split(",").map(n=>n.trim())}(n):n}}class ag{constructor(n=[]){this.queries=n}elementStart(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let u=0;u<this.length;u++){const p=null!==i?i.length:0,_=this.getByIndex(u).embeddedTView(n,p);_&&(_.indexInDeclarationView=u,null!==i?i.push(_):i=[_])}return null!==i?new ag(i):null}template(n,i){for(let u=0;u<this.queries.length;u++)this.queries[u].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class cg{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new cg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let u=n.parent;for(;null!==u&&8&u.type&&u.index!==i;)u=u.parent;return i===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const _=u[p];this.matchTNodeWithReadOption(n,i,f_(i,_)),this.matchTNodeWithReadOption(n,i,Hd(i,n,_,!1,!1))}else u===Xo?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Hd(i,n,u,!1,!1))}matchTNodeWithReadOption(n,i,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===du||p===Ir||p===Xo&&4&i.type)this.addMatch(i.index,-2);else{const _=Hd(i,n,p,!1,!1);null!==_&&this.addMatch(i.index,_)}else this.addMatch(i.index,u)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function f_(e,n){const i=e.localNames;if(null!==i)for(let u=0;u<i.length;u+=2)if(i[u]===n)return i[u+1];return null}function Aw(e,n,i,u){return-1===i?function lg(e,n){return 11&e.type?nl(e,n):4&e.type?Xu(e,n):null}(n,e):-2===i?function Mw(e,n,i){return i===du?nl(n,e):i===Xo?Xu(n,e):i===Ir?c_(n,e):void 0}(e,n,u):Sa(e,e[ge],i,n)}function p_(e,n,i,u){const p=n[vo].queries[u];if(null===p.matches){const _=e.data,E=i.matches,D=[];for(let T=0;null!==E&&T<E.length;T+=2){const R=E[T];D.push(R<0?null:Aw(n,_[R],E[T+1],i.metadata.read))}p.matches=D}return p.matches}function ug(e,n,i,u){const p=e.queries.getByIndex(i),_=p.matches;if(null!==_){const E=p_(e,n,p,i);for(let D=0;D<_.length;D+=2){const T=_[D];if(T>0)u.push(E[D/2]);else{const R=_[D+1],V=n[-T];for(let Y=Ar;Y<V.length;Y++){const oe=V[Y];oe[Gn]===oe[_t]&&ug(oe[ge],oe,R,u)}if(null!==V[rc]){const Y=V[rc];for(let oe=0;oe<Y.length;oe++){const ue=Y[oe];ug(ue[ge],ue,R,u)}}}}}return u}function To(e,n,i){const u=new Yf(!(4&~i));return function Fp(e,n,i,u){const p=Hp(n);p.push(i),e.firstCreatePass&&v1(e).push(u,p.length-1)}(e,n,u,u.destroy),(n[vo]??=new sg).queries.push(new og(u))-1}function __(e,n,i){null===e.queries&&(e.queries=new ag),e.queries.track(new cg(n,i))}function hg(e,n){return e.queries.getByIndex(n)}function Dl(e,n){const i=e[ge],u=hg(i,n);return u.crossesNgTemplate?ug(i,e,n,[]):p_(i,e,u,n)}const sd=new Set;function $r(e){sd.has(e)||(sd.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function C_(e,n){$r("NgSignals");const i=function Gt(e){const n=Object.create(Fn);n.value=e;const i=()=>(te(n),n.value);return i[j]=n,i}(e),u=i[j];return n?.equal&&(u.equal=n.equal),i.set=p=>Pe(u,p),i.update=p=>function Kt(e,n){Ve()||Ae(),Pe(e,n(e.value))}(u,p),i.asReadonly=Sl.bind(i),i}function Sl(){const e=this[j];if(void 0===e.readonlyFn){const n=()=>this();n[j]=e,e.readonlyFn=n}return e.readonlyFn}function fg(e){return function y_(e){return"function"==typeof e&&void 0!==e[j]}(e)&&"function"==typeof e.set}function yg(e){let n=function Bw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),i=!0;const u=[e];for(;n;){let p;if(Vo(e))p=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new De(903,!1);p=n.\u0275dir}if(p){if(i){u.push(p);const E=e;E.inputs=$h(e.inputs),E.inputTransforms=$h(e.inputTransforms),E.declaredInputs=$h(e.declaredInputs),E.outputs=$h(e.outputs);const D=p.hostBindings;D&&zw(e,D);const T=p.viewQuery,R=p.contentQueries;if(T&&jw(e,T),R&&Hw(e,R),Uw(e,p),Wa(e.outputs,p.outputs),Vo(p)&&p.data.animation){const V=e.data;V.animation=(V.animation||[]).concat(p.data.animation)}}const _=p.features;if(_)for(let E=0;E<_.length;E++){const D=_[E];D&&D.ngInherit&&D(e),D===yg&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Vw(e){let n=0,i=null;for(let u=e.length-1;u>=0;u--){const p=e[u];p.hostVars=n+=p.hostVars,p.hostAttrs=Lo(p.hostAttrs,i=Lo(i,p.hostAttrs))}}(u)}function Uw(e,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||e.inputs.hasOwnProperty(i))continue;const u=n.inputs[i];if(void 0!==u&&(e.inputs[i]=u,e.declaredInputs[i]=n.declaredInputs[i],null!==n.inputTransforms)){const p=Array.isArray(u)?u[0]:u;if(!n.inputTransforms.hasOwnProperty(p))continue;e.inputTransforms??={},e.inputTransforms[p]=n.inputTransforms[p]}}}function $h(e){return e===Ni?{}:e===Dt?[]:e}function jw(e,n){const i=e.viewQuery;e.viewQuery=i?(u,p)=>{n(u,p),i(u,p)}:n}function Hw(e,n){const i=e.contentQueries;e.contentQueries=i?(u,p,_)=>{n(u,p,_),i(u,p,_)}:n}function zw(e,n){const i=e.hostBindings;e.hostBindings=i?(u,p)=>{n(u,p),i(u,p)}:n}function R_(e){const n=e.inputConfig,i={};for(const u in n)if(n.hasOwnProperty(u)){const p=n[u];Array.isArray(p)&&p[3]&&(i[u]=p[3])}e.inputTransforms=i}class Ic{}class k_{}function Xw(e,n){return new Cg(e,n??null,[])}class Cg extends Ic{constructor(n,i,u,p=!0){super(),this.ngModuleType=n,this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tg(this);const _=O(n);this._bootstrapComponents=Li(_.bootstrap),this._r3Injector=e0(n,i,[{provide:Ic,useValue:this},{provide:Jp,useValue:this.componentFactoryResolver},...u],kt(n),new Set(["environment"])),p&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wg extends k_{constructor(n){super(),this.moduleType=n}create(n){return new Cg(this.moduleType,n,[])}}class P_ extends Ic{constructor(n){super(),this.componentFactoryResolver=new tg(this),this.instance=null;const i=new Ja([...n.providers,{provide:Ic,useValue:this},{provide:Jp,useValue:this.componentFactoryResolver}],n.parent||Gc(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Eg(e,n,i=null){return new P_({providers:e,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}function Wh(e){return!!xg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function xg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Es(e,n,i){return e[n]=i}function Or(e,n,i){return!Object.is(e[n],i)&&(e[n]=i,!0)}function Dc(e,n,i,u){const p=Or(e,n,i);return Or(e,n+1,u)||p}function ld(e,n,i,u,p,_,E,D,T,R){const V=i+It,Y=n.firstCreatePass?function Jw(e,n,i,u,p,_,E,D,T){const R=n.consts,V=Pa(n,e,4,E||null,D||null);ju(n,i,V,Co(R,T)),tu(n,V);const Y=V.tView=Ks(2,V,u,p,_,n.directiveRegistry,n.pipeRegistry,null,n.schemas,R,null);return null!==n.queries&&(n.queries.template(n,V),Y.queries=n.queries.embeddedTView(V)),V}(V,n,e,u,p,_,E,D,T):n.data[V];jo(Y,!1);const oe=F_(n,e,Y,i);Bs()&&kp(n,e,oe,Y),ti(oe,e);const ue=RC(oe,e,oe,Y);return e[V]=ue,jp(e,ue),function u_(e,n,i){return ig(e,n,i)}(ue,Y,e),_f(Y)&&c1(n,e,Y),null!=T&&Dh(e,Y,R),Y}function bg(e,n,i,u,p,_,E,D){const T=Me(),R=hn();return ld(T,R,e,n,i,u,p,Co(R.consts,_),E,D),bg}let F_=function B_(e,n,i,u){return hs(!0),n[Vt].createComment("")};var Nl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Nl||{});let z_=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Rn({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Ol{constructor(){this.ngZone=ft(dr),this.scheduler=ft(bc),this.errorHandler=ft(Io,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Nl.EarlyRead,Nl.Write,Nl.MixedReadWrite,Nl.Read]}execute(){this.executing=!0;for(const n of Ol.PHASES)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[n])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[n](i.pipelinedValue))}catch(u){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(u)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=Rn({token:Ol,providedIn:"root",factory:()=>new Ol})}}class hd{constructor(n,i,u,p){this.impl=n,this.hooks=i,this.once=u,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=p?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}}function Kh(e,n){!n?.injector&&function ks(e){if(!Wc())throw new De(-203,!1)}();const i=n?.injector??ft(_i);return function Fi(e){return"browser"===(e??ft(_i)).get(eh)}(i)?($r("NgAfterNextRender"),function Tg(e,n,i,u){const p=n.get(z_);p.impl??=n.get(Ol);const _=i?.phase??Nl.MixedReadWrite,E=!0!==i?.manualCleanup?n.get(Go):null,D=new hd(p.impl,function qb(e,n){if(e instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=e,i}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,_),u,E);return p.impl.register(D),D}(e,i,n,!0)):Ag}const Ag={destroy(){}};function pd(e,n,i,u){const p=Me();return Or(p,zo(),n)&&(hn(),Bi(Xn(),p,e,n,i,u)),pd}function Bl(e,n,i,u){return Or(e,zo(),i)?n+Ft(i)+u:qt}function Nc(e,n,i,u,p,_,E,D){const R=function Zh(e,n,i,u,p){const _=Dc(e,n,i,u);return Or(e,n+2,p)||_}(e,ds(),i,p,E);return Jn(3),R?n+Ft(i)+u+Ft(p)+_+Ft(E)+D:qt}function gd(e,n){return e<<17|n<<2}function Ga(e){return e>>17&32767}function zg(e){return 2|e}function ni(e){return(131068&e)>>2}function Gg(e,n){return-131069&e|n<<2}function hv(e){return 1|e}function fv(e,n,i,u){const p=e[i+1],_=null===n;let E=u?Ga(p):ni(p),D=!1;for(;0!==E&&(!1===D||_);){const R=e[E+1];bE(e[E],n)&&(D=!0,e[E+1]=u?hv(R):zg(R)),E=u?Ga(R):ni(R)}D&&(e[i+1]=u?zg(p):hv(p))}function bE(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&ho(e,n)>=0}const Wr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $g(e){return e.substring(Wr.key,Wr.keyEnd)}function pv(e,n){const i=Wr.textEnd;return i===n?-1:(n=Wr.keyEnd=function DE(e,n,i){for(;n<i&&e.charCodeAt(n)>32;)n++;return n}(e,Wr.key=n,i),$l(e,n,i))}function $l(e,n,i){for(;n<i&&e.charCodeAt(n)<=32;)n++;return n}function Wg(e,n,i){const u=Me();return Or(u,zo(),n)&&Si(hn(),Xn(),u,e,n,u[Vt],i,!1),Wg}function Zg(e,n,i,u,p){const E=p?"class":"style";io(e,i,n.inputs[E],E,u)}function Xg(e,n){return function Jo(e,n,i,u){const p=Me(),_=hn(),E=Jn(2);_.firstUpdatePass&&Ev(_,e,E,u),n!==qt&&Or(p,E,n)&&bv(_,_.data[Jr()],p,p[Vt],e,p[E+1]=function r(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=kt(ka(e)))),e}(n,i),u,E)}(e,n,null,!0),Xg}function Cv(e){!function es(e,n,i,u){const p=hn(),_=Jn(2);p.firstUpdatePass&&Ev(p,null,_,u);const E=Me();if(i!==qt&&Or(E,_,i)){const D=p.data[Jr()];if(a(D,u)&&!wv(p,_)){let T=u?D.classesWithoutHost:D.stylesWithoutHost;null!==T&&(i=Ro(T,i||"")),Zg(p,D,E,i,u)}else!function PE(e,n,i,u,p,_,E,D){p===qt&&(p=Dt);let T=0,R=0,V=0<p.length?p[0]:null,Y=0<_.length?_[0]:null;for(;null!==V||null!==Y;){const oe=T<p.length?p[T+1]:void 0,ue=R<_.length?_[R+1]:void 0;let Ue,ye=null;V===Y?(T+=2,R+=2,oe!==ue&&(ye=Y,Ue=ue)):null===Y||null!==V&&V<Y?(T+=2,ye=V):(R+=2,ye=Y,Ue=ue),null!==ye&&bv(e,n,i,u,ye,Ue,E,D),V=T<p.length?p[T]:null,Y=R<_.length?_[R]:null}}(p,D,E,E[Vt],E[_+1],E[_+1]=function RE(e,n,i){if(null==i||""===i)return Dt;const u=[],p=ka(i);if(Array.isArray(p))for(let _=0;_<p.length;_++)e(u,p[_],!0);else if("object"==typeof p)for(const _ in p)p.hasOwnProperty(_)&&e(u,_,p[_]);else"string"==typeof p&&n(u,p);return u}(e,n,i),u,_)}}(kE,Is,e,!0)}function Is(e,n){for(let i=function Gl(e){return function mv(e){Wr.key=0,Wr.keyEnd=0,Wr.value=0,Wr.valueEnd=0,Wr.textEnd=e.length}(e),pv(e,$l(e,0,Wr.textEnd))}(n);i>=0;i=pv(n,i))vr(e,$g(n),!0)}function wv(e,n){return n>=e.expandoStartIndex}function Ev(e,n,i,u){const p=e.data;if(null===p[i+1]){const _=p[Jr()],E=wv(e,i);a(_,u)&&null===n&&!E&&(n=!1),n=function ME(e,n,i,u){const p=function Nt(e){const n=jt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let _=u?n.residualClasses:n.residualStyles;if(null===p)0===(u?n.classBindings:n.styleBindings)&&(i=md(i=Yg(null,e,n,i,u),n.attrs,u),_=null);else{const E=n.directiveStylingLast;if(-1===E||e[E]!==p)if(i=Yg(p,e,n,i,u),null===_){let T=function tI(e,n,i){const u=i?n.classBindings:n.styleBindings;if(0!==ni(u))return e[Ga(u)]}(e,n,u);void 0!==T&&Array.isArray(T)&&(T=Yg(null,e,n,T[1],u),T=md(T,n.attrs,u),function NE(e,n,i,u){e[Ga(i?n.classBindings:n.styleBindings)]=u}(e,n,u,T))}else _=function OE(e,n,i){let u;const p=n.directiveEnd;for(let _=1+n.directiveStylingLast;_<p;_++)u=md(u,e[_].hostAttrs,i);return md(u,n.attrs,i)}(e,n,u)}return void 0!==_&&(u?n.residualClasses=_:n.residualStyles=_),i}(p,_,n,u),function EE(e,n,i,u,p,_){let E=_?n.classBindings:n.styleBindings,D=Ga(E),T=ni(E);e[u]=i;let V,R=!1;if(Array.isArray(i)?(V=i[1],(null===V||ho(i,V)>0)&&(R=!0)):V=i,p)if(0!==T){const oe=Ga(e[D+1]);e[u+1]=gd(oe,D),0!==oe&&(e[oe+1]=Gg(e[oe+1],u)),e[D+1]=function CE(e,n){return 131071&e|n<<17}(e[D+1],u)}else e[u+1]=gd(D,0),0!==D&&(e[D+1]=Gg(e[D+1],u)),D=u;else e[u+1]=gd(T,0),0===D?D=u:e[T+1]=Gg(e[T+1],u),T=u;R&&(e[u+1]=zg(e[u+1])),fv(e,V,u,!0),fv(e,V,u,!1),function xE(e,n,i,u,p){const _=p?e.residualClasses:e.residualStyles;null!=_&&"string"==typeof n&&ho(_,n)>=0&&(i[u+1]=hv(i[u+1]))}(n,V,e,u,_),E=gd(D,T),_?n.classBindings=E:n.styleBindings=E}(p,_,n,i,E,u)}}function Yg(e,n,i,u,p){let _=null;const E=i.directiveEnd;let D=i.directiveStylingLast;for(-1===D?D=i.directiveStart:D++;D<E&&(_=n[D],u=md(u,_.hostAttrs,p),_!==e);)D++;return null!==e&&(i.directiveStylingLast=D),u}function md(e,n,i){const u=i?1:2;let p=-1;if(null!==n)for(let _=0;_<n.length;_++){const E=n[_];"number"==typeof E?p=E:p===u&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vr(e,E,!!i||n[++_]))}return void 0===e?null:e}function kE(e,n,i){const u=String(n);""!==u&&!u.includes(" ")&&vr(e,u,i)}function bv(e,n,i,u,p,_,E,D){if(!(3&n.type))return;const T=e.data,R=T[D+1],V=function wE(e){return!(1&~e)}(R)?Iv(T,n,i,p,ni(R),E):void 0;sf(V)||(sf(_)||function yE(e){return!(2&~e)}(R)&&(_=Iv(T,null,i,p,D,E)),function i1(e,n,i,u,p){if(n)p?e.addClass(i,u):e.removeClass(i,u);else{let _=-1===u.indexOf("-")?void 0:gh.DashCase;null==p?e.removeStyle(i,u,_):("string"==typeof p&&p.endsWith("!important")&&(p=p.slice(0,-10),_|=gh.Important),e.setStyle(i,u,p,_))}}(u,E,ic(Jr(),i),p,_))}function Iv(e,n,i,u,p,_){const E=null===n;let D;for(;p>0;){const T=e[p],R=Array.isArray(T),V=R?T[1]:T,Y=null===V;let oe=i[p+1];oe===qt&&(oe=Y?Dt:void 0);let ue=Y?ss(oe,u):V===u?oe:void 0;if(R&&!sf(ue)&&(ue=ss(T,u)),sf(ue)&&(D=ue,E))return D;const ye=e[p+1];p=E?Ga(ye):ni(ye)}if(null!==n){let T=_?n.residualClasses:n.residualStyles;null!=T&&(D=ss(T,u))}return D}function sf(e){return void 0!==e}function a(e,n){return!!(e.flags&(n?8:16))}function Tv(e,n,i,u){const p=Me(),_=hn(),E=It+e,D=p[Vt],T=_.firstCreatePass?function gS(e,n,i,u,p,_){const E=n.consts,T=Pa(n,e,2,u,Co(E,p));return ju(n,i,T,Co(E,_)),null!==T.attrs&&jh(T,T.attrs,!1),null!==T.mergedAttrs&&jh(T,T.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,T),T}(E,_,p,n,i,u):_.data[E],R=nI(_,p,T,D,n,e);p[E]=R;const V=_f(T);return jo(T,!0),Lu(D,R,T),!function Ml(e){return!(32&~e.flags)}(T)&&Bs()&&kp(_,p,R,T),0===function wm(){return jt.lFrame.elementDepthCount}()&&ti(R,p),function Em(){jt.lFrame.elementDepthCount++}(),V&&(c1(_,p,T),a1(_,T,p)),null!==u&&Dh(p,T),Tv}function Av(){let e=$n();Ho()?function Mr(){jt.lFrame.isParent=!1}():(e=e.parent,jo(e,!1));const n=e;(function bm(e){return jt.skipHydrationRootTNode===e})(n)&&function cy(){jt.skipHydrationRootTNode=null}(),function xm(){jt.lFrame.elementDepthCount--}();const i=hn();return i.firstCreatePass&&(tu(i,e),mf(e)&&i.queries.elementEnd(e)),null!=n.classesWithoutHost&&function fs(e){return!!(8&e.flags)}(n)&&Zg(i,n,Me(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Ud(e){return!!(16&e.flags)}(n)&&Zg(i,n,Me(),n.stylesWithoutHost,!1),Av}function FE(e,n,i,u){return Tv(e,n,i,u),Av(),FE}let nI=(e,n,i,u,p,_)=>(hs(!0),Ru(u,p,function jm(){return jt.lFrame.currentNamespace}()));function oI(){return Me()}const _d=void 0;var ES=["en",[["a","p"],["AM","PM"],_d],[["AM","PM"],_d,_d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_d,"{1} 'at' {0}",_d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wS(e){const i=Math.floor(Math.abs(e)),u=e.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===u?1:5}];let af={};function VE(e){const n=function xS(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=lI(n);if(i)return i;const u=n.split("-")[0];if(i=lI(u),i)return i;if("en"===u)return ES;throw new De(701,!1)}function cI(e){return VE(e)[cf.PluralCase]}function lI(e){return e in af||(af[e]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[e]),af[e]}var cf=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(cf||{});const Mv="en-US";let uI=Mv,TI=(e,n,i)=>{};function zE(e,n,i,u){const p=Me(),_=hn(),E=$n();return GE(_,p,p[Vt],E,e,n,u),zE}function GE(e,n,i,u,p,_,E){const D=_f(u),R=e.firstCreatePass&&v1(e),V=n[sn],Y=Hp(n);let oe=!0;if(3&u.type||E){const Ue=bi(u,n),Ke=E?E(Ue):Ue,et=Y.length,Be=E?Tn=>E(Dn(Tn[u.index])):u.index;let Xt=null;if(!E&&D&&(Xt=function dT(e,n,i,u){const p=e.cleanup;if(null!=p)for(let _=0;_<p.length-1;_+=2){const E=p[_];if(E===i&&p[_+1]===u){const D=n[Gr],T=p[_+2];return D.length>T?D[T]:null}"string"==typeof E&&(_+=2)}return null}(e,n,p,u.index)),null!==Xt)(Xt.__ngLastListenerFn__||Xt).__ngNextListenerFn__=_,Xt.__ngLastListenerFn__=_,oe=!1;else{_=OI(u,n,V,_),TI(Ue,p,_);const Tn=i.listen(Ke,p,_);Y.push(_,Tn),R&&R.push(p,Be,et,et+1)}}else _=OI(u,n,V,_);const ue=u.outputs;let ye;if(oe&&null!==ue&&(ye=ue[p])){const Ue=ye.length;if(Ue)for(let Ke=0;Ke<Ue;Ke+=2){const ir=n[ye[Ke]][ye[Ke+1]].subscribe(_),Zr=Y.length;Y.push(_,ir),R&&R.push(p,u.index,Zr,-(Zr+1))}}}function NI(e,n,i,u){const p=z(null);try{return Ls(6,n,i),!1!==i(u)}catch(_){return Ui(e,_),!1}finally{Ls(7,n,i),z(p)}}function OI(e,n,i,u){return function p(_){if(_===Function)return u;Cl(e.componentOffset>-1?to(e.index,n):n,5);let D=NI(n,i,u,_),T=p.__ngNextListenerFn__;for(;T;)D=NI(n,i,T,_)&&D,T=T.__ngNextListenerFn__;return D}}function RI(e=1){return function fy(e){return(jt.lFrame.contextLView=function ym(e,n){for(;e>0;)n=n[wa],e--;return n}(e,jt.lFrame.contextLView))[sn]}(e)}function $E(e,n,i){return kv(e,"",n,"",i),$E}function kv(e,n,i,u,p){const _=Me(),E=Bl(_,n,i,u);return E!==qt&&Si(hn(),Xn(),_,e,E,_[Vt],p,!1),kv}function HI(e,n,i,u){!function g_(e,n,i,u){const p=hn();if(p.firstCreatePass){const _=$n();__(p,new h_(n,i,u),_.index),function v_(e,n){const i=e.contentQueries||(e.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,n)}(p,e),!(2&~i)&&(p.staticContentQueries=!0)}return To(p,Me(),i)}(e,n,i,u)}function zI(e,n,i){!function dg(e,n,i){const u=hn();return u.firstCreatePass&&(__(u,new h_(e,n,i),-1),!(2&~n)&&(u.staticViewQueries=!0)),To(u,Me(),n)}(e,n,i)}function GI(e){const n=Me(),i=hn(),u=Qr();Ld(u+1);const p=hg(i,u);if(e.dirty&&function sy(e){return!(4&~e[Fe])}(n)===!(2&~p.metadata.flags)){if(null===p.matches)e.reset([]);else{const _=Dl(n,u);e.reset(_,a0),e.notifyOnChanges()}return!0}return!1}function $I(){return function od(e,n){return e[vo].queries[n].queryList}(Me(),Qr())}function WI(e){return oc(function Nr(){return jt.lFrame.contextLView}(),It+e)}function n2(e,n=""){const i=Me(),u=hn(),p=e+It,_=u.firstCreatePass?Pa(u,p,1,n,null):u.data[p],E=r2(u,i,_,n,e);i[p]=E,Bs()&&kp(u,i,E,_),jo(_,!1)}let r2=(e,n,i,u,p)=>(hs(!0),function Ou(e,n){return e.createText(n)}(n[Vt],u));function ZE(e){return Pv("",e,""),ZE}function Pv(e,n,i){const u=Me(),p=Bl(u,e,n,i);return p!==qt&&Qs(u,Jr(),p),Pv}function XE(e,n,i,u,p){const _=Me(),E=function Ul(e,n,i,u,p,_){const D=Dc(e,ds(),i,p);return Jn(2),D?n+Ft(i)+u+Ft(p)+_:qt}(_,e,n,i,u,p);return E!==qt&&Qs(_,Jr(),E),XE}function YE(e,n,i,u,p,_,E){const D=Me(),T=Nc(D,e,n,i,u,p,_,E);return T!==qt&&Qs(D,Jr(),T),YE}function qE(e,n,i){fg(n)&&(n=n());const u=Me();return Or(u,zo(),n)&&Si(hn(),Xn(),u,e,n,u[Vt],i,!1),qE}function u2(e,n){const i=fg(e);return i&&e.set(n),i}function KE(e,n){const i=Me(),u=hn(),p=$n();return GE(u,i,i[Vt],p,e,n),KE}function QE(e,n,i,u,p){if(e=Pt(e),Array.isArray(e))for(let _=0;_<e.length;_++)QE(e[_],n,i,u,p);else{const _=hn(),E=Me(),D=$n();let T=Qn(e)?e:Pt(e.provide);const R=ec(e),V=1048575&D.providerIndexes,Y=D.directiveStart,oe=D.providerIndexes>>20;if(Qn(e)||!e.multi){const ue=new el(R,p,_l),ye=ex(T,n,p?V:V+oe,Y);-1===ye?(ru(Hs(D,E),_,T),JE(_,e,n.length),n.push(T),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),i.push(ue),E.push(ue)):(i[ye]=ue,E[ye]=ue)}else{const ue=ex(T,n,V+oe,Y),ye=ex(T,n,V,V+oe),Ke=ye>=0&&i[ye];if(p&&!Ke||!p&&!(ue>=0&&i[ue])){ru(Hs(D,E),_,T);const et=function PT(e,n,i,u,p){const _=new el(e,i,_l);return _.multi=[],_.index=n,_.componentProviders=0,f2(_,p,u&&!i),_}(p?kT:RT,i.length,p,u,R);!p&&Ke&&(i[ye].providerFactory=et),JE(_,e,n.length,0),n.push(T),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),i.push(et),E.push(et)}else JE(_,e,ue>-1?ue:ye,f2(i[p?ye:ue],R,!p&&u));!p&&u&&Ke&&i[ye].componentProviders++}}}function JE(e,n,i,u){const p=Qn(n),_=function ii(e){return!!e.useClass}(n);if(p||_){const T=(_?Pt(n.useClass):n).prototype.ngOnDestroy;if(T){const R=e.destroyHooks||(e.destroyHooks=[]);if(!p&&n.multi){const V=R.indexOf(i);-1===V?R.push(i,[u,T]):R[V+1].push(u,T)}else R.push(i,T)}}}function f2(e,n,i){return i&&e.componentProviders++,e.multi.push(n)-1}function ex(e,n,i,u){for(let p=i;p<u;p++)if(n[p]===e)return p;return-1}function RT(e,n,i,u){return tx(this.multi,[])}function kT(e,n,i,u){const p=this.multi;let _;if(this.providerFactory){const E=this.providerFactory.componentProviders,D=Sa(i,i[ge],this.providerFactory.index,u);_=D.slice(0,E),tx(p,_);for(let T=E;T<D.length;T++)_.push(D[T])}else _=[],tx(p,_);return _}function tx(e,n){for(let i=0;i<e.length;i++)n.push((0,e[i])());return n}function p2(e,n=[]){return i=>{i.providersResolver=(u,p)=>function OT(e,n,i){const u=hn();if(u.firstCreatePass){const p=Vo(e);QE(i,u.data,u.blueprint,p,!0),QE(n,u.data,u.blueprint,p,!1)}}(u,p?p(e):e,n)}}let LT=(()=>{class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const u=Ze(0,i.type),p=u.length>0?Eg([u],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,p)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Rn({token:e,providedIn:"environment",factory:()=>new e(Kn(Ri))})}}return e})();function g2(e){$r("NgStandalone"),e.getStandaloneInjector=n=>n.get(LT).getOrCreateStandaloneInjector(e)}function v2(e,n,i){const u=Ii()+e,p=Me();return p[u]===qt?Es(p,u,i?n.call(i):n()):function cd(e,n){return e[n]}(p,u)}function y2(e,n,i,u){return C2(Me(),Ii(),e,n,i,u)}function tm(e,n){const i=e[n];return i===qt?void 0:i}function C2(e,n,i,u,p,_){const E=n+i;return Or(e,E,p)?Es(e,E+1,_?u.call(_,p):u(p)):tm(e,E+1)}function I2(e,n){const i=hn();let u;const p=e+It;i.firstCreatePass?(u=function XT(e,n){if(n)for(let i=n.length-1;i>=0;i--){const u=n[i];if(e===u.name)return u}}(n,i.pipeRegistry),i.data[p]=u,u.onDestroy&&(i.destroyHooks??=[]).push(p,u.onDestroy)):u=i.data[p];const _=u.factory||(u.factory=be(u.type)),D=bt(_l);try{const T=Vd(!1),R=_();return Vd(T),function WE(e,n,i,u){i>=e.data.length&&(e.data[i]=null,e.blueprint[i]=null),n[i]=u}(i,Me(),p,R),R}finally{bt(D)}}function D2(e,n,i){const u=e+It,p=Me(),_=oc(p,u);return nm(p,u)?C2(p,Ii(),n,_.transform,i,_):_.transform(i)}function S2(e,n,i,u){const p=e+It,_=Me(),E=oc(_,p);return nm(_,p)?function w2(e,n,i,u,p,_,E){const D=n+i;return Dc(e,D,p,_)?Es(e,D+2,E?u.call(E,p,_):u(p,_)):tm(e,D+2)}(_,Ii(),n,E.transform,i,u,E):E.transform(i,u)}function nm(e,n){return e[ge].data[n].pure}function T2(e,n){return Xu(e,n)}class G2{constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}let $2=(()=>{class e{log(i){console.log(i)}warn(i){console.warn(i)}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const q2=new Je(""),K2=new Je("");let ax,GA=(()=>{class e{constructor(i,u,p){this._ngZone=i,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ax||(function $A(e){ax=e}(p),p.addToWindow(u)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(i)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,u,p){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==_),i()},u)),this._callbacks.push({doneCb:i,timeoutId:_,updateCb:p})}whenStable(i,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,u,p),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,u,p){return[]}static{this.\u0275fac=function(u){return new(u||e)(Kn(dr),Kn(Q2),Kn(K2))}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac})}}return e})(),Q2=(()=>{class e{constructor(){this._applications=new Map}registerApplication(i,u){this._applications.set(i,u)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,u=!0){return ax?.findTestabilityInTree(this,i,u)??null}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function cx(e){return!!e&&"function"==typeof e.then}function J2(e){return!!e&&"function"==typeof e.subscribe}const eD=new Je("");let tD=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,u)=>{this.resolve=i,this.reject=u}),this.appInits=ft(eD,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const i=[];for(const p of this.appInits){const _=p();if(cx(_))i.push(_);else if(J2(_)){const E=new Promise((D,T)=>{_.subscribe({complete:D,error:T})});i.push(E)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{u()}).catch(p=>{this.reject(p)}),0===i.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Vv=new Je("");function rD(e,n){return Array.isArray(n)?n.reduce(rD,e):{...e,...n}}let $a=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ft(uc),this.afterRenderManager=ft(z_),this.zonelessEnabled=ft(td),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new pn.B,this.afterTick=new pn.B,this.componentTypes=[],this.components=[],this.isStable=ft(Ta).hasPendingTasks.pipe((0,en.T)(i=>!i)),this._injector=ft(Ri)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(u=>{i=this.isStable.subscribe({next:p=>{p&&u()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,u){const p=i instanceof ww;if(!this._injector.get(tD).done)throw!p&&S(i),new De(405,!1);let E;E=p?i:this._injector.get(Jp).resolveComponentFactory(i),this.componentTypes.push(E.componentType);const D=function WA(e){return e.isBoundToModule}(E)?void 0:this._injector.get(Ic),R=E.create(_i.NULL,[],u||E.selector,D),V=R.location.nativeElement,Y=R.injector.get(q2,null);return Y?.registerApplication(V),R.onDestroy(()=>{this.detachView(R.hostView),jv(this.components,R),Y?.unregisterApplication(V)}),this._loadComponent(R),R}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new De(101,!1);const i=z(null);try{this._runningTick=!0,this.synchronize()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1,z(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(e_,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let u=0;for(;0!==this.dirtyFlags&&u++<10;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const u=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(u);for(let{_lView:p,notifyErrorHandler:_}of this._views)YA(p,_,u,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else i?.begin?.(),i?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>Md(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const u=i;this._views.push(u),u.attachToAppRef(this)}detachView(i){const u=i;jv(this._views,u),u.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);const u=this._injector.get(Vv,[]);[...this._bootstrapListeners,...u].forEach(p=>p(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>jv(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new De(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jv(e,n){const i=e.indexOf(n);i>-1&&e.splice(i,1)}function YA(e,n,i,u){(i||Md(e))&&$u(e,n,i&&!u?0:1)}class qA{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let KA=(()=>{class e{compileModuleSync(i){return new wg(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const u=this.compileModuleSync(i),_=Li(O(i).declarations).reduce((E,D)=>{const T=C(D);return T&&E.push(new Hh(T)),E},[]);return new qA(u,_)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),eM=(()=>{class e{constructor(){this.zone=ft(dr),this.changeDetectionScheduler=ft(bc),this.applicationRef=ft($a)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function lx({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return e??=()=>new dr({...ux(),scheduleInRootZone:i}),[{provide:dr,useFactory:e},{provide:Oi,multi:!0,useFactory:()=>{const u=ft(eM,{optional:!0});return()=>u.initialize()}},{provide:Oi,multi:!0,useFactory:()=>{const u=ft(nM);return()=>{u.initialize()}}},!0===n?{provide:ia,useValue:!0}:[],{provide:oa,useValue:i??n0}]}function ux(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let nM=(()=>{class e{constructor(){this.subscription=new dn.yU,this.initialized=!1,this.zone=ft(dr),this.pendingTasks=ft(Ta)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{dr.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{dr.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),om=(()=>{class e{constructor(){this.appRef=ft($a),this.taskService=ft(Ta),this.ngZone=ft(dr),this.zonelessEnabled=ft(td),this.disableScheduling=ft(ia,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new dn.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($d):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ft(oa,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yn||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?o0:zf;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>u(()=>this.tick())):this.ngZone.runOutsideAngular(()=>u(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($d+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(u){throw this.taskService.remove(i),u}finally{this.cleanup()}this.useMicrotaskScheduler=!0,o0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const hx=new Je("",{providedIn:"root",factory:()=>ft(hx,Qt.Optional|Qt.SkipSelf)||function rM(){return typeof $localize<"u"&&$localize.locale||Mv}()}),iM=new Je("",{providedIn:"root",factory:()=>"USD"}),zv=new Je("");function Gv(e){return!e.moduleRef}let uD=(()=>{class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,u){const p=u?.scheduleInRootZone,E=u?.ignoreChangesOutsideZone,D=[lx({ngZoneFactory:()=>function ro(e="zone.js",n){return"noop"===e?new yn:"zone.js"===e?new dr(n):e}(u?.ngZone,{...ux({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}),scheduleInRootZone:p}),ignoreChangesOutsideZone:E}),{provide:bc,useExisting:om}],T=function Yw(e,n,i){return new Cg(e,n,i,!1)}(i.moduleType,this.injector,D);return function lD(e){const n=Gv(e)?e.r3Injector:e.moduleRef.injector,i=n.get(dr);return i.run(()=>{Gv(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const u=n.get(Io,null);let p;if(i.runOutsideAngular(()=>{p=i.onError.subscribe({next:_=>{u.handleError(_)}})}),Gv(e)){const _=()=>n.destroy(),E=e.platformInjector.get(zv);E.add(_),n.onDestroy(()=>{p.unsubscribe(),E.delete(_)})}else{const _=()=>e.moduleRef.destroy(),E=e.platformInjector.get(zv);E.add(_),e.moduleRef.onDestroy(()=>{jv(e.allPlatformModules,e.moduleRef),p.unsubscribe(),E.delete(_)})}return function XA(e,n,i){try{const u=i();return cx(u)?u.catch(p=>{throw n.runOutsideAngular(()=>e.handleError(p)),p}):u}catch(u){throw n.runOutsideAngular(()=>e.handleError(u)),u}}(u,i,()=>{const _=n.get(tD);return _.runInitializers(),_.donePromise.then(()=>{if(function SS(e){"string"==typeof e&&(uI=e.toLowerCase().replace(/_/g,"-"))}(n.get(hx,Mv)||Mv),Gv(e)){const D=n.get($a);return void 0!==e.rootComponent&&D.bootstrap(e.rootComponent),D}return function lM(e,n){const i=e.injector.get($a);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(u=>i.bootstrap(u));else{if(!e.instance.ngDoBootstrap)throw new De(-403,!1);e.instance.ngDoBootstrap(i)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:T,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,u=[]){const p=rD({},u);return function JA(e,n,i){const u=new wg(i);return Promise.resolve(u)}(0,0,i).then(_=>this.bootstrapModuleFactory(_,p))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const i=this._injector.get(zv,null);i&&(i.forEach(u=>u()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||e)(Kn(_i))}}static{this.\u0275prov=Rn({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Wl=null;const dD=new Je("");function hD(e,n,i=[]){const u=`Platform: ${n}`,p=new Je(u);return(_=[])=>{let E=fx();if(!E||E.injector.get(dD,!1)){const D=[...i,..._,{provide:p,useValue:!0}];e?e(D):function uM(e){if(Wl&&!Wl.get(dD,!1))throw new De(400,!1);(function nD(){!function gt(e){ht=e}(()=>{throw new De(600,!1)})})(),Wl=e;const n=e.get(uD);(function pD(e){e.get(_0,null)?.forEach(i=>i())})(e)}(function fD(e=[],n){return _i.create({name:n,providers:[{provide:go,useValue:"platform"},{provide:zv,useValue:new Set([()=>Wl=null])},...e]})}(D,u))}return function dM(){const n=fx();if(!n)throw new De(401,!1);return n}()}}function fx(){return Wl?.get(uD)??null}let mD=(()=>{class e{static{this.__NG_ELEMENT_ID__=fM}}return e})();function fM(e){return function pM(e,n,i){if(qc(e)&&!i){const u=to(e.index,n);return new wl(u,u)}return 175&e.type?new wl(n[zn],n):null}($n(),Me(),!(16&~e))}class CD{constructor(){}supports(n){return Wh(n)}create(n){return new yM(n)}}const vM=(e,n)=>n;class yM{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||vM}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,u=this._removalsHead,p=0,_=null;for(;i||u;){const E=!u||i&&i.currentIndex<ED(u,p,_)?i:u,D=ED(E,p,_),T=E.currentIndex;if(E===u)p--,u=u._nextRemoved;else if(i=i._next,null==E.previousIndex)p++;else{_||(_=[]);const R=D-p,V=T-p;if(R!=V){for(let oe=0;oe<R;oe++){const ue=oe<_.length?_[oe]:_[oe]=0,ye=ue+oe;V<=ye&&ye<R&&(_[oe]=ue+1)}_[E.previousIndex]=V-R}}D!==T&&n(E,D,T)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Wh(n))throw new De(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let p,_,E,i=this._itHead,u=!1;if(Array.isArray(n)){this.length=n.length;for(let D=0;D<this.length;D++)_=n[D],E=this._trackByFn(D,_),null!==i&&Object.is(i.trackById,E)?(u&&(i=this._verifyReinsertion(i,_,E,D)),Object.is(i.item,_)||this._addIdentityChange(i,_)):(i=this._mismatch(i,_,E,D),u=!0),i=i._next}else p=0,function L_(e,n){if(Array.isArray(e))for(let i=0;i<e.length;i++)n(e[i]);else{const i=e[Symbol.iterator]();let u;for(;!(u=i.next()).done;)n(u.value)}}(n,D=>{E=this._trackByFn(p,D),null!==i&&Object.is(i.trackById,E)?(u&&(i=this._verifyReinsertion(i,D,E,p)),Object.is(i.item,D)||this._addIdentityChange(i,D)):(i=this._mismatch(i,D,E,p),u=!0),i=i._next,p++}),this.length=p;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,u,p){let _;return null===n?_=this._itTail:(_=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,_,p)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,_,p)):n=this._addAfter(new CM(i,u),_,p),n}_verifyReinsertion(n,i,u,p){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?n=this._reinsertAfter(_,n._prev,p):n.currentIndex!=p&&(n.currentIndex=p,this._addToMoves(n,p)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const p=n._prevRemoved,_=n._nextRemoved;return null===p?this._removalsHead=_:p._nextRemoved=_,null===_?this._removalsTail=p:_._prevRemoved=p,this._insertAfter(n,i,u),this._addToMoves(n,u),n}_moveAfter(n,i,u){return this._unlink(n),this._insertAfter(n,i,u),this._addToMoves(n,u),n}_addAfter(n,i,u){return this._insertAfter(n,i,u),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,u){const p=null===i?this._itHead:i._next;return n._next=p,n._prev=i,null===p?this._itTail=n:p._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new wD),this._linkedRecords.put(n),n.currentIndex=u,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,u=n._next;return null===i?this._itHead=u:i._next=u,null===u?this._itTail=i:u._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class CM{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wM{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===i||i<=u.currentIndex)&&Object.is(u.trackById,n))return u;return null}remove(n){const i=n._prevDup,u=n._nextDup;return null===i?this._head=u:i._nextDup=u,null===u?this._tail=i:u._prevDup=i,null===this._head}}class wD{constructor(){this.map=new Map}put(n){const i=n.trackById;let u=this.map.get(i);u||(u=new wM,this.map.set(i,u)),u.add(n)}get(n,i){const p=this.map.get(n);return p?p.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ED(e,n,i){const u=e.previousIndex;if(null===u)return u;let p=0;return i&&u<i.length&&(p=i[u]),u+n+p}class xD{constructor(){}supports(n){return n instanceof Map||xg(n)}create(){return new EM}}class EM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||xg(n)))throw new De(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(u,p)=>{if(i&&i.key===p)this._maybeAddToChanges(i,u),this._appendAfter=i,i=i._next;else{const _=this._getOrCreateRecordForKey(p,u);i=this._insertBeforeOrAppend(i,_)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let u=i;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const u=n._prev;return i._next=n,i._prev=u,n._prev=i,u&&(u._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const p=this._records.get(n);this._maybeAddToChanges(p,i);const _=p._prev,E=p._next;return _&&(_._next=E),E&&(E._prev=_),p._next=null,p._prev=null,p}const u=new xM(n);return this._records.set(n,u),u.currentValue=i,this._addToAdditions(u),u}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(u=>i(n[u],u))}}class xM{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bD(){return new vx([new CD])}let vx=(()=>{class e{static{this.\u0275prov=Rn({token:e,providedIn:"root",factory:bD})}constructor(i){this.factories=i}static create(i,u){if(null!=u){const p=u.factories.slice();i=i.concat(p)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||bD()),deps:[[e,new hi,new Po]]}}find(i){const u=this.factories.find(p=>p.supports(i));if(null!=u)return u;throw new De(901,!1)}}return e})();function ID(){return new yx([new xD])}let yx=(()=>{class e{static{this.\u0275prov=Rn({token:e,providedIn:"root",factory:ID})}constructor(i){this.factories=i}static create(i,u){if(u){const p=u.factories.slice();i=i.concat(p)}return new e(i)}static extend(i){return{provide:e,useFactory:u=>e.create(i,u||ID()),deps:[[e,new hi,new Po]]}}find(i){const u=this.factories.find(p=>p.supports(i));if(u)return u;throw new De(901,!1)}}return e})();const DM=hD(null,"core",[]);let SM=(()=>{class e{constructor(i){}static{this.\u0275fac=function(u){return new(u||e)(Kn($a))}}static{this.\u0275mod=l({type:e})}static{this.\u0275inj=co({})}}return e})();function iN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function sN(e,n){$r("NgSignals");const i=function le(e){const n=Object.create(Se);n.computation=e;const i=()=>{if(fe(n),te(n),n.value===Te)throw n.error;return n.value};return i[j]=n,i}(e);return n?.equal&&(i[j].equal=n.equal),i}function aN(e){const n=z(null);try{return e()}finally{z(n)}}function fN(e){const n=C(e);if(!n)return null;const i=new Hh(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}}},wt=>{wt(wt.s=6426)}]);